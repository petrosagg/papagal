!function e(t,n,r){function o(s,a){if(!n[s]){if(!t[s]){var u="function"==typeof require&&require;if(!a&&u)return u(s,!0);if(i)return i(s,!0);var l=new Error("Cannot find module '"+s+"'");throw l.code="MODULE_NOT_FOUND",l}var c=n[s]={exports:{}};t[s][0].call(c.exports,function(e){var n=t[s][1][e];return o(n?n:e)},c,c.exports,e,t,n,r)}return n[s].exports}for(var i="function"==typeof require&&require,s=0;s<r.length;s++)o(r[s]);return o}({1:[function(e,t,n){(function(){e("location-origin"),e("./owl"),e("./boot")}).call(this)},{"./boot":3,"./owl":156,"location-origin":596}],2:[function(e,t,n){var r,o,i=function(e,t){return function(){return e.apply(t,arguments)}};o=e("collections/presence"),r=e("lib/flowdock/activity_heartbeats"),Flowdock.App=function(){function t(e){this.removeFlow=i(this.removeFlow,this),this.setupNewPrivate=i(this.setupNewPrivate,this),this.setupNewFlow=i(this.setupNewFlow,this),this.features=e.features||{},this.isPrivateSearchEnabled=this.features.F18656_search_1To1,this.end=new Bacon.Bus,this.presence=new o([]),
this.user=new Models.User(e.user),this.flows=e.flows instanceof Collections.Flows?e.flows:new Collections.Flows(e.flows),this.privates=e.privates instanceof Collections.PrivateConversations?e.privates:new Collections.PrivateConversations(e.privates,{privatesEmojis:e.privatesEmojis,user:this.user}),this.preferences=new Models.Preferences(e.preferences,{user:this.user,parse:!0,collection:this.flows}),this.isPrivateSearchEnabled||this.privates.each(function(e){return e.fullyLoaded.resolve()}),null!=e.tabOrder&&(this.tabOrder=e.tabOrder),this.combinedCollection=new Collections.Combined(this.flows,this.privates),this.users=function(e,t,n){n.prototype=e.prototype;var r=new n,o=e.apply(r,t);return Object(o)===o?o:r}(Collections.Combined,this.flows.map(function(e){return e.users}),function(){}),this.notificationItems=new Collections.NotificationItems(null,{userId:this.user.id}),this.markers=new Collections.Markers(e.markers,{localStorageId:this.user.id,parse:!0}),this.markers.fetchLocalStorage(),this.ready=new $.Deferred,
this.activeFlows=new Bacon.Bus,this.flows.active=this.activeFlows.toProperty(),this.flows.lastActive=this.flows.active.filter(_.identity).toEventStream().toProperty(null),this.untilEnd(this.flows.active).onValue(this,"activateFlow"),this.untilEnd(this.flows.lastActive).onValue(function(){}),this.peaks=new Collections.Peaks,this.peaks.fetch({reset:!0}),this.flowActivities=new Flowdock.FlowActivities({peaks:this.peaks,markers:this.markers,notificationItems:this.notificationItems,flows:this.flows,privates:this.privates}),this.flows.loaded=new $.Deferred,this.flows.on("add",this.setupNewFlow,this),this.flows.on("remove",this.removeFlow,this),this.privates.on("add",this.setupNewPrivate,this),this.flows.on("external-close",function(e){return function(t){return e.router.removeFlow(t)}}(this),this),this.combinedCollection.on("change:open",function(e){return function(t,n){return n||null==e.activeFlow||t.id!==e.activeFlow.id?void 0:(console.log("Closed active tab, need to open another.",t,n),e.router.removeFlow(t))}}(this)),
this.flows.on("flow-unloaded",function(e){return function(t){var n;return e.manager.resetFlow(t),(null!=(n=e.activeFlow)?n.id:void 0)===t.id?e.router.reloadFlow():void 0}}(this),this),this.activeFlow=null,this.user.on("change",function(e){return function(t){return _.each(e.users.where({id:t.id}),function(e){return e.set(t.changedAttributes())})}}(this)),this.initKeyboardShortcuts(),this.messageReceivedNotifier=new Flowdock.MessageReceivedNotifier(this.user),this.setupEmojiControl(),this.setupLocaleControl(),this.setupThemeControl()}return t.CONNECTION_ERROR_THRESHOLD=5e3,t.prototype.initUi=function(){return this.manager=new Views.FlowManager({el:$("body")[0],collection:this.combinedCollection,app:this,user:this.user}),this.router=new Router({flows:this.flows,privates:this.privates,manager:this.manager}),this.activeFlows.plug(this.router.asEventStream("flowActivated"))},t.prototype.initConnection=function(){var e;return this.connection=new Models.Connection,this.untilEnd(this.connection.state).onError(function(e){
return function(t){return"handshake error"===t?e.manager.error("handshake-failed",null,{permanent:!0}):"handshake unauthorized"===t?window.location.reload():void 0}}(this)),e=null,this.untilEnd(this.connection.state).filter(function(e){return e===Models.Connection.CLOSED}).onValue(function(t){return function(n){var r;return r=t.connection.state.changes().filter(function(e){return e===Models.Connection.OPEN}).take(1).map(!0),Bacon.later(Flowdock.App.CONNECTION_ERROR_THRESHOLD,!1).merge(r).takeWhile(function(e){return!e}).merge(r).onValue(function(n){return"function"==typeof e&&e(),n?e=null:null==e?e=t.manager.toastError("connection-closed"):void 0})}}(this)),this.untilEnd(this.connection.state).filter(function(e){return e===Models.Connection.CLOSED}).flatMapLatest(function(e){return function(){return e.connection.state.filter(function(e){return e===Models.Connection.OPEN})}}(this)).onValue(function(e){return function(){return e.privates.each(function(t){return e.manager.resetFlow(t)}),e.privates.fetch({update:!0
})}}(this)),this.untilEnd(this.connection.state).filter(function(e){return e===Models.Connection.OPEN}).take(1).onValue(this.notificationItems,"resync"),this.user.consume(this.connection.messages),this.messageReceivedNotifier.consume(this.connection.messages)},t.prototype.start=function(t){var n,r;return this.initPostMessages(),Backbone.history.start({root:Router.root,pushState:!0}),this.subscribeToConnections(),this.setupTitleManager(),this.manager.render(),t.tutorial&&(n=e("models/tutorial"),r=new n(t.tutorial,{user:this.user}),this.manager.createWalkthrough(r)),this.setupFocusTracking(),this.setupUserActivityHeartbeats(),this.initDesktopNotifications(),this.initAudioPlayer(),this.initAudioNotifications(),this.checkForFluid(),this.initTypingActivity(),this.markers.startSync(),this.untilEnd(this.combinedCollection.asEventStream("add")).onValue(function(e){return function(){return e.peaks.fetch({reset:!0})}}(this)),this.ready.resolve()},t.prototype.initPostMessages=function(){return this.postMessages=Bacon.fromEventTarget(window,"message").takeUntil(this.end).filter(function(e){
return Helpers.url.parseHostname(e.origin)===document.location.hostname}).map(function(e){return JSON.parse(e.data)})},t.prototype.initTypingActivity=function(){var e,t;return t=Flowdock.TypingActivity.build($("body"),"textarea.message-input",1e4),e=t.when(this.preferences.typingActivity()).toMessages(this.flows.active,15e3),this.connection.sendStream.plug(e.takeUntil(this.end))},t.prototype.initAudioPlayer=function(){var t,n,r;return r=this.preferences.asProperty("audio_volume").map(Number),this.audioPlayer=(null!=(t=window.macgap)&&null!=(n=t.sound)?n.play:void 0)?e("./lib/flowdock/mac_audio_player.coffee").load(r):e("./lib/flowdock/audio_player.coffee").load(r),this.untilEnd(this.preferences.mute()).assign(this.audioPlayer,"mute")},t.prototype.initAudioNotifications=function(){var e;return e=this.preferences.filterMessages(this.connection.messages,"sound"),this.audioNotifications=Flowdock.AudioNotifications.create(this.flows.active,this.user,e),this.audioNotifications&&this.audioPlayer?this.untilEnd(this.audioNotifications).onValue(this.audioPlayer,"play"):void 0;
},t.prototype.initDesktopNotifications=function(){return this.notifications=Flowdock.DesktopNotificationCenter.create(),this.withNotificationPermission(function(e){return function(){var t,n,r,o,i;return t=e.router.flowStates[null!=(n=e.activeFlow)?n.id:void 0]||{flow:e.activeFlow},o=e.router.asEventStream("flowState").toProperty(t),r=e.untilEnd(o).map(function(e){var t,n;return{flow:null!=e?e.flow:void 0,messageId:(null!=e&&null!=(t=e.chat)?t.message:void 0)||(null!=e&&null!=(n=e.chat)?n.thread:void 0)}}),i=e.preferences.filterMessages(e.connection.messages,"desktop"),Flowdock.messageDesktopNotifications(e.notifications,i,e.flows,e.flows.active,r)}}(this))},t.prototype.initKeyboardShortcuts=function(){var e,t,n;return t=Flowdock.KeyboardShortcuts.keyStream(),e=this.preferences.asEventStream("change:keyboard_shortcuts").map(function(e){return e.keyboardShortcuts()}).toProperty(this.preferences.keyboardShortcuts()),n=[new Flowdock.KeyboardShortcuts(t,Flowdock.shortcutMap.web).when(e).toStream(),new Flowdock.KeyboardShortcuts(t,Flowdock.shortcutMap.alwaysAvailable).toStream(e),Flowdock.KeyboardShortcuts.toggleSingleViewStream()],
null!=window.macgap&&n.push(Flowdock.KeyboardShortcuts.forMacGap()),null!=window.windowsApp&&n.push(Flowdock.KeyboardShortcuts.forWinApp()),this.shortcutStream=Bacon.mergeAll(n)},t.prototype.withNotificationPermission=function(e){switch(this.notifications.permissionLevel()){case"granted":return e();case"default":return this.setupRequestToNotify(e)}},t.prototype.setupRequestToNotify=function(e){return $(document).one("click",".expanding-input",function(t){return function(){return t.notifications.requestPermission(function(t){return"granted"===t?e():void 0})}}(this))},t.prototype.activateFlow=function(e){var t,n;return null!=(t=this.activeFlow)&&t.trigger("deactivate"),this.activeFlow=e,null!=(n=this.activeFlow)?n.trigger("activate"):void 0},t.prototype.subscribeToConnections=function(){var e,t,n;return e=Flowdock.appFocus.and(this.flows.active),this.presence.consume(this.connection.messages),this.preferences.consume(this.connection.messages),this.flows.consume(this.connection.messages),this.privates.consume(this.connection.messages),
this.peaks.consume(this.connection.messages),this.notificationItems.consume(this.connection.messages,e,this.flows),n=null,this.isPrivateSearchEnabled?this.activeFlow&&this.activeFlow.id&&(n=this.activeFlow.subscribe(this.connection)):this.activeFlow&&this.activeFlow.id&&this.activeFlow.isFlow()&&(n=this.activeFlow.subscribe(this.connection)),this.activeFlow&&(t=this.activeFlow.id),_.each(this.flows.where({open:!0}),function(e){return function(r){var o;if((null!=(o=e.activeFlow)?!o.isFlow():!0)||t!==r.id)return null!=n&&n.always(function(){return r.subscribe(e.connection)}),n||(n=r.subscribe(e.connection))}}(this)),this.isPrivateSearchEnabled&&_.each(this.privates.where({open:!0}),function(e){return function(r){var o;if((null!=(o=e.activeFlow)?!o.isPrivate():!0)||t!==r.id)return null!=n&&n.always(function(){return r.subscribe(e.connection)}),n||(n=r.subscribe(e.connection))}}(this)),$.when.apply($,_.map(this.flows.where({open:!0}),function(e){return e.fullyLoaded})).always(function(e){return function(){return e.flows.loaded.resolve();
}}(this)),this.untilEnd(this.flows.asEventStream("change:open")).onValue(function(e){return function(t){return t.get("open")?t.subscribe(e.connection):t.unsubscribe(e.connection)}}(this)),this.untilEnd(this.privates.asEventStream("change:open")).onValue(function(e){return function(t){return e.isPrivateSearchEnabled?t.get("open")?t.subscribe(e.connection):t.unsubscribe(e.connection):void 0}}(this)),this.connection.messages.errors().mapError(function(e){return e}).filter(function(e){return"flow sync failed"===(null!=e?e.error:void 0)}).skipDuplicates().onValue(function(e){return function(t){var n,r,o,i,s,a,u;for(u=e.flows.filter(function(e){return e.get("open")===!0&&"pending"===e.fullyLoaded.state()}),r=_.unique(function(){var e,n,r,o;for(r=t.flows,o=[],e=0,n=r.length;n>e;e++)i=r[e],o.push(this.flows.get(i));return o}.call(e).concat(u)),console.log("Resubscribe to flows",r),o=function(t){return console.log(new Date,"Resetting flow",t.id,"after resync failed"),t.reset(),t.subscribe(e.connection)},s=0,a=r.length;a>s;s++)n=r[s],
o(n);return e.notificationItems.resync(),e.markers.fetch({merge:!0}),e.peaks.fetch({reset:!0})}}(this))},t.prototype.setupFocusTracking=function(){var e;return e=this.router.asEventStream("route").flatMapLatest(function(){return Bacon.once(!0).merge(Bacon.later(100,!1))}).toProperty(!1),this.untilEnd(Bacon.mergeAll([$(document).asEventStream("visibilitychange").map(function(){return!document.hidden}).filter(_.identity),$(window).asEventStream("focus").map(!0)])).bufferWithTime(50).skipWhile(e).onValue(this,"documentBecameVisible")},t.prototype.documentBecameVisible=function(){var e,t,n,r,o;return e=$("#chat textarea.message-input")[0],o=$("#thread textarea.message-input")[0],r=$("#single textarea.message-input")[0],n="chat"===window.lastFocusedInput?[e,o,r]:"thread"===window.lastFocusedInput?[o,r,e]:[],$(function(){var e,r,o;for(o=[],e=0,r=n.length;r>e;e++)t=n[e],null!=t&&o.push(t);return o}()).first().focus()},t.prototype.setupUserActivityHeartbeats=function(){var e;return e=new r(Flowdock.userActivity,this.connection,this.flows.active,this.combinedCollection),
e.start(),e},t.prototype.setupTitleManager=function(){return this.titleManager=new Flowdock.TitleManager(this.flowActivities.combinedActivity,this.flows.active,this.user),this.titleManager.start()},t.prototype.setupEmojiControl=function(){return this.emojiControl=new Flowdock.EmojiControl(this.preferences.asProperty("emoji_size")),this.emojiControl.start()},t.prototype.setupLocaleControl=function(){return this.preferences.asProperty("locale").skipDuplicates().onValue(function(e){return Helpers.TimeHelper.updateGlobalLocale(e)})},t.prototype.setupThemeControl=function(){return this.themeControl=new Flowdock.ThemeControl(this.preferences.asProperty("theme")),this.themeControl.start()},t.prototype.checkForFluid=function(){return navigator.userAgent.match(/fluid/i)?this.manager.toastError("use-mac-app"):void 0},t.prototype.setupNewFlow=function(e){return e.get("open")&&e.subscribe(this.connection),this.users.collections.push(e.users)},t.prototype.setupNewPrivate=function(e){return this.isPrivateSearchEnabled&&e.get("open")?e.subscribe(this.connection):void 0;
},t.prototype.removeFlow=function(e){var t;return this.users.collections.splice(this.users.collections.indexOf(e.users),1),(null!=(t=this.connection)?t.unsubscribe:void 0)&&e.unsubscribe(this.connection),e.off(this),e.cleanup()},t.prototype.allFlows=function(e){return null==e&&(e={}),this._allFlows||(this._allFlows=new Collections.Flows([],{url:Helpers.apiUrl("/flows/all"),embedded:!1}),this._allFlows.consume(this.connection.messages,{embedded:!1})),e.fetch&&this._allFlows.fetch({embedded:!1}),this._allFlows},t.prototype.destructor=function(){var e,t,n,r,o;return this.end.end(),null!=(e=this.markers)&&e.cleanup(),this.flows.off(),this.flows.each(this.removeFlow),this.flows.cleanup(),this.presence.cleanup(),null!=(t=this.organizations)&&t.cleanup(),this.combinedCollection.cleanup(),this.combinedCollection.off(),this.privates.cleanup(),this.privates.off(),this.user.off(),this.manager.destructor(),this.notificationItems.cleanup(),null!=(n=this.flowActivities)&&n.destructor(),null!=(r=this.peaks)&&r.cleanup(),null!=(o=this.readMessagesNotifier)&&o.cleanup(),
this.activeFlows.end()},t.prototype.getOrganizations=function(e){return this.organizations||(this.organizations=new Collections.Organizations,this.organizations.consume(this.connection.messages),this.organizations.fetch({update:!0,success:e})),this.organizations},t.prototype.untilEnd=function(e){return e.takeUntil(this.end.mapEnd())},t}()},{"./lib/flowdock/audio_player.coffee":91,"./lib/flowdock/mac_audio_player.coffee":102,"collections/presence":29,"lib/flowdock/activity_heartbeats":89,"models/tutorial":152}],3:[function(e,t,n){var r,o,i;e("./boot/bugsnag"),e("./boot/csrf_protection"),e("./boot/handle_unauthorized"),e("./boot/mixpanel"),e("./boot/open_external_urls"),e("./boot/prevent_hyperlink_drop"),e("./boot/prevent_touch_page_scrolling"),e("./boot/time"),e("./boot/tipsy"),$("html").userAgentClass(),r=$.get("/rest/bootstrap",null,"json"),Flowdock.mobile=document.documentElement.clientWidth<=767&&_.some(["ios","android","iemobile"],function(e){return $("html").hasClass(e)}),Flowdock.eventBus=_.extend({},Backbone.Events),
o=function(e){var t,n;return t=JSON.parse(e.payload),n=t.flowPath,null!=t.message&&(n=n+"/messages/"+t.message),Flowdock.app.router.navigate(n,{trigger:!0}),window.focus()},i=function(e){var t,n;return t=new Views.Shared.Progress({el:$(".loading-screen-spinner")}),t.render(),$("#loading-screen").addClass("loading-screen-active"),t.show(),n=function(){return $("#loading-screen").remove(),t.remove()},e(function(){var e;return e=Helpers.transitionend(),e?$("#loading-screen").removeClass("loading-screen-active").one(e,n):n()})},$(function(){return i(function(e){return r.success(function(t){var n,r;return e(),window.japiplexResource=t.japiplex_resource,Flowdock.app=new Flowdock.App({features:t.features,flows:t.flows,markers:t.markers,preferences:t.preferences,privates:t.privates,privatesEmojis:t.privates_emojis,tabOrder:t.tab_order,user:t.user}),Flowdock.app.initUi(),null!=("undefined"!=typeof macgap&&null!==macgap?macgap.growl:void 0)&&window.addEventListener("macGapNotificationClick",o,!1),moment.locale(Flowdock.app.preferences.get("locale")),
console.log("init connection"),Flowdock.app.initConnection(),Flowdock.app.start({tutorial:t.tutorial}),$(window).trigger("flowdock-start"),n=$('meta[name="android-flowdock-app"]'),n.length&&(r=new Views.Overlays.PromotionBanner({content:n.attr("content")}),r.closedPermanently()||$("body").append(r.render().$el)),Flowdock.mobile?void 0:$("body").addClass("no-mobile")})})})},{"./boot/bugsnag":4,"./boot/csrf_protection":5,"./boot/handle_unauthorized":6,"./boot/mixpanel":7,"./boot/open_external_urls":8,"./boot/prevent_hyperlink_drop":9,"./boot/prevent_touch_page_scrolling":10,"./boot/time":11,"./boot/tipsy":12}],4:[function(e,t,n){e("bugsnag-js"),Bugsnag.apiKey="62f0e59cb3ea92da1c444c55f8dc29b8",Bugsnag.releaseStage=Flowdock.environment,Bugsnag.appVersion=Flowdock.commit,$(window).one("flowdock-start",function(){var e;return e=Flowdock.app.user,Bugsnag.user={id:e.id,email:e.get("email"),name:e.get("name")}})},{"bugsnag-js":545}],5:[function(e,t,n){var r;r=$('meta[name="csrf-token"]').attr("content"),$.ajaxSetup({dataType:"json",
headers:{"X-CSRF-Token":r}})},{}],6:[function(e,t,n){$(document).ajaxError(function(e,t,n,r){return 403===t.status&&t.getResponseHeader("Flowdock-Authenticate")?Helpers.postBrowser("/session","delete"):void 0})},{}],7:[function(e,t,n){var r,o,i,s,a,u,l,c;u=e("mixpanel-browser"),r=e("../helpers/analytics_helper"),o=e("../helpers/cookie_helper"),a=function(){return Flowdock.app.getOrganizations(i)},i=function(){var e,t,n,i,s,a,c,p;return p=Flowdock.app.user,e=Flowdock.app.getOrganizations().active(),t=[],a=[],i=[],n=[],c=[],e.forEach(function(e){return t.push(e.id),a.push(e.get("name")),e.get("subscription").trial?i.push(e.id):n.push(e.id),c.push(e.get("subscription").trial_ends)}),s={id:p.id,email:p.get("email"),nick:p.get("nick"),name:p.get("name"),organizationIds:t,organizationNames:a,organizationIdsTrial:i,organizationIdsNotTrial:n,trial_ends:c},o.getCookie("isNewUser")&&(s.created_date=(new Date).toISOString(),u.alias(p.id),u.track(r.EVENT_TYPES.user_sign_up),o.setCookie("isNewUser","",-1)),u.identify(p.id),
u.people.set(s),u.register({Platform:"Web"}),l()},l=function(){return u.track(r.EVENT_TYPES.user_activity),setInterval(function(){return u.track(r.EVENT_TYPES.user_activity)},432e5)},c=function(e){var t,n;return n=!0,Flowdock.analytics.highVolumeEvents.hasOwnProperty(e)&&(t=(new Date).getTime()-Flowdock.analytics.highVolumeEvents[e],n=t/36e5>=24),n?(Flowdock.analytics.highVolumeEvents[e]=(new Date).getTime(),u.track(e)):void 0},s=function(){return u.init(Flowdock.mixpanel.key,{api_host:"https://api.mixpanel.com"}),Flowdock.analytics=u,Flowdock.analytics.highVolumeEvents={},Flowdock.analytics.trackHighVolume=c},$(window).one("flowdock-start",function(){return Flowdock.ANALYTICS_EVENT_TYPES=r.EVENT_TYPES,Flowdock.mixpanel.key?(s(),a()):(console.log("Missing mixpanel key, skipping initialization of user metrics"),Flowdock.analytics={identify:function(){},people:{set:function(){}},track:function(){},trackHighVolume:function(){}})})},{"../helpers/analytics_helper":67,"../helpers/cookie_helper":70,"mixpanel-browser":668
}],8:[function(e,t,n){var r;r=function(e){var t,n;if(!e.isDefaultPrevented())return t="a"===e.target.tagName.toLowerCase()?e.target:e.currentTarget,"_blank"===t.target?(n=window.open(t.href,"_blank"),n.opener=null,e.preventDefault()):void 0},window.macgap||window.windowsApp||$(document).on("click","a[href]",r)},{}],9:[function(e,t,n){$(function(){return $(window).on("drop",function(e){return $(e.target).is(":enabled")?void 0:e.preventDefault()})})},{}],10:[function(e,t,n){var r,o,i;i=function(e){var t;return t=function(e){var t;return _.some(function(){var n,r,o,i;for(o=["message-list","touch-scrollable","new-tab-results"],i=[],n=0,r=o.length;r>n;n++)t=o[n],i.push(-1!==e.indexOf(t));return i}())},e.className&&t(e.className)||"ARTICLE"===e.tagName?e:null==e.parentElement?!1:i(e.parentElement)},o=function(e){return e.preventDefault()},r=function(e){return e.scrollTop<=0?e.scrollTop=1:e.scrollTop+e.clientHeight>=e.scrollHeight?e.scrollTop=e.scrollHeight-e.clientHeight-1:void 0},$(function(){return document.body.addEventListener("touchstart",function(e){
var t;return t=i(e.target),t?r(t):document.body.addEventListener("touchmove",o,!1)}),document.body.addEventListener("touchend",function(){return document.body.removeEventListener("touchmove",o,!1)})})},{}],11:[function(e,t,n){$(window).on("flowdock-start",function(){return setInterval(Helpers.TimeHelper.updateAllTimestamps,9e5),setInterval(Helpers.TimeHelper.updateDetailedTimestamps,9e5),setInterval(Helpers.TimeHelper.updateRelativeTimestamps,6e4),Flowdock.app.router.on("all",function(){return _.defer(Helpers.TimeHelper.updateAllTimestamps)})})},{}],12:[function(e,t,n){Modernizr.touchevents?$.fn.tipsy=function(){}:(_.extend($.fn.tipsy.defaults,{delayIn:1500,delayOut:100}),$.fn.tipsy.elementOptions=function(e,t){var n;return n={gravity:$(e).data("tipsy-gravity"),html:$(e).data("tipsy-html")},$.extend({},t,n)},$(".tipsy-tooltip").tipsy({live:!0}),$(window).on("flowdock-start",function(){return Flowdock.app.router.on("all",function(){return $(".tipsy").remove()})}))},{}],13:[function(e,t,n){Cache.LRU=function(){function e(){
this.queue=[],this.values={}}return e.prototype.insert=function(e){return e},e.prototype.drop=function(e){},e.prototype.cleanup=function(){return _.each(this.values,function(e){return function(t){return e.drop(t)}}(this)),this.values={},this.queue=[]},e.prototype._removeFromQueue=function(e){var t;return t=this.queue.indexOf(e),t>=0?this.queue.splice(t,1):void 0},e.prototype["delete"]=function(e){return this.values[e]?(this.drop(this.values[e]),delete this.values[e],this._removeFromQueue(e)):void 0},e.prototype.peek=function(e){return this.values[e]},e.prototype.load=function(e){return null!=this.values[e]?this._removeFromQueue(e):this.values[e]=this.insert(e),this.queue.unshift(e),this.queue.length>this.maxLength&&this["delete"](_.last(this.queue)),this.values[e]},e}()},{}],14:[function(e,t,n){var r=function(e,t){return function(){return e.apply(t,arguments)}},o=function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,
e},i={}.hasOwnProperty;Cache.Threads=function(e){function t(e){this.flow=e.flow,this.preloadedCollections=e.preloadedCollections,this.insert=r(this.insert,this),t.__super__.constructor.apply(this,arguments)}return o(t,e),t.prototype.maxLength=100,t.prototype.drop=function(e){return e.cleanup()},t.prototype._preloaded=function(e){return this._fullyLoaded(e)?e.map(function(e){return e.clone()}):[]},t.prototype._messagesForThread=function(e){return _.sortBy(_.flatten(this.preloadedCollections.map(function(t){return t.where({thread_id:e})})),"id")},t.prototype._fullyLoaded=function(e){var t,n,r,o,i;return(i=null!=(o=_.last(e))?o.get("thread"):void 0)?(r=i.internal_comments,t=i.activities,n=i.external_comments,(Number(r)||0)+(Number(n)||0)+(Number(t)||0)<=e.length):!1},t.prototype.insert=function(e){var t,n,r;return n=this._messagesForThread(e),r=this._preloaded(n),t=new Collections.Activities(r,{flow:this.flow,thread:e,maximumMessages:30}),r.length>0?t.historyComplete.backward=!0:t.fetchHistory({delayed:!0}).fail(function(t){
return function(){return t["delete"](e)}}(this)),t.consume(this.flow.stream),t},t.prototype.find=function(e){var t,n;return t=this.load(e),n=new Models.Thread({activities:t.models.map(function(e){return e.clone()}),flow:this.flow,thread_id:e,id:e}),n.activities.consume(this.flow.stream),n.activities.historyComplete.backward=t.historyComplete.backward,!t.historyComplete.backward&&t.length<t.limit&&n.activities.fetchHistory(),n},t}(Cache.LRU)},{}],15:[function(e,t,n){var r=function(e,t){function n(){this.constructor=e}for(var r in t)o.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},o={}.hasOwnProperty;Collections.Applications=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return r(t,e),t.prototype.url="/rest/applications/published",t.prototype.comparator="name",t.prototype.initialize=function(e,t){return this.sources=t.sources,this.listenTo(this.sources,"add",this.addFromSource),this.listenTo(this.sources,"remove",this.deleteLastApplication);
},t.prototype.addFromSource=function(e){return e.get("application").published?void 0:this.add(e.get("application"))},t.prototype.deleteLastApplication=function(e){var t;return t=this.sources.find(function(t){return t.get("application").id===e.get("application").id}),null==t?this.remove(e.get("application").id):void 0},t}(Flowdock.Collection)},{}],16:[function(e,t,n){var r=[].slice;Collections.Combined=function(){function e(){var e,t,n,o,i;for(t=1<=arguments.length?r.call(arguments,0):[],this.collections=t,_.extend(this,Backbone.Events),i=this.collections,n=0,o=i.length;o>n;n++)e=i[n],this.listenTo(e,"all",function(){return this.trigger.apply(this,arguments)}),this.listenTo(e,"add remove reset",this._updateLength);this._updateLength()}return e.prototype._updateLength=function(){var e,t,n,r,o;for(this.length=0,r=this.collections,o=[],t=0,n=r.length;n>t;t++)e=r[t],o.push(this.length+=e.length);return o},e.prototype.each=function(){var e,t,n,r,o;for(r=this.collections,o=[],t=0,n=r.length;n>t;t++)e=r[t],o.push(e.each.apply(e,arguments));
return o},e.prototype.indexOf=function(){var e,t,n,r,o;for(o=this.collections,t=0,r=o.length;r>t;t++)if(e=o[t],n=e.indexOf.apply(e,arguments),n>=0)return n;return-1},e.prototype.where=function(){var e,t,n,r,o;for(r=[],o=this.collections,t=0,n=o.length;n>t;t++)e=o[t],r=r.concat(e.where.apply(e,arguments));return r},e.prototype.remove=function(){var e,t,n,r,o;for(r=this.collections,o=[],t=0,n=r.length;n>t;t++)e=r[t],o.push(e.remove.apply(e,arguments));return o},e.prototype.add=function(e){var t,n,r,o,i;for(o=this.collections,i=[],n=0,r=o.length;r>n;n++)t=o[n],e instanceof t.model&&i.push(t.add.apply(t,arguments));return i},e.prototype.cleanup=function(){return this.stopListening(),this.collections=[]},e.prototype.get=function(){var e,t,n,r,o;for(o=this.collections,t=0,n=o.length;n>t;t++)if(e=o[t],r=e.get.apply(e,arguments))return r},e.prototype.find=function(){var e,t,n,r,o;for(o=this.collections,t=0,n=o.length;n>t;t++)if(e=o[t],r=e.find.apply(e,arguments))return r},e.prototype.first=function(){var e,t,n,r,o;for(o=this.collections,
t=0,n=o.length;n>t;t++)if(e=o[t],r=e.first.apply(e,arguments))return r},e.prototype.getCollectionFor=function(e){var t,n,r,o;for(o=this.collections,n=0,r=o.length;r>n;n++)if(t=o[n],e instanceof t.model)return t},e.prototype.getCollectionOfType=function(e){var t,n,r,o;for(o=this.collections,n=0,r=o.length;r>n;n++)if(t=o[n],t instanceof e)return t},e.prototype.toArray=function(){var e,t,n,r,o;for(r=[],o=this.collections,t=0,n=o.length;n>t;t++)e=o[t],r=r.concat(e.toArray());return r},e}()},{}],17:[function(e,t,n){var r,o=function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},i={}.hasOwnProperty;r=e("emojie/emojie"),Collections.Emoji=function(e){function t(e,n){t.__super__.constructor.apply(this,arguments),this.populateEmojie()}return o(t,e),t.prototype.model=Models.Emoji,t.prototype.populateEmojie=function(){return this.emojie=r({ignoreAttribute:"data-no-text-emoji"}),this.each(this.registerEmoji,this),this.emojie.merge(window.emojie.custom);
},t.prototype.registerEmoji=function(e){var t;return t=e.colonized(),this.emojie.register(t,{title:t,src:e.get("image_url"),"class":"emojie"})},t.prototype.consume=function(e){return this.addStream(e.filter(function(e){return"emoji-add"===e.event}).onValue(function(e){return function(t){var n;return e.add(n=new Models.Emoji(t.content)),e.registerEmoji(n)}}(this)))},t.prototype.reset=function(e,n){return t.__super__.reset.apply(this,arguments),this.populateEmojie()},t.prototype.emojie=function(e){return this.emojie(e)},t.prototype.keys=function(){var e,t,n,r,o;for(r=this.pluck("id"),o=[],e=0,n=r.length;n>e;e++)t=r[e],o.push(":"+t+":");return o},t}(Flowdock.Collection)},{"emojie/emojie":548}],18:[function(e,t,n){var r=function(e,t){return function(){return e.apply(t,arguments)}},o=function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},i={}.hasOwnProperty,s=[].indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(t in this&&this[t]===e)return t;
return-1};Collections.FlowGroups=function(e){function t(){return this.removeMembers=r(this.removeMembers,this),this.addMembers=r(this.addMembers,this),this.updateGroup=r(this.updateGroup,this),this.consume=r(this.consume,this),t.__super__.constructor.apply(this,arguments)}return o(t,e),t.prototype.model=Models.FlowGroup,t.prototype.handles=function(){return this.models.map(function(e){return e.get("handle")})},t.prototype.ids=function(){return this.models.map(function(e){return e.id})},t.prototype.getByHandle=function(e){return this.models.filter(function(t){return t.get("handle").toLowerCase()===e.toLowerCase()})[0]},t.prototype.url=function(){return this.flow.url()+"/flow_groups"},t.prototype.consume=function(e){var t;return t=["create","destroy","members-added","members-removed","update"],this.addStream(e.filter(function(e){return"flow-group"===e.event}).filter(function(e){var n;return n=e.content.type,s.call(t,n)>=0}).onValue(function(e){return function(t){var n;switch(n=t.content.flow_group,t.content.type){
case"create":return e.add(n);case"destroy":return e.remove(n.id);case"update":return e.updateGroup(n);case"members-added":return e.addMembers(n,t.content.userIds);case"members-removed":return e.removeMembers(n,t.content.userIds)}}}(this)))},t.prototype.updateGroup=function(e){var t;return null!=(t=this.get(e.id))?t.set(e):void 0},t.prototype.addMembers=function(e,t){var n;return n=this.get(e.id),n?n.set("members",n.get("members").concat(t.map(function(e){return{id:e}}))):void 0},t.prototype.removeMembers=function(e,t){var n,r;return n=this.get(e.id),n?(r=_.filter(n.get("members"),function(e){var n;return n=e.id,s.call(t,n)<0}),n.set("members",r)):void 0},t}(Flowdock.Collection)},{}],19:[function(e,t,n){var r=function(e,t){function n(){this.constructor=e}for(var r in t)o.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},o={}.hasOwnProperty;Collections.Flows=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return r(t,e),t.prototype.model=Models.Flow,
t.prototype.initialize=function(e,t){return null==t&&(t={}),this._url=t.url,this._fetching={},this.listenTo(this,"add",function(e){return this.stream?e.consume(this.stream):void 0}),this.listenTo(this,"change:parameterized_name",this._onFlowRename),this.listenTo(this,"change:disabled",this._removeDisabled)},t.prototype.uniqueName=function(e){return e.get("name")},t.prototype.firstOpen=function(){return this.find(function(e){return e.get("open")&&e.get("joined")})},t.prototype.consume=function(e,t){return this.stream=e,this.each(function(e){return function(t){return t.consume(e.stream)}}(this)),this.addStream(this.stream.filter(function(e){var t;return"flow-add"===(t=e.event)||"flow-change"===t}).onValue(function(e){return function(n){var r;return(r=e.get(n.content.id))?(r.get("open")&&n.content.open===!1&&e.trigger("external-close",r),r.set(n.content)):"flow-add"===n.event?(r=new Models.Flow(n.content,t),r.fetch().done(function(){return e.add(r)})):void 0}}(this))),this.addStream(this.stream.filter(function(e){
return"flow-remove"===e.event}).onValue(function(e){return function(t){var n;return n=e.get(t.content.id),null!=n?(e.remove(n),_.defer(function(){return n.cleanup()})):void 0}}(this)))},t.prototype.url=function(){return this._url||Helpers.apiUrl("/flows")},t.prototype.cleanup=function(){return this.stopListening(),this.each(function(e){return e.cleanup()}),this._fetching={},t.__super__.cleanup.apply(this,arguments)},t.prototype._onFlowRename=function(e){return e.fetch({success:function(){return e.trigger("flow-unloaded",e)}})},t.prototype._removeDisabled=function(e,t){return t?this.remove(e):void 0},t.prototype.getOrFetch=function(e){var t,n;return null==e?(new $.Deferred).reject():(n=this.get(e),null!=n?(new $.Deferred).resolve(n):this._fetching[e]?this._fetching[e]:(t=new Models.Flow({id:e,open:!1}),this._fetching[e]=new $.Deferred,t.fetch({url:Helpers.apiUrl("/flows/find?id="+e)}).done(function(n){return function(){return n.add(t),n._fetching[e].resolve(t)}}(this)).fail(function(t){return function(){return t._fetching[e].reject();
}}(this)).always(function(t){return function(){return t._fetching[e]=null}}(this)),this._fetching[e]))},t}(Flowdock.Collection)},{}],20:[function(e,t,n){var r=function(e,t){function n(){this.constructor=e}for(var r in t)o.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},o={}.hasOwnProperty;Collections.Integrations=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return r(t,e),t.prototype.model=Models.Integration,t.prototype.url=function(){return this.flow.url()},t.prototype.parse=function(e){var t,n,r,o,i;for(o=e.integrations,i=[],t=0,r=o.length;r>t;t++)n=o[t],"event"===n.source&&i.push(n);return i},t.prototype.deprecated=function(){return this.filter(function(e){return e.get("deprecated")})},t}(Flowdock.Collection)},{}],21:[function(e,t,n){var r=function(e,t){function n(){this.constructor=e}for(var r in t)o.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},o={}.hasOwnProperty;Collections.Invitations=function(e){
function t(){return t.__super__.constructor.apply(this,arguments)}return r(t,e),t.prototype.model=Models.Invitation,t.prototype.url=function(){return Helpers.apiUrl(this.flow.get("_links").invitations.href)},t.prototype.initialize=function(){return this.subscriptions=[]},t.prototype.consume=function(e){if(this.stream)throw new Error("Invitations collection is already subscribed to a stream");return this.stream=e.filter(function(e){return function(t){return t.flow===e.flow.id}}(this)),this.addStream(this.stream.filter(function(e){return"action"===e.event&&"invite"===e.content.type}).onValue(function(e){return function(t){return e.addInvite(e.emailFromInvite(t))}}(this))),this.addStream(this.stream.filter(function(e){return"action"===e.event&&"uninvite"===e.content.type}).onValue(function(e){return function(t){return e.removeInvite(e.emailFromInvite(t))}}(this))),this.addStream(this.stream.filter(function(e){return"backend.join.user"===e.event}).onValue(function(e){return function(t){return e.removeInvite(t.content.user.email);
}}(this)))},t.prototype.addInvite=function(e){return this.fetch({update:!0})},t.prototype.removeInvite=function(e){return this.remove(this.where({email:e}))},t.prototype.emailFromInvite=function(e){return e.content.recipient_email},t.prototype["import"]=function(e){return $.post(this.url()+"/import",e)},t}(Flowdock.Collection)},{}],22:[function(e,t,n){var r=function(e,t){function n(){this.constructor=e}for(var r in t)o.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},o={}.hasOwnProperty;Collections.LegacySources=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return r(t,e),t.prototype.model=Models.LegacySource,t.prototype.sourceFor=function(e){var t;return t={twitter_user_search:"twitter_user",twitter_keyword_search:"twitter_keyword",github:"github"},t[e]||null},t.prototype.initialize=function(e,t){return this.ready=new $.Deferred},t.prototype.url=function(){return this.flow.url()+"/legacy_sources"},t.prototype.fetch=function(){var e;
return e=t.__super__.fetch.apply(this,arguments),e.done(function(e){return function(){return e.ready.resolve()}}(this)).fail(function(e){return function(){return e.ready.reject()}}(this)),e},t.prototype.onAdd=function(e){var t;return t=new this.model(this.normalize(e),{flow:this.flow}),t.fetch({success:function(e){return function(){return e.add(t)}}(this)})},t.prototype.onRemove=function(e){var t,n;return t=e.content.original_message,n=this.sourceFor(t.type),this.remove(this.where({id:n+"-"+t.id}))},t.prototype.consume=function(e){if(this.stream)throw new Error("Sources collection is already subscribed to a stream");return this.stream=e.filter(function(e){return"action"===e.event||"legacy_source"===e.event}).filter(function(e){return function(t){var n;return null!=e.sourceFor(null!=(n=t.content.original_message)?n.type:void 0)}}(this)),this.addStream(this.stream.filter(function(e){return 0===e.content.type.indexOf("add_")}).onValue(function(e){return function(t){return e.onAdd(t)}}(this))),this.addStream(this.stream.filter(function(e){
return 0===e.content.type.indexOf("remove_")}).onValue(function(e){return function(t){return e.onRemove(t)}}(this)))},t.prototype.cleanup=function(){return t.__super__.cleanup.apply(this,arguments),this.ready=null},t.prototype.findWithConfig=function(e,t,n){var r;return null==n&&(n=null),r=n?this.where({type:n}):this.models,_.find(r,function(n){var r;return(null!=(r=n.getConfig(e))?r.toLowerCase():void 0)===(null!=t?t.toLowerCase():void 0)})},t.prototype.findSourcesForApplicationId=function(e){return this.find(function(t){var n;return(null!=(n=t.getConfig("application"))?n.id:void 0)===e})},t.prototype.normalize=function(e){var t,n,r,o;return r=e.content.original_message,o=this.sourceFor(r.type),n=o+"-"+r.id,t={id:n,url:this.url()+"/"+n,config:_.omit(r,"id")}},t}(Flowdock.Collection)},{}],23:[function(e,t,n){var r=function(e,t){function n(){this.constructor=e}for(var r in t)o.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},o={}.hasOwnProperty;Collections.Markers=function(e){
function t(){return t.__super__.constructor.apply(this,arguments)}return r(t,e),t.MARKERS=["chat","inbox"],t.LOCALSTORAGE_KEY="flowdock-markers",t.VERSION=1,t.SYNC_INTERVAL=2e4,t.CHANGE_THROTTLE=100,t.parseLocalStorage=function(e){var t,n;return t=function(){try{return n=JSON.parse(localStorage.getItem(e)),n.markers=_.pick(n.markers,["flows","privates"]),n}catch(t){}}(),_.defaults(t||{},{version:0,id:!1,markers:{}})},t.prototype.model=Models.Marker,t.prototype.url=function(){return Helpers.apiUrl("/notifications/markers")},t.prototype.initialize=function(e,t){return null==t&&(t={}),this._resetDirtyChanges(),this.localStorageId=t.localStorageId,this.localStorageId&&this.listenTo(this,"add change remove reset",this.saveLocalStorage),this.listenTo(this,"add change",this._trackDirtyChanges),this.listenTo(this,"remove",this._removeDirtyChanges),this.listenTo(this,"reset",this._resetDirtyChanges),this.listenTo(this,"sync",this._cleanDirtyChanges)},t.prototype.startSync=function(){var e,n;return n=function(e){var n,r;
return r=e[0],n=e[1],r>=n?Bacon.once(!0):Bacon.later(r+t.SYNC_INTERVAL-n,!0)},e=this.untilEnd(this.asEventStream("add change")).throttle(t.CHANGE_THROTTLE).map(function(){return(new Date).getTime()}),e.debounceImmediate(t.SYNC_INTERVAL).toProperty().filter(this,"unsaved").sampledBy(e,function(e,t){return[e,t]}).flatMapLatest(n).assign(this,"save",{patch:!0})},t.prototype.getMarker=function(e,t){var n,r;return n=e.isFlow()?"flows:"+e.id:"privates:"+e.id,null!=(r=this.get(n))&&"function"==typeof r.get?r.get(t):void 0},t.prototype.setMarker=function(e,t,n){var r,o;return null==n&&(n="chat"),o=e.isFlow()?"flows:"+e.id:"privates:"+e.id,this.get(o)?this.get(o).set(n,t,{validate:!0}):(r={id:o},r[n]=t,this.add(r))},t.prototype.parse=function(e,t){var n,r,o,i,s;null==t&&(t={}),o=[];for(s in e){n=e[s];for(i in n)r=n[i],o.push(this._parseMarker(s+":"+i,r,t))}return o},t.prototype.save=function(e){var t,n;return null==e&&(e={}),e=_.extend({},e,{merge:!0}),t=e.error,e.error=function(n){return function(r){return t&&t(n,r,e),
n.trigger("error",n,r,e)}}(this),n=e.success,e.success=function(t){return function(r){var o;return o=t.parse(r,e),_.isObject(o)&&!t.set(o,e)?!1:(n&&n(t,r,e),t.trigger("sync",t,r,e))}}(this),this.sync("patch",this,e)},t.prototype.fetchLocalStorage=function(e){var n,r,o,i;return null==e&&(e={}),o=t.parseLocalStorage(t.LOCALSTORAGE_KEY),n=o.id,r=o.markers,i=o.version,n===this.localStorageId&&i===t.VERSION?this.set(r,_.defaults(e,{merge:!0,remove:!1,parse:!0})):void 0},t.prototype.saveLocalStorage=function(){var e;return e=JSON.stringify({id:this.localStorageId,version:t.VERSION,markers:this.toJSON()}),localStorage.setItem(t.LOCALSTORAGE_KEY,e)},t.prototype.toJSON=function(e){var t,n,r,o,i,s,a,u;if(null==e&&(e={}),e.patch===!0)return this.changes;for(t={},s=this.models,n=0,o=s.length;o>n;n++)i=s[n],a=i.parseId(),u=a[0],r=a[1],(t[u]||(t[u]={}))[r]=_.omit(i.toJSON(e),"id");return t},t.prototype.unsaved=function(){var e,t,n;t=this.changes;for(n in t)if(e=t[n],!_.isEmpty(e))return!0;return!1},t.prototype._cleanDirtyChanges=function(e,t,n){
var r,o,i,s,a,u,l;a=[];for(u in t)r=t[u],a.push(function(){var e;e=[];for(o in r)s=r[o],e.push(function(){var e,t;t=[];for(i in s)l=s[i],l>=(null!=(e=this.changes[u][o])?e[i]:void 0)?(delete this.changes[u][o][i],_.isEmpty(this.changes[u][o])?t.push(delete this.changes[u][o]):t.push(void 0)):t.push(void 0);return t}.call(this));return e}.call(this));return a},t.prototype._removeDirtyChanges=function(e){var t,n,r;return n=e.parseId(),r=n[0],t=n[1],delete this.changes[r][t]},t.prototype._resetDirtyChanges=function(e){return this.changes={flows:{},privates:{}}},t.prototype._trackDirtyChanges=function(e){var t,n,r,o,i;return n=e.hasChanged()?e.changedAttributes():_.omit(e.toJSON(),"id"),o=e.parseId(),i=o[0],r=o[1],_.extend((t=this.changes[i])[r]||(t[r]={}),n)},t.prototype._maxOrDefined=function(e,t){return null!=e&&null!=t?Math.max(e,t):null!=e?e:t},t.prototype._merge=function(e,n){var r,o,i,s,a;if(null!=e&&null!=n){for(a={},s=t.MARKERS,r=0,o=s.length;o>r;r++)i=s[r],a[i]=this._maxOrDefined(e[i],n[i]);return a}return n?n:e;
},t.prototype._parseMarker=function(e,t,n){var r;return r=n.merge&&this.get(e)?this._merge(this.get(e).toJSON(),t):t,_.extend({id:e},r)},t}(Flowdock.Collection)},{}],24:[function(e,t,n){var r=function(e,t){function n(){this.constructor=e}for(var r in t)o.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},o={}.hasOwnProperty,i=[].indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(t in this&&this[t]===e)return t;return-1};Collections.Messages=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return r(t,e),t.prototype.model=Models.Message,t.prototype.messageFilter=Models.Filter,t.prototype.limit=30,t.prototype.sync=Flowdock.socketIoSync,t.prototype.initialize=function(e,t){return this.startAt=t.startAt,this.maximumMessages=t.maximumMessages,this.skip=t.skip,this.limit=this.maximumMessages||this.limit,this.skip=this.skip||0,this.messageFilter=t.filter||new this.messageFilter,this.historyComplete={forward:null==this.startAt,backward:t.fresh===!0
},this.maximumMessages?this.listenTo(this,"add",function(){var e,t,n,r,o;if(e=this.length-this.maximumMessages,e>0){for(this.historyComplete.backward=!1,o=[],t=n=0,r=e-1;r>=0?r>=n:n>=r;t=r>=0?++n:--n)o.push(this.shift());return o}}):void 0},t.prototype.url=function(){return this.flow.url()+"/messages"},t.prototype._findAllByUuid=function(e){return this.where({uuid:e})},t.prototype.findByUuid=function(e){var t;return null!=(t=this._findAllByUuid(e))?t[0]:void 0},t.prototype.threadAfterMessage=function(e){var t,n;for(n=this.indexOf(e);n<this.length-1;)if(n++,t=this.at(n),t.threadId()!==e.threadId())return t},t.prototype.threadBeforeMessage=function(e){var t,n;for(n=this.indexOf(e);n>0;)if(n--,t=this.at(n),t.threadId()!==e.threadId())return t},t.prototype._forThreads=function(e){var t,n,r,o,i;for(i={},r=this.length,t=void 0;r>0&&!t;)r--,o=this.at(r),n=o.threadId(),i[n]||(i[n]=!0,t=e(o));return t},t.prototype.threadAfter=function(e){var t;return t=void 0,this._forThreads(function(n){return n.threadId()===e?t:void(t=n);
})},t.prototype.threadBefore=function(e){var t;return t=!1,this._forThreads(function(n){return t?n:void(t=n.threadId()===e)})},t.prototype.hasThreadAfter=function(e){var t,n,r;for(r=this.length,n=!1;r>0&&!n&&(r--,t=this.at(r),e.id!==t.id);)n=t.isThread()||t.isComment();return n},t.prototype.lastMessageOf=function(e){return _.last(this.filter(function(t){var n;return t.get("user").toString()===e.id.toString()&&("message"===(n=t.get("event"))||"comment"===n)}))},t.prototype._messageChanged=function(e){var t,n,r,o;return n=e.message_id,r=e.patch,t=e.content,null!=(o=this.get(n))?o.set(_.pick(t,r)):void 0},t.prototype.consume=function(e){if(this.stream)throw new Error("Message collection is already subscribed to a stream");return this.stream=this.untilEnd(e.filter(this.flow.eventStreamFilter)),this.stream.onValue(this,"onStreamMessage"),this.stream.onError(this,"onStreamError")},t.prototype.onStreamError=function(e){var t;return e.message&&(t=this.findByUuid(e.message.uuid),t&&!t.get("id")&&t.trigger("unsent",e.error)),
Bacon.more},t.prototype._matchedMessage=function(e){var t,n;return n=this._findAllByUuid(e.uuid),n.length>1?(console.error("more than one message matches uuid "+e.uuid+": ",n),t=n.shift(),n.forEach(this.remove.bind(this))):t=n[0],e.id&&t&&!t.id?(t.set(e),t.trigger("sync")):e.id&&this.get(e.id)?void 0:this.add(e,{fresh:!0})},t.prototype.onStreamMessage=function(e){var t;return"tag-change"===e.event?this._tagChange(e):"emoji-reaction"===e.event?this._emojiReaction(e):"message-delete"===e.event?this._messageDelete(e):"message-edit"===e.event?this._messageEdit(e):"activity.user"===e.event&&null!=e.content.read&&(t=e.content.read.flows[""+this.flow.id],null!=t.chat&&this.flow.unreadMessages.onMessageReadUpdate("chat",t.chat),null!=t.inbox&&this.flow.unreadMessages.onMessageReadUpdate("inbox",t.inbox)),"thread-change"===e.event?this._threadUpdate(e.content,e.thread_id):e.thread&&e.thread_id&&this._threadUpdate(e.thread,e.thread_id),this.messageFilter.matchesTo(e)&&this._matchedMessage(e),Bacon.more},t.prototype.cleanup=function(){
return this.each(function(e){return e.cleanup()}),t.__super__.cleanup.apply(this,arguments),this.messageFilter=null,this},t.prototype.purgeOlderMessages=function(e){var t,n,r,o;if(!(this.length<=e)&&this.historyComplete.backward!==!0){for(o=[],t=n=1,r=this.length-e;r>=1?r>=n:n>=r;t=r>=1?++n:--n)o.push(this.shift());return o}},t.prototype._messageEdit=function(e){var t,n,r,o,i;return t=this.get(e.content.message),null!=t?(n={content:e.content.updated_content,edited:e.sent},i=e.content.updated_event,r=e.content.updated_tags,r&&(o=_.extend(t.tagDifference(r),{user:e.user,sync:!1}),t.modifyTags(o)),i?(t.set(n,{trigger:!1}),t.set({event:i})):t.set(n)):void 0},t.prototype._messageDelete=function(e){var t;return t=this.get(e.content.message),null!=t?this.remove(t):void 0},t.prototype._tagChange=function(e){var t;return t=this.get(e.content.message),null!=t?t.modifyTags({add:e.content.add,remove:e.content.remove,remote:!0,user:e.user}):void 0},t.prototype._emojiReaction=function(e){var t;return t=this.get(e.content.message),
null!=t?t.handleEmojiReaction({emoji:e.content.emoji,type:e.content.type,user:e.user.toString()}):void 0},t.prototype._threadUpdate=function(e,t){var n,r,o,i,s;for(i=this.where({thread_id:t}),s=[],n=0,r=i.length;r>n;n++)o=i[n],s.push(o.set("thread",e));return s},t.prototype.fetchHistory=function(e){var t,n,r,o,i,s;return null==e&&(e={}),e=_.extend({direction:"backward",data:{}},e),s=(null!=(o=this.messageFilter)&&null!=(i=o.tags)?i.length:void 0)>0,r=this.messageFilter instanceof Models.Filter.Search,"forward"===e.direction&&(0!==this.length&&null!=this.last().id&&((t=e.data).since_id||(t.since_id=this.last().id)),0===this.length&&null!=this.startAt&&(e.data.since_id=this.startAt),e.data.sort="asc"),"backward"===e.direction&&(r||s?(e.data.skip=this.skip+this.length,e.data.searchSortBy=this.messageFilter.searchSortBy):(0!==this.length&&null!=this.first().id&&((n=e.data).until_id||(n.until_id=this.first().id)),0===this.length&&null!=this.startAt&&(e.data.until_id=this.startAt+1),e.insertAt||(e.insertAt=0)),e.skip_until_id&&delete e.data.until_id),
0!==this.length||"backward"!==e.direction||e.data.until_id||(this.historyComplete.forward=!0,this.trigger("historyComplete","forward")),this.fetchMessages(e,!0,!1,function(t){return function(n){return n.length<(e.limit||t.limit)&&(t.historyComplete[e.direction]=!0),t.trigger("historyAdd",n,e.direction),t.historyComplete[e.direction]?t.trigger("historyComplete",e.direction):void 0}}(this))},t.prototype.fetchMessages=function(e,t,n,r){var o,i,s,a,u,l,c;return null==e&&(e={}),null==t&&(t=!1),null==n&&(n=!1),l=function(e,t){var n,r,o,i;if(t){for(i=[],n=0,r=t.length;r>n;n++)o=t[n],e.get(o.id)||i.push(o);return i}return[]},u=this.messageFilter instanceof Models.Filter.Search,a=Flowdock.app.features.F16217_search_api,u&&Flowdock.analytics.track(Flowdock.ANALYTICS_EVENT_TYPES.search_requested,{newSearch:a}),o=_.extend(this.messageFilter.asParams(),{sort:"desc",limit:e.limit||this.limit},e.data),s=moment().valueOf(),i={delayed:e.delayed,cache:!1,update:t,remove:!1,at:e.insertAt,silent:!0,data:o,add:!1,success:function(t,o){
var c,p,d,h;return c=moment().valueOf()-s,h=n?o:l(t,o),t.set(o,_.extend({},i,{add:!0})),_.isFunction(e.success)&&e.success(t,o),d=function(){var e,n,r;for(r=[],e=0,n=h.length;n>e;e++)p=h[e],r.push(t.get(p.id));return r}(),"function"==typeof r&&r(d),t.trigger("messagesAdded",d),u?Flowdock.analytics.track(Flowdock.ANALYTICS_EVENT_TYPES.search_complete,{fetchTimeMs:c,newSearch:a}):void 0},error:e.error},c=this.fetch(i),Bacon.fromPromise(c,!0).takeUntil(this.asEventStream("cleanup")).onValue(function(){}),c},t}(Flowdock.Collection),Collections.ThreadedMessages=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return r(t,e),t.prototype.consume=function(){return t.__super__.consume.apply(this,arguments),this.each(function(e){return function(t){var n;return null!=(n=t.comments)?n.consume(e.stream):void 0}}(this))},t.prototype.addCommentsToMessages=function(e){return _.each(e.slice(0).reverse(),function(e){return function(t){return _.each(t.tags,function(n){var r;if(0===n.indexOf("influx:")){
if(r=e.get(parseInt(n.replace("influx:",""),10)),!r)return;return r.comments.unshift(t)}})}}(this))},t.prototype.fetchComments=function(e,t){var n,r,o;return o=function(){var t,r,o;for(o=[],t=0,r=e.length;r>t;t++)n=e[t],n.id&&n.commentable()&&o.push("influx:"+n.id);return o}(),_.isEmpty(o)?void 0:(r=$.ajax({url:this.url(),dataType:"json",data:{tags:o.join(","),tag_mode:"or",event:"comment,file",limit:100,until_id:t},success:function(t){return function(r){var o,i,s;if(t.addCommentsToMessages(r),100===r.length)return t.fetchComments(e,r[0].id);for(s=[],o=0,i=e.length;i>o;o++)n=e[o],s.push(n.comments.historyComplete.backward=!0);return s}}(this),error:function(){return console.error("could not sync comments on inbox messages",o)}}),Bacon.fromPromise(r,!0).takeUntil(this.asEventStream("cleanup")).onValue(function(){}),r)},t.prototype._prepareModel=function(e,n){var r;return e=t.__super__._prepareModel.call(this,e,n),this.stream&&null!=(r=e.comments)&&r.consume(this.stream),e},t.prototype._removeReference=function(e){
return e.cleanup(),t.__super__._removeReference.call(this,e)},t}(Collections.Messages),Collections.ChatMessages=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return r(t,e),t.prototype.messageFilter=Models.Filter.Chat,t.prototype.initialize=function(){return t.__super__.initialize.apply(this,arguments),this.listenTo(this,"messagesAdded",function(e){var t,n;return n=function(){var n,r,o;for(o=[],n=0,r=e.length;r>n;n++)t=e[n],t.hasComments()&&o.push(t);return o}(),this.fetchComments(n)})},t}(Collections.ThreadedMessages),Collections.InboxMessages=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return r(t,e),t.prototype.messageFilter=Models.Filter.Inbox,t.prototype.initialize=function(){return t.__super__.initialize.apply(this,arguments),this.listenTo(this,"add",function(e){return e.get("thread")?this.where({thread_id:e.get("thread_id")}).forEach(function(t){return t.set({thread:JSON.parse(JSON.stringify(e.get("thread")))})}):void 0}),this.listenTo(this,"messagesAdded",function(e){
return this.fetchComments(e)})},t.prototype.isThreadGroupLeader=function(e){return this.threadGroupLeaderOf(e).get("id")===e.get("id")},t.prototype.threadGroupLeaderOf=function(e){var t,n;if(!e.isThread())return e;for(t=this.indexOf(e),n=this.at(++t);n&&e.get("thread_id")===n.get("thread_id");)e=n,n=this.at(++t);return e},t.prototype._threadGroupTailOf=function(e){var t,n,r;if(!e.isThread())return[e];for(t=this.indexOf(e),r=[e],n=this.at(--t);t>=0&&n&&e.get("thread_id")===n.get("thread_id");)r.push(n),n=this.at(--t);return r},t.prototype.threadGroupOf=function(e){return this._threadGroupTailOf(this.threadGroupLeaderOf(e))},t.prototype.purgeOlderMessages=function(e){var n,r,o,i,s,a,u;for(o=this.reduce(function(e){return function(t,n,r){var o;return o=e.threadGroupLeaderOf(n).id,null!=t[o]?t[o].count++:t[o]={index:r,count:1},t}}(this),{}),r=function(){var e,t,r,i;for(r=_.sortBy(o,"index"),i=[],e=0,t=r.length;t>e;e++)n=r[e],i.push(n.count);return i}(),a=0,i=s=0,u=e;u>=0?u>s:s>u;i=u>=0?++s:--s)null!=r[i]&&(a+=r[i]);
return t.__super__.purgeOlderMessages.call(this,a)},t}(Collections.ThreadedMessages),Collections.CommentMessages=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return r(t,e),t.prototype.initialize=function(e,n){return this.message=n.message,t.__super__.initialize.call(this,e,_.extend({filter:new Models.Filter.Comments(this.message)},n))},t.prototype.cleanup=function(){return t.__super__.cleanup.apply(this,arguments),this.message=null},t}(Collections.Messages),Collections.UnreadMentionsMessages=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return r(t,e),t.prototype.messageFilter=Models.Filter.All,t.prototype.limit=10,t.prototype.unreadTag=function(){return":unread:"+this.userId},t.prototype.initialize=function(e,n){return t.__super__.initialize.apply(this,arguments),this.userId=n.userId,this.messageFilter.tags=[this.unreadTag()]},t.prototype.unread=function(){var e;return e=this.unreadTag(),this.filter(function(t){return _.include(t.get("tags"),e)});
},t.prototype.markAllRead=function(){var e,t,n,r,o,i;for(i=this.unreadTag(),r=this.unread(),o=[],e=0,t=r.length;t>e;e++)n=r[e],o.push(n.removeTags([i]));return o},t}(Collections.Messages),Collections.Activities=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return r(t,e),t.maxPending=5,t.maxBulkFetches=5,t.pendingFetches={},t.flowTimer={},t.bulkFetchPendingFlow=function(e,n){var r,o,i,s,a,u,l,c,p,d;if(null==n&&(n=!0),this.clearTimer(e),(l=t.pendingFetches[e])&&l.length>0){for(l.splice(this.maxPending).forEach(function(e){var t,n;return n=e.options,t=e.deferred,t.reject("abandoned"),"function"==typeof n.error?n.error("abandoned"):void 0}),d=l.splice(0,this.maxBulkFetches),l.length>0?this.setTimer(e):delete t.pendingFetches[e],u=function(e){return d.forEach(function(t,n){var r,o,i;return o=t.options,r=t.deferred,i=null!=e[n]?e[n]:[],i?(r.resolve(i),"function"==typeof o.success?o.success(i):void 0):(r.reject({status:404}),"function"==typeof o.error?o.error({status:404}):void 0)})},a=function(e){
return d.forEach(function(t){var n,r;return r=t.options,n=t.deferred,n.reject(e),"function"==typeof r.error?r.error(e):void 0})},r={},o=i=0,s=d.length;s>i;o=++i)c=d[o],r[o]=c.options.data;return p=$.ajax({headers:n?{"X-owl-prefetch":"prefetch"}:{},url:t.bulkUrl(_.first(d).flow),data:r,dataType:"json"}),p.then(u,a)}},t.clearTimer=function(e){return clearTimeout(this.flowTimer[e]),delete this.flowTimer[e]},t.setTimer=function(e){return this.flowTimer[e]&&clearTimeout(this.flowTimer[e]),this.flowTimer[e]=setTimeout(function(){return t.bulkFetchPendingFlow(e)},3e3+10*Math.random()*1e3)},t.prototype.addPending=function(e){var n,r,o,i,s,a;return o=e.method,i=e.model,a=e.options,r=$.Deferred(),((n=t.pendingFetches)[s=this.flow.id]||(n[s]=[])).unshift({method:o,model:i,options:a,deferred:r,flow:this.flow}),t.setTimer(this.flow.id),a.delayed||t.bulkFetchPendingFlow(this.flow.id,!!a.delayed),r},t.prototype.sync=function(e,t,n){return"read"!==e?Flowdock.socketIoSync(e,t,n):((n.data||(n.data={})).thread_id=this.thread,this.addPending({
method:e,model:t,options:n}))},t.prototype.initialize=function(e,n){var r;return r=new Models.Filter.Thread(n.thread),t.__super__.initialize.call(this,e,_.extend({filter:r},n)),this.thread=n.thread,this.listenTo(this,"change:thread_id",function(e){return e.get("thread_id")!==this.thread?this.remove(e):void 0})},t.prototype.consume=function(){return t.__super__.consume.apply(this,arguments),this.addStream(this.stream.filter(function(e){return"message-change"===e.event}).onValue(this,"_insertMissingToThread"))},t.prototype._insertMissingToThread=function(e){var t,n,r;return t=e.content,r=e.patch,n=e.message_id,i.call(r,"thread_id")>=0&&t.thread_id===this.thread&&!this.get(n)?this.add(t):void 0},t.prototype.url=function(){return this.flow.url()+"/threads/"+this.thread+"/messages"},t.bulkUrl=function(e){return e.url()+"/bulk/messages"},t}(Collections.Messages),n.Activities=Collections.Activities},{}],25:[function(e,t,n){var r,o,i,s,a,u=function(e,t){function n(){this.constructor=e}for(var r in t)l.call(t,r)&&(e[r]=t[r]);
return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},l={}.hasOwnProperty;i=function(e){return null!=e.app&&null!=e.id},s=function(e){return"tag-change"===e.event},a=function(e){var t;return t=":unread:"+e,function(e){return e.indexOf(t)>=0}},r=function(e){var t;return t=a(e),function(e){var n;return n=null!=e.message.get?e.message.get("tags"):e.message.tags||[],e.unread=t(n),e}},o=function(e){return function(t){return String(t.user)!==String(e)||_.all(t.tags,function(e){return":user:everyone"!==e&&":user:team"!==e})}},Collections.NotificationItems=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return u(t,e),t.prototype.model=Models.NotificationItem,t.prototype.url=Helpers.apiUrl("/notifications/mentions"),t.rawItemFromMessage=function(e){var t;return e instanceof Models.Message||(e=new Models.Message(e)),t=null!=e.get("to")?[e.id]:[],{id:Models.NotificationItem.generateId(e),message:e,unreads:t}},t.findFlowMessage=function(e,t){var n,r,o;return r=null!=(o=Flowdock.app.manager.findMessage(e,t))?o.toJSON():void 0,
null!=r?n=new Models.Message(r):(n=new Models.Message({id:t,flow:e}),n.fetch()),n},t.prototype.initialize=function(e,n){return this.userId=n.userId,this.listenTo(this,"remove-mention",function(e){return this.remove(e)}),this.historyComplete={forward:!0,backward:!1},this.resyncs=new Bacon.Bus,this.bufferMutations=this.resyncs.flatMapLatest(function(e){return Bacon.mergeAll(Bacon.once(!0),Bacon.fromPromise(e).map(!1).mapError(!1))}).skipDuplicates().toProperty(!1),this.untilEnd(this.resyncs).flatMapLatest(function(e){return Bacon.fromPromise(e).errors().mapError()}).delay(5e3).onValue(this,"resync"),t.__super__.initialize.apply(this,arguments)},t.prototype.consume=function(e,n,u){var l,c,p,d,h,f,m,g,v;for(c=this.untilEnd(e),this.stream=this.bufferMutations.flatMapLatest(function(e){return function(t){var n,r;return t?(e._buffer=[],c.takeUntil(e.bufferMutations.filter(function(e){return!e})).onValue(function(t){return e._buffer.push(t)}),Bacon.never()):(n=(null!=(r=e._buffer)?r.slice():void 0)||[],e._buffer=[],Bacon.fromArray(n).merge(c));
}}(this)),v=function(e){var t;return null!=(t=u.get(e.flow))?t.receivesTeamNotifications():void 0},m=function(e){return function(t){var n;return n=[":user:"+e.userId,":unread:"+e.userId,":user:everyone"],v(t)&&n.push(":user:team"),n}}(this),this.stream.filter(i).filter(function(e){return _.intersection(e.tags,m(e)).length>0}).filter(o(this.userId)).map(t.rawItemFromMessage).map(r(this.userId)).onValue(this,"addNewItem"),this.stream.filter(s).filter(function(e){return _.intersection(e.content.add,m(e)).length>0}).map(function(e){return function(t){return{message:t.content.message,flow:t.flow,unread:a(e.userId)(t.content.add)}}}(this)).map(function(e){var n,r,o;return r=e.message,n=e.flow,o=e.unread,{message:t.findFlowMessage(n,r),unread:o}}).map(function(e){var n,r,o;return r=e.message,o=e.unread,n=t.rawItemFromMessage(r),n.unread=o,n}).onValue(this,"addNewItem"),this.untilEnd(n).filter(_.identity).filter(".isPrivate").map(".id").map(this,"_buildId").map(this,"get").filter(_.identity).delay(2e3).filter(".unreadCount").onValue(function(e){
return e.flow().opened(),e.markAsRead(!1)}),g=this.stream.filter(function(e){var t;return t=e.event,"notification-center-update"===t}),g.filter(function(e){var t;return t=e.content,"mark-all-read"===t.type}).onValue(this,"markAllRead",!1),g.filter(function(e){var t;return t=e.content,"mark-as-read"===t.type}).map(".content").map(".item").onValue(this,"markAsRead"),h=this.models,f=[],l=0,p=h.length;p>l;l++)d=h[l],f.push(d.consume(this.stream));return f},t.prototype.markAllRead=function(e){var t,n,r,o;for(null==e&&(e=!0),o=this.models,t=0,n=o.length;n>t;t++)r=o[t],r.isUnread()&&r.markAsRead(!1);return e?$.ajax({url:Helpers.apiUrl("/notifications/unreads"),method:"DELETE"}):void 0},t.prototype.markAsRead=function(e){var t;return null!=(t=this.get(e))?t.markAsRead(!1):void 0},t.prototype.fetchUnreads=function(e){return null==e&&(e={}),this.fetch({add:!1,remove:!1,merge:!1,url:Helpers.apiUrl("/notifications/unreads"),success:function(e){return function(t,n){var r,o,i,s;for(r=0,i=n.length;i>r;r++)o=n[r],o.unread=!0;return s=e.add(n,{
silent:!0,parse:!0,at:0,userId:e.userId}),s.length>0?e.trigger("historyAdd",s):void 0}}(this),error:e.error})},t.prototype.fetchMentions=function(e){var t;return null==e&&(e={}),t={limit:e.limit||30,before_id:this.lastMentionId},this.fetch({add:!1,remove:!1,merge:!1,data:t,success:function(n){return function(r,o){var i,s,a,u;return n.lastMentionId=null!=(u=_.last(o))?u.id:void 0,a=function(){var e,t,n;for(n=[],e=0,t=o.length;t>e;e++)i=o[e],null==this.get(i.id)&&n.push(i);return n}.call(n),s=n.add(a,{silent:!0,parse:!0,userId:n.userId}),o.length<t.limit&&(n.historyComplete.backward=!0,n.trigger("historyComplete","backward")),n.trigger("historyAdd",s),null!=e.success?e.success(s):void 0}}(this),error:e.error})},t.prototype._addReference=function(e,n){return t.__super__._addReference.apply(this,arguments),null!=this.stream?e.consume(this.stream):void 0},t.prototype._removeReference=function(e,n){return t.__super__._removeReference.apply(this,arguments),e.unconsume(),e.cleanup()},t.prototype.hasUnreads=function(){
return null!=this.findWhere({unread:!0})},t.prototype.addNewItem=function(e){var t,n;return(t=this.get(e.id))?(this.remove(t,{silent:!0}),this.add(t,{at:0,silent:!0}),n=t.get("unreads"),t.set({unread:e.unread}),t.set({unreads:n.concat(e.unreads)}),t.get("message").set(e.message.toJSON()),t.trigger("change:message",t,t.get("message"))):t=this.add(e,{at:0,userId:this.userId}),this.trigger("reorder",t,0)},t.prototype.cleanup=function(){var e;return null!=(e=this.resyncs)&&e.end(),this.each(function(e){return e.cleanup()}),this.bufferMutations=null,this.resyncs=null,t.__super__.cleanup.apply(this,arguments)},t.prototype.resync=function(){var e;return this.reset(),this.lastMentionId=void 0,this.historyComplete={forward:!0,backward:!1},e=this.fetchUnreads(),this.resyncs.push(e),e},t.prototype.unreadCount=function(e){var t,n;return null!=e?e.isPrivate()?(t=this._buildId(e.id),(null!=(n=this.get(t))?n.unreadCount():void 0)||0):_.filter(this.where({unread:!0}),function(t){return 0===t.id.indexOf("flow:"+e.id+":")}).length:this.where({
unread:!0}).length},t.prototype.unreadProperty=function(e){return null!=e&&e.isPrivate()?this._privateUnreadProperty(e):this.untilEnd(this.asEventStream("update reset change:unread historyAdd")).map(this,"unreadCount",e).skipDuplicates().toProperty(this.unreadCount(e))},t.prototype.unreadMentionCount=function(){return _.filter(this.where({unread:!0}),function(e){return e.isMention()}).length},t.prototype._privateUnreadProperty=function(e){var t,n;return t=this._buildId(e.id),this.untilEnd(this.asEventStream("update reset change:unreads change:unread historyAdd")).map(function(e){return function(){var n;return(null!=(n=e.get(t))?n.unreadCount():void 0)||0}}(this)).skipDuplicates().mapEnd(0).toProperty((null!=(n=this.get(t))?n.unreadCount():void 0)||0)},t.prototype._buildId=function(e){return"private:"+_.sortBy([""+e,""+this.userId]).join(":")},t}(Flowdock.Collection),Collections.NotificationItems.prototype.fetchHistory=Collections.NotificationItems.prototype.fetchMentions},{}],26:[function(e,t,n){var r=function(e,t){
function n(){this.constructor=e}for(var r in t)o.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},o={}.hasOwnProperty;Collections.OrganizationFlows=function(e){function t(e,n){var r;null==n&&(n={}),(null!=n?n.organization:void 0)&&(this.organization=n.organization),r=function(e){return String(e.get("organization").id)===String(n.organization)&&e.get("open")},t.__super__.constructor.call(this,e,_.extend({filter:r},n))}return r(t,e),t}(BackboneProjections.Filtered)},{}],27:[function(e,t,n){var r=function(e,t){function n(){this.constructor=e}for(var r in t)o.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},o={}.hasOwnProperty;Collections.Organizations=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return r(t,e),t.prototype.model=Models.Organization,t.prototype.url=function(){return Helpers.apiUrl("/organizations?users=0")},t.prototype.initialize=function(){return t.__super__.initialize.apply(this,arguments),
this.ready=new $.Deferred,this.listenTo(this,"add",function(e){return e.updated=(new Date).getTime(),this.stream?e.consume(this.stream):void 0}),this.listenTo(this,"remove",function(e){return e.cleanup()})},t.prototype.fetch=function(e){return t.__super__.fetch.call(this,e).done(function(e){return function(){return e.ready.resolve()}}(this)).fail(function(e){return function(){return e.ready.reject()}}(this))},t.prototype.active=function(){return this.where({active:!0})},t.prototype.consume=function(e){return this.stream=e,this.each(function(e){return function(t){return t.consume(e.stream)}}(this))},t.prototype.cleanup=function(){return this.each(function(e){return e.cleanup()}),t.__super__.cleanup.apply(this,arguments)},t}(Flowdock.Collection)},{}],28:[function(e,t,n){var r=function(e,t){function n(){this.constructor=e}for(var r in t)o.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},o={}.hasOwnProperty;Collections.Peaks=function(e){function t(){return t.__super__.constructor.apply(this,arguments);
}return r(t,e),t.prototype.url=function(){return Helpers.apiUrl("/notifications/peaks")},t.prototype.consume=function(e){return this.addStream(e.filter(this,"_filteredMessages").onValue(this,"_updatePeak"))},t.prototype.parse=function(e){var t,n,r,o,i;o=[];for(i in e){t=e[i];for(r in t)n=t[r],o.push({id:r,chat:n.chat,inbox:n.inbox})}return o},t.prototype._updatePeak=function(e){var t,n,r;return t=this._getMessageApp(e),r=this._flowOrPrivateId(e),this.get(r)?this.get(r).get(t)>=e.id?void 0:this.get(r).set(t,e.id):(n={id:r},n[t]=e.id,this.add(n))},t.prototype._getMessageApp=function(e){var t;return t=("function"==typeof e.get?e.get("app"):void 0)||e.app,"influx"===t?"inbox":t},t.prototype._filteredMessages=function(e){var t,n;return this._getMessageApp(e)&&!("user-edit"===(t=e.event)||"activity.user"===t||"action"===e.event&&("join"===(n=e.content.type)||"add_people"===n))},t.prototype._flowOrPrivateId=function(e){return(e.flow||this._otherUserId(e)).toString()},t.prototype._otherUserId=function(e){return e.user.toString()===Flowdock.app.user.id.toString()?e.to:e.user;
},t}(Flowdock.Collection)},{}],29:[function(e,t,n){var r,o,i=function(e,t){function n(){this.constructor=e}for(var r in t)s.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},s={}.hasOwnProperty;o=e("models/user_presence"),r=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return i(t,e),t.prototype.model=o,t.prototype.consume=function(e){return this.addStream(e.onValue(function(e){return function(t){return"presence"===t.event?e.add({id:t.content.user_id,state:t.content.state,updated_at:t.content.updated_at},{merge:!0}):void 0}}(this)))},t.prototype.stateOf=function(e){var t;return(null!=(t=this.get(e))?t.state():void 0)||"offline"},t.prototype.user=function(e){return this.get(e)||this.add({id:e,state:0,updated_at:null})},t}(Flowdock.Collection),t.exports=r},{"models/user_presence":155}],30:[function(e,t,n){var r=function(e,t){return function(){return e.apply(t,arguments)}},o=function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);
return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},i={}.hasOwnProperty;Collections.PrivateConversations=function(e){function t(){return this._onNewPrivateConversation=r(this._onNewPrivateConversation,this),t.__super__.constructor.apply(this,arguments)}return o(t,e),t.prototype.model=Models.PrivateConversation,t.prototype.initialize=function(e,t){return t.privatesEmojis&&e.forEach(function(e){var n;return n=_.unique(_.flatten(_.map(e.users,function(e){return e.organization_ids})).filter(function(e){return null!=t.privatesEmojis[e]})),e.emoji=_.flatten(_.map(n,function(e){return t.privatesEmojis[e]}))}),this.user=t.user},t.prototype.url=function(){return Helpers.apiUrl("/private?open=1")},t.prototype.uniqueName=function(e){var t;return t=this.find(function(t){return e!==t&&t.get("open")&&t.get("name")===e.get("name")}),t?e.otherParty().get("name"):e.get("name")},t.prototype.consume=function(e){return this.stream=e,this.each(function(e){return e.consume(this.stream)},this),this.addStream(this.stream.filter(function(e){
return function(t){var n;return t.to&&!("tag-change"===(n=t.event)||"activity.user"===n||"message-receive"===n)&&!e.get(e._otherUserId([t.user,t.to]))}}(this)).onValue(this._onNewPrivateConversation))},t.prototype.withUser=function(e){return e instanceof Models.User||(e=Flowdock.app.users.get(e)||new Models.User({id:Number(e)})),this.get(e.id)||this._build(e)},t.prototype._onNewPrivateConversation=function(e){var t;return t=new Models.User({id:this._otherUserId([e.user,e.to])}),this._build(t,e)},t.prototype._build=function(e,t){var n,r,o,i;if(null==t&&(t=null),NaN===e.id||null==e.id||e.id===this.user.id)throw new Error("Invalid user");return o={id:e.id,name:e.get("nick")||"\u2026",users:[e,this.user],open:!0},i=function(){return n.fullyLoaded.resolve()},r=function(e,t){return n.fullyLoaded.reject(404===t.status?"private-not-found":void 0)},n=this.push(new Models.PrivateConversation(o)),n.save({},{success:i,error:r}),null!=this.stream&&n.consume(this._withInitialMessage(this.stream,t)),n},t.prototype._withInitialMessage=function(e,t){
return null!=t?Bacon.later(0,t).merge(e):e},t.prototype._otherUserId=function(e){var t;return function(){var n,r,o;for(o=[],n=0,r=e.length;r>n;n++)t=e[n],null!=t&&String(t)!==String(this.user.id)&&o.push(Number(t));return o}.call(this)[0]},t.prototype.cleanup=function(){return this.each(function(e){return e.cleanup()}),t.__super__.cleanup.apply(this,arguments),this.user=void 0},t.prototype.forMessage=function(e){return String(e.get("to"))===String(this.user.id)?this.withUser(e.get("user")):this.withUser(e.get("to"))},t.prototype.fetch=function(e){var n;return null==e&&(e={}),n=e.success,t.__super__.fetch.call(this,_.extend(e,{success:function(e){return function(t,r){var o,i,s,a,u;for(a=function(){var e,n,o;for(o=[],e=0,n=r.length;n>e;e++)u=r[e],o.push(t.get(u.id));return o}(),o=0,i=a.length;i>o;o++)s=a[o],s.consumed||(s.consume(e.stream),s.fullyLoaded.resolve());return _.isFunction(n)?n(t,r):void 0}}(this)}))},t}(Flowdock.Collection)},{}],31:[function(e,t,n){var r=function(e,t){function n(){this.constructor=e}
for(var r in t)o.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},o={}.hasOwnProperty;Collections.Sources=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return r(t,e),t.prototype.model=Models.Source,t.prototype.comparator=function(e){var t;return null!=(t=e.get("application"))?t.name:void 0},t.prototype.url=function(){return this.flow.url()+"/sources"},t.prototype.hasErrors=function(){return!!this.find(function(e){return e.get("error_message")})},t.prototype.consume=function(e){return this.addStream(e.filter(function(e){return"source-add"===e.event}).onValue(function(e){return function(t){return e.add(t.content)}}(this))),this.addStream(e.filter(function(e){return"source-update"===e.event}).onValue(function(e){return function(t){var n;return null!=(n=e.get(t.content.id))?n.set(t.content):void 0}}(this))),this.addStream(e.filter(function(e){return"source-remove"===e.event}).onValue(function(e){return function(t){return e.remove(t.content.id);
}}(this)))},t}(Flowdock.Collection)},{}],32:[function(e,t,n){var r,o=function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},i={}.hasOwnProperty;r=e("../lib/trie"),Collections.Tags=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return o(t,e),t.everyoneTags=["@all","@everybody","@everyone","@anybody","@anyone"],t.teamTags=["@team"],t.prototype.model=Models.Tag,t.prototype.consume=function(e){var t,n,r,o,i;return t=e.filter(function(e){return e.id&&e.tags}),i=t.filter(function(e){return e.tags.length>0}).map(function(e){return e.tags}),r=t.filter(function(e){return"tag-change"===e.event}),n=r.filter(function(e){return e.content.add.length>0}).map(function(e){return e.content.add}),o=r.filter(function(e){return e.content.remove.length>0}).map(function(e){return e.content.remove}),this.addStream(n.merge(i).onValue(function(e){return function(t){var n,r,o,i,s;for(o=[],n=0,r=t.length;r>n;n++)s=t[n],
i=e.getOrAdd(s),i?o.push(i.increment()):o.push(void 0);return o}}(this))),this.addStream(o.onValue(function(e){return function(t){var n,r,o,i,s,a;for(s=[],o=0,i=t.length;i>o;o++)a=t[o],r=e.get(a),r?(n=r.decrement(),0>=n?s.push(e.remove(r)):s.push(void 0)):s.push(void 0);return s}}(this)))},t.prototype.cleanup=function(){return t.__super__.cleanup.apply(this,arguments),this.trie=null},t.prototype.initialize=function(e,t){return this._buildTrie(),this.listenTo(this,"add",function(e){return this.trie.set(e.id,e)})},t.prototype.getOrAdd=function(e,t){var n;return null==t&&(t=Models.Tag.prototype.defaults.count),n=e.toString().toLowerCase(),Models.Tag.regularTag(n)?this.get(n)||this.push({id:n,count:t}):new Models.Tag({id:n,flow:this.flow})},t.prototype.getByHumanized=function(e){return this.getOrAdd(this.dehumanize(e))},t.prototype.everyone=function(){return new Models.Tag({id:Models.Tag.userTagFor("everyone")})},t.prototype.team=function(){return new Models.Tag({id:Models.Tag.userTagFor("team")})},t.prototype.startingWith=function(e){
var t,n,r;return e?(r=e[0],("#"===(n=e[0])||"@"===n)&&(e=e.slice(1)),e=e.toLowerCase(),t=[],"#"!==r&&(this._matchesEveryone(e)&&t.push(this.everyone()),this._matchesTeam(e)&&t.push(this.team()),this.flow.isPrivate()||(t=t.concat(this._userMatches(e)))),"@"!==r?t=t.concat(this._tagMatches(e)):"@"===e[0]&&this.flow.isFlow()&&(e=e.slice(1),t=t.concat(this._groupMatches(e))),t.sort(function(t,n){var r,o;return r=e.length>0&&t.humanize().slice(1).toLowerCase()===e,o=e.length>0&&n.humanize().slice(1).toLowerCase()===e,o-r||n.get("count")-t.get("count")||t.humanize().toLowerCase().localeCompare(n.humanize().toLowerCase())})):[]},t.prototype.dehumanize=function(e){var t,n;if(null!=e){if(Collections.Tags.everyoneTags.indexOf(e.toLowerCase())>=0)return Models.Tag.userTagFor("everyone");if(Collections.Tags.teamTags.indexOf(e.toLowerCase())>=0)return Models.Tag.userTagFor("team");if("@@"===e.slice(0,2)){if(t=this.flow.groups.getByHandle(e.slice(2)),null!=t)return Models.Tag.groupTagFor(t.get("id"))}else{if("@"!==e[0])return"#"===e[0]?e.slice(1):e;
if(n=this.flow.users.find(function(t){return t.get("nick").toLowerCase()===e.slice(1).toLowerCase()}),null!=n)return Models.Tag.userTagFor(n.get("id"))}}},t.prototype.reset=function(e,n){return null==e&&(e=[]),null==n&&(n={}),t.__super__.reset.apply(this,arguments),this._buildTrie()},t.prototype._reset=function(){return t.__super__._reset.apply(this,arguments),this._byId=Object.create(null)},t.prototype._buildTrie=function(){return this.trie=new r,this.each(function(e){return function(t){return e.trie.set(t.id,t)}}(this))},t.prototype._matchesEveryone=function(e){return this.flow.isPrivate()?void 0:_.any(Collections.Tags.everyoneTags,function(t){return 0===t.indexOf("@"+e)})},t.prototype._matchesTeam=function(e){return this.flow.isPrivate()?void 0:_.any(Collections.Tags.teamTags,function(t){return 0===t.indexOf("@"+e)})},t.prototype._userMatches=function(e){return this.flow.users.reduce(function(t){return function(n,r){return r.get("disabled")||0!==r.get("nick").toLowerCase().indexOf(e)||n.push(new Models.Tag({
flow:t.flow,id:Models.Tag.userTagFor(r.id)})),n}}(this),[])},t.prototype._groupMatches=function(e){return this.flow.groups.models.reduce(function(t){return function(n,r){return 0===r.get("handle").toLowerCase().indexOf(e)&&n.push(new Models.Tag({flow:t.flow,id:Models.Tag.groupTagFor(r.get("id"))})),n}}(this),[])},t.prototype._tagMatches=function(e){return""===e?this.models.slice(0):this.trie.prefixed(e).values()},t.prototype.get=function(e){var t;if(null!=e)return t=this.modelId(this._isModel(e)&&e.attributes||e),this._byId[e]||t&&this._byId[t]||e.cid&&this._byId[e.cid]},t}(Flowdock.Collection)},{"../lib/trie":131}],33:[function(e,t,n){var r=function(e,t){function n(){this.constructor=e}for(var r in t)o.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},o={}.hasOwnProperty;Collections.Threads=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return r(t,e),t.prototype.model=Models.Threads,t.prototype.url=function(){return this.flow.url()+"/threads";
},t}(Flowdock.Collection)},{}],34:[function(e,t,n){var r,o=function(e,t){return function(){return e.apply(t,arguments)}},i=function(e,t){function n(){this.constructor=e}for(var r in t)s.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},s={}.hasOwnProperty,a=[].slice,u=[].indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(t in this&&this[t]===e)return t;return-1};r=e("models/user_presence"),Collections.Users=function(e){function t(){return this.handleMessage=o(this.handleMessage,this),t.__super__.constructor.apply(this,arguments)}return i(t,e),t.TYPING_TIMEOUT=3e4,t.prototype.model=Models.User,t.prototype.url=function(){return this.flow?this.flow.url()+"/users":Helpers.apiUrl("/users")},t.prototype.initialize=function(){var e,n;return this._fetching=null,e=function(e,t,n){return[e,t,n]},n=this.asEventStream("typing",e).scan({},function(e,t){var n,r,o,i;return i=t[0],o=t[1],r=t[2],r===!1?_.omit(e,String(i.id)):(n={},n[i.id]={user:i,time:o,id:r},_.extend({},e,n));
}),this.typing=n.combine(n.delay(t.TYPING_TIMEOUT),function(e,t){var n,r,o,i;o=[];for(i in e)n=e[i],n.time>((null!=(r=t[i])?r.time:void 0)||0)&&o.push(n);return o}).skipDuplicates(_.isEqual).changes().toProperty([])},t.prototype.consume=function(e){if(this.stream)throw new Error("Users collection is already subscribed to a stream");return this.stream=e,this.addStream(this.stream.onValue(this.handleMessage)),this.addStream(this.updateFlowUser(this.stream.filter(function(e){return"user-change"===e.event})))},t.prototype.updateFlowUser=function(e){return e.filter(function(e){return function(t){return e.get(t.user)}}(this)).onValue(function(e){return function(t){var n,r,o,i;return i=e.get(t.user),n=t.content,i.set(_.omit(n,"team_notifications","in_flow")),o=n.team_notifications,i.set({in_flow:n.in_flow}),null!==o&&(i.set("team_notifications",o),Flowdock.app.user.id.toString()===i.id.toString())&&null!=(r=e.flow)?r.set("team_notifications",o):void 0}}(this))},t.prototype.handleMessage=function(e){var t,n;return"function"==typeof(t=Collections.Users.messageHandlers)[n=e.event]?t[n](this,e):void 0;
},t.unsetTyping=function(e,t){var n;return n=e.get(t.user),null!=n?n.trigger("typing",n,t.sent,!1):void 0},t.messageHandlers={"activity.user":function(e,n){var r,o,i;if(n.user&&(i=e.get(n.user),null!=i))return r=t.currentTimestamp(),o=n.content,null!=o.typing&&i.id!==Flowdock.app.user.id?i.trigger("typing",i,r,o.typing):void 0},"backend.rejoin.user":function(e,t){var n,r;return n=t.content.user.id,null!=(r=e.get(n))&&r.set({disabled:!1}),e.trigger("rejoin")},"backend.join.user":function(e,t){return e.add(new Models.User(t.content.user))},"backend.user.block":function(e,t){var n,r;return n=Number(t.content),null!=(r=e.get(n))?r.set({disabled:!0}):void 0},"user-edit":function(e,t){var n,r;return n=t.content.user.id,null!=(r=e.get(n))?r.set(t.content.user):void 0},message:t.unsetTyping,comment:t.unsetTyping,status:function(e,t){var n,r;return n=Number(t.user),null!=(r=e.get(n))?r.set({status:t.content}):void 0}},t.prototype.startingWith=function(e){return e?(e=e.toLowerCase(),this.filter(function(t){var n,r;return n=[t.get("email"),t.get("nick")].concat(function(){
var e,n,o,i;for(o=t.get("name").split(" "),i=[],e=0,n=o.length;n>e;e++)r=o[e],r.length&&i.push(r);return i}()),_.any(n,function(t){return 0===t.toLowerCase().indexOf(e.toLowerCase())})})):[]},t.prototype.enabled=function(){return this.filter(function(e){return e.enabled()})},t.prototype.available=function(){return this.flow.isFlow()?this.filter(function(e){return e.available()}):this.enabled()},t.prototype.online=function(){return this.byState("active","idle")},t.prototype.byState=function(){var e;return e=1<=arguments.length?a.call(arguments,0):[],this.filter(function(t){var n;return t.available()&&(n=t.presence(),u.call(e,n)>=0)})},t.prototype.notifiableByTeam=function(){return this.filter(function(e){return e.available()&&e.get("team_notifications")})},t.prototype.getOrAdd=function(e){var t;return t=this.get(e),null==t&&(t=new Models.User({id:e}),this.add(t),this.singleFetch()),t},t.prototype.singleFetch=function(){var e;return null!=this._fetching?this._fetching.promise():(this._fetching=new $.Deferred,e=function(e){
return function(){return e._fetching.resolve(),e._fetching=null}}(this),this.fetch({success:e,error:e}),this._fetching.promise())},t.prototype.comparator=function(e){var t;return null!=(t=e.nick())&&"function"==typeof t.toLowerCase?t.toLowerCase():void 0},t.currentTimestamp=function(){return(new Date).getTime()},t.prototype.userPresenceUpdates=function(){return null!=Flowdock.app.presence?this.untilEnd(Flowdock.app.presence.asEventStream("change add")).map(".id").filter(this,"get"):Bacon.never()},t.prototype.usersPropertyByState=function(){var e;return e=1<=arguments.length?a.call(arguments,0):[],Bacon.mergeAll([this.userPresenceUpdates(),this.untilEnd(this.asEventStream("add change")).map(".id"),this.untilEnd(this.asEventStream("remove").map(".id").map(function(e){return{remove:e}})),this.untilEnd(this.asEventStream("reset").flatMapLatest(function(e){return function(){return Bacon.fromArray(e.pluck("id"))}}(this)))]).scan(this.byState.apply(this,e),function(t){return function(n,r){var o,i,s,a,l;return null!=r.remove?(l=void 0,
r=r.remove):l=t.get(r),a=null!=l?l.presence():void 0,i=u.call(e,a)>=0,o=null!=l&&l.available(),o&&i&&!_.find(n,function(e){return e.id===r})?n=[l].concat(n):o&&i||(s=_.findIndex(n,function(e){return e.id===r}),0>s||(n=n.slice(0,s).concat(n.slice(s+1)))),n}}(this))},t}(Flowdock.Collection)},{"models/user_presence":155}],35:[function(e,t,n){var r,o;r=React.createFactory(React.addons.CSSTransitionGroup),o=React.createClass({displayName:"Carousel",render:function(){return r(_.extend(this.props,{transitionName:"carousel"}),this.props.children)}}),t.exports=o},{}],36:[function(e,t,n){var r;r=React.DOM.img,t.exports=React.createClass({render:function(){return r({alt:this.props.alt,className:"thread-avatar thread-comment-avatar",src:this.props.src})}})},{}],37:[function(e,t,n){var r,o,i,s,a,u,l,c;l=React.DOM,o=l.a,a=l.div,i=e("classnames"),r=React.createFactory(e("../vector_icon")),s="M11.219297,12.803921 C11.2188795,13.287707 11.5307502,13.723651 12.0095154,13.908981 C12.4877588,14.093921 13.0390642,13.991804 13.4055227,13.650182 L19.6246697,7.847278 C20.1250405,7.380641 20.1250405,6.62344 19.6250872,6.156316 L13.4092801,0.350392 C13.1646266,0.121507 12.8368911,0 12.5033106,0 C12.3381903,0 12.1721307,0.029622 12.0136904,0.090716 C11.5349251,0.275656 11.222637,0.712087 11.222637,1.195483 L11.222637,4.755235 L8.988401,4.755235 C2.057852,4.755235 1.6948031,2.082537 1.1856852,1.074049 C1.018715,0.743306 0.4262512,0.646537 0.2128106,1.072977 C-0.7577142,3.01202 1.4935153,9.173136 8.988401,9.173136 L11.2205495,9.173136 L11.219297,12.803921 Z",
u="M10,17.5 C5.85786438,17.5 2.5,14.1421356 2.5,10 C2.5,5.85786438 5.85786438,2.5 10,2.5 C14.1421356,2.5 17.5,5.85786438 17.5,10 C17.5,14.1421356 14.1421356,17.5 10,17.5 Z M9,9.53077793 L9,13.549222 C9,14.0890248 9.44771525,14.54 10,14.54 C10.5561352,14.54 11,14.0964136 11,13.549222 L11,9.53077793 C11,8.99097514 10.5522847,8.53999996 10,8.53999996 C9.44386482,8.53999996 9,8.98358637 9,9.53077793 Z M10,7.53999996 C10.5522847,7.53999996 11,7.09228471 11,6.53999996 C11,5.98771521 10.5522847,5.53999996 10,5.53999996 C9.44771525,5.53999996 9,5.98771521 9,6.53999996 C9,7.09228471 9.44771525,7.53999996 10,7.53999996 Z",c="M106.2,16H22c-7.7,0-14,6.2-14,13.7v49.6C8,86.8,14.3,93,22,93h29.9L80,112V93h26.2c7.7,0,14-6.2,14-13.7V29.7 C120.2,22.2,113.9,16,106.2,16z",t.exports=React.createClass({displayName:"Bubble",_path:function(){return this.props.isInformational?u:this.props.isThreadStarter?c:s},_classes:function(){return i({bubble:!0,"no-follow-link":!0,"tipsy-tooltip":!1})},render:function(){var e,t,n,i,s,u,l,c,p;return c=this.props,
n=c.color,i=c.isInformational,u=c.link,l=c.onClick,s=c.isThreadStarter,p=c.title,e={className:this._classes(),href:u,onClick:l,title:p},n&&(e.style={borderColor:n,color:n,fill:n}),t=!s||i?20:128,o(e,a({className:"drag-handle",draggable:"true"}),r({path:this._path(),boxHeight:t,boxWidth:t,className:"bubble-icon"}))}})},{"../vector_icon":65,classnames:546}],38:[function(e,t,n){var r,o,i,s,a,u,l,c,p,d,h,f;s=React.createFactory(e("components/flows/name.coffee")),i=React.createFactory(e("components/flows/description.coffee")),a=React.createFactory(e("components/flows/privacy.coffee")),u=React.createFactory(e("components/users/name.coffee")),r=React.createFactory(React.addons.CSSTransitionGroup),h=React.DOM,p=h.div,l=h.a,f=h.ul,d=h.li,c=h.br,o=React.createClass({displayName:"ChatHeader",getDefaultProps:function(){return{compact:!1}},render:function(){var e,t;return e=this.props.flow.isPrivate(),e&&(t=this.props.flow.otherParty()),r({transitionName:"toggle"},this.props.compact?p({key:1,className:"chat-header-small"},p({
className:"chat-header-content-wrapper-small"},p({className:"chat-header-content-small"},e?[p({key:"chat-header-super",className:"chat-header-super"},"Need to keep it confidential?"),p({key:"chat-header-title-small",className:"chat-header-title-small"},this.privateHeaderTitle(t)),p({key:"chat-header-subtitle-small",className:"chat-header-subtitle-small"},this.privateHeaderSubtitle(t))]:[p({key:"chat-header-super",className:"chat-header-super"},"Welcome to your brand new flow!"),p({key:"chat-header-title-small",className:"chat-header-title-small"},"The ",s({flow:this.props.flow})," flow's chat starts here."),p({key:"chat-header-subtitle-small",className:"chat-header-subtitle-small"},i({flow:this.props.flow},"You haven't set up a description for this flow yet.")),p({key:"chat-header-privacy-small",className:"chat-header-privacy-small"},a({flow:this.props.flow})),f({key:"chat-header-actions",className:"chat-header-actions"},d({},l({className:"primary-button invite-team-button",onClick:this.openPeopleManager},"Invite your team")))]))):p({
key:2,className:"chat-header"},p({className:"chat-header-content-wrapper"},p({className:"chat-header-content"},e?[p({key:"chat-header-super",className:"chat-header-super"},"Need to keep it confidential?"),p({key:"chat-header-title",className:"chat-header-title"},this.privateHeaderTitle(t)),p({key:"chat-header-subtitle",className:"chat-header-subtitle"},this.privateHeaderSubtitle(t))]:[p({key:"chat-header-super",className:"chat-header-super"},"Welcome to your brand new flow!"),p({key:"chat-header-title",className:"chat-header-title"},"The ",s({flow:this.props.flow})," flow's chat starts here."),p({key:"chat-header-subtitle",className:"chat-header-subtitle"},i({flow:this.props.flow},"You haven't set up a description for this flow yet.")),p({key:"chat-header-privacy",className:"chat-header-privacy"},a({flow:this.props.flow})),f({className:"chat-header-actions"},d({},l({className:"primary-button invite-team-button",onClick:this.openPeopleManager},"Invite your team")))]))))},openPeopleManager:function(){return Flowdock.app.manager.openFlowSettings(this.props.flow,"preferences?add_people=true");
},privateHeaderTitle:function(e){return["This chat is between you and ",u({user:e,className:"chat-header-user-name"}),"."]},privateHeaderSubtitle:function(e){return"1-to-1 conversations are private. Other people can't join this conversation."}}),t.exports=o},{"components/flows/description.coffee":41,"components/flows/name.coffee":42,"components/flows/privacy.coffee":43,"components/users/name.coffee":64}],39:[function(e,t,n){var r;r=React.createClass({displayName:"CollectionListener",componentDidMount:function(){return this.props.collection.on("add remove",this.update)},componentWillUnmount:function(){return this.props.collection.off("add remove",this.update)},render:function(){return this.props.renderContent(this.props.collection)},update:function(){return this.forceUpdate()}}),t.exports=r},{}],40:[function(e,t,n){var r,o,i,s,a,u,l;s=e("classnames"),a=React.DOM,l=a.video,u=a.source,o=React.createClass({displayName:"VideoSource",componentDidMount:function(){return $(this.getDOMNode()).on("error",this.props.onError);
},componentWillUnmount:function(){return $(this.getDOMNode()).off("error")},render:function(){return u({src:this.props.src,type:this.props.type})}}),i=React.createFactory(o),r=React.createClass({displayName:"GifvEmbeddable",propTypes:{url:React.PropTypes.string,sourcesInformation:React.PropTypes.array,onError:React.PropTypes.func},_source:function(e){return i({key:e.key,src:e.src,type:e.type,onError:this.props.onError})},getInitialState:function(){return{hidden:!0}},componentDidMount:function(){return $(this.getDOMNode()).on("error",this.props.onError),$(this.getDOMNode()).on("loadeddata",function(e){return function(){return e.props.parent.preserveScrolling(function(){return e.setState({hidden:!1})})}}(this))},componentWillUnmount:function(){return $(this.getDOMNode()).off("error"),$(this.getDOMNode()).off("loadeddata")},componentDidAttach:function(){return this.getDOMNode().play()},render:function(){return l({className:s({hidden:this.state.hidden}),loop:"loop",muted:"muted",autoPlay:"autoplay",preload:"preload",
onError:this.props.onError},this.props.sources.map(this._source),this.props.url)}}),t.exports=r},{classnames:546}],41:[function(e,t,n){var r,o,i,s;s=React.DOM,i=s.div,o=s.a,r=React.createClass({displayName:"FlowDescription",getDefaultProps:function(){return{className:"flow-description"}},componentDidMount:function(){return this.props.flow.on("change:description",this.update)},componentWillUnmount:function(){return this.props.flow.off("change:description",this.update)},render:function(){return i({className:this.props.className},this.props.flow.get("description").length>0?this.props.flow.get("description"):this.props.children," ",o({className:"edit-description-link",onClick:this.openFlowSettings},"(edit)"))},update:function(){return this.forceUpdate()},openFlowSettings:function(){return Flowdock.app.manager.openFlowSettings(this.props.flow)}}),t.exports=r},{}],42:[function(e,t,n){var r,o;o=React.DOM.span,r=React.createClass({displayName:"FlowName",getDefaultProps:function(){return{className:"flow-name"}},componentDidMount:function(){
return this.props.flow.on("change:name",this.update)},componentWillUnmount:function(){return this.props.flow.off("change:name",this.update)},render:function(){return o({className:this.props.className},this.props.flow.get("name"))},update:function(){return this.forceUpdate()}}),t.exports=r},{}],43:[function(e,t,n){var r,o,i,s;s=React.DOM,i=s.div,o=s.a,r=React.createClass({displayName:"FlowPrivacy",getDefaultProps:function(){return{className:"flow-privacy"}},componentDidMount:function(){return this.props.flow.on("change:access_mode",this.update)},componentWillUnmount:function(){return this.props.flow.off("change:access_mode",this.update)},render:function(){return i({className:this.props.className},"organization"===this.props.flow.get("access_mode")?"Anyone in the "+this.props.flow.get("organization").name+" organization can join this flow. ":"This flow is invitation-only. ",o({className:"edit-privacy-link",onClick:this.openPeopleManager},"(edit)"))},update:function(){return this.forceUpdate()},openPeopleManager:function(){
return Flowdock.app.manager.openFlowSettings(this.props.flow,"preferences")}}),t.exports=r},{}],44:[function(e,t,n){var r,o,i,s,a,u,l,c,p,d,h,f,m,g;m=React.DOM,d=m.div,g=m.ul,f=m.li,c=m.a,h=m.img,p=e("classnames"),r=React.createFactory(React.addons.CSSTransitionGroup),o=React.createFactory(e("../animations/carousel")),a=React.createClass({displayName:"FooterMessage",render:function(){return d({className:"inbox-footer-message"},d({className:"inbox-footer-message-avatar dummy-avatar-"+this.props.user}),d({className:"inbox-footer-message-title"},this.props.title),d({className:"inbox-footer-message-content"},d({className:"inbox-footer-message-user-avatar type-icon "+this.props.type}),this.props.meta))}}),u=React.createFactory(a),i=React.createClass({displayName:"FooterActions",_classes:function(e){return[e,"inbox-footer-button"].join(" ")},_openSettings:function(){return Flowdock.app.manager.openFlowSettings(Flowdock.app.manager.currentFlow,"integrations")},render:function(){return g({className:"inbox-footer-actions"
},f({},c({className:this._classes("primary-button"),onClick:this._openSettings},"Add integrations")),this.props.isLast?void 0:f({},c({className:this._classes("secondary-button"),onClick:this.props.toNextSlide},"Next")))}}),s=React.createFactory(i),l=React.createClass({displayName:"InboxFooter",getInitialState:function(){return{currentSlide:0}},getDefaultProps:function(){return{compact:!1,slides:[{"super":"The team inbox",title:"See your team work",subtitle:"The shared team inbox helps you stay up to date about what's actually happening."},{title:"Track projects",subtitle:"See what's planned. Project management, backlog tools and tasks in CA Agile Central, Trello, JIRA and many other tools."},{title:"Build software",subtitle:"See how your software is being built. Follow version control, issue tracking, continuous integration and deployments."},{title:"Track online media",subtitle:"Follow what your customers are talking about on Twitter and other social media channels. Coordinate your response."}]}},moveToSlide:function(e){
return this.animating?void 0:(this.setState({currentSlide:e}),this.animating=!0,setTimeout(function(e){return function(){return e.animating=!1}}(this),600))},render:function(){var e,t,n,i,a;return r({transitionName:"toggle"},this.props.compact?d({key:1,className:"inbox-footer-small"},d({className:"inbox-footer-content-wrapper-small"},d({className:"inbox-footer-content-small"},d({className:"inbox-footer-title-small"},this.props.title),d({className:"inbox-footer-subtitle-small"},this.props.subtitle),this.props.actions?g({className:"inbox-footer-actions"},function(){var t,n,r,o;for(r=this.props.actions,o=[],i=t=0,n=r.length;n>t;i=++t)e=r[i],o.push(f({key:"action-"+i},e));return o}.call(this)):void 0))):(n=this.props.slides[this.state.currentSlide],d({key:2,className:"inbox-footer"},d({className:"inbox-footer-content-wrapper"},d({className:"inbox-footer-content"},g({className:"carousel-radio"},function(){var e,n,r,o;for(r=this.props.slides,o=[],i=e=0,n=r.length;n>e;i=++e)a=r[i],t=p({"carousel-radio-button":!0,selected:i===this.state.currentSlide
}),o.push(f({key:"slide-"+i},c({className:t,onClick:this.moveToSlide.bind(this,i)})));return o}.call(this)),o({component:"div",className:"carousel"},d({key:this.state.currentSlide,className:"carousel-slide"},d({className:"inbox-footer-super"},"Use the inbox to"),d({className:"inbox-footer-title"},n.title),d({className:"inbox-footer-subtitle"},n.subtitle),s({slide:n,isLast:this.state.currentSlide===this.props.slides.length-1,toNextSlide:this.moveToSlide.bind(this,this.state.currentSlide+1)}))))))))}}),t.exports=l},{"../animations/carousel":35,classnames:546}],45:[function(e,t,n){var r,o,i,s;s=React.DOM,i=s.div,o=s.button,r=React.createClass({displayName:"ListHeader",getInitialState:function(){return{sortBy:"newest"}},getDefaultProps:function(){return{setSortBy:function(){}}},handleClick:function(e){return this.props.setSortBy(e)?this.setState({sortBy:e}):void 0},sortByOldest:function(){return this.handleClick("oldest")},sortByNewest:function(){return this.handleClick("newest")},sortByRelevance:function(){return this.handleClick("relevance");
},render:function(){return i({},o({onClick:this.sortByNewest,className:"newest"===this.state.sortBy?"search-list-button-selected":"search-list-button"},"Newest"),o({type:"submit",onClick:this.sortByOldest,className:"oldest"===this.state.sortBy?"search-list-button-selected":"search-list-button"},"Oldest"),o({type:"submit",onClick:this.sortByRelevance,className:"relevance"===this.state.sortBy?"search-list-button-selected":"search-list-button"},"Relevance"))}}),t.exports=r},{}],46:[function(e,t,n){var r,o,i,s,a,u;a=React.DOM,i=a.div,s=a.li,u=a.ul,o=e("underscore"),r=React.createClass({displayName:"InfiniteList",getInitialState:function(){return{offset:0}},getDefaultProps:function(){return{component:"ul",pageLength:60,items:[],itemHeight:60,renderItem:function(){return s(null,"Item")},renderEmpty:function(){return i({className:"infinite-empty"},i({className:"infinite-empty-title"},"There are no items in this list."),i({className:"infinite-empty-subtitle"},"Try creating a new one."))}}},shouldComponentUpdate:function(e,t){
return this.state.offset!==t.offset||this.props.items!==e.items||!this.props.items.length},render:function(){var e;return e=o.extend({ref:"list",onScroll:this.onScroll},this.props),React.createElement(this.props.component,e,this.renderSpaceAbove(),this.renderItems(),this.renderSpaceBelow())},renderItems:function(){var e,t;return 0===this.props.items.length?this.props.renderEmpty():(t=Math.max(0,this.state.offset-this.props.pageLength),e=Math.min(this.props.items.length,this.state.offset+this.props.pageLength),this.props.items.slice(t,e).map(function(e){return function(n,r){return e.props.renderItem(n,r+t)}}(this)))},renderSpaceAbove:function(){var e;return e=Math.max(0,this.state.offset-this.props.pageLength),this.renderSpace(e*this.props.itemHeight)},renderSpaceBelow:function(){var e;return e=Math.max(0,this.props.items.length-this.state.offset-this.props.pageLength),this.renderSpace(e*this.props.itemHeight)},renderSpace:function(e){return i({className:"infinite-list-space",style:{height:e}})},getScrollBottom:function(){
return React.findDOMNode(this).scrollTop+window.innerHeight},onScroll:function(e){var t,n;return t=this.props.pageLength*this.props.itemHeight,n=this.getScrollBottom(),this.setState({offset:Math.floor(this.getScrollBottom()/t)*this.props.pageLength})},getListStart:function(){return Math.max(0,this.state.offset-this.props.pageLength)},getPageTop:function(e){return e*this.props.itemHeight+this.props.scrollOffset}}),t.exports=r},{underscore:891}],47:[function(e,t,n){var r,o,i,s,a;s=React.DOM,o=s.div,a=s.svg,i=s.path,r="M36.796,13.204c3.019,3.019,4.886,7.19,4.886,11.796c0,9.214-7.469,16.684-16.682,16.684S8.318,34.214,8.318,25 c0-4.606,1.867-8.777,4.886-11.796L7.322,7.323C2.798,11.847,0,18.097,0,25c0,13.807,11.192,25,25,25c13.807,0,25-11.193,25-25 c0-6.903-2.798-13.153-7.323-17.677L36.796,13.204z",t.exports=React.createClass({displayName:"Loader",getInitialState:function(){return{loading:!0}},componentDidMount:function(){return this.subscribers=[],this.subscribers.push(this.props.loading.onValue(function(e){return function(t){
return e.setState({loading:t})}}(this)))},componentDidUpdate:function(){var e;return this.state.loading?void 0:"function"==typeof(e=this.props).onLoadFinished?e.onLoadFinished():void 0},componentWillUnmount:function(){var e,t,n,r,o;for(r=this.subscribers,o=[],t=0,n=r.length;n>t;t++)e=r[t],o.push(e());return o},render:function(){return this.state.loading?o({className:"progress spinner green new-tab-spinner"},a({"enable-background":"new 0 0 50 50",id:"Layer_1",version:"1.1",viewBox:"0 0 50 50","xml:space":"preserve","xmlns:xlink":"http://www.w3.org/1999/xlink",xmlns:"http://www.w3.org/2000/svg"},i({d:r}))):this.props.children},setDone:function(){return this.setState({loading:!1})}})},{}],48:[function(e,t,n){var r,o;r=e("react"),o=r.DOM,t.exports=r.createClass({render:function(){return o.div({className:"loader",style:{textAlign:"center"}},o.div({className:"box1"}),o.div({className:"box2"}),o.div({className:"box3"}),o.div({className:"box4"}),o.div({className:"box5"}))}})},{react:842}],49:[function(e,t,n){var r;r=React.DOM.div,
t.exports=React.createClass({displayName:"NewTabIcon",render:function(){return this.props.avatar?r({className:"new-tab-avatar",title:this.props.title,style:{backgroundImage:"url("+this.props.avatar+")"}}):r({className:"new-tab-icon",title:this.props.title},r({className:"fa fa-2x "+this.props["class"]+" join-type-icon"}),this.props.open?r({className:"fa fa-check-square joined-icon"}):void 0)}})},{}],50:[function(e,t,n){var r,o,i,s,a,u,l,c,p,d,h,f,m,g,v,b,y,w,k,x,C,E;x=React.DOM,g=x.div,y=x.header,E=x.span,w=x.i,m=x.a,v=x.form,C=x.section,k=x.input,b=x.h3,h=React.createFactory(e("components/new_tab/tabs")),d=React.createFactory(e("components/new_tab/tab")),s=React.createFactory(e("components/infinite_list")),o=React.createFactory(e("components/collection_listener")),a=React.createFactory(e("components/loader")),c=React.createFactory(e("components/new_tab/result")),i=e("presenters/flow_tab"),f=e("presenters/user_tab"),l=React.createFactory(e("components/new_tab/new_tab_header")),p=React.createFactory(e("components/spotlight_search/spotlight_search_header")),
r=e("baconjs"),u=React.createClass({displayName:"NewTabForm",getInitialState:function(){return{searchValue:"",searchResults:[]}},componentWillMount:function(){var e,t,n,o,i,s;return $(document).on("keydown",this.onKeyDown),this.subscribers=[],this.searchInput=new r.Bus,o=this.searchInput.skipDuplicates().throttle(250).toProperty(""),t=this.searchInput.map(function(e){return e.length}).skipDuplicates().toProperty(!1),i=o.map(function(e){return e.replace(/^@/,"")}),s=this.props.users.filter(i).map(this.userTabs),e=this.props.flows.filter(o).map(this.flowTabs),n=s.combine(e,_.union).map(this.sortByScore),this.subscribers.push(o.onValue(function(e){return function(t){return e.setState({searchValue:t})}}(this))),this.subscribers.push(n.filter(t).skipDuplicates(_.isEqual).debounce(1).onValue(function(e){return function(t){return e.setState({searchResults:t})}}(this))),this.flowsLoading=this.props.flows.loading.map(function(e){return function(t){return t&&0===e.props.flows.collection.models.length}}(this)),this.usersLoading=this.props.users.loading.map(function(e){
return function(t){return t&&0===e.props.users.collection.models.length}}(this))},flowTabs:function(e){var t,n,r,o;for(o=[],t=0,n=e.length;n>t;t++)r=e[t],o.push({item:new i(r.item),score:r.score});return o},userTabs:function(e){var t,n,r,o;for(o=[],t=0,n=e.length;n>t;t++)r=e[t],r.item.id===this.props.privates.user.id||r.item.get("disabled")||o.push({item:new f(r.item,this.props.privates.get(r.item.id)),score:r.score});return o},sortByScore:function(e){return _.pluck(_.sortBy(e,"score"),"item")},sortByName:function(e){return _.sortBy(e,function(e){return e.name().toLowerCase()})},sortByActivity:function(e){return _.sortBy(e,function(e){return e.lastMessageAt()}).reverse()},componentDidMount:function(){return this.selectFirst()},componentDidUpdate:function(){return this.selectFirst()},componentWillUnmount:function(){var e,t,n,r;for($(document).off("keydown",this.onKeyDown),this.searchInput.end(),r=this.subscribers,t=0,n=r.length;n>t;t++)(e=r[t])();return this.searchInput=void 0},onNavigate:function(){return $(document).off("keydown",this.onKeyDown);
},render:function(){return g({id:"new-tab"},this.props.shouldShowTabs?l({onSubmit:this.onSubmit,onInput:this.onInput,onReset:this.onReset,onNavigate:this.onNavigate,onInputBlur:this.props.onInputBlur}):p({onSubmit:this.onSubmit,onInput:this.onInput,onReset:this.onReset,onNavigate:this.onNavigate,onInputBlur:this.props.onInputBlur,isShortKeyUsed:this.props.isShortcutKeyUsed}),this.state.searchValue.length?this.renderResults():this.props.shouldShowTabs?this.renderTabs():void 0)},renderTabs:function(){var e;return e=this,h({className:"new-tab-content",onTabChange:this.selectFirst},d({name:"Flows"},a({loading:this.flowsLoading,onLoadFinished:this.selectFirst},o({collection:this.props.flows.collection,renderContent:function(t){return s({key:"flows",className:"new-tab-results",items:e.sortByActivity(t.models.map(function(e){return new i(e)})),renderItem:e.renderResult,renderEmpty:e.renderEmptyFlows})}}))),d({name:"Users"},a({loading:this.usersLoading,onLoadFinished:this.selectFirst},o({collection:this.props.users.collection,
renderContent:function(t){var n;return n=e.sortByName(t.models.filter(function(t){return!t.get("disabled")&&t.id!==e.props.privates.user.id}).map(function(e){return new f(e)})),s({key:"users",className:"new-tab-results",items:n,renderItem:e.renderResult,renderEmpty:e.renderEmptyUsers})}}))))},renderResults:function(){return g({className:"new-tab-content new-tab-searching"},s({key:"results",className:"new-tab-results",items:this.state.searchResults,renderItem:this.renderResult,renderEmpty:this.renderEmptyResults}))},renderResult:function(e){return c({className:"new-tab-item",key:e.id(),model:e.model,onClick:this.props.onResultClick,onMouseEnter:this.selectItem,presenter:e})},onKeyDown:function(e){return KeyEvent.is("down")(e)?(this.select("nextAll"),e.preventDefault()):KeyEvent.is("up")(e)?(this.select("prevAll"),e.preventDefault()):KeyEvent.is("enter")(e)?(this.onSubmit(e),e.preventDefault()):void 0},getElement:function(){return $(React.findDOMNode(this))},getSelected:function(){return $(this.getElement().find(".selected")[0]);
},select:function(e){var t,n,r;return r=this.unselect(),n=r[e](".new-tab-item").first(),t=0===r.length?$(this.getElement().find(".new-tab-item")[0]):0===n.length&&"nextAll"===e?this.getElement().find(".new-tab-item").first():0===n.length&&"prevAll"===e?this.getElement().find(".new-tab-item").last():n,t.addClass("selected"),this.scrollTo(t)},unselect:function(){return this.getSelected().removeClass("selected")},selectFirst:function(){return this.unselect(),this.getElement().find(".new-tab-item").first().addClass("selected")},selectItem:function(e){return this.unselect(),$(e.currentTarget).addClass("selected")},scrollTo:function(e){var t,n,r,o,i,s,a;return t=this.getElement(),o=$(t.find(".new-tab-results")[0]),a=parseInt(o.css("padding-top")),r=e.position().top-a,n=e.outerHeight(),i=o.height(),s=o.scrollTop(),r+n>i?o.scrollTop(r+s-i+n):0>r?o.scrollTop(s+r):void 0},onSubmit:function(e){return null!=e&&e.preventDefault(),null!=e&&e.stopImmediatePropagation(),this.getSelected().find("a").first().click(),this.props.onResultClick&&this.props.onResultClick();
},onInput:function(e){return this.searchInput.push(e.target.value)},onReset:function(e){return this.setState({searchValue:""})},renderEmptyResults:function(){return g({className:"infinite-empty"},g({className:"infinite-empty-title"},"Could not find any flows or people matching '"+this.state.searchValue+"'."),g({className:"infinite-empty-subtitle"},"Try searching with a less specific term."))},renderEmptyFlows:function(){return g({className:"infinite-empty"},w({className:"fa fa-list infinite-empty-icon"}),g({className:"infinite-empty-title"},"You don't seem to have any accessible flows."),g({className:"infinite-empty-subtitle"},"."),m({className:"primary-button",href:"/app/create-flow",onClick:this.onNavigate},w({className:"fa fa-fw fa-plus"}),"Create a new flow"))},renderEmptyUsers:function(){return g({className:"infinite-empty"},w({className:"fa fa-users infinite-empty-icon"}),g({className:"infinite-empty-title"},"You're the only user in your organizations."),g({className:"infinite-empty-subtitle"},"Invite more people to any of your flows. Open a flow and choose Add People."));
}}),t.exports=u},{baconjs:500,"components/collection_listener":39,"components/infinite_list":46,"components/loader":47,"components/new_tab/new_tab_header":51,"components/new_tab/result":52,"components/new_tab/tab":53,"components/new_tab/tabs":54,"components/spotlight_search/spotlight_search_header":58,"presenters/flow_tab":163,"presenters/user_tab":196}],51:[function(e,t,n){var r,o,i,s,a,u,l,c,p,d;p=React.DOM,u=p.header,a=p.h3,o=p.a,l=p.i,d=p.span,c=p.input,s=p.form,i=e("classnames"),r=React.createClass({displayName:"NewTabHeader",getInitialState:function(){return{empty:!0}},shouldComponentUpdate:function(e,t){return this.state.empty!==t.empty},render:function(){var e;return e=i({"new-tab-search-reset":!0,"dark-link":!0,hidden:this.state.empty}),u({className:"new-tab-header"},o({className:"primary-button right",href:"/app/create-flow",onClick:this.props.onNavigate},l({className:"fa fa-fw fa-plus"}),d({className:"show-for-large-up"},"Create a new flow")),o({className:"button mobile-only left",href:"/app"},l({className:"fa fa-arrow-left"
})),a({className:"new-tab-title"},"Open a flow or 1-to-1 chat"),s({className:"new-tab-search",onSubmit:this.props.onSubmit},c({ref:"input",className:"new-tab-search-input",type:"text",placeholder:"Search for flows and users",autoFocus:!0,onInput:this.onInput}),o({title:"Clear search",className:e,onClick:this.onReset},l({className:"fa fa-times-circle"}))))},onInput:function(e){return this.setState({empty:!e.target.value.length}),this.props.onInput(e)},onReset:function(e){return React.findDOMNode(this.refs.input).value="",this.setState({empty:!0}),this.props.onReset(e)}}),t.exports=r},{classnames:546}],52:[function(e,t,n){var r,o,i,s,a,u,l,c,p,d,h;p=React.DOM,s=p.a,a=p.div,l=p.img,c=p.li,d=p.span,h=p.ul,u=p.i,o=React.createFactory(e("./icon")),i=e("underscore"),r=e("backbone-react-component"),t.exports=React.createClass({displayName:"NewTabResult",mixins:[r],createTimestamp:function(e){return d({className:"last-message",title:"Last message sent "+e.calendar()}," "+e.fromNow())},render:function(){var e;return e=i.extend({
className:"new-tab-item",key:this.props.presenter.id()},this.props),c(e,s({href:this.props.presenter.url(),onClick:this.onClick},o(this.props.presenter.icon()),a({className:"name-row"},d({className:"name"},this.props.presenter.name())," ",d({className:"name-specifier"},"("+this.props.presenter.specifier()+")"),0!==this.props.presenter.lastMessageAt().valueOf()?this.createTimestamp(this.props.presenter.lastMessageAt()):void 0),a({className:"description"},this.props.presenter.description())))},onClick:function(e){var t;return Flowdock.analytics.track(Flowdock.ANALYTICS_EVENT_TYPES.spotlight_search_result_click),null!=e&&e.preventDefault(),null!=e&&null!=(t=e.nativeEvent)&&t.stopImmediatePropagation(),this.props.onClick&&this.props.onClick()}})},{"./icon":49,"backbone-react-component":494,underscore:891}],53:[function(e,t,n){var r;r=React.createClass({displayName:"Tab",render:function(){return this.props.children}}),t.exports=r},{}],54:[function(e,t,n){var r,o,i,s,a,u,l,c;r=e("react/addons"),s=e("classnames"),l=r.DOM,
a=l.div,c=l.ul,u=l.li,i=l.a,o=r.createClass({displayName:"Tabs",getDefaultProps:function(){return{component:"div",className:"tabby"}},getInitialState:function(){return{current:0}},setActive:function(e,t){return this.setState({current:e})},shouldComponentUpdate:function(e,t){return this.state.current!==t.current},componentDidUpdate:function(){var e;return"function"==typeof(e=this.props).onTabChange?e.onTabChange():void 0},render:function(){return r.createElement(this.props.component,this.props,this.renderMenu(),this.renderCurrentTab())},renderMenu:function(){return c({className:"tabby-menu"},r.Children.map(this.props.children,function(e){return function(t,n){var r;return r=s({"tabby-menu-item":!0,current:e.state.current===n}),u({key:n,className:r},i({className:"tabby-menu-link",onClick:e.setActive.bind(e,n)},t.props.name))}}(this)))},renderCurrentTab:function(){return a({className:"tabby-content"},this.props.children[this.state.current])}}),t.exports=o},{classnames:546,"react/addons":670}],55:[function(e,t,n){var r,o,i;
i=React.DOM.img,o=e("classnames"),r=React.createClass({displayName:"Image",propTypes:{url:React.PropTypes.string.isRequired},_style:function(){return{maxWidth:this.state.maxWidth,maxHeight:this.state.maxHeight}},_maxHeight:function(e){return e.height>window.innerHeight?.9*window.innerHeight:e.height},_maxWidth:function(e){return e.width>window.innerWidth?.9*window.innerWidth:e.width},_handleImageDisplay:function(e){var t;return t=e.target,this.setState({maxWidth:this._maxWidth(t),maxHeight:this._maxHeight(t),invisible:!1})},_classes:function(){return o({invisible:this.state.invisible})},getInitialState:function(){return{invisible:!0}},render:function(){return i({style:this._style(),className:this._classes(),src:this.props.url,onLoad:this._handleImageDisplay})}}),t.exports=r},{classnames:546}],56:[function(e,t,n){var r,o,i,s,a,u,l;u=React.DOM,s=u.div,i=u.a,a=u.img,l=u.span,r=React.createFactory(e("./image")),o=React.createClass({displayName:"ImageOverlay",propTypes:{onClose:React.PropTypes.func.isRequired,url:React.PropTypes.string.isRequired,
original:React.PropTypes.string},getInitialState:function(){return{maxWidth:0,maxHeight:0}},componentDidMount:function(){return window.history.pushState({},"image")},componentWillMount:function(){return window.addEventListener("popstate",this.props.onClose)},componentDidUnmount:function(){return window.removeEventListener("popstate",this.props.onClose)},render:function(){return s({className:"image-wrap"},i({className:"image-link",href:this.props.original||this.props.url,onClick:this.props.onClose},r({url:this.props.url}),l({className:"open-original"},"Open original...")))}}),t.exports=o},{"./image":55}],57:[function(e,t,n){var r,o;o=React.DOM,r=React.createFactory(e("./loader_box")),t.exports=React.createClass({getDefaultProps:function(){return{threshold:10}},_loader:function(){return this.props.loader?this.props.loader:this.props.loader!==!1?r:void 0},componentDidMount:function(){return this.maybeLoadMore()},maybeLoadMore:function(){return this.distanceFromBottom()<this.props.threshold?setTimeout(function(e){
return function(){return e.props.loadMore()}}(this),0):void 0},componentDidUpdate:function(){return this.maybeLoadMore()},loader:function(){var e;return(e=this._loader(null))&&this.props.hasMore?e():void 0},distanceFromBottom:function(){var e;return e=React.findDOMNode(this),e.scrollHeight-(e.scrollTop+e.offsetHeight)},render:function(){return o.div({className:this.props.className,id:this.props.id,style:{overflowY:"auto",width:"100%"},onScroll:this.maybeLoadMore},o.div({className:"scroller"},o.div({},this.props.children),o.div({},this.loader())))}})},{"./loader_box":48}],58:[function(e,t,n){var r,o,i,s,a,u,l,c,p,d,h;d=React.DOM,l=d.header,u=d.h3,o=d.a,c=d.i,h=d.span,p=d.input,a=d.form,s=d.div,i=e("classnames"),r=React.createClass({displayName:"SpotlightSearchHeader",getInitialState:function(){return{empty:!0}},shouldComponentUpdate:function(e,t){return this.state.empty!==t.empty},render:function(){var e;return e=i({"new-tab-search-reset":!0,"dark-link":!0,hidden:this.state.empty}),s({id:"spotlight-header"},this.props.isShortKeyUsed?void 0:s({
className:"spotlight-search-header-text"},'"ESC G" launches this faster ...'),l({className:"spotlight-search-header"},a({className:"spotlight-search-search",onSubmit:this.props.onSubmit},p({ref:"input",className:"spotlight-search-input",type:"text",placeholder:"Go to flows and @users of your choice ...",autoFocus:!0,onInput:this.onInput}),o({title:"Clear search",className:e,onClick:this.onReset},c({className:"fa fa-times-circle"})))))},onInput:function(e){return this.setState({empty:!e.target.value.length}),this.props.onInput(e)},onReset:function(e){return React.findDOMNode(this.refs.input).value="",this.setState({empty:!0}),this.props.onReset(e)}}),t.exports=r},{classnames:546}],59:[function(e,t,n){var r,o,i,s,a,u,l,c;l=React.DOM,s=l.div,u=l.p,o=l.a,a=l.i,c=l.span,i=e("classnames"),r=React.createFactory(React.addons.CSSTransitionGroup),t.exports=React.createClass({displayName:"CoachMark",getInitialState:function(){return{visible:!0,success:!1,currentStep:0,markerVisible:!0,tooltipVisible:this.props.tooltipVisible
}},getDefaultProps:function(){return{autoContinue:!1,tooltipVisible:!0,markerVisible:function(){return Bacon.constant(!0)},delay:0,success:null,onSuccess:function(){},onBeforeDone:function(){},onDone:function(){},onStop:function(){},onSkip:function(){},unsubscribers:[],skipPrompt:"Next",stopPrompt:"Not right now."}},componentDidMount:function(){return this.unsubscribers=[],this.unsubscribers.push(this.props.success().onValue(this.onSuccess)),this.unsubscribers.push(this.props.markerVisible().onValue(function(e){return function(t){return e.update({markerVisible:t})}}(this))),this.props.currentStep?this.unsubscribers.push(this.props.currentStep().onValue(function(e){return function(t){return e.update({currentStep:t})}}(this))):void 0},componentWillUnmount:function(){var e,t,n,r;for(n=this.unsubscribers,e=0,t=n.length;t>e;e++)(r=n[e])();return delete this.unsubscribers},render:function(){var e,t,n,a;return a=i({"coach-mark-wrapper":!0,"coach-mark-success":this.state.success}),a+=" coach-mark-step-"+this.state.currentStep,
e=i({"coach-tooltip-content":!0,"in":this.state.success}),t=this.state.success?this.props.task.successStep:this.props.task.steps[this.state.currentStep],n=this.state.success?this.succeed:this.skip,s({key:1,className:a},this.state.markerVisible?s({className:"coach-mark",id:this.props.task.name+"-mark"}):void 0,r({transitionName:"coach-tooltip"},this.state.tooltipVisible?s({key:1,ref:"tooltip",className:"coach-tooltip",id:this.props.task.name+"-tip"},s({className:"coach-tooltip-content-wrapper"},s({className:e},s({className:"coach-tooltip-title"},t.title),s({className:"coach-tooltip-description"},t.description))),this.state.success&&this.props.autoContinue?void 0:s({className:"coach-tooltip-footer"},o({className:"coach-tooltip-next",onClick:n},this.props.skipPrompt),null!=this.props.stopPrompt?o({className:"coach-tooltip-stop",onClick:this.stop},this.props.stopPrompt):void 0)):[]))},stop:function(){return this.props.onSkip(this,this.props.task),this.close(this.props.onStop,this.props.onDone)},succeed:function(){
return this.props.onSuccess(this,this.props.task),this.close()},skip:function(){return this.props.onSkip(this,this.props.task),this.close()},close:function(e,t){return null==e&&(e=this.props.onBeforeDone),null==t&&(t=this.props.onDone),this.setState({tooltipVisible:!1}),this.onAnimation(e,t)},finish:function(){return this.props.onDone(this,this.props.task)},getElement:function(){return $(this.getDOMNode())},onAnimation:function(e,t){var n;return n=this.getElement(),n.one(Helpers.animationend(),function(e){return function(){return t(e,e.props.task)}}(this)),e(this,this.props.task)},onSuccess:function(){var e;return this.props.task.successStep?(e=this.getElement().find(".coach-tooltip-content"),e.addClass("out"),e.one(Helpers.animationend(),function(e){return function(){return e.setState({success:!0}),e.props.autoContinue?(e.props.onSuccess(e,e.props.task),setTimeout(function(){return e.setState({tooltipVisible:!1}),e.onAnimation(e.props.onBeforeDone,e.props.onDone)},3e3)):void 0}}(this))):void 0},update:function(e){
return this.setState(e)},toggleTooltip:function(e){return this.setState({tooltipVisible:e})},positionAtNode:function(e,t){var n,r,o,i;if(null!=e)return n=e.getBoundingClientRect(),i=this.refs.tooltip.getDOMNode(),r=$("#tab-bar").outerWidth(),o=n.right-n.left,i.style.top=n[t]+"px",i.style.left=n.right-r-.5*o+"px"}})},{classnames:546}],60:[function(e,t,n){var r,o,i,s,a,u,l;i=e("react"),l=i.DOM,o=i.createFactory(e("./me")),s=i.createFactory(e("components/scroller")),a=i.createFactory(e("components/view_wrapper")),r=i.createFactory(e("components/loader")),u=e("classnames"),t.exports=i.createClass({getDefaultProps:function(){return{show:20}},getInitialState:function(){return{show:this.props.show,online:this._collection(["active","idle"],0),offline:this._collection(["offline"],0)}},_recap:function(){var e,t;return t=this.state.show>this.state.online.filtered.length?this.state.online.filtered.length:this.state.online,t!==this.state.online.capped.length&&this.state.online.capped.resize(t),e=this.state.show-t,e!==this.state.offline.capped.length?this.state.offline.capped.resize(e):void 0;
},_collection:function(e,t){var n,r,o,i;return null==this._unsubscribe&&(this._unsubscribe=[]),r=new Backbone.Collection,this._unsubscribe.push((i=this.props.users).usersPropertyByState.apply(i,e).onValue(function(e){return r.set(e,{merge:!0})})),o=new BackboneProjections.Filtered(r,{filter:function(e){return e.id!==Flowdock.app.user.id}}),o.on("add remove reset",this._recap,this),n=new BackboneProjections.Capped(o,{cap:t}),n.on("add remove reset",function(){return this.forceUpdate()},this),{filtered:o,capped:n}},_scrapCollections:function(e){var t,n;return n=e.filtered,t=e.capped,t.off(null,null,this),n.off(null,null,this)},componentDidUpdate:function(){return this._recap()},componentWillUnmount:function(){var e,t,n,r;for(this._scrapCollections(this.state.offline),this._scrapCollections(this.state.online),r=this._unsubscribe,t=0,n=r.length;n>t;t++)(e=r[t])();return this._unsubscribe=null},_allOnlineUsersShown:function(){return this.state.online.capped.length===this.state.online.filtered.length},_users:function(){
return l.div({className:"user-list-presence"},l.h4({className:"user-list-title"},"Online"),l.div({className:"online-user-list",key:"online-list"},a({builder:function(e){return function(){return new Views.Shared.UserList({collection:e.state.online.capped})}}(this)})),this._allOnlineUsersShown()?l.div(null,l.h4({className:"user-list-title"},"Offline"),l.div({className:"offline-user-list",key:"offline-list"},a({builder:function(e){return function(){return new Views.Shared.UserList({collection:e.state.offline.capped})}}(this)}))):void 0)},_hasMore:function(){return this.state.online.capped.length+this.state.offline.capped.length<this.state.online.filtered.length+this.state.offline.filtered.length},_loadMore:function(){return this._hasMore()?this.setState({show:this.state.show+10}):void 0},_privacyHelp:function(){return this.props.inviteOnly?"This flow is invite-only. New members have to be added manually.":"This flow is open for anyone in the "+this.props.organization+" organization."},render:function(){return s({
id:"user-list",className:"touch-scrollable",hasMore:this._hasMore(),loadMore:this._loadMore},l.div(null,l.a({className:"close",onClick:this.props.onClose},l.i({className:"fa fa-lg fa-times"})),l.div({className:"clearfix",id:"me"},o({submit:this.props.saveStatus,status:this.props.me.status,flowUser:this.props.me.model,inTeam:this.props.me.inTeam})),l.div({className:u({privacy:!0,"invite-only":this.props.inviteOnly})},this._privacyHelp()),l.h4({className:"user-list-title"},"Invited"),l.div({className:"invited-user-list"},a({builder:function(e){return function(){return new Views.Chat.Invitations({collection:e.props.invitations})}}(this)})),l.a({className:"primary-button",id:"invite-button",title:"Add People",onClick:this.props.onInvite},l.i({className:"fa fa-fw fa-plus"}),"Add people"),this._users()))}})},{"./me":61,classnames:546,"components/loader":47,"components/scroller":57,"components/view_wrapper":66,react:842}],61:[function(e,t,n){var r,o,i;o=e("react"),i=o.DOM,r=o.createFactory(e("components/users/avatar")),
t.exports=o.createClass({onStatusInput:function(e){return this.setState({input:e.target.value})},hasFocus:function(){return this._hasFocus=!0},maybeSubmit:function(e){return this._isBlurring=!1,this._hasFocus&&(null!=this.state.input&&this.state.input!==this.props.status?this.props.submit(this.state.input):this.setState({input:this.props.status}),this._hasFocus=!1,$(e.target).blur()),null},_status:function(){return this._hasFocus?this.state.input:this.props.status},getInitialState:function(){return this._hasFocus=!1,{input:this.props.status}},render:function(){var e,t;return null==(e=this.props.flowUser)?i.div({}):(t=this.props.inTeam?i.span({className:"user-in-team thread-status thread-status-small green",title:"You will be notified of @team mentions"},"team"):void 0,i.div({},r({className:"user-avatar",size:120,model:e,userCard:!1,useCSS:!0}),i.div({className:"user-name"},e.get("nick")+" ("+e.get("name")+")"),i.div({className:"user-status"},i.input({onFocus:this.hasFocus,onKeyDown:function(e){return function(t){
return e._isBlurring=!1,null}}(this),onKeyUp:function(e){return function(t){return 13===t.keyCode?e.maybeSubmit(t):void 0}}(this),onChange:this.onStatusInput,onBlur:function(e){return function(t){return e._isBlurring=!0,setTimeout(function(){return e._isBlurring?e.maybeSubmit(t):e.setState({input:e.props.status})},0)}}(this),value:this._status(null),id:"status-input",placeholder:"Edit status message ...",title:"Click to edit your status message"})),t))}})},{"components/users/avatar":62,react:842}],62:[function(e,t,n){var r,o,i,s;s=React.DOM,i=s.img,o=s.div,r=e("classnames"),t.exports=React.createClass({displayName:"Avatar",propTypes:{size:React.PropTypes.number},getDefaultProps:function(){return{size:72}},componentDidMount:function(){return this.props.model.on("change",function(){return this.isMounted()?this.forceUpdate():void 0},this)},componentWillUnmount:function(){return this.userCardOpen()&&this.userCard.destructor(),this.props.model.off("change",null,this)},userCardOpen:function(){return null!=this.userCard;
},openUserCard:function(){return this.props.userCard===!1||this.userCardOpen()||Flowdock.mobile?void 0:(this.userCard=new Views.Chat.UserCard({model:this.props.model,me:this.props.model.collection.flow.me()}),this.userCard.once("destructor",function(e){return function(){return e.userCard=void 0}}(this)),this.placeUserCard(this.userCard.render({alignTop:!1})))},getPosition:function(){return $(this.getDOMNode()).offset()},placeUserCard:function(e){var t,n,r,o,i,s,a;return t=$(this.getDOMNode()),$("body").append(e.$el.css({visibility:"hidden"})),a=e.$el.width(),i=e.$el.height(),n=t.height(),o=t.width(),r=this.getPosition(),s={top:r.top+n>$(window).height()?r.top-i:r.top+n,left:r.left+a>$(window).width()?r.left+o-a:r.left},e.$el.css({top:s.top+"px",left:s.left+"px",visibility:"visible"})},status:function(){var e;return e=this.props.model.get("status"),e&&e.length>0?e:null},title:function(){return this.status()?this.props.model.get("nick")+': "'+this.status()+'"':this.props.model.get("nick")},render:function(){var e,t,n;
return this.props.useCSS?(n="url("+this.props.model.get("avatar")+this.props.size+")",t={backgroundImage:n}):e=i({className:"user-avatar-image",src:""+this.props.model.avatar(this.props.size)}),o({className:r({"user-avatar":!0,"tipsy-tooltip":!0}),title:this.title(),onClick:this.openUserCard,style:t},e)}})},{classnames:546}],63:[function(e,t,n){var r,o,i,s;i=React.DOM,s=i.ul,o=i.li,r=React.createFactory(e("./avatar")),t.exports=React.createClass({displayName:"AvatarList",propTypes:{size:React.PropTypes.number},getInitialState:function(){return{users:[]}},getDefaultProps:function(){return{size:72}},_endUpdateRequests:function(){var e;return null!=(e=this._end)?e.end():void 0},_updateRequestsFrom:function(e){return this._endUpdateRequests(),this._end=new Bacon.Bus,null!=e?e.takeUntil(this._end.mapEnd(!0)).debounce(300).throttle(1e3).onValue(function(e){return function(t){return e.setState({users:t})}}(this)):void 0},componentWillReceiveProps:function(e){return this._updateRequestsFrom(e.onlineUsers)},componentDidMount:function(){
return this._updateRequestsFrom(this.props.onlineUsers)},componentWillUnmount:function(){return this._endUpdateRequests()},render:function(){var e;return e=this.props.size,s({className:"user-avatar-list"},this.state.users.map(function(t){return o({key:"avatar-user-list-"+t.id},r({key:"avatar-user-"+t.id,model:t,size:e}))}))}})},{"./avatar":62}],64:[function(e,t,n){var r,o;o=React.DOM.span,r=React.createClass({displayName:"UserName",getDefaultProps:function(){return{className:"user-name"}},componentDidMount:function(){return this.props.user.on("change:name",this.update)},componentWillUnmount:function(){return this.props.user.on("change:name",this.update)},render:function(){return o({className:this.props.className},this.props.user.get("name"))},update:function(){return this.forceUpdate()}}),t.exports=r},{}],65:[function(e,t,n){var r,o,i,s,a;s=React.DOM,a=s.svg,o=s.g,i=s.path,r=e("classnames"),t.exports=React.createClass({displayName:"VectorIcon",propTypes:{boxWidth:React.PropTypes.number,boxHeight:React.PropTypes.number
},getDefaultProps:function(){return{boxWidth:128,boxHeight:128}},render:function(){var e;return e={className:r("vector-icon",this.props.className),x:"0px",y:"0px",viewBox:"0 0 "+this.props.boxWidth+" "+this.props.boxHeight,"enable-background":"new 0 0 "+this.props.boxWidth+" "+this.props.boxHeight,"xml:space":"preserve"},a(e,o({},i({className:"vector-icon-path",d:this.props.path})))}})},{classnames:546}],66:[function(e,t,n){var r,o;r=e("react"),o=r.DOM,t.exports=r.createClass({componentDidMount:function(){return this.view=this.props.builder(null),this.view.render(),$(r.findDOMNode(this)).append(this.view.el),this.props.detached?void 0:this.view.triggerAttach(null)},shouldComponentUpdate:function(e){var t,n;return this.props.detached&&!e.detached?null!=(t=this.view)&&t.triggerAttach(null):!this.props.detached&&e.detached&&null!=(n=this.view)&&n.triggerDetach(null),!1},componentWillUnmount:function(){var e;return null!=(e=this.view)?e.destructor():void 0},render:function(){return o.div({})}})},{react:842}],67:[function(e,t,n){
var r;r=e("keykey"),t.exports={EVENT_TYPES:r(["flow_menu_integrations_click","flow_menu_members_click","flow_menu_mute_team_click","flow_menu_settings_click","flow_menu_unmute_team_click","flows_add","flows_close","flows_change","inbox_toggle_off","inbox_toggle_on","input_slash_action_","input_slash_opened","input_slash_option_selected","integration_rally_share","mark_all_read","messages_add_chat","messages_add_comment","messages_add_emoji_reaction","messages_remove_emoji_reaction","messages_reply_chat","messages_send_fail","onboarding_step_complete_","onboarding_step_skip_","organizations_add","private_search_filter_full_text","private_search_filter_tag","private_search_filter_source","rethread_button","rethread_dnd","search_button_click","search_filter_full_text","search_filter_tag","search_filter_source","search_requested","search_complete","search_result_click","sidebar_collapse","sidebar_expand","show_in_chat_click","tag_button_click","tag_tooltip_opened","tag_tooltip_group_settings_clicked","threads_add","user_activity","user_menu_logout_click","user_menu_preferences_click","user_menu_mute_click","user_menu_unmute_click","user_sign_up","spotlight_search_click","spotlight_search_result_click","private_search_button_click"])
}},{keykey:591}],68:[function(e,t,n){var r,o,i;_.extend(Helpers,{autoLink:function(e,t){return Helpers.autoLinkEmails(Helpers.autoLinkUrls(Helpers.autoLinkMentions(Helpers.autoLinkHashtags(e,t),t)),t)},autoLinkEmails:function(e,t){var n,i,s;return n=$("<div>").html(e)[0],s=function(e){return $("<a>").attr({href:"mailto:"+e}).text(e).addClass(t.emailClass||"")[0]},i=r(FlowdockText.extractEmailsWithIndices,s,"email"),o(n,i).innerHTML},autoLinkUrls:function(e,t){var n,i,s;return null==t&&(t={}),n=$("<div>").html(e)[0],s=function(e){var t;return t=/^https?:\/\//.test(e)?"":"http://",$("<a>").attr("href",""+t+e).text(e).addClass("external embeddable")[0]},i=r(FlowdockText.extractUrlsWithIndices,s,"url"),o(n,i,i).innerHTML},autoLinkMentions:function(e,t){var n,r,s,a,u;return null==t&&(t={}),n=$("<div>").html(e)[0],u=(t.users||[]).map(function(e){return"@"+e.nick}),r=function(e){return FlowdockText.extractMentionsWithIndices(e,u.concat(t.everyoneTags))},a=function(e){var n;return _.contains(t.everyoneTags,e.toLowerCase())?$("<a>").attr({
href:""+t.hashtagUrlBase+e,"data-tag-search":e}).text(e).addClass(t.hashtagClass)[0]:(n=_.find(t.users,function(t){return t.nick.toLowerCase()===e.slice(1).toLowerCase()}),$("<a>").attr({"data-user":null!=n?n.id:void 0}).text(""+e).addClass(t.mentionClass)[0])},s=i(r,a),o(n,s).innerHTML},autoLinkHashtags:function(e,t){var n,r,s;return null==t&&(t={}),n=$("<div>").html(e)[0],s=function(e){return $("<a>").attr({href:""+t.hashtagUrlBase+e,title:"#"+e,"data-tag-search":e}).text("#"+e).addClass(t.hashtagClass)[0]},r=i(FlowdockText.extractHashtagsWithIndices,s),o(n,r).innerHTML}}),r=function(e,t,n){return function(r){var o,i,s,a,u,l,c;for(c=r.textContent||r.data,o=e(c),u=o.reverse(),l=[],s=0,a=u.length;a>s;s++)i=u[s],l.push(function(e){var o,i;return i=r.splitText(e.indices[0]),i.splitText(e[n].length),o=t(e[n]),r.parentNode.replaceChild(o,i)}(i));return l}},i=function(e,t){return function(n){var r,o,i,s,a,u,l;for(l=n.textContent||n.data,u=e(l),s=u.reverse(),a=[],o=0,i=s.length;i>o;o++)r=s[o],a.push(function(e){var r,o;
return r=n.splitText(e.indices[0]),r.splitText(e.indices[1]-e.indices[0]),o=t(e.tag),n.parentNode.replaceChild(o,r)}(r));return a}},o=function(e,t,n){var r,i,s;for(null==n&&(n=function(e,t){return e}),i=0;i<e.childNodes.length;)r=e.childNodes[i],3===r.nodeType?t(r):r.hasChildNodes()&&"A"!==(s=r.nodeName)&&("PRE"===r.nodeName?o(r,n,n):o(r,t,n)),i++;return e}},{}],69:[function(e,t,n){var r;r=function(){var e,t,n;return t=Helpers.colors.slice(),e={},n=function(){var e;return e=t.pop(),t.unshift(e),e},function(t,r){return null==r&&(r=!0),null!=e[t]?e[t]:r?e[t]=n():void 0}},Helpers.CommentHelper={flows:{},color:function(e,t){var n,o;return(o=(n=this.flows)[e]||(n[e]=r()))(t)}}},{}],70:[function(e,t,n){var r,o;r=function(e){var t,n,r,o;for(o=e+"=",n=document.cookie.split(";"),r=0;r<n.length;){for(t=n[r];" "===t.charAt(0);)t=t.substring(1,t.length);if(0===t.indexOf(o))return t.substring(o.length,t.length);r++}return null},o=function(e,t,n){var r,o;return n?(r=new Date,r.setTime(r.getTime()+24*n*60*60*1e3),o="; expires="+r.toGMTString()):o="",
document.cookie=e+"="+t+o+"; path=/"},t.exports={getCookie:r,setCookie:o}},{}],71:[function(e,t,n){Helpers.FileHelper={parseAttachment:function(e){var t;return t={file:{type:this.iconType(e.content_type),path:Helpers.apiUrl(this.escapePath(e.path),!0),size:Helpers.format.bytes(e.file_size),name:e.file_name}},e.thumbnail&&(t.image={width:e.image.width,height:e.image.height},t.thumbnail={path:Helpers.apiUrl(this.escapePath(e.thumbnail.path),!0),width:e.thumbnail.width,height:e.thumbnail.height}),e.rotated&&(t.rotated={path:Helpers.apiUrl(this.escapePath(e.rotated.path),!0)}),t},iconType:function(e){var t,n,r,o,i;return o=function(e,t){var n,r;for(n in t)if(r=t[n],-1!==n.split(",").indexOf(e))return r},t={audio:function(){return"audio"},video:function(){return"video"},image:function(){return"image"},text:function(e){return o(e,{html:"html",css:"css",plain:"text"})},application:function(e){return o(e,{pdf:"pdf",msword:"word",powerpoint:"powerpoint","excel,vnd.ms-excel":"excel","shockwave-flash":"flash","octet-stream":"binary",
"zip,x-zip,x-tar,x-gzip,x-stuffit":"zip"})}},n=e.split("/"),i=n[0],r=n[1],("function"==typeof t[i]?t[i](r):void 0)||"document"},escapePath:function(e){var t;return t=_.map(e.split("/"),function(e){return encodeURIComponent(e)}),t.join("/")}}},{}],72:[function(e,t,n){var r,o,i,s=[].slice;o=e("diacritics").remove,i={editSVGIcon:e("../templates/icons/edit.mustache"),emojiReactionSymbolSVGIcon:e("../templates/icons/emoji_reaction_symbol.mustache"),deleteSVGIcon:e("../templates/icons/delete.mustache"),shareSVGIcon:e("../templates/icons/share.mustache"),rethreadSVGIcon:e("../templates/icons/rethread.mustache"),editTagsSVGIcon:e("../templates/icons/edit_tags.mustache"),checkSVGIcon:e("../templates/icons/check.mustache"),paperclipSVGIcon:e("../templates/icons/paperclip.mustache"),slashSVGIcon:e("../templates/icons/slash.mustache"),userSVGIcon:e("../templates/icons/user.mustache")},_.extend(Helpers,{format:{number:function(e,t){var n,r;return null==t&&(t=2),n=function(e){var n,r,o,i;for(i=e.split("."),r=i[0],t=2<=i.length?s.call(i,1):[],
t=function(){var e,r,o;for(o=[],e=0,r=t.length;r>e;e++)n=t[e],o.push("."+n);return o}().join(),o=/(\d+)(\d{3})/;o.test(r);)r=r.replace(o,"$1,$2");return""+r+t},r=Math.pow(10,t),n(String(Math.round(e*r)/r))},pad:function(e,t,n){var r;return null==n&&(n="0"),r=String(e),r.length<t?Helpers.format.pad(n+r,t,n):r},bytes:function(e){return e>=1e3*Math.pow(2,20)?Helpers.format.number(e/Math.pow(2,30))+" GB":e>=1e3*Math.pow(2,10)?Helpers.format.number(e/Math.pow(2,20))+" MB":Helpers.format.number(e/Math.pow(2,10))+" kB"},duration:function(e){var t;return t=Math.floor(e/60),e=Helpers.format.pad(e%60,2),t+":"+e}},animationend:function(){var e;return e={WebkitAnimation:"webkitAnimationEnd",MozAnimation:"animationend",MsAnimation:"MSAnimationEnd",OAnimation:"oAnimationEnd",animation:"animationend"},e[Modernizr.prefixed("animation")]},transitionend:function(){var e;return e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",MsTransition:"MSTransitionEnd",OTransition:"oTransitionEnd",transition:"transitionend"
},e[Modernizr.prefixed("transition")]},animate:function(e,t,n){return e.one(this.animationend(),n),e.addClass(t)},transitionIn:function(e,t,n){return this.transition(e,t,"in",n)},transition:function(e,t,n,r){var o,i,s,a,u;return i=null,u=this.transitionend(),s=[t,"in"].join("-"),a=[t,n,"active"].join("-"),e.addClass(s),_.defer(function(){return e.addClass(a)}),o=function(){return clearTimeout(i),e.removeClass([s,a].join(" ")),"function"==typeof r?r():void 0},i=setTimeout(function(){return e.off(u,o),o()},5e3),e.one(u,o)},unsafeLink:function(e,t){return e=$("<div/>").text(e).html(),'<a class="external" href="'+t+'">'+e+"</a>"},textSelected:function(){var e;return e=window.getSelection?window.getSelection().toString():document.selection?document.selection.createRange().text:void 0,(null!=e?e.length:void 0)>0},urlDecode:function(e){return null==e?null:decodeURIComponent(e.replace(/\+/g," "))},urlEncode:function(e){return null==e?"":encodeURIComponent(e).replace(/#{" "}/g,"+")},capitalize:function(e){return e.split(" ").map(function(e){
return Helpers.capitalizeFirst(e)}).join(" ")},replaceDiacritics:function(e){return o(e.toLowerCase())},capitalizeFirst:function(e){var t;return e||(e=""),""+((null!=(t=e[0])?t.toUpperCase():void 0)||"")+e.slice(1)},buttonConfirm:function(e,t,n){var r,o;return r=e.html(),o=function(i){return _.delay(function(){return e.hasClass("danger-button")?e.one("click",n):void 0},300),e.one("mouseout",function(){return e.removeClass("danger-button").html(r),e.off("click",n),e.one("click",o)}),e.addClass("danger-button").text(t)},e.one("click",o)},selectText:function(e){var t,n;return t=document.createRange(),t.selectNodeContents(e),n=window.getSelection(),n.removeAllRanges(),n.addRange(t)},clickWithin:function(e,t){var n;return n=$(e.target),n.hasClass(t)||n.parents(t).length>0},confirmDelete:function(){return confirm("Do you want to permanently delete this message?\nWhen deleted, no one will be able to see the message anymore.")},addMixin:function(e,t){var n;return n=_.extend({},e.prototype.events),_.extend(e.prototype,t),
e.prototype.events=_.extend(n,t.events)},csrfToken:function(){return $('meta[name="csrf-token"]').attr("content")},renderTemplate:function(e){return function(t,n){return e.render(t,_.assign({},i,n))}},postBrowser:function(e,t,n,r){var o,i,s;null==t&&(t="post"),null==n&&(n=""),null==r&&(r={}),"delete"===t.toLowerCase()&&(t="post",r._method="delete"),o=$("<form />",{action:e,method:t,style:"display: none;",target:n}).append("<input type='hidden' name='authenticity_token' value='"+Helpers.csrfToken()+"'>");for(i in r)s=r[i],o.append($("<input>").attr({type:"hidden",name:i}).val(s));return o.appendTo($("body")).submit()},colors:["#8848BA","#FFCE1C","#008BDD","#433A85","#D02C6B","#17CEA6","#00A651","#55C1FF","#FF6E84"],stringToColor:function(e){return this.colors[Math.abs(r(e)%this.colors.length)]},singleViewTip:function(){return _.sample(['Use <span class="keycode">Shift</span> + <i class="fa fa-arrow-up"></i>/<i class="fa fa-arrow-down"></i> to move between threads.','Hit <span class="keycode">Esc</span> twice to toggle between this thread and the main chat.',"@Mention people to bring this topic to their attention.","Use #tags to make it easier to find this thread later on.","Drag & drop to upload a file.",'Hit <span class="keycode">Esc</span> - S to see a thread and the main chat side by side.']);
},humanizeArray:function(e){var t;return 0===e.length?"":1===e.length?e[0]:(t=e[e.length-1],e.slice(0,e.length-1).join(", ")+(" and "+t))},endsWith:function(e,t){return e.slice(e.length-t.length)===t},openNewWindowAt:function(e){var t;return t=$("<a></a>").attr("target","_blank").attr("rel","noopener noreferrer").attr("href",e).css({display:"none"}).appendTo($("body")),t[0].click(),t.remove()}},r=function(e){var t,n,r,o;for(t=0,n=r=0,o=e.length;o>=0?o>r:r>o;n=o>=0?++r:--r)t=e.charCodeAt(n)+((t<<5)-t);return t})},{"../templates/icons/check.mustache":238,"../templates/icons/delete.mustache":241,"../templates/icons/edit.mustache":242,"../templates/icons/edit_tags.mustache":243,"../templates/icons/emoji_reaction_symbol.mustache":244,"../templates/icons/paperclip.mustache":246,"../templates/icons/rethread.mustache":248,"../templates/icons/share.mustache":249,"../templates/icons/slash.mustache":250,"../templates/icons/user.mustache":251,diacritics:547}],73:[function(e,t,n){var r,o,i;i=e("../lib/syntax_highlight"),o=/(^|\n)((?:[ ]{4}|\t).*\n?)+/g,
r=/(^|\n)(?:[ ]{4}|\t)/g,Helpers.IndentationHelper={indented:function(e){return e.search(r)>=0},pasteRegion:function(e){var t,n,r,o,i,s,a,u,l,c,p,d,h,f,m;return m=e.text,d=e.start,t=e.end,m.slice(d,t).split("\n").length<=1?{text:m,start:d,end:t}:(p=this.dropLeadingWhitespace(m,d,t),m=p.text,d=p.start,t=p.end,l=m.slice(d,t),s=m.match(/(^|\n)```/)?!1:!!l.match(/\n/)&&SourceDetector.detect(l),h=d>0?m.slice(0,+(d-1)+1||9e9).split("\n").slice(-1)[0]:"",(o=h.match(/(^|\n)[\s]{4}$/))&&(d-=o[0].length,s=!0),s&&(c=m.slice(0,d),f=m.slice(t,m.length),n=o&&(a=f[0])&&"\n"!==a,i=l.split("\n"),r=i.map(function(e,t){return t===i.length-1&&0===e.trim().length?e:"    "+e}).join("\n"),u=r[r.length-1],"\n"!==u&&(r+="\n","\n"===f[0]&&(f=f.slice(1,f.length))),h.trim().length>0&&(r="\n"+r),n&&(r+="    "),0!==d&&(c+="\n"),m=c+r+f,t=c.length+r.length),{text:m,start:d,end:t})},dropLeadingWhitespace:function(e,t,n){var r,o,i,s;return s=e.slice(t,n),r=null,o=s.replace(/\t/g,"    ").split("\n"),o.forEach(function(e){var t,n;return(n=e.match(/(^\s*)/))&&(t=e.length===n[1].length,
!t&&(null===r||n[1].length<r.length))?r=n[1]:void 0}),i=r&&r.length>0?o.map(function(e){return e.slice(r.length,e.length)}).join("\n"):o.join("\n"),e=e.slice(0,t)+i+e.slice(n,e.length),{end:n+(i.length-s.length),start:t,text:e}},highlight:function(e){var t;return t=document.createElement("div"),t.innerHTML=e,i.highlightAuto(t.textContent)},formatIndented:function(e){var t;try{return e.replace(o,function(e){var t,n;return e=e.replace(/^\n/,"").replace(r,function(e,t){return"\n"===t?t:""}),t=SourceDetector.detect(e)?(n=Helpers.IndentationHelper.highlight(e),e=n.value," code "+n.language):"",0===$.trim(e).length?"":"<pre class='formatted"+t+"' data-no-text-emoji><code>"+e+"</code></pre>"}).replace(/\n/g,"<br />").replace(/[ ]{2}/g," &nbsp;")}catch(n){return t=n,e}}}},{"../lib/syntax_highlight":130}],74:[function(e,t,n){Helpers.MailHelper={mailtoUrl:function(e,t,n){var r,o,i,s,a,u,l,c,p,d,h,f;return i="%0A> ",h=encodeURIComponent(e.subject),d=moment(n).format("MMMM D, YYYY (LT)")+", ",s="%0A%0AOn "+d+" "+encodeURIComponent((null!=e&&null!=(a=e.from[0])?a.name:void 0)||(null!=(u=e.from[0])?u.address:void 0))+" wrote:"+i,
o=_.isArray(e.content)?e.content[0]:e.content,_.isString(o)?(o=o.replace(/<img /g,"<img src "),r=$("<div />").html(o.replace(/(<br \/>|<br>)/g,"\n")).text(),r=r.replace(/(\r\n|\r|\n|\u0085|\u000C|\u2028|\u2029)/g,i),r=r.replace(new RegExp("^("+i+"\\s*)+"),""),r=r.replace(new RegExp("("+i+"\\s*)+$"),""),r=r.replace(new RegExp("("+i+"\\s*){2,}","g"),i+i),r=encodeURIComponent(r.replace(/\&amp;/g,"&"))):r="",f="reply"===t?(null!=(l=e.replyTo)&&null!=(c=l[0])?c.address:void 0)||(null!=(p=e.from[0])?p.address:void 0):"",h="reply"===t?"Re: "+h:"Fwd: "+h,"mailto:"+f+"?subject="+h+"&body="+s+r.replace(/%250A/g,"%0A")}}},{}],75:[function(e,t,n){var r,o,i=[].indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(t in this&&this[t]===e)return t;return-1};o=e("../lib/markdown"),Helpers.TagHelper={},r=function(e){var t,n,r,o,i,s,a,u;for(n=0,o=e.length;o>n;n++)if(u=e[n],"inline"===u.type)for(s=u.children,r=0,i=s.length;i>r;r++)if(t=s[r],"link_open"===(a=t.type))return!0;return!1},Helpers.TagHelper.parseTags=function(e,t){
var n,s,a,u,l,c,p,d,h,f,m,g,v,b,y;return n=function(e){return e.get("nick")&&e.get("nick").length>0&&0!==e.get("id")&&!e.get("disabled")},s=function(e){return e.get("id")===t.me().get("id")},g=[],h=t.me().toJSON(),b=o.parse(e),f=o.tags(b),d=function(){var e,t,n;for(n=[],e=0,t=f.length;t>e;e++)m=f[e],"#"===m[0]&&n.push(m.slice(1));return n}(),p=function(){var e,t,n;for(n=[],e=0,t=f.length;t>e;e++)m=f[e],"@"===m[0]&&"@"!==m[1]&&n.push(m);return n}(),t.groups?(u=function(){var e,t,n;for(n=[],e=0,t=f.length;t>e;e++)m=f[e],"@@"===m.slice(0,2)&&n.push(m.slice(2).toLowerCase());return n}(),c=t.groups.models.filter(function(e){var t;return t=e.get("handle").toLowerCase(),i.call(u,t)>=0}),l=Object.keys(c.reduce(function(e,t){return e.concat(t.get("members"))},[]).reduce(function(e,t){return e[t.id]=!0,e},{}))):(c=[],l=[]),y=function(e){var t;return t=e.id.toString(),i.call(l,t)>=0},d.forEach(function(e){return _.contains(g,e.toLowerCase())?void 0:g.push(e)}),r(b)&&g.push(":url"),c.length&&c.forEach(function(e){return g.push(Models.Tag.groupTagFor(e.id));
}),a=FlowdockText.mentionsTags(p,Collections.Tags.everyoneTags),a&&g.push(":user:everyone"),v=FlowdockText.mentionsTags(p,Collections.Tags.teamTags),v&&g.push(":user:team"),t.users.filter(n).forEach(function(e){var t,n,r,o,i;return n=FlowdockText.mentionsUser(p,e.nick()),t=y(e),n&&g.push(":user:"+e.id),r=a&&e.get("in_flow"),i=v&&e.get("in_flow")&&e.get("team_notifications"),o=t&&e.get("in_flow"),!s(e)&&(n||r||i||o)?g.push(":unread:"+e.id):void 0}),g.filter(function(e){return"@"!==e[0]})},Helpers.TagHelper.textualize=function(e){return _.compact(e.tags().map(function(e){return e.humanize()})).join(", ")},Helpers.TagHelper.textualizeChange=function(e,t,n){var r,o,i,s;return t||(t=e.previousTags()),o=function(e){return e.filter(function(e){return e.humanize()})},r=o(t.add),s=o(t.remove),i=function(e,t,n){return n.length>0?t+" "+n.map(function(e){return e.humanize()}).join(", "):void 0},r.length>0||s.length>0?_.compact([n.get("nick"),i("add","added",r),i("remove","removed",s)]).join(" "):void 0}},{"../lib/markdown":122
}],76:[function(e,t,n){var r,o,i,s,a;o=function(e){var t,n;return n=moment(e.attr("datetime")),t=r(e,Helpers.TimeHelper.calendarTime(n)),e.text()!==t?e.text(t):void 0},i=function(e){var t,n;return n=moment(e.attr("datetime")),t=r(e,n.format(Helpers.TimeHelper.detailedTimestampOptions(n).textFormat)),e.text()!==t?e.text(t):void 0},s=function(e){var t,n;return n=moment(e.attr("datetime")),t=r(e,n.fromNow()),e.text()!==t?e.text(t):void 0},r=function(e,t){var n,r;return r=e.attr("data-before")||"",n=e.attr("data-after")||"",[r,t,n].join(" ")},a=function(e){var t,n;return n=moment(e.attr("datetime")),t=n.format("LLL"),e.text()!==t?e.text(t):void 0},Helpers.TimeHelper={timestamp:function(e,t){return null==t&&(t={}),function(){return Helpers.TimeHelper.render(e,t)}},detailedTimestamp:function(e,t){return null==t&&(t={}),function(){return t=Helpers.TimeHelper.detailedTimestampOptions(e,t),Helpers.TimeHelper.render(e,t)}},detailedTimestampOptions:function(e,t){return null==t&&(t={}),t.classes||(t.classes="timestamp detailed"),
moment().startOf("day").diff(e)>0?t.textFormat="MMM D, YYYY LT":t.textFormat="LT",t},editTime:function(e,t){return e?Helpers.TimeHelper.detailedTimestamp(e,{classes:t?"detailed message-delete-time":"detailed message-edit-time"}):void 0},calendarTime:function(e,t){var n,r,o,i;return null==t&&(t=!1),i=moment().startOf("day"),n=e.diff(i,"days",!0),o=t?1>n&&n>=0?"at ":"on ":"",r=-364>n?"MMM D, YYYY":-6>n?"MMM D":0>n?"ddd [at] LT":1>n?"LT":"MMM D, YYYY",o+e.format(r)},relativeTime:function(e){return e.fromNow()},render:function(e,t){var n,r,o;return null==t&&(t={}),r={classes:"timestamp",calendar:!1,relative:!1,preposition:!1,textFormat:"LT",datetimeFormat:"YYYY-MM-DDTHH:mm:ss",timestampFormat:"LLL",before:"",after:"",justNowFor:0,justNowText:"a moment ago"},t=_.extend(r,t),moment.isMoment(e)||(e=moment(e)),t.calendar&&(t.classes+=" calendar"),t.relative&&(t.classes+=" relative"),n=$("<time>").attr({datetime:e.format(t.datetimeFormat),title:e.format(t.timestampFormat),"class":t.classes}).text(function(){var n;return n=t.justNowFor>0&&Date.now()-e.valueOf()<t.justNowFor?t.justNowText:t.calendar?Helpers.TimeHelper.calendarTime(e,t.preposition):t.relative?Helpers.TimeHelper.relativeTime(e):e.format(t.textFormat),
[t.before,n,t.after].join(" ")}),t.before.length>0&&n.attr("data-before",t.before),t.after.length>0&&n.attr("data-after",t.after),null!=t.link&&(o=$("<a>").attr(t.link).addClass("timestamp-link"),n=o.append(n)),n[0].outerHTML},updateTimestamps:function(e){return $(e).find("time[is=relative-time]").each(function(){return s($(this))}),$(e).find("time[is=local-time]").each(function(){return a($(this))})},updateAllTimestamps:function(){return $("time.calendar").each(function(){return o($(this))})},updateDetailedTimestamps:function(){return $("time.detailed").each(function(){return i($(this))})},updateRelativeTimestamps:function(){return $("time.relative").each(function(){return s($(this))})},updateGlobalLocale:function(e){return moment.locale(e),$("time[datetime]").each(function(){var e;return e=$(this),e.attr({title:moment(e.attr("datetime")).format("LLL")}),e.is(".calendar")?o(e):e.is(".detailed")?i(e):e.is(".relative")?s(e):a(e)})},userPresence:function(e,t){var n,r,o;return null==t&&(t={}),n=e.presenceModel(),
null==n?"Activity unknown":(o=n.get("updated_at"),r="active"===n.state()?"Online, currently active":"idle"===n.state()?"Online, "+Helpers.TimeHelper.timestamp(new Date(o),{relative:!0,before:"active",justNowFor:3e5})():null!=o?Helpers.TimeHelper.timestamp(new Date(o),{calendar:!0,before:"Offline since",justNowFor:3e5})():"Offline")}}},{}],77:[function(e,t,n){Helpers.setWindowTitle=function(e,t,n){var r;return r="",(t||n)&&(r+="("+(n>0?""+n:"*")+") "),e&&e.get("name")&&(r+=""+e.get("name"),e.get("organization")&&(r+=" ("+e.get("organization").name+")"),r+=" - "),r+="Flowdock",window.document.title=r}},{}],78:[function(e,t,n){Helpers.TwitterHelper={tweetIdFromTweetUrl:function(e){return e.match(/status\/([0-9]+)/)[1]},tweetApiUrl:function(e){return"https://api.twitter.com/1/statuses/show/"+e+".json?callback=?&include_entities=true"},profileImageApiUrl:function(e,t){return null==t&&(t="normal"),"https://api.twitter.com/1/users/profile_image/"+e+"?size="+t},userTimelineApiUrl:function(e,t){return"https://api.twitter.com/1/statuses/user_timeline/"+e+".json"+("?messageCount="+t+"&suppress_response_codes=1&include_rts=true&callback=?");
},searchApiUrl:function(e,t){var n;return n=t?"&"+$.param(t):"","https://search.twitter.com/search.json?q="+e+n+"&callback=?"},intentReplyUrl:function(e){return"https://twitter.com/intent/tweet?in_reply_to="+e},intentRetweetUrl:function(e){return"https://twitter.com/intent/retweet/?tweet_id="+e},intentFavoriteUrl:function(e){return"https://twitter.com/intent/favorite/?tweet_id="+e}}},{}],79:[function(e,t,n){_.extend(Helpers,{absoluteUrlFor:function(e){return window.location.protocol+"//"+window.location.host+Helpers.urlFor(e)},urlFor:function(e){return""+window.Router.root+Helpers.pathFor(e)},pathFor:function(e){switch(null==e&&(e={}),!1){case!e.flow:return this._flowPath(e);case!e["private"]:return this._privatePath(e);case!e.createFlow:return this._createFlowPath(e);case!e.createOrganization:return"create-organization";case!e.showNewTab:return"new-tab";case!e.showSpotSearch:return"quick-finder";case!e.newPrivateDialog:return"new-1-to-1";case!e.renameFlow:return"";default:return""}},_flowPath:function(e){var t,n;
return null==e&&(e={}),n=e.flow.path?e.flow.path():e.flow,n+=e.users?"/users":e.thread?"/threads/"+e.thread:e.message&&("function"==typeof(t=e.message).get?t.get("thread_id"):void 0)?"/threads/"+e.message.get("thread_id"):e.message?"/messages/"+(e.message.id||e.message):e.renameFlow?"/rename":"",n+=e.filter?""+e.filter.queryString(e.flow):""},_privatePath:function(e){var t;return null==e&&(e={}),t=e["private"].id?"private/"+e["private"].id:"private/"+e["private"],t+=e.filter?""+e.filter.queryString(e["private"]):""},_createFlowPath:function(e){return null==e&&(e={}),e.organization?"create-flow/"+e.organization:"create-flow"},assetPath:function(e){return Flowdock.assetHost+("/"===e[0]?e:"/"+e)},apiUrl:function(e){var t;return t=Helpers.url.stripHost(e),0===t.indexOf("/rest")?t:"/rest"+t},url:{stripHost:function(e){var t,n;return t=document.createElement("a"),t.href=e,n=0===t.pathname.indexOf("/")?"":"/",n+t.pathname+t.search+t.hash},parseHostname:function(e){var t;return t=document.createElement("a"),t.href=e,t.hostname;
}},generateQuery:function(e,t){var n,r,o;null==t&&(t={}),t=_.extend({showEmpty:!0},t),r="";for(n in e)o=e[n],r.length>0&&(r+="&"),(t.showEmpty||null!=o&&(null!=o?o.length:void 0)>0)&&(r+=Helpers.urlEncode(n)+"="+Helpers.encodeValue(o));return r.length>0?"?"+r:""},encodeValue:function(e){return Helpers.urlEncode(e).replace(/%40/g,"@").replace(/%2C/g,",")},parseQuery:function(e){var t;return 0===e.length?{}:(t={},"?"===e[0]&&(e=e.slice(1)),_.each(e.split("&"),function(e){var n,r,o;return r=e.split("=",2),n=r[0],o=r[1],null!=n&&null!=o?t[Helpers.urlDecode(n)]=Helpers.urlDecode(o):void 0}),t)}})},{}],80:[function(e,t,n){var r,o,i=[].slice;o=function(e,t,n){return null==n&&(n=_.identity),new Bacon.EventStream(function(r){var o,s;return o=function(){var e,t;return e=1<=arguments.length?i.call(arguments,0):[],t=r(new Bacon.Next(n.apply(null,e))),t===Bacon.noMore?s():void 0},s=function(){return e.off(t,o)},e.on(t,o),s})},r=function(e,t){return null==t&&(t=_.identity),o(this,e,t)},Backbone.Model.prototype.asProperty=function(e){
return e?o(this,"change:"+e).map(this,"get",e).toProperty(this.get(e)):o(this,"change").map(this,"toJSON").toProperty(this.toJSON())},Backbone.Model.prototype.asEventStream=r,Backbone.Collection.prototype.asEventStream=r,Backbone.View.prototype.asEventStream=r,Backbone.Events.asEventStream=r,Backbone.Bacon={asEventStream:r}},{}],81:[function(e,t,n){_.extend(Backbone.Collection.prototype,{isLoadingStream:function(){var e,t,n;return e=this.asEventStream("request",function(e,t){return t}),n=this.asEventStream("sync"),t=function(e){var t;return t=n.filter(function(){return 4===e.readyState}).take(1),Bacon.once(!0).merge(t.map(!1))},e.flatMapLatest(t)}})},{}],82:[function(e,t,n){var r;r={update:"put",destroy:"delete",create:"post",read:"get"},_.extend(Backbone.Model.prototype,{saveWithRetry:function(e,t){var n,r,o;return null==t&&(t={}),o=null!=t.retries?t.retries:3,n={success:function(e,n){return _.isFunction(t.success)?t.success(e,n):void 0},error:function(n,r){return 0>=o?_.isFunction(t.error)?t.error(n,r):void 0:setTimeout(function(){
return n.saveWithRetry(e,_.extend({},t,{retries:o-1}))},1e4)}},r=_.extend({},t),r.retries=void 0,this.save(e,_.extend(r,n))},can:function(e,t,n){var o,i,s;return e=r[e]||e,o=function(n){return function(){var r,o;return!!((null!=(r=n.get("_links"))&&null!=(o=r[t])?o.methods.indexOf(e.toUpperCase()):void 0)>=0)}}(this),null!=n?(n=_.flatten([n]),o()&&0===_.difference(n,null!=(i=this.get("_links"))&&null!=(s=i[t])?s.fields:void 0).length):o()},resourceUrl:function(e){var t,n,r;return r="self"===e?this.get("url")||(_.isFunction(this.url)?this.url():this.url):null!=(t=this.get("_links"))&&null!=(n=t[e])?n.href:void 0,null!=r?Helpers.apiUrl(r):void 0},cleanup:function(){return this.trigger("cleanup"),null!=this._end?this._end=null:void 0},untilEnd:function(e){return this._end||(this._end=this.asEventStream("cleanup").take(1)),e.takeUntil(this._end)}})},{}],83:[function(e,t,n){var r;r=function(e){return _.extend(e,{user:Flowdock.app.user.id})},Flowdock.socketIoSync=function(e,t,n){return"create"===e?Flowdock.app.connection.sendStream.push(r(t.toJSON())):"tag-change"===e?Flowdock.app.connection.sendStream.push(r(_.extend(t.flowKey(),{
event:"tag-change",content:_.extend({message:t.get("id")},n.tagChanges)}))):"emoji-reaction"===e?Flowdock.app.connection.sendStream.push(r(_.extend(t.flowKey(),{event:"emoji-reaction",content:_.extend({message:t.get("id")},n.emojiReaction)}))):Backbone.sync(e,t,n)}},{}],84:[function(e,t,n){Bacon.throttledStream=function(e,t,n){return new Bacon.EventStream(function(r){var o,i,s;return s=!1,i=function(s){var a;return e.removeEventListener(t,i,!1),a=r(new Bacon.Next(s)),a!==Bacon.noMore?setTimeout(o,n):void 0},o=function(){return s?void 0:e.addEventListener(t,i,!1)},o(),function(){return s=!0,e.removeEventListener(t,i,!1)}})}},{}],85:[function(e,t,n){var r;(r=function(e){var t,n;n=e.prototype,t=n.parseFromString;try{if((new e).parseFromString("","text/html"))return}catch(r){}return n.parseFromString=function(e,n){var r;return/^\s*text\/html\s*(?:;|$)/i.test(n)?(r=document.implementation.createHTMLDocument(""),e.toLowerCase().indexOf("<!doctype")>-1?r.documentElement.innerHTML=e:r.body.innerHTML=e,r):t.apply(this,arguments);
}})(window.DOMParser)},{}],86:[function(e,t,n){t.exports={sheetSize:37,groups:{Symbols:["watch","iphone","calling","computer","alarm_clock","hourglass_flowing_sand","hourglass","camera","video_camera","movie_camera","tv","radio","pager","telephone_receiver","phone","fax","minidisc","floppy_disk","cd","dvd","vhs","battery","electric_plug","bulb","flashlight","satellite","credit_card","money_with_wings","moneybag","gem","closed_umbrella","pouch","purse","handbag","briefcase","school_satchel","lipstick","eyeglasses","womans_hat","sandal","high_heel","boot","mans_shoe","athletic_shoe","bikini","dress","kimono","womans_clothes","shirt","necktie","jeans","door","shower","bathtub","toilet","barber","syringe","pill","microscope","telescope","crystal_ball","wrench","hocho","nut_and_bolt","hammer","bomb","smoking","gun","bookmark","newspaper","key","email","envelope_with_arrow","incoming_envelope","e-mail","inbox_tray","outbox_tray","package","postal_horn","postbox","mailbox_closed","mailbox","mailbox_with_mail","mailbox_with_no_mail","page_facing_up","page_with_curl","bookmark_tabs","chart_with_upwards_trend","chart_with_downwards_trend","bar_chart","date","calendar","low_brightness","high_brightness","scroll","clipboard","book","notebook","notebook_with_decorative_cover","ledger","closed_book","green_book","blue_book","orange_book","books","card_index","link","paperclip","pushpin","scissors","triangular_ruler","round_pushpin","straight_ruler","triangular_flag_on_post","file_folder","open_file_folder","black_nib","pencil2","memo","lock_with_ink_pen","closed_lock_with_key","lock","unlock","mega","loudspeaker","speaker","sound","loud_sound","mute","zzz","bell","no_bell","thought_balloon","speech_balloon","children_crossing","mag","mag_right","no_entry_sign","no_entry","name_badge","no_pedestrians","do_not_litter","no_bicycles","non-potable_water","no_mobile_phones","underage","accept","ideograph_advantage","white_flower","secret","congratulations","u5408","u6e80","u7981","u6709","u7121","u7533","u55b6","u6708","u5272","u7a7a","sa","koko","u6307","chart","sparkle","eight_spoked_asterisk","negative_squared_cross_mark","white_check_mark","eight_pointed_black_star","vibration_mode","mobile_phone_off","vs","a","b","ab","cl","o2","sos","id","parking","wc","cool","free","new","ng","ok","up","atm","aries","taurus","gemini","cancer","leo","virgo","libra","scorpius","sagittarius","capricorn","aquarius","pisces","restroom","mens","womens","baby_symbol","wheelchair","potable_water","no_smoking","put_litter_in_its_place","arrow_forward","arrow_backward","arrow_up_small","arrow_down_small","fast_forward","rewind","arrow_double_up","arrow_double_down","arrow_right","arrow_left","arrow_up","arrow_down","arrow_upper_right","arrow_lower_right","arrow_lower_left","arrow_upper_left","arrow_up_down","left_right_arrow","arrows_counterclockwise","arrow_right_hook","leftwards_arrow_with_hook","arrow_heading_up","arrow_heading_down","twisted_rightwards_arrows","repeat","repeat_one","hash","zero","one","two","three","four","five","six","seven","eight","nine","keycap_ten","1234","abc","abcd","capital_abcd","information_source","signal_strength","cinema","symbols","heavy_plus_sign","heavy_minus_sign","wavy_dash","heavy_division_sign","heavy_multiplication_x","heavy_check_mark","arrows_clockwise","tm","currency_exchange","heavy_dollar_sign","curly_loop","loop","part_alternation_mark","exclamation","question","grey_exclamation","grey_question","bangbang","interrobang","x","o","100","end","back","on","top","soon","cyclone","m","ophiuchus","six_pointed_star","beginner","trident","warning","hotsprings","recycle","anger","diamond_shape_with_a_dot_inside","spades","clubs","hearts","diamonds","ballot_box_with_check","white_circle","black_circle","radio_button","red_circle","large_blue_circle","small_red_triangle","small_red_triangle_down","small_orange_diamond","small_blue_diamond","large_orange_diamond","large_blue_diamond","black_small_square","white_small_square","black_large_square","white_large_square","black_medium_square","white_medium_square","black_medium_small_square","white_medium_small_square","black_square_button","white_square_button","clock1","clock2","clock3","clock4","clock5","clock6","clock7","clock8","clock9","clock10","clock11","clock12","clock130","clock230","clock330","clock430","clock530","clock630","clock730","clock830","clock930","clock1030","clock1130","clock1230"],
Nature:["seedling","evergreen_tree","deciduous_tree","palm_tree","cactus","tulip","cherry_blossom","rose","hibiscus","sunflower","blossom","bouquet","ear_of_rice","herb","four_leaf_clover","maple_leaf","fallen_leaf","leaves","mushroom","chestnut","rat","mouse2","mouse","hamster","ox","water_buffalo","cow2","cow","tiger2","leopard","tiger","rabbit2","rabbit","cat2","cat","racehorse","horse","ram","sheep","goat","rooster","chicken","baby_chick","hatching_chick","hatched_chick","bird","penguin","elephant","dromedary_camel","camel","boar","pig2","pig","pig_nose","dog2","poodle","dog","wolf","bear","koala","panda_face","monkey_face","see_no_evil","hear_no_evil","speak_no_evil","monkey","dragon","dragon_face","crocodile","snake","turtle","frog","whale2","whale","dolphin","octopus","fish","tropical_fish","blowfish","shell","snail","bug","ant","bee","beetle","feet","zap","fire","crescent_moon","sunny","partly_sunny","cloud","droplet","sweat_drops","umbrella","dash","snowflake","star2","star","stars","sunrise_over_mountains","sunrise","rainbow","ocean","volcano","milky_way","mount_fuji","japan","globe_with_meridians","earth_africa","earth_americas","earth_asia","new_moon","waxing_crescent_moon","first_quarter_moon","moon","full_moon","waning_gibbous_moon","last_quarter_moon","waning_crescent_moon","new_moon_with_face","full_moon_with_face","first_quarter_moon_with_face","last_quarter_moon_with_face","sun_with_face"],
Foods:["tomato","eggplant","corn","sweet_potato","grapes","melon","watermelon","tangerine","lemon","banana","pineapple","apple","green_apple","pear","peach","cherries","strawberry","hamburger","pizza","meat_on_bone","poultry_leg","rice_cracker","rice_ball","rice","curry","ramen","spaghetti","bread","fries","dango","oden","sushi","fried_shrimp","fish_cake","icecream","shaved_ice","ice_cream","doughnut","cookie","chocolate_bar","candy","lollipop","custard","honey_pot","cake","bento","stew","egg","fork_and_knife","tea","coffee","sake","wine_glass","cocktail","tropical_drink","beer","beers","baby_bottle"],People:["grinning","grin","joy","smiley","smile","sweat_smile","laughing","innocent","smiling_imp","imp","wink","blush","relaxed","yum","relieved","heart_eyes","sunglasses","smirk","neutral_face","expressionless","unamused","sweat","pensive","confused","confounded","kissing","kissing_heart","kissing_smiling_eyes","kissing_closed_eyes","stuck_out_tongue","stuck_out_tongue_winking_eye","stuck_out_tongue_closed_eyes","disappointed","worried","angry","rage","cry","persevere","triumph","disappointed_relieved","frowning","anguished","fearful","weary","sleepy","tired_face","grimacing","sob","open_mouth","hushed","cold_sweat","scream","astonished","flushed","sleeping","dizzy_face","no_mouth","mask","smile_cat","joy_cat","smiley_cat","heart_eyes_cat","smirk_cat","kissing_cat","pouting_cat","crying_cat_face","scream_cat","footprints","bust_in_silhouette","busts_in_silhouette","boy","girl","man","woman","family","couple","two_men_holding_hands","two_women_holding_hands","cop","dancers","bride_with_veil","person_with_blond_hair","man_with_gua_pi_mao","man_with_turban","older_man","older_woman","baby","construction_worker","princess","guardsman","angel","santa","ghost","japanese_ogre","japanese_goblin","hankey","skull","alien","space_invader","bow","information_desk_person","no_good","ok_woman","raising_hand","person_with_pouting_face","person_frowning","massage","haircut","couple_with_heart","couplekiss","nail_care","ear","eyes","nose","lips","kiss","tongue","wave","+1","-1","point_up","point_up_2","point_down","point_left","point_right","ok_hand","v","facepunch","fist","hand","muscle","open_hands","raised_hands","clap","pray"],
Places:["railway_car","mountain_railway","steam_locomotive","train","monorail","bullettrain_side","bullettrain_front","train2","metro","light_rail","station","tram","bus","oncoming_bus","trolleybus","minibus","ambulance","fire_engine","police_car","oncoming_police_car","rotating_light","taxi","oncoming_taxi","car","oncoming_automobile","blue_car","truck","articulated_lorry","tractor","bike","busstop","fuelpump","construction","vertical_traffic_light","traffic_light","rocket","helicopter","airplane","seat","anchor","ship","speedboat","boat","aerial_tramway","mountain_cableway","suspension_railway","passport_control","customs","baggage_claim","left_luggage","yen","euro","pound","dollar","statue_of_liberty","moyai","foggy","tokyo_tower","fountain","european_castle","japanese_castle","city_sunrise","city_sunset","night_with_stars","bridge_at_night","house","house_with_garden","office","department_store","factory","post_office","european_post_office","hospital","bank","hotel","love_hotel","wedding","church","convenience_store","school","flag-cn","flag-fr","flag-de","flag-it","flag-jp","flag-kr","flag-ru","flag-es","flag-gb","flag-us"],
Activity:["runner","walking","dancer","rowboat","swimmer","surfer","bath","snowboarder","ski","snowman","bicyclist","mountain_bicyclist","horse_racing","tent","fishing_pole_and_fish","soccer","basketball","football","baseball","tennis","rugby_football","golf","trophy","running_shirt_with_sash","checkered_flag","musical_keyboard","guitar","violin","saxophone","trumpet","musical_note","notes","musical_score","headphones","microphone","performing_arts","ticket","tophat","circus_tent","clapper","art","dart","8ball","bowling","slot_machine","game_die","video_game","flower_playing_cards","black_joker","mahjong","carousel_horse","ferris_wheel","roller_coaster"],Celebration:["ribbon","gift","birthday","jack_o_lantern","christmas_tree","tanabata_tree","bamboo","rice_scene","fireworks","sparkler","tada","confetti_ball","balloon","dizzy","sparkles","boom","mortar_board","crown","dolls","flags","wind_chime","crossed_flags","izakaya_lantern","ring","heart","broken_heart","love_letter","two_hearts","revolving_hearts","heartbeat","heartpulse","sparkling_heart","cupid","gift_heart","heart_decoration","purple_heart","yellow_heart","green_heart","blue_heart"]
},alternatives:{phone:["telephone"],boat:["sailboat"],email:["envelope"],hand:["raised_hand"],exclamation:["heavy_exclamation_mark"],moon:["waxing_gibbous_moon"],runner:["running"],izakaya_lantern:["lantern"],bee:["honeybee"],dolphin:["flipper"],feet:["paw_prints"],facepunch:["punch"],"+1":["thumbsup"],"-1":["thumbsdown"],shirt:["tshirt"],mans_shoe:["shoe"],boom:["collision"],hankey:["poop","shit"],book:["open_book"],memo:["pencil"],hocho:["knife"],laughing:["satisfied"],car:["red_car"],"flag-cn":["cn"],"flag-de":["de"],"flag-es":["es"],"flag-fr":["fr"],"flag-gb":["gb","uk"],"flag-it":["it"],"flag-jp":["jp"],"flag-kr":["kr"],"flag-ru":["ru"],"flag-us":["us"],shipit:["squirrel"]},codes:{"+1":[["\ud83d\udc4d"],22,7],"-1":[["\ud83d\udc4e"],22,13],100:[["\ud83d\udcaf"],27,3],1234:[["\ud83d\udd22"],29,2],"8ball":[["\ud83c\udfb1"],17,10],a:[["\ud83c\udd70","\ud83c\udd70\ufe0f"],3,3],ab:[["\ud83c\udd8e"],4,3],abc:[["\ud83d\udd24"],29,4],abcd:[["\ud83d\udd21"],29,1],accept:[["\ud83c\ude51"],12,3],aerial_tramway:[["\ud83d\udea1"],32,31],
airplane:[["\u2708","\u2708\ufe0f"],34,34],alarm_clock:[["\u23f0"],34,5],alien:[["\ud83d\udc7d"],25,22],ambulance:[["\ud83d\ude91"],32,15],anchor:[["\u2693","\u2693\ufe0f"],15,34],angel:[["\ud83d\udc7c"],25,21],anger:[["\ud83d\udca2"],12,26],angry:[["\ud83d\ude20"],8,30],anguished:[["\ud83d\ude27"],15,30],ant:[["\ud83d\udc1c"],14,19],apple:[["\ud83c\udf4e"],0,14],aquarius:[["\u2652","\u2652\ufe0f"],6,34],aries:[["\u2648","\u2648\ufe0f"],34,30],arrow_backward:[["\u25c0","\u25c0\ufe0f"],34,12],arrow_double_down:[["\u23ec"],34,4],arrow_double_up:[["\u23eb"],34,3],arrow_down:[["\u2b07","\u2b07\ufe0f"],14,35],arrow_down_small:[["\ud83d\udd3d"],0,29],arrow_forward:[["\u25b6","\u25b6\ufe0f"],34,11],arrow_heading_down:[["\u2935","\u2935\ufe0f"],10,35],arrow_heading_up:[["\u2934","\u2934\ufe0f"],9,35],arrow_left:[["\u2b05","\u2b05\ufe0f"],12,35],arrow_lower_left:[["\u2199","\u2199\ufe0f"],11,33],arrow_lower_right:[["\u2198","\u2198\ufe0f"],10,33],arrow_right:[["\u27a1","\u27a1\ufe0f"],3,35],arrow_right_hook:[["\u21aa","\u21aa\ufe0f"],14,33],
arrow_up:[["\u2b06","\u2b06\ufe0f"],13,35],arrow_up_down:[["\u2195","\u2195\ufe0f"],7,33],arrow_up_small:[["\ud83d\udd3c"],29,28],arrow_upper_left:[["\u2196","\u2196\ufe0f"],8,33],arrow_upper_right:[["\u2197","\u2197\ufe0f"],9,33],arrows_clockwise:[["\ud83d\udd03"],0,28],arrows_counterclockwise:[["\ud83d\udd04"],1,28],art:[["\ud83c\udfa8"],17,1],articulated_lorry:[["\ud83d\ude9b"],32,25],astonished:[["\ud83d\ude32"],26,30],athletic_shoe:[["\ud83d\udc5f"],18,22],atm:[["\ud83c\udfe7"],9,18],b:[["\ud83c\udd71","\ud83c\udd71\ufe0f"],4,0],baby:[["\ud83d\udc76"],25,0],baby_bottle:[["\ud83c\udf7c"],16,0],baby_chick:[["\ud83d\udc24"],20,2],baby_symbol:[["\ud83d\udebc"],33,13],back:[["\ud83d\udd19"],22,28],baggage_claim:[["\ud83d\udec4"],33,26],balloon:[["\ud83c\udf88"],16,14],ballot_box_with_check:[["\u2611","\u2611\ufe0f"],34,20],bamboo:[["\ud83c\udf8d"],3,16],banana:[["\ud83c\udf4c"],14,12],bangbang:[["\u203c","\u203c\ufe0f"],33,28],bank:[["\ud83c\udfe6"],8,18],bar_chart:[["\ud83d\udcca"],3,27],barber:[["\ud83d\udc88"],26,12],
baseball:[["\u26be","\u26be\ufe0f"],21,34],basketball:[["\ud83c\udfc0"],8,17],bath:[["\ud83d\udec0"],33,22],bathtub:[["\ud83d\udec1"],33,23],battery:[["\ud83d\udd0b"],8,28],bear:[["\ud83d\udc3b"],5,20],bee:[["\ud83d\udc1d"],15,19],beer:[["\ud83c\udf7a"],14,15],beers:[["\ud83c\udf7b"],15,15],beetle:[["\ud83d\udc1e"],16,19],beginner:[["\ud83d\udd30"],29,16],bell:[["\ud83d\udd14"],17,28],bento:[["\ud83c\udf71"],5,15],bicyclist:[["\ud83d\udeb4"],28,32],bike:[["\ud83d\udeb2"],21,32],bikini:[["\ud83d\udc59"],12,22],bird:[["\ud83d\udc26"],20,4],birthday:[["\ud83c\udf82"],16,3],black_circle:[["\u26ab","\u26ab\ufe0f"],19,34],black_joker:[["\ud83c\udccf"],2,3],black_large_square:[["\u2b1b","\u2b1b\ufe0f"],15,35],black_medium_small_square:[["\u25fe","\u25fe\ufe0f"],34,16],black_medium_square:[["\u25fc","\u25fc\ufe0f"],34,14],black_nib:[["\u2712","\u2712\ufe0f"],35,20],black_small_square:[["\u25aa","\u25aa\ufe0f"],34,9],black_square_button:[["\ud83d\udd32"],29,18],blossom:[["\ud83c\udf3c"],10,13],blowfish:[["\ud83d\udc21"],19,19],
blue_book:[["\ud83d\udcd8"],17,27],blue_car:[["\ud83d\ude99"],32,23],blue_heart:[["\ud83d\udc99"],3,26],blush:[["\ud83d\ude0a"],30,16],boar:[["\ud83d\udc17"],9,19],boat:[["\u26f5","\u26f5\ufe0f"],29,34],bomb:[["\ud83d\udca3"],13,26],book:[["\ud83d\udcd6"],15,27],bookmark:[["\ud83d\udd16"],19,28],bookmark_tabs:[["\ud83d\udcd1"],10,27],books:[["\ud83d\udcda"],19,27],boom:[["\ud83d\udca5"],15,26],boot:[["\ud83d\udc62"],21,22],bouquet:[["\ud83d\udc90"],26,20],bow:[["\ud83d\ude47"],31,27],bowling:[["\ud83c\udfb3"],17,12],boy:[["\ud83d\udc66"],23,7],bread:[["\ud83c\udf5e"],15,1],bride_with_veil:[["\ud83d\udc70"],24,13],bridge_at_night:[["\ud83c\udf09"],1,12],briefcase:[["\ud83d\udcbc"],27,16],broken_heart:[["\ud83d\udc94"],26,24],bug:[["\ud83d\udc1b"],13,19],bulb:[["\ud83d\udca1"],11,26],bullettrain_front:[["\ud83d\ude85"],32,3],bullettrain_side:[["\ud83d\ude84"],32,2],bus:[["\ud83d\ude8c"],32,10],busstop:[["\ud83d\ude8f"],32,13],bust_in_silhouette:[["\ud83d\udc64"],23,0],busts_in_silhouette:[["\ud83d\udc65"],23,1],
cactus:[["\ud83c\udf35"],4,13],cake:[["\ud83c\udf70"],4,15],calendar:[["\ud83d\udcc6"],27,26],calling:[["\ud83d\udcf2"],28,15],camel:[["\ud83d\udc2b"],20,9],camera:[["\ud83d\udcf7"],28,20],cancer:[["\u264b","\u264b\ufe0f"],34,33],candy:[["\ud83c\udf6c"],0,15],capital_abcd:[["\ud83d\udd20"],29,0],capricorn:[["\u2651","\u2651\ufe0f"],5,34],car:[["\ud83d\ude97"],32,21],card_index:[["\ud83d\udcc7"],0,27],carousel_horse:[["\ud83c\udfa0"],10,16],cat:[["\ud83d\udc31"],20,15],cat2:[["\ud83d\udc08"],19,13],cd:[["\ud83d\udcbf"],27,19],chart:[["\ud83d\udcb9"],27,13],chart_with_downwards_trend:[["\ud83d\udcc9"],2,27],chart_with_upwards_trend:[["\ud83d\udcc8"],1,27],checkered_flag:[["\ud83c\udfc1"],9,17],cherries:[["\ud83c\udf52"],4,14],cherry_blossom:[["\ud83c\udf38"],6,13],chestnut:[["\ud83c\udf30"],13,12],chicken:[["\ud83d\udc14"],6,19],children_crossing:[["\ud83d\udeb8"],33,9],chocolate_bar:[["\ud83c\udf6b"],15,14],christmas_tree:[["\ud83c\udf84"],16,5],church:[["\u26ea","\u26ea\ufe0f"],26,34],cinema:[["\ud83c\udfa6"],16,16],
circus_tent:[["\ud83c\udfaa"],17,3],city_sunrise:[["\ud83c\udf07"],12,11],city_sunset:[["\ud83c\udf06"],12,10],cl:[["\ud83c\udd91"],0,4],clap:[["\ud83d\udc4f"],22,19],clapper:[["\ud83c\udfac"],17,5],clipboard:[["\ud83d\udccb"],4,27],clock1:[["\ud83d\udd50"],1,29],clock10:[["\ud83d\udd59"],10,29],clock1030:[["\ud83d\udd65"],22,29],clock11:[["\ud83d\udd5a"],11,29],clock1130:[["\ud83d\udd66"],23,29],clock12:[["\ud83d\udd5b"],12,29],clock1230:[["\ud83d\udd67"],24,29],clock130:[["\ud83d\udd5c"],13,29],clock2:[["\ud83d\udd51"],2,29],clock230:[["\ud83d\udd5d"],14,29],clock3:[["\ud83d\udd52"],3,29],clock330:[["\ud83d\udd5e"],15,29],clock4:[["\ud83d\udd53"],4,29],clock430:[["\ud83d\udd5f"],16,29],clock5:[["\ud83d\udd54"],5,29],clock530:[["\ud83d\udd60"],17,29],clock6:[["\ud83d\udd55"],6,29],clock630:[["\ud83d\udd61"],18,29],clock7:[["\ud83d\udd56"],7,29],clock730:[["\ud83d\udd62"],19,29],clock8:[["\ud83d\udd57"],8,29],clock830:[["\ud83d\udd63"],20,29],clock9:[["\ud83d\udd58"],9,29],clock930:[["\ud83d\udd64"],21,29],closed_book:[["\ud83d\udcd5"],14,27],
closed_lock_with_key:[["\ud83d\udd10"],13,28],closed_umbrella:[["\ud83c\udf02"],12,6],cloud:[["\u2601","\u2601\ufe0f"],34,18],clubs:[["\u2663","\u2663\ufe0f"],9,34],cocktail:[["\ud83c\udf78"],12,15],coffee:[["\u2615","\u2615\ufe0f"],34,22],cold_sweat:[["\ud83d\ude30"],24,30],computer:[["\ud83d\udcbb"],27,15],confetti_ball:[["\ud83c\udf8a"],0,16],confounded:[["\ud83d\ude16"],30,28],confused:[["\ud83d\ude15"],30,27],congratulations:[["\u3297","\u3297\ufe0f"],33,35],construction:[["\ud83d\udea7"],10,32],construction_worker:[["\ud83d\udc77"],25,6],convenience_store:[["\ud83c\udfea"],12,18],cookie:[["\ud83c\udf6a"],15,13],cool:[["\ud83c\udd92"],1,4],cop:[["\ud83d\udc6e"],24,6],corn:[["\ud83c\udf3d"],11,13],couple:[["\ud83d\udc6b"],22,23],couple_with_heart:[["\ud83d\udc91"],26,21],couplekiss:[["\ud83d\udc8f"],26,19],cow:[["\ud83d\udc2e"],20,12],cow2:[["\ud83d\udc04"],19,9],credit_card:[["\ud83d\udcb3"],27,7],crescent_moon:[["\ud83c\udf19"],13,4],crocodile:[["\ud83d\udc0a"],19,15],crossed_flags:[["\ud83c\udf8c"],2,16],
crown:[["\ud83d\udc51"],4,22],cry:[["\ud83d\ude22"],10,30],crying_cat_face:[["\ud83d\ude3f"],31,8],crystal_ball:[["\ud83d\udd2e"],29,14],cupid:[["\ud83d\udc98"],2,26],curly_loop:[["\u27b0"],4,35],currency_exchange:[["\ud83d\udcb1"],27,5],curry:[["\ud83c\udf5b"],13,14],custard:[["\ud83c\udf6e"],2,15],customs:[["\ud83d\udec3"],33,25],cyclone:[["\ud83c\udf00"],12,4],dancer:[["\ud83d\udc83"],18,25],dancers:[["\ud83d\udc6f"],24,7],dango:[["\ud83c\udf61"],15,4],dart:[["\ud83c\udfaf"],17,8],dash:[["\ud83d\udca8"],18,26],date:[["\ud83d\udcc5"],27,25],deciduous_tree:[["\ud83c\udf33"],2,13],department_store:[["\ud83c\udfec"],14,18],diamond_shape_with_a_dot_inside:[["\ud83d\udca0"],10,26],diamonds:[["\u2666","\u2666\ufe0f"],11,34],disappointed:[["\ud83d\ude1e"],6,30],disappointed_relieved:[["\ud83d\ude25"],13,30],dizzy:[["\ud83d\udcab"],26,26],dizzy_face:[["\ud83d\ude35"],29,30],do_not_litter:[["\ud83d\udeaf"],18,32],dog:[["\ud83d\udc36"],0,20],dog2:[["\ud83d\udc15"],7,19],dollar:[["\ud83d\udcb5"],27,9],dolls:[["\ud83c\udf8e"],4,16],
dolphin:[["\ud83d\udc2c"],20,10],door:[["\ud83d\udeaa"],13,32],doughnut:[["\ud83c\udf69"],15,12],dragon:[["\ud83d\udc09"],19,14],dragon_face:[["\ud83d\udc32"],20,16],dress:[["\ud83d\udc57"],10,22],dromedary_camel:[["\ud83d\udc2a"],20,8],droplet:[["\ud83d\udca7"],17,26],dvd:[["\ud83d\udcc0"],27,20],"e-mail":[["\ud83d\udce7"],28,4],ear:[["\ud83d\udc42"],15,20],ear_of_rice:[["\ud83c\udf3e"],12,13],earth_africa:[["\ud83c\udf0d"],5,12],earth_americas:[["\ud83c\udf0e"],6,12],earth_asia:[["\ud83c\udf0f"],7,12],egg:[["\ud83c\udf73"],7,15],eggplant:[["\ud83c\udf46"],14,6],eight:[["8\u20e3","8\ufe0f\u20e3"],3,0],eight_pointed_black_star:[["\u2734","\u2734\ufe0f"],35,25],eight_spoked_asterisk:[["\u2733","\u2733\ufe0f"],35,24],electric_plug:[["\ud83d\udd0c"],9,28],elephant:[["\ud83d\udc18"],10,19],email:[["\u2709","\u2709\ufe0f"],35,0],end:[["\ud83d\udd1a"],23,28],envelope_with_arrow:[["\ud83d\udce9"],28,6],euro:[["\ud83d\udcb6"],27,10],european_castle:[["\ud83c\udff0"],18,18],european_post_office:[["\ud83c\udfe4"],6,18],
evergreen_tree:[["\ud83c\udf32"],1,13],exclamation:[["\u2757","\u2757\ufe0f"],35,33],expressionless:[["\ud83d\ude11"],30,23],eyeglasses:[["\ud83d\udc53"],6,22],eyes:[["\ud83d\udc40"],9,20],facepunch:[["\ud83d\udc4a"],11,21],factory:[["\ud83c\udfed"],15,18],fallen_leaf:[["\ud83c\udf42"],14,2],family:[["\ud83d\udc6a"],21,23],fast_forward:[["\u23e9"],34,1],fax:[["\ud83d\udce0"],25,27],fearful:[["\ud83d\ude28"],16,30],feet:[["\ud83d\udc3e"],8,20],ferris_wheel:[["\ud83c\udfa1"],11,16],file_folder:[["\ud83d\udcc1"],27,21],fire:[["\ud83d\udd25"],29,5],fire_engine:[["\ud83d\ude92"],32,16],fireworks:[["\ud83c\udf86"],16,12],first_quarter_moon:[["\ud83c\udf13"],11,12],first_quarter_moon_with_face:[["\ud83c\udf1b"],13,6],fish:[["\ud83d\udc1f"],17,19],fish_cake:[["\ud83c\udf65"],15,8],fishing_pole_and_fish:[["\ud83c\udfa3"],13,16],fist:[["\u270a"],35,6],five:[["5\u20e3","5\ufe0f\u20e3"],0,2],"flag-cn":[["\ud83c\udde8\ud83c\uddf3"],2,6],"flag-de":[["\ud83c\udde9\ud83c\uddea"],7,3],"flag-es":[["\ud83c\uddea\ud83c\uddf8"],6,7],
"flag-fr":[["\ud83c\uddeb\ud83c\uddf7"],8,3],"flag-gb":[["\ud83c\uddec\ud83c\udde7"],8,5],"flag-it":[["\ud83c\uddee\ud83c\uddf9"],2,9],"flag-jp":[["\ud83c\uddef\ud83c\uddf5"],5,9],"flag-kr":[["\ud83c\uddf0\ud83c\uddf7"],10,3],"flag-ru":[["\ud83c\uddf7\ud83c\uddfa"],10,10],"flag-us":[["\ud83c\uddfa\ud83c\uddf8"],11,7],flags:[["\ud83c\udf8f"],5,16],flashlight:[["\ud83d\udd26"],29,6],floppy_disk:[["\ud83d\udcbe"],27,18],flower_playing_cards:[["\ud83c\udfb4"],17,13],flushed:[["\ud83d\ude33"],27,30],foggy:[["\ud83c\udf01"],12,5],football:[["\ud83c\udfc8"],18,12],footprints:[["\ud83d\udc63"],22,22],fork_and_knife:[["\ud83c\udf74"],8,15],fountain:[["\u26f2","\u26f2\ufe0f"],27,34],four:[["4\u20e3","4\ufe0f\u20e3"],2,1],four_leaf_clover:[["\ud83c\udf40"],14,0],free:[["\ud83c\udd93"],2,4],fried_shrimp:[["\ud83c\udf64"],15,7],fries:[["\ud83c\udf5f"],15,2],frog:[["\ud83d\udc38"],2,20],frowning:[["\ud83d\ude26"],14,30],fuelpump:[["\u26fd","\u26fd\ufe0f"],31,34],full_moon:[["\ud83c\udf15"],13,0],full_moon_with_face:[["\ud83c\udf1d"],13,8],
game_die:[["\ud83c\udfb2"],17,11],gem:[["\ud83d\udc8e"],26,18],gemini:[["\u264a","\u264a\ufe0f"],34,32],ghost:[["\ud83d\udc7b"],25,15],gift:[["\ud83c\udf81"],16,2],gift_heart:[["\ud83d\udc9d"],7,26],girl:[["\ud83d\udc67"],23,13],globe_with_meridians:[["\ud83c\udf10"],8,12],goat:[["\ud83d\udc10"],2,19],golf:[["\u26f3","\u26f3\ufe0f"],28,34],grapes:[["\ud83c\udf47"],14,7],green_apple:[["\ud83c\udf4f"],1,14],green_book:[["\ud83d\udcd7"],16,27],green_heart:[["\ud83d\udc9a"],4,26],grey_exclamation:[["\u2755"],35,32],grey_question:[["\u2754"],35,31],grimacing:[["\ud83d\ude2c"],20,30],grin:[["\ud83d\ude01"],30,7],grinning:[["\ud83d\ude00"],30,6],guardsman:[["\ud83d\udc82"],12,25],guitar:[["\ud83c\udfb8"],0,17],gun:[["\ud83d\udd2b"],29,11],haircut:[["\ud83d\udc87"],26,11],hamburger:[["\ud83c\udf54"],6,14],hammer:[["\ud83d\udd28"],29,8],hamster:[["\ud83d\udc39"],3,20],hand:[["\u270b"],35,12],handbag:[["\ud83d\udc5c"],15,22],hankey:[["\ud83d\udca9"],19,26],hash:[["#\u20e3","#\ufe0f\u20e3"],1,0],hatched_chick:[["\ud83d\udc25"],20,3],
hatching_chick:[["\ud83d\udc23"],20,1],headphones:[["\ud83c\udfa7"],17,0],hear_no_evil:[["\ud83d\ude49"],31,29],heart:[["\u2764","\u2764\ufe0f"],35,34],heart_decoration:[["\ud83d\udc9f"],9,26],heart_eyes:[["\ud83d\ude0d"],30,19],heart_eyes_cat:[["\ud83d\ude3b"],31,4],heartbeat:[["\ud83d\udc93"],26,23],heartpulse:[["\ud83d\udc97"],1,26],hearts:[["\u2665","\u2665\ufe0f"],10,34],heavy_check_mark:[["\u2714","\u2714\ufe0f"],35,21],heavy_division_sign:[["\u2797"],2,35],heavy_dollar_sign:[["\ud83d\udcb2"],27,6],heavy_minus_sign:[["\u2796"],1,35],heavy_multiplication_x:[["\u2716","\u2716\ufe0f"],35,22],heavy_plus_sign:[["\u2795"],0,35],helicopter:[["\ud83d\ude81"],31,31],herb:[["\ud83c\udf3f"],13,13],hibiscus:[["\ud83c\udf3a"],8,13],high_brightness:[["\ud83d\udd06"],3,28],high_heel:[["\ud83d\udc60"],19,22],hocho:[["\ud83d\udd2a"],29,10],honey_pot:[["\ud83c\udf6f"],3,15],horse:[["\ud83d\udc34"],20,18],horse_racing:[["\ud83c\udfc7"],18,11],hospital:[["\ud83c\udfe5"],7,18],hotel:[["\ud83c\udfe8"],10,18],hotsprings:[["\u2668","\u2668\ufe0f"],12,34],
hourglass:[["\u231b","\u231b\ufe0f"],27,33],hourglass_flowing_sand:[["\u23f3"],34,6],house:[["\ud83c\udfe0"],2,18],house_with_garden:[["\ud83c\udfe1"],3,18],hushed:[["\ud83d\ude2f"],23,30],ice_cream:[["\ud83c\udf68"],15,11],icecream:[["\ud83c\udf66"],15,9],id:[["\ud83c\udd94"],3,4],ideograph_advantage:[["\ud83c\ude50"],12,2],imp:[["\ud83d\udc7f"],25,24],inbox_tray:[["\ud83d\udce5"],28,2],incoming_envelope:[["\ud83d\udce8"],28,5],information_desk_person:[["\ud83d\udc81"],6,25],information_source:[["\u2139","\u2139\ufe0f"],1,33],innocent:[["\ud83d\ude07"],30,13],interrobang:[["\u2049","\u2049\ufe0f"],33,29],iphone:[["\ud83d\udcf1"],28,14],izakaya_lantern:[["\ud83c\udfee"],16,18],jack_o_lantern:[["\ud83c\udf83"],16,4],japan:[["\ud83d\uddfe"],30,4],japanese_castle:[["\ud83c\udfef"],17,18],japanese_goblin:[["\ud83d\udc7a"],25,14],japanese_ogre:[["\ud83d\udc79"],25,13],jeans:[["\ud83d\udc56"],9,22],joy:[["\ud83d\ude02"],30,8],joy_cat:[["\ud83d\ude39"],31,2],key:[["\ud83d\udd11"],14,28],keycap_ten:[["\ud83d\udd1f"],28,28],
kimono:[["\ud83d\udc58"],11,22],kiss:[["\ud83d\udc8b"],26,15],kissing:[["\ud83d\ude17"],30,29],kissing_cat:[["\ud83d\ude3d"],31,6],kissing_closed_eyes:[["\ud83d\ude1a"],2,30],kissing_heart:[["\ud83d\ude18"],0,30],kissing_smiling_eyes:[["\ud83d\ude19"],1,30],koala:[["\ud83d\udc28"],20,6],koko:[["\ud83c\ude01"],1,11],large_blue_circle:[["\ud83d\udd35"],29,21],large_blue_diamond:[["\ud83d\udd37"],29,23],large_orange_diamond:[["\ud83d\udd36"],29,22],last_quarter_moon:[["\ud83c\udf17"],13,2],last_quarter_moon_with_face:[["\ud83c\udf1c"],13,7],laughing:[["\ud83d\ude06"],30,12],leaves:[["\ud83c\udf43"],14,3],ledger:[["\ud83d\udcd2"],11,27],left_luggage:[["\ud83d\udec5"],33,27],left_right_arrow:[["\u2194","\u2194\ufe0f"],6,33],leftwards_arrow_with_hook:[["\u21a9","\u21a9\ufe0f"],13,33],lemon:[["\ud83c\udf4b"],14,11],leo:[["\u264c","\u264c\ufe0f"],0,34],leopard:[["\ud83d\udc06"],19,11],libra:[["\u264e","\u264e\ufe0f"],2,34],light_rail:[["\ud83d\ude88"],32,6],link:[["\ud83d\udd17"],20,28],lips:[["\ud83d\udc44"],21,1],lipstick:[["\ud83d\udc84"],19,25],
lock:[["\ud83d\udd12"],15,28],lock_with_ink_pen:[["\ud83d\udd0f"],12,28],lollipop:[["\ud83c\udf6d"],1,15],loop:[["\u27bf"],5,35],loud_sound:[["\ud83d\udd0a"],7,28],loudspeaker:[["\ud83d\udce2"],27,27],love_hotel:[["\ud83c\udfe9"],11,18],love_letter:[["\ud83d\udc8c"],26,16],low_brightness:[["\ud83d\udd05"],2,28],m:[["\u24c2","\u24c2\ufe0f"],34,8],mag:[["\ud83d\udd0d"],10,28],mag_right:[["\ud83d\udd0e"],11,28],mahjong:[["\ud83c\udc04","\ud83c\udc04\ufe0f"],1,3],mailbox:[["\ud83d\udceb"],28,8],mailbox_closed:[["\ud83d\udcea"],28,7],mailbox_with_mail:[["\ud83d\udcec"],28,9],mailbox_with_no_mail:[["\ud83d\udced"],28,10],man:[["\ud83d\udc68"],7,23],man_with_gua_pi_mao:[["\ud83d\udc72"],1,24],man_with_turban:[["\ud83d\udc73"],7,24],mans_shoe:[["\ud83d\udc5e"],17,22],maple_leaf:[["\ud83c\udf41"],14,1],mask:[["\ud83d\ude37"],31,0],massage:[["\ud83d\udc86"],26,5],meat_on_bone:[["\ud83c\udf56"],8,14],mega:[["\ud83d\udce3"],28,0],melon:[["\ud83c\udf48"],14,8],memo:[["\ud83d\udcdd"],22,27],mens:[["\ud83d\udeb9"],33,10],metro:[["\ud83d\ude87"],32,5],
microphone:[["\ud83c\udfa4"],14,16],microscope:[["\ud83d\udd2c"],29,12],milky_way:[["\ud83c\udf0c"],4,12],minibus:[["\ud83d\ude90"],32,14],minidisc:[["\ud83d\udcbd"],27,17],mobile_phone_off:[["\ud83d\udcf4"],28,17],money_with_wings:[["\ud83d\udcb8"],27,12],moneybag:[["\ud83d\udcb0"],27,4],monkey:[["\ud83d\udc12"],4,19],monkey_face:[["\ud83d\udc35"],20,19],monorail:[["\ud83d\ude9d"],32,27],moon:[["\ud83c\udf14"],12,12],mortar_board:[["\ud83c\udf93"],9,16],mount_fuji:[["\ud83d\uddfb"],30,1],mountain_bicyclist:[["\ud83d\udeb5"],33,1],mountain_cableway:[["\ud83d\udea0"],32,30],mountain_railway:[["\ud83d\ude9e"],32,28],mouse:[["\ud83d\udc2d"],20,11],mouse2:[["\ud83d\udc01"],19,6],movie_camera:[["\ud83c\udfa5"],15,16],moyai:[["\ud83d\uddff"],30,5],muscle:[["\ud83d\udcaa"],25,26],mushroom:[["\ud83c\udf44"],14,4],musical_keyboard:[["\ud83c\udfb9"],1,17],musical_note:[["\ud83c\udfb5"],17,14],musical_score:[["\ud83c\udfbc"],4,17],mute:[["\ud83d\udd07"],4,28],nail_care:[["\ud83d\udc85"],25,25],name_badge:[["\ud83d\udcdb"],20,27],
necktie:[["\ud83d\udc54"],7,22],negative_squared_cross_mark:[["\u274e"],35,29],neutral_face:[["\ud83d\ude10"],30,22],"new":[["\ud83c\udd95"],4,4],new_moon:[["\ud83c\udf11"],9,12],new_moon_with_face:[["\ud83c\udf1a"],13,5],newspaper:[["\ud83d\udcf0"],28,13],ng:[["\ud83c\udd96"],5,0],night_with_stars:[["\ud83c\udf03"],12,7],nine:[["9\u20e3","9\ufe0f\u20e3"],3,1],no_bell:[["\ud83d\udd15"],18,28],no_bicycles:[["\ud83d\udeb3"],22,32],no_entry:[["\u26d4","\u26d4\ufe0f"],25,34],no_entry_sign:[["\ud83d\udeab"],14,32],no_good:[["\ud83d\ude45"],31,15],no_mobile_phones:[["\ud83d\udcf5"],28,18],no_mouth:[["\ud83d\ude36"],30,30],no_pedestrians:[["\ud83d\udeb7"],33,8],no_smoking:[["\ud83d\udead"],16,32],"non-potable_water":[["\ud83d\udeb1"],20,32],nose:[["\ud83d\udc43"],21,0],notebook:[["\ud83d\udcd3"],12,27],notebook_with_decorative_cover:[["\ud83d\udcd4"],13,27],notes:[["\ud83c\udfb6"],17,15],nut_and_bolt:[["\ud83d\udd29"],29,9],o:[["\u2b55","\u2b55\ufe0f"],18,35],o2:[["\ud83c\udd7e","\ud83c\udd7e\ufe0f"],4,1],ocean:[["\ud83c\udf0a"],2,12],
octopus:[["\ud83d\udc19"],11,19],oden:[["\ud83c\udf62"],15,5],office:[["\ud83c\udfe2"],4,18],ok:[["\ud83c\udd97"],5,1],ok_hand:[["\ud83d\udc4c"],22,1],ok_woman:[["\ud83d\ude46"],31,21],older_man:[["\ud83d\udc74"],13,24],older_woman:[["\ud83d\udc75"],19,24],on:[["\ud83d\udd1b"],24,28],oncoming_automobile:[["\ud83d\ude98"],32,22],oncoming_bus:[["\ud83d\ude8d"],32,11],oncoming_police_car:[["\ud83d\ude94"],32,18],oncoming_taxi:[["\ud83d\ude96"],32,20],one:[["1\u20e3","1\ufe0f\u20e3"],0,1],open_file_folder:[["\ud83d\udcc2"],27,22],open_hands:[["\ud83d\udc50"],3,22],open_mouth:[["\ud83d\ude2e"],22,30],ophiuchus:[["\u26ce"],24,34],orange_book:[["\ud83d\udcd9"],18,27],outbox_tray:[["\ud83d\udce4"],28,1],ox:[["\ud83d\udc02"],19,7],"package":[["\ud83d\udce6"],28,3],page_facing_up:[["\ud83d\udcc4"],27,24],page_with_curl:[["\ud83d\udcc3"],27,23],pager:[["\ud83d\udcdf"],24,27],palm_tree:[["\ud83c\udf34"],3,13],panda_face:[["\ud83d\udc3c"],6,20],paperclip:[["\ud83d\udcce"],7,27],parking:[["\ud83c\udd7f","\ud83c\udd7f\ufe0f"],4,2],
part_alternation_mark:[["\u303d","\u303d\ufe0f"],20,35],partly_sunny:[["\u26c5","\u26c5\ufe0f"],23,34],passport_control:[["\ud83d\udec2"],33,24],peach:[["\ud83c\udf51"],3,14],pear:[["\ud83c\udf50"],2,14],pencil2:[["\u270f","\u270f\ufe0f"],35,19],penguin:[["\ud83d\udc27"],20,5],pensive:[["\ud83d\ude14"],30,26],performing_arts:[["\ud83c\udfad"],17,6],persevere:[["\ud83d\ude23"],11,30],person_frowning:[["\ud83d\ude4d"],17,31],person_with_blond_hair:[["\ud83d\udc71"],24,19],person_with_pouting_face:[["\ud83d\ude4e"],23,31],phone:[["\u260e","\u260e\ufe0f"],34,19],pig:[["\ud83d\udc37"],1,20],pig2:[["\ud83d\udc16"],8,19],pig_nose:[["\ud83d\udc3d"],7,20],pill:[["\ud83d\udc8a"],26,14],pineapple:[["\ud83c\udf4d"],14,13],pisces:[["\u2653","\u2653\ufe0f"],7,34],pizza:[["\ud83c\udf55"],7,14],point_down:[["\ud83d\udc47"],21,14],point_left:[["\ud83d\udc48"],21,20],point_right:[["\ud83d\udc49"],5,21],point_up:[["\u261d","\u261d\ufe0f"],34,28],point_up_2:[["\ud83d\udc46"],21,8],police_car:[["\ud83d\ude93"],32,17],poodle:[["\ud83d\udc29"],20,7],
post_office:[["\ud83c\udfe3"],5,18],postal_horn:[["\ud83d\udcef"],28,12],postbox:[["\ud83d\udcee"],28,11],potable_water:[["\ud83d\udeb0"],19,32],pouch:[["\ud83d\udc5d"],16,22],poultry_leg:[["\ud83c\udf57"],9,14],pound:[["\ud83d\udcb7"],27,11],pouting_cat:[["\ud83d\ude3e"],31,7],pray:[["\ud83d\ude4f"],29,31],princess:[["\ud83d\udc78"],25,12],purple_heart:[["\ud83d\udc9c"],6,26],purse:[["\ud83d\udc5b"],14,22],pushpin:[["\ud83d\udccc"],5,27],put_litter_in_its_place:[["\ud83d\udeae"],17,32],question:[["\u2753"],35,30],rabbit:[["\ud83d\udc30"],20,14],rabbit2:[["\ud83d\udc07"],19,12],racehorse:[["\ud83d\udc0e"],0,19],radio:[["\ud83d\udcfb"],28,23],radio_button:[["\ud83d\udd18"],21,28],rage:[["\ud83d\ude21"],9,30],railway_car:[["\ud83d\ude83"],32,1],rainbow:[["\ud83c\udf08"],0,12],raised_hands:[["\ud83d\ude4c"],11,31],raising_hand:[["\ud83d\ude4b"],5,31],ram:[["\ud83d\udc0f"],1,19],ramen:[["\ud83c\udf5c"],14,14],rat:[["\ud83d\udc00"],19,5],recycle:[["\u267b","\u267b\ufe0f"],13,34],red_circle:[["\ud83d\udd34"],29,20],
relaxed:[["\u263a","\u263a\ufe0f"],34,29],relieved:[["\ud83d\ude0c"],30,18],repeat:[["\ud83d\udd01"],28,26],repeat_one:[["\ud83d\udd02"],28,27],restroom:[["\ud83d\udebb"],33,12],revolving_hearts:[["\ud83d\udc9e"],8,26],rewind:[["\u23ea"],34,2],ribbon:[["\ud83c\udf80"],16,1],rice:[["\ud83c\udf5a"],12,14],rice_ball:[["\ud83c\udf59"],11,14],rice_cracker:[["\ud83c\udf58"],10,14],rice_scene:[["\ud83c\udf91"],7,16],ring:[["\ud83d\udc8d"],26,17],rocket:[["\ud83d\ude80"],30,31],roller_coaster:[["\ud83c\udfa2"],12,16],rooster:[["\ud83d\udc13"],5,19],rose:[["\ud83c\udf39"],7,13],rotating_light:[["\ud83d\udea8"],11,32],round_pushpin:[["\ud83d\udccd"],6,27],rowboat:[["\ud83d\udea3"],6,32],rugby_football:[["\ud83c\udfc9"],18,13],runner:[["\ud83c\udfc3"],16,17],running_shirt_with_sash:[["\ud83c\udfbd"],5,17],sa:[["\ud83c\ude02","\ud83c\ude02\ufe0f"],2,11],sagittarius:[["\u2650","\u2650\ufe0f"],4,34],sake:[["\ud83c\udf76"],10,15],sandal:[["\ud83d\udc61"],20,22],santa:[["\ud83c\udf85"],16,11],satellite:[["\ud83d\udce1"],26,27],
saxophone:[["\ud83c\udfb7"],17,16],school:[["\ud83c\udfeb"],13,18],school_satchel:[["\ud83c\udf92"],8,16],scissors:[["\u2702","\u2702\ufe0f"],32,34],scorpius:[["\u264f","\u264f\ufe0f"],3,34],scream:[["\ud83d\ude31"],25,30],scream_cat:[["\ud83d\ude40"],31,9],scroll:[["\ud83d\udcdc"],21,27],seat:[["\ud83d\udcba"],27,14],secret:[["\u3299","\u3299\ufe0f"],34,35],see_no_evil:[["\ud83d\ude48"],31,28],seedling:[["\ud83c\udf31"],0,13],seven:[["7\u20e3","7\ufe0f\u20e3"],2,2],shaved_ice:[["\ud83c\udf67"],15,10],sheep:[["\ud83d\udc11"],3,19],shell:[["\ud83d\udc1a"],12,19],ship:[["\ud83d\udea2"],0,32],shirt:[["\ud83d\udc55"],8,22],shower:[["\ud83d\udebf"],33,16],signal_strength:[["\ud83d\udcf6"],28,19],six:[["6\u20e3","6\ufe0f\u20e3"],1,2],six_pointed_star:[["\ud83d\udd2f"],29,15],ski:[["\ud83c\udfbf"],7,17],skull:[["\ud83d\udc80"],0,25],sleeping:[["\ud83d\ude34"],28,30],sleepy:[["\ud83d\ude2a"],18,30],slot_machine:[["\ud83c\udfb0"],17,9],small_blue_diamond:[["\ud83d\udd39"],29,25],small_orange_diamond:[["\ud83d\udd38"],29,24],
small_red_triangle:[["\ud83d\udd3a"],29,26],small_red_triangle_down:[["\ud83d\udd3b"],29,27],smile:[["\ud83d\ude04"],30,10],smile_cat:[["\ud83d\ude38"],31,1],smiley:[["\ud83d\ude03"],30,9],smiley_cat:[["\ud83d\ude3a"],31,3],smiling_imp:[["\ud83d\ude08"],30,14],smirk:[["\ud83d\ude0f"],30,21],smirk_cat:[["\ud83d\ude3c"],31,5],smoking:[["\ud83d\udeac"],15,32],snail:[["\ud83d\udc0c"],19,17],snake:[["\ud83d\udc0d"],19,18],snowboarder:[["\ud83c\udfc2"],10,17],snowflake:[["\u2744","\u2744\ufe0f"],35,26],snowman:[["\u26c4","\u26c4\ufe0f"],22,34],sob:[["\ud83d\ude2d"],21,30],soccer:[["\u26bd","\u26bd\ufe0f"],20,34],soon:[["\ud83d\udd1c"],25,28],sos:[["\ud83c\udd98"],5,2],sound:[["\ud83d\udd09"],6,28],space_invader:[["\ud83d\udc7e"],25,23],spades:[["\u2660","\u2660\ufe0f"],8,34],spaghetti:[["\ud83c\udf5d"],15,0],sparkle:[["\u2747","\u2747\ufe0f"],35,27],sparkler:[["\ud83c\udf87"],16,13],sparkles:[["\u2728"],35,23],sparkling_heart:[["\ud83d\udc96"],0,26],speak_no_evil:[["\ud83d\ude4a"],31,30],speaker:[["\ud83d\udd08"],5,28],
speech_balloon:[["\ud83d\udcac"],27,0],speedboat:[["\ud83d\udea4"],7,32],star:[["\u2b50","\u2b50\ufe0f"],17,35],star2:[["\ud83c\udf1f"],13,10],stars:[["\ud83c\udf20"],13,11],station:[["\ud83d\ude89"],32,7],statue_of_liberty:[["\ud83d\uddfd"],30,3],steam_locomotive:[["\ud83d\ude82"],32,0],stew:[["\ud83c\udf72"],6,15],straight_ruler:[["\ud83d\udccf"],8,27],strawberry:[["\ud83c\udf53"],5,14],stuck_out_tongue:[["\ud83d\ude1b"],3,30],stuck_out_tongue_closed_eyes:[["\ud83d\ude1d"],5,30],stuck_out_tongue_winking_eye:[["\ud83d\ude1c"],4,30],sun_with_face:[["\ud83c\udf1e"],13,9],sunflower:[["\ud83c\udf3b"],9,13],sunglasses:[["\ud83d\ude0e"],30,20],sunny:[["\u2600","\u2600\ufe0f"],34,17],sunrise:[["\ud83c\udf05"],12,9],sunrise_over_mountains:[["\ud83c\udf04"],12,8],surfer:[["\ud83c\udfc4"],18,4],sushi:[["\ud83c\udf63"],15,6],suspension_railway:[["\ud83d\ude9f"],32,29],sweat:[["\ud83d\ude13"],30,25],sweat_drops:[["\ud83d\udca6"],16,26],sweat_smile:[["\ud83d\ude05"],30,11],sweet_potato:[["\ud83c\udf60"],15,3],swimmer:[["\ud83c\udfca"],1,18],
symbols:[["\ud83d\udd23"],29,3],syringe:[["\ud83d\udc89"],26,13],tada:[["\ud83c\udf89"],16,15],tanabata_tree:[["\ud83c\udf8b"],1,16],tangerine:[["\ud83c\udf4a"],14,10],taurus:[["\u2649","\u2649\ufe0f"],34,31],taxi:[["\ud83d\ude95"],32,19],tea:[["\ud83c\udf75"],9,15],telephone_receiver:[["\ud83d\udcde"],23,27],telescope:[["\ud83d\udd2d"],29,13],tennis:[["\ud83c\udfbe"],6,17],tent:[["\u26fa","\u26fa\ufe0f"],30,34],thought_balloon:[["\ud83d\udcad"],27,1],three:[["3\u20e3","3\ufe0f\u20e3"],2,0],ticket:[["\ud83c\udfab"],17,4],tiger:[["\ud83d\udc2f"],20,13],tiger2:[["\ud83d\udc05"],19,10],tired_face:[["\ud83d\ude2b"],19,30],tm:[["\u2122","\u2122\ufe0f"],33,32],toilet:[["\ud83d\udebd"],33,14],tokyo_tower:[["\ud83d\uddfc"],30,2],tomato:[["\ud83c\udf45"],14,5],tongue:[["\ud83d\udc45"],21,2],top:[["\ud83d\udd1d"],26,28],tophat:[["\ud83c\udfa9"],17,2],tractor:[["\ud83d\ude9c"],32,26],traffic_light:[["\ud83d\udea5"],8,32],train:[["\ud83d\ude8b"],32,9],train2:[["\ud83d\ude86"],32,4],tram:[["\ud83d\ude8a"],32,8],triangular_flag_on_post:[["\ud83d\udea9"],12,32],
triangular_ruler:[["\ud83d\udcd0"],9,27],trident:[["\ud83d\udd31"],29,17],triumph:[["\ud83d\ude24"],12,30],trolleybus:[["\ud83d\ude8e"],32,12],trophy:[["\ud83c\udfc6"],18,5],tropical_drink:[["\ud83c\udf79"],13,15],tropical_fish:[["\ud83d\udc20"],18,19],truck:[["\ud83d\ude9a"],32,24],trumpet:[["\ud83c\udfba"],2,17],tulip:[["\ud83c\udf37"],5,13],turtle:[["\ud83d\udc22"],20,0],tv:[["\ud83d\udcfa"],28,22],twisted_rightwards_arrows:[["\ud83d\udd00"],28,25],two:[["2\u20e3","2\ufe0f\u20e3"],1,1],two_hearts:[["\ud83d\udc95"],26,25],two_men_holding_hands:[["\ud83d\udc6c"],23,23],two_women_holding_hands:[["\ud83d\udc6d"],24,0],u5272:[["\ud83c\ude39"],12,0],u5408:[["\ud83c\ude34"],7,11],u55b6:[["\ud83c\ude3a"],12,1],u6307:[["\ud83c\ude2f","\ud83c\ude2f\ufe0f"],4,11],u6708:[["\ud83c\ude37","\ud83c\ude37\ufe0f"],10,11],u6709:[["\ud83c\ude36"],9,11],u6e80:[["\ud83c\ude35"],8,11],u7121:[["\ud83c\ude1a","\ud83c\ude1a\ufe0f"],3,11],u7533:[["\ud83c\ude38"],11,11],u7981:[["\ud83c\ude32"],5,11],u7a7a:[["\ud83c\ude33"],6,11],umbrella:[["\u2614","\u2614\ufe0f"],34,21],
unamused:[["\ud83d\ude12"],30,24],underage:[["\ud83d\udd1e"],27,28],unlock:[["\ud83d\udd13"],16,28],up:[["\ud83c\udd99"],5,3],v:[["\u270c","\u270c\ufe0f"],35,18],vertical_traffic_light:[["\ud83d\udea6"],9,32],vhs:[["\ud83d\udcfc"],28,24],vibration_mode:[["\ud83d\udcf3"],28,16],video_camera:[["\ud83d\udcf9"],28,21],video_game:[["\ud83c\udfae"],17,7],violin:[["\ud83c\udfbb"],3,17],virgo:[["\u264d","\u264d\ufe0f"],1,34],volcano:[["\ud83c\udf0b"],3,12],vs:[["\ud83c\udd9a"],5,4],walking:[["\ud83d\udeb6"],33,7],waning_crescent_moon:[["\ud83c\udf18"],13,3],waning_gibbous_moon:[["\ud83c\udf16"],13,1],warning:[["\u26a0","\u26a0\ufe0f"],16,34],watch:[["\u231a","\u231a\ufe0f"],26,33],water_buffalo:[["\ud83d\udc03"],19,8],watermelon:[["\ud83c\udf49"],14,9],wave:[["\ud83d\udc4b"],17,21],wavy_dash:[["\u3030","\u3030\ufe0f"],19,35],waxing_crescent_moon:[["\ud83c\udf12"],10,12],wc:[["\ud83d\udebe"],33,15],weary:[["\ud83d\ude29"],17,30],wedding:[["\ud83d\udc92"],26,22],whale:[["\ud83d\udc33"],20,17],whale2:[["\ud83d\udc0b"],19,16],
wheelchair:[["\u267f","\u267f\ufe0f"],14,34],white_check_mark:[["\u2705"],33,34],white_circle:[["\u26aa","\u26aa\ufe0f"],18,34],white_flower:[["\ud83d\udcae"],27,2],white_large_square:[["\u2b1c","\u2b1c\ufe0f"],16,35],white_medium_small_square:[["\u25fd","\u25fd\ufe0f"],34,15],white_medium_square:[["\u25fb","\u25fb\ufe0f"],34,13],white_small_square:[["\u25ab","\u25ab\ufe0f"],34,10],white_square_button:[["\ud83d\udd33"],29,19],wind_chime:[["\ud83c\udf90"],6,16],wine_glass:[["\ud83c\udf77"],11,15],wink:[["\ud83d\ude09"],30,15],wolf:[["\ud83d\udc3a"],4,20],woman:[["\ud83d\udc69"],20,23],womans_clothes:[["\ud83d\udc5a"],13,22],womans_hat:[["\ud83d\udc52"],5,22],womens:[["\ud83d\udeba"],33,11],worried:[["\ud83d\ude1f"],7,30],wrench:[["\ud83d\udd27"],29,7],x:[["\u274c"],35,28],yellow_heart:[["\ud83d\udc9b"],5,26],yen:[["\ud83d\udcb4"],27,8],yum:[["\ud83d\ude0b"],30,17],zap:[["\u26a1","\u26a1\ufe0f"],17,34],zero:[["0\u20e3","0\ufe0f\u20e3"],10,24],zzz:[["\ud83d\udca4"],14,26]},custom:["bowtie","feelsgood","finnadie","fu","goberserk","godmode","hurtrealbad","metal","neckbeard","octocat","rage1","rage2","rage3","rage4","shipit","suspect","trollface"]
}},{}],87:[function(e,t,n){var r,o,i,s,a,u,l,c,p,d;r=e("emojie/emojie"),s=e("./emoji_data"),window.emojie=r(),window.emojimoji=function(e){return e.replace(/:([\w-+]+):/gm,function(e,t){var n;return n=p[t.toLowerCase()],n?_.last(n[0]):":"+t+":"})},window.remojimoji=function(e){var t,n,o,i,s;for(t in p)if(n=p[t])for(i=n[0],o=i.length-1;o>=0;o+=-1)s=i[o],e=e.replace(new RegExp(s,"gm"),function(e){return r.canRender(e)?e:":"+t+":"});return e},p=s.codes,o=function(e,t){var n,r;return n=e.charCodeAt(t),r=e.charCodeAt(t+1),n>=55296&&56319>=n&&r>=56320&&57343>=r?1024*(n-55296)+(r-56320)+65536:n},i=function(e){var t,n,r,i,s;for(n=e.length>2?[o(e,0),o(e,2)]:[o(e,0)],s=[],r=0,i=n.length;i>r;r++)t=n[r],s.push(t.toString(16));return s},d=function(e){return"https://d2ph5hv9wbwvla.cloudfront.net/emoji/2/"+encodeURIComponent(e)+".png"},a=function(e){var t,n,r,o,i;return t=100/(s.sheetSize-1),r=s.codes[e],n=r[0],o=r[1],i=r[2],"background-position: "+(o*t).toFixed(4)+"% "+(i*t).toFixed(4)+"%"},u=r.canRender("1\ufe0f\u20e3")?function(e,t){
return{elementName:"span",content:t,title:":"+e+":","class":"emojie"}}:function(e,t,n){return{elementName:"i",content:"",title:":"+(n||e)+":","class":"emoji",style:a(e)}},l=function(e,t,n){var r;return r=":"+(n||e)+":",window.emojimoji.autocomplete.push(r),Array.isArray(t)?t[0].forEach(function(t){var r;return r=n?":"+n+":":t,window.emojie.register(r||t,u(e,t,n))}):c(e,n)},c=function(e,t){return window.emojie.custom.register(":"+(t||e)+":",{title:":"+(t||e)+":",src:d(e),"class":"emojie"})},window.emojimoji.autocomplete=[],window.emojie.custom=r(),_.each(s.codes,function(e,t){return l(t,e)}),_.each(s.custom,function(e){return l(e)}),_.each(s.alternatives,function(e,t){return e.forEach(function(e){return l(t,s.codes[t],e)})})},{"./emoji_data":86,"emojie/emojie":548}],88:[function(e,t,n){Flowdock.FlowActivities=function(){function e(e){this.peaks=e.peaks,this.markers=e.markers,this.notificationItems=e.notificationItems,this.flows=e.flows,this.privates=e.privates,this.end=new Bacon.Bus,this.flowActivities=Bacon.mergeAll(this.peaks.asEventStream("add change sync remove"),this.markers.asEventStream("add change sync remove"),this.notificationItems.asEventStream("add change sync remove"),this.flows.asEventStream("add remove change"),this.privates.asEventStream("add remove change")).map(this,"_mapActivities").takeUntil(this.end).toProperty(this._mapActivities()),
this.combinedActivity=this.flowActivities.map(this,"_combineActivities").skipDuplicates()}return e.prototype.activityFor=function(e){return this.flowActivities.map(function(t){return _.find(t,function(t){return t.id===e.id})}).filter(function(e){return e}).skipDuplicates()},e.prototype.destructor=function(){var e;return null!=(e=this.end)&&e.end(),this.flowActivities=this.combinedActivity=this.peaks=this.markers=this.notificationItems=this.flows=this.privates=this.end=null},e.prototype._combineActivities=function(e){var t,n,r,o;for(t={chat:!1,inbox:!1,mentions:this.notificationItems.unreadCount()},r=0,o=e.length;o>r;r++)n=e[r],n.chat&&(t.chat=!0),n.inbox&&(t.inbox=!0);return t},e.prototype._mapActivities=function(){var e;return e=this.flows.where({open:!0}).concat(this.privates.where({open:!0})),_.map(e,function(e){return function(t){return{id:t.id,chat:e._getAppActivity(t,"chat"),inbox:e._getAppActivity(t,"inbox"),mentions:e.notificationItems.unreadCount(t)||0}}}(this))},e.prototype._getAppActivity=function(e,t){
var n;return e.isFlow()?this._comparePeaksAndMarkers(null!=(n=this.peaks.get(e.id))?n.get(t):void 0,this.markers.getMarker(e,t)):!1},e.prototype._comparePeaksAndMarkers=function(e,t){return e?t?e>t:!0:!1},e}()},{}],89:[function(e,t,n){var r,o;o=e("models/user_presence"),r=function(){function e(e,t,n,r){this.flows=r,this.connection=t,this.lastFlowActivity={},this.userEvents=e}return e.ACTIVITY_HEARTBEAT_INTERVAL=12e4,e.ACTIVITY_IDLE_TIMEOUT=6e4,e.prototype.start=function(){return this.stop(),this.stopPresence=this.setupPresence()},e.prototype.stop=function(){return"function"==typeof this.stopPresence&&this.stopPresence(),this.stopPresence=null},e.prototype.setupPresence=function(){return this.userEvents.toProperty(o.CONNECTED).flatMapLatest(function(){return Bacon.once(o.CONNECTED).merge(Bacon.later(e.ACTIVITY_IDLE_TIMEOUT,o.IDLE))}).skipDuplicates().onValue(function(e){return function(t){return e.connection.sendStream.push({event:"presence-update",content:{state:t},persist:!1})}}(this))},e}(),t.exports=r},{"models/user_presence":155
}],90:[function(e,t,n){var r;r=window.AudioContext||window.webkitAudioContext,Flowdock.AudioNotifications=function(){function e(e,t,n){this.activeFlow=e,this.user=t,this.stream=this.consume(n)}return e.create=function(e,t,n){return new Flowdock.AudioNotifications(e,t,n).stream},e.prototype.consume=function(e){var t;return t=Models.Message.ignoreByFlow(e,Flowdock.windowFocus.and(this.activeFlow)).filter(function(e){return function(t){return t.user!==e.user.id}}(this)),t.map(function(e){return function(t){var n;return n=new Models.Message(t),e.isMention(n)?"mention":"chat"}}(this))},e.prototype.isMention=function(e){return e.get("to")?Number(e.get("to"))===this.user.id&&_.include(Models.Filter.Chat.prototype.event,e.get("event")):e.highlights(this.user)},e}()},{}],91:[function(e,t,n){var r,o,i,s;s=e("howler"),r=s.Howl,o=s.Howler,i=function(){return o.ctx?(o.ctx.resume(),window.removeEventListener("mousedown",i)):void 0},window.addEventListener("mousedown",i,!0),t.exports=Flowdock.AudioPlayer=function(){function e(e){
this.volumeStream=e,this.sounds={mention:this.sound("mention"),chat:this.sound("chat")},this.unsubscibeVolume=this.volumeStream.onValue(this,"volume")}return e.load=function(e){return new Flowdock.AudioPlayer(e)},e.prototype.volume=function(e){return o.volume(e)},e.prototype.sound=function(e){var t;return(null!=(t=this.sounds)?t[e]:void 0)||new r({src:[Flowdock.audios.ogg[e],Flowdock.audios.mp3[e]]})},e.prototype.play=function(e){return this.muted?void 0:_.defer(function(t){return function(){return t.sound(e).play()}}(this))},e.prototype.unloadSound=function(e){return this.sounds[e]?(this.sounds[e].unload(),this.sounds[e]=null):void 0},e.prototype.mute=function(e){return this.muted=e},e.prototype.unload=function(){var e,t,n,r;for(n=this.sounds,e=0,t=n.length;t>e;e++)r=n[e],this.unloadSound(r);return this.sounds=null},e}()},{howler:588}],92:[function(e,t,n){window.Flowdock=window.Flowdock||{},window.Views={},window.Models={},window.Collections={},window.Cache={},window.Helpers={},window.Mixins={},window.Presenters={};
},{}],93:[function(e,t,n){var r=function(e,t){function n(){this.constructor=e}for(var r in t)o.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},o={}.hasOwnProperty;Flowdock.Collection=function(e){function t(e,n){(null!=n?n.flow:void 0)&&(this.flow=n.flow),this._unsubscribers=[],t.__super__.constructor.apply(this,arguments)}return r(t,e),t.prototype.addStream=function(e){return this._unsubscribers.push(e),e},t.prototype.untilEnd=function(e){return this._end||(this._end=this.asEventStream("cleanup")),e.takeUntil(this._end)},t.prototype.consume=function(e){this.stream=e},t.prototype.unconsume=function(){var e,t,n,r;for(this.trigger("cleanup"),n=this._unsubscribers,e=0,t=n.length;t>e;e++)(r=n[e])();return this._unsubscribers=[],this.stream=null,this},t.prototype.cleanup=function(){return this.stopListening(),this.unconsume(),this.reset(),null!=this.flow&&(this.flow=null),null!=this._end&&(this._end=null),this},t}(Backbone.Collection)},{}],94:[function(e,t,n){var r=function(e,t){
return function(){return e.apply(t,arguments)}};Flowdock.DesktopNotificationCenter=function(){function e(e,t){var n;this.Notification=e,this.throttled=null!=t?t:!0,this.beforeUnload=r(this.beforeUnload,this),this.subscriptions=[],this.notifications=[],n=Flowdock.app.preferences.mute(),this.mutedQueue=[],this.noteBus=new Bacon.Bus,n.diff(!1,function(e,t){return e&&!t}).filter(function(e){return e}).onValue(this,"muteEnded"),this.noteBus.filter(n).onValue(this,"queueNotification"),this.addStream(this.noteBus.filter(n.not()).filter(this,"hasPermission").filter(function(e){return function(){return!e.throttlingRequired()}}(this)).onValue(this,"dispatchNotification")),$(window).on("beforeunload",this.beforeUnload)}return e.prototype.notificationLimit=3,e.prototype.addStream=function(e){return this.subscriptions.push(e)},e.prototype.closingNotification=function(e,t){return null==t&&(t={}),this.noteBus.push({title:e,options:t})},e.prototype.dispatchNotification=function(e){var t,n,r,o,i,s;return n=(null!=(i=e.options)?i.onclick:void 0)||function(){},
o=this.createNotification(e.title,_.omit(e.options,"onclick")),t=function(e){return clearTimeout(s),setTimeout(function(){return o.close()},5e3)},s=setTimeout(function(){return o.close()},3e4),n&&o.addEventListener("click",n),o.addEventListener("show",t),o.addEventListener("close",r=function(e){return function(){return e.notifications=_.reject(e.notifications,function(e){return e===o}),setTimeout(function(){return n&&o.removeEventListener("click",n),o.removeEventListener("show",t),o.removeEventListener("close",r)},0)}}(this)),this.notifications.push(o),o},e.prototype.createNotification=function(e,t){return new this.Notification(e,t)},e.prototype.queueNotification=function(e,t){return this.mutedQueue.push({title:e,options:t})},e.prototype.throttlingRequired=function(){return this.throttled&&this.notifications.length>=this.notificationLimit},e.prototype.hasPermission=function(){return"granted"===this.permissionLevel()},e.prototype.requestPermission=function(e){return null==this.Notification?void(e&&e("denied")):this.Notification.requestPermission(function(t){
return function(){return e(t.permissionLevel())}}(this))},e.prototype.permissionLevel=function(){var e,t;return null!=(null!=(e=this.Notification)?e.permission:void 0)?this.Notification.permission:(null!=(t=this.Notification)?t.permissionLevel:void 0)?this.Notification.permissionLevel():"denied"},e.prototype.muteEnded=function(){var e,t,n,r;if(this.mutedQueue.length<5)for(r=this.mutedQueue,e=0,t=r.length;t>e;e++)n=r[e],this.dispatchNotification(n.title,n.options);else this.dispatchNotification({title:this.mutedQueue.length+" new messages",options:{body:"Sent while you were in Do Not Disturb mode.",onclick:function(){}}});return this.mutedQueue=[]},e.prototype.destructor=function(){var e,t,n,r;for(n=this.subscriptions,e=0,t=n.length;t>e;e++)(r=n[e])();return this.mutedQueue=this.notifications=null,$(window).off("beforeunload",this.beforeUnload)},e.prototype.beforeUnload=function(){return void this.close()},e.prototype.close=function(){var e,t,n,r;for(r=this.notifications,e=0,t=r.length;t>e;e++)n=r[e],n.close();return this.notifications=[];
},e.create=function(e){var t;return t=new Flowdock.DesktopNotificationCenter(NotificationPolyfill.bestAlternative()),$(e).bind("beforeunload",function(){return t.close()}),t},e}()},{}],95:[function(e,t,n){var r,o=function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},i={}.hasOwnProperty;r=function(e){return e.$el.is(".dropdown")?e.$el:e.$(".dropdown")},Flowdock.Dropdown=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return o(t,e),t.CLOSE_DELAY=1e4,t.prototype.events={"click .dropdown-toggle":"toggle",mouseleave:"_closeOnMouseLeave",mouseenter:"_clearDelayedClose"},t.prototype.isOpen=!1,t.prototype.toggle=function(e){return e.stopPropagation(),this.isOpen?this.close(e):($(document).click(),this.open(e))},t.prototype.open=function(e){var t;return this.isOpen?void 0:(t=e?$(e.target).closest(".dropdown"):r(this),t.addClass("open"),$(document).trigger("dropdown-open"),$(document).on("click",{
view:this},this.blur),$(document).on("dropdown-open",{view:this},this.blur),this.trigger("open"),this.isOpen=!0)},t.prototype.blur=function(e){var t,n,r;return r=null!=e&&null!=(t=e.data)?t.view:void 0,n=$(e.target),n.is("a")||!n.closest(".dropdown-menu").length?_.defer(function(){return r.close()}):void 0},t.prototype.close=function(){var e;return this.isOpen?(e=r(this),e.removeClass("open"),$(document).trigger("dropdown-close"),$(document).off("dropdown-open",this.blur),$(document).off("click",this.blur),clearTimeout(this.delayedClose),this.isOpen=!1,this.trigger("close")):void 0},t.prototype._closeOnMouseLeave=function(e){return this.closeOnMouseLeave&&this.isOpen?this.close(e):this.isOpen?this.delayedClose=setTimeout(this.close.bind(this),Flowdock.Dropdown.CLOSE_DELAY):void 0},t.prototype._clearDelayedClose=function(){return clearTimeout(this.delayedClose)},t.prototype.remove=function(){return this.close(),t.__super__.remove.apply(this,arguments)},t}(Backbone.View)},{}],96:[function(e,t,n){var r=function(e,t){
return function(){return e.apply(t,arguments)}};Flowdock.EmojiControl=function(){function e(e){this.preference=e,this.setupEmojiSize=r(this.setupEmojiSize,this),_.extend(this,Backbone.Events)}return e.prototype.start=function(){return this.preference.onValue(this.setupEmojiSize)},e.prototype.element=function(){return $("body")},e.prototype.setupEmojiSize=function(e){return null==e&&(e="0"),this.element().removeClass("emoji-0 emoji-1 emoji-2 emoji-3 emoji-4").addClass("emoji-"+e)},e}()},{}],97:[function(e,t,n){var r,o=function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},i={}.hasOwnProperty;r=function(e,t,n){var r,o,i,s;return o="view:"+e.toLowerCase()+":before",r="view:"+e.toLowerCase()+":after",i="on"+e,s=e.toLowerCase()+"Components",function(){var e,a,u,l;if(this.isMasked(t))return this._pendingTriggers[t]=!0;for(delete this._pendingTriggers[t],n&&delete this._pendingTriggers[n],this.trigger(o),u=this.subviews,
e=0,a=u.length;a>e;e++)l=u[e],_.isFunction(l[t])&&l[t](),l._components.length>0&&this[s].apply(l);return _.isFunction(this[i])&&this[i](),_.defer(function(e){return function(){return e.trigger(r)}}(this))}},Flowdock.HierarchicalView=function(e){function t(e){var n,r,o,i,s;if(this.subviews=[],this._components=[],(null!=e?e.flow:void 0)&&(this.flow=e.flow),t.__super__.constructor.apply(this,arguments),this._pendingTriggers={},null!=this.model&&null!=this.modelEvents){o=this.modelEvents;for(n in o)r=o[n],_.isFunction(this[r])&&this.listenTo(this.model,n,this[r])}if(null!=this.collection&&null!=this.collectionEvents){i=this.collectionEvents;for(n in i)r=i[n],_.isFunction(this[r])&&this.listenTo(this.collection,n,this[r])}if(null!=this.flow&&null!=this.flowEvents){s=this.flowEvents;for(n in s)r=s[n],_.isFunction(this[r])&&this.listenTo(this.flow,n,this[r])}}return o(t,e),t.prototype.modelEvents=void 0,t.prototype.collectionEvents=void 0,t.prototype.flowEvents=void 0,t.prototype.addStream=function(e){return this._unsubscribers||(this._unsubscribers=[]),
this._unsubscribers.push(e),e},t.prototype.untilEnd=function(e){return this._end||(this._end=this.asEventStream("destructor")),e.takeUntil(this._end)},t.prototype.subview=function(e){if(!(e instanceof Flowdock.HierarchicalView))throw console.error("View is not an instance of HierarchicalView",e),new Error("View is not an instance of HierarchicalView");return this.subviews.indexOf(e)>=0||this.subviews.push(e),e},t.prototype.render=function(){return this.destroyComponents(),t.__super__.render.apply(this,arguments)},t.prototype.destroyComponent=function(e){var t;return React.unmountComponentAtNode(e),t=this._components.indexOf(e),t>-1?this._components.splice(t,1):void 0},t.prototype.destroyComponents=function(){var e,t,n,r;for(r=this._components,t=0,n=r.length;n>t;t++)e=r[t],this.destroyComponent(e.el);return this._components=[]},t.prototype._findComponentByDOMElement=function(e){return _.where(this._components,{el:e})[0]},t.prototype.component=function(e,t){var n,r;return r=React.render(t,e),(n=this._findComponentByDOMElement(e))?n.instance=r:this._components.push({
el:e,instance:r}),r},t.prototype.removeSubview=function(e,t){var n,r,o,i,s,a;for(null==t&&(t={}),s=this.findSubviews(e),n=0,o=s.length;o>n;n++)a=s[n],t.destroy!==!1&&a.destructor(t),this.stopListening(a),r=this.subviews.indexOf(a),r>-1&&([].splice.apply(this.subviews,[r,r-r+1].concat(i=[])),i);return s},t.prototype.findSubviews=function(e){var t,n,r,o,i,s;if(null==e)return[];if(this.subviews.indexOf(e)>=0)return[e];for(r=this.subviews,i=[],t=0,n=r.length;n>t;t++)s=r[t],(s.model===e||null!=e.id&&e.id===(null!=(o=s.model)?o.id:void 0))&&i.push(s);return i},t.prototype.destructor=function(e){var t,n,r,o,i,s,a,u;for(null==e&&(e={}),i=this.subviews.slice(0),t=0,r=i.length;r>t;t++)u=i[t],this.removeSubview(u,{removeDomElement:!1});if(this.subviews=[],this.destroyComponents(),this.trigger("destructor",e),null!=this._unsubscribers){for(s=this._unsubscribers,n=0,o=s.length;o>n;n++)(a=s[n])();this._unsubscribers=null}return this.undelegateEvents(),e.removeDomElement===!1?this.stopListening():this.remove(),this.flow&&(this.flow=null),
this.model&&(this.model=null),this.collection&&(this.collection=null),this._end?this._end=null:void 0},t.prototype.attachedProperty=function(e,t){return null==e&&(e="before"),null==t&&(t="before"),this.untilEnd(Bacon.mergeAll(this.asEventStream("view:attach:"+e).map(!0),this.asEventStream("view:detach:"+t).map(!1))).skipDuplicates().toProperty(this.isAttached())},t.prototype.whenAttached=function(e){return this.isAttached()?e.call(this):this.listenToOnce(this,"view:attach:after",e)},t.prototype.isAttached=function(){return jQuery.contains(document,this.el)},t.prototype.triggerAttach=r("Attach","triggerAttach","triggerDetach"),t.prototype.triggerDetach=r("Detach","triggerDetach","triggerAttach"),t.prototype.unmaskTrigger=function(e){return this._preventTriggering&&delete this._preventTriggering[e],this._pendingTriggers[e]&&(delete this._pendingTriggers[e],this[e]()),this},t.prototype.maskTrigger=function(e){return this._preventTriggering||(this._preventTriggering={}),this._preventTriggering[e]=!0,this},t.prototype.isMasked=function(e){
return!!(this._preventTriggering||{})[e]},t.prototype.detach=function(){return this._detached?this:(this._detached=!0,this._attached=!1,this.triggerDetach(),this.$el.detach(),this.maskTrigger("triggerAttach"))},t.prototype.attach=function(e){return null==e&&(e=!1),this._attached?this:(this._attached=!0,this._detached=!1,e&&this.triggerAttach(),this.unmaskTrigger("triggerAttach"))},t.prototype.attachComponents=function(){var e,t,n,r,o,i;for(o=this._components,i=[],n=0,r=o.length;r>n;n++)t=o[n],i.push("function"==typeof(e=t.instance).componentDidAttach?e.componentDidAttach():void 0);return i},t.prototype.detachComponents=function(){var e,t,n,r,o,i;for(o=this._components,i=[],n=0,r=o.length;r>n;n++)t=o[n],i.push("function"==typeof(e=t.instance).componentWillDetach?e.componentWillDetach():void 0);return i},t}(Backbone.View)},{}],98:[function(e,t,n){var r,o=function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e;
},i={}.hasOwnProperty;r=e("tether"),Flowdock.ItemView=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return o(t,e),t.prototype.triggerMethod=Flowdock.triggerMethod,t.prototype.addTether=function(e,t){var n;return null==t&&(t={}),n={addTargetClasses:!1,attachment:"bottom right",constraints:[{attachment:"together",pin:!0,to:"window"}],offset:"0 30px",element:this.$el,optimizations:{gpu:!1},outOfBoundsClass:"out-of-bounds",target:e,targetAttachment:"top right",targetModifier:"visible"},this.tether=new r(_.assign(n,t))},t.prototype.render=function(){var e;return t.__super__.render.apply(this,arguments),(e=_.result(this,"template"))?(this.triggerMethod("before:render"),this.$el.html(Helpers.renderTemplate(e)(this.serializeData(),_.result(this,"partials"))),this.triggerMethod("after:render"),this):console.error("Template is not defined","TemplateNotFoundError")},t.prototype.serializeData=function(){return{}},t}(Flowdock.HierarchicalView)},{tether:889}],99:[function(e,t,n){Flowdock.KeyboardEvents={
bindKeyboardEvents:function(){return null!=this.keyboardEvents?this.listenTo(this,"view:attach:before",function(){var e;return e=null!=this.keyboardEventFilter?Flowdock.app.shortcutStream.filter(this.keyboardEventFilter):Flowdock.app.shortcutStream,null!=e?e.takeUntil(this.asEventStream("view:detach:before destructor")).filter(function(e){return function(t){return null!=e.keyboardEvents[t.action]}}(this)).onValue(function(e){return function(t){var n;return n=e.keyboardEvents[t.action],_.isFunction(n)||(n=e[e.keyboardEvents[t.action]]),null!=n?n.call(e,t):void 0}}(this)):void 0}):void 0}}},{}],100:[function(e,t,n){var r,o;Flowdock.shortcutMap={web:{esc:function(){return document.activeElement.blur()},"esc w":"closeTab","esc u":"toggleUserList","esc comma":"openPreferences","esc numeric":"navigateToNthTab","esc d":"quickMute","esc up":"previousTab","esc down":"nextTab","esc n":"newTab","esc t":"newTab","esc f":"focusSearch","esc i":"focusChat","esc a":"unreadTab","esc s":"switchSingleViewSide","cmd+enter":"submitForm",
"ctrl+enter":"submitForm","esc g":"toggleSpotlight",backspace:"goBack",tab:function(){var e;if(null!=window.lastFocusedInput)return e=window.lastFocusedInput.replace(/^[A-z]{1}/,function(e){return e.toUpperCase()}),"returnFocusTo"+e}},alwaysAvailable:{"?":"openHelp"},macGap:{"cmd+numeric":"navigateToNthTab","ctrl+tab":"nextTab","ctrl+shift+tab":"previousTab","cmd+shift+bracketLeft":"nextTab","cmd+shift+bracketRight":"previousTab"},winApp:{"ctrl+numeric":"navigateToNthTab","ctrl+tab":"nextTab","ctrl+shift+tab":"previousTab","ctrl+f":"focusSearch","ctrl+n":"newTab","ctrl+t":"newTab","ctrl+plus":null!=(r=window.windowsApp)?r.zoomIn:void 0,"ctrl+minus":null!=(o=window.windowsApp)?o.zoomOut:void 0}},Flowdock.KeyboardShortcuts=function(){function e(e,t){this.keydowns=e,this.shortcuts=t}return e.build=function(e){return new this(keydownsNotInInput,e)},e.bind=function(t,n,r){var o,i;return null==r&&(r=[]),i=0===r.length?t.filter(KeyEvent.is(n[0])):(o=Bacon.later(1e3,!0),t.take(1).filter(KeyEvent.is(n[0])).takeUntil(o)),
i.flatMap(function(o){return 1===n.length?Bacon.once(o):e.bind(t,n.slice(1),r.concat(o)).take(1)})},e._isNotInput=function(e){var t;return t=e.target||e.srcElement,!("INPUT"===t.tagName||"SELECT"===t.tagName||"TEXTAREA"===t.tagName||t.contentEditable&&("true"===t.contentEditable||"plaintext-only"===t.contentEditable))},e.keyStream=function(){return Bacon.mergeAll([$(document).asEventStream("keydown").filter(function(e){return!(e.altKey||e.shiftKey||27===e.which)}),$(document).asEventStream("keydown").filter(function(e){return 27===e.which}).doAction(".preventDefault"),$(document).asEventStream("keypress").filter(function(e){return e.altKey||e.shiftKey})])},e.keyUpStream=function(){return Bacon.mergeAll([$(document).asEventStream("keyup").filter(function(e){return!(e.altKey||e.shiftKey||27===e.which)}),$(document).asEventStream("keyup").filter(function(e){return 27===e.which}).doAction(".preventDefault")])},e.prototype.when=function(t){var n;return n=t.flatMapLatest(function(e){return function(t){return t?e.keydowns:Bacon.never();
}}(this)),new e(n,this.shortcuts)},e.prototype.toStream=function(t){var n,r,o,i;return null==t&&(t=Bacon.constant(!0)),r=this.keydowns.filter(function(e){return 27===e.which||Flowdock.KeyboardShortcuts._isNotInput(e)}),r=r.merge(t.flatMapLatest(function(e){return function(t){return t?e.keydowns.filter(function(e){return KeyEvent.modifierDown(e)}):Bacon.never()}}(this))),i=function(){var t,i;t=this.shortcuts,i=[];for(o in t)n=t[o],i.push(function(t){return function(n){return e.bind(r,o.split(" ")).map(function(e){var r;return r=_.isFunction(n)?n.call(t,e):n,new $.Event(e,{action:r})})}}(this)(n));return i}.call(this),Bacon.mergeAll(i).throttle(50)},e}(),Flowdock.KeyboardShortcuts.toggleSingleViewStream=function(){var e,t,n;return t=Flowdock.KeyboardShortcuts.keyUpStream(),n=t.filter(KeyEvent.not("esc")),e=t.filter(KeyEvent.is("esc")),e.flatMapLatest(function(){return Bacon.later(1e3).merge(n).map("reset").take(1).merge(Bacon.once("esc"))}).scan("reset",function(e,t){return"esc"===e&&"esc"===t?"double-esc":t}).filter(function(e){
return"double-esc"===e}).map(function(e){return new $.Event("keydown",{action:"toggleSingleView"})}).toEventStream()},Flowdock.KeyboardShortcuts.forMacGap=function(){return Bacon.mergeAll([new Flowdock.KeyboardShortcuts($(document).asEventStream("keydown"),Flowdock.shortcutMap.macGap).toStream(),$(document).asEventStream("macgapNextTab").map(function(e){return e.action="nextTab",e}),$(document).asEventStream("macgapPreviousTab").map(function(e){return e.action="previousTab",e}),$(document).asEventStream("macgapActiveTab").map(function(e){return e.action="activeTab",e}),$(document).asEventStream("macgapNextThread").map(function(e){return e.action="nextThread",e}),$(document).asEventStream("macgapPreviousThread").map(function(e){return e.action="previousThread",e}),$(document).asEventStream("macgapOpenTab").map(function(e){return e.action="newTab",e}),$(document).asEventStream("macgapCloseTab").map(function(e){return e.action="closeTab",e}),$(document).asEventStream("macgapOpenKeyboardHelp").map(function(e){return e.action="openHelp",
e}),$(document).asEventStream("macgapOpenChatCommandHelp").map(function(e){return e.action="openChatCommandHelp",e}),$(window).asEventStream("macgapWantsToGoToPreferences").map(function(e){return e.action="openPreferences",e})])},Flowdock.KeyboardShortcuts.forWinApp=function(){var e;return e=new Bacon.Bus,window.windowsApp.onShortcut=function(t){return e.push(t)},e.merge(new Flowdock.KeyboardShortcuts($(document).asEventStream("keydown"),Flowdock.shortcutMap.winApp).toStream())}},{}],101:[function(e,t,n){Flowdock.LastReadMarker=function(){function t(e){var t;this.name=e.name,this.listDirection=e.listDirection,this.jumpIndicator=e.jumpIndicator,this.jumpToMessage=e.jumpToMessage,t=e.messageList,this.end=new Bacon.Bus,this.setupMessageList(t),this.endJumpToListeners=new Bacon.Bus,this.overrideAttachReset=!1}return t.prototype.cleanup=function(){return this.end.push(Bacon.Next()),this.endJumpToListeners.push(Bacon.Next()),this.messageList=this.jumpIndicator=this.jumpToMessage=this.end=this.endJumpToListeners=null;
},t.prototype.setupMessageList=function(e){var t,n,r;return null!=(n=this.messageList)&&n.trigger("remove-last-read-listener"),this.messageList=e,t=this.messageList.asEventStream("view:attach:before").doAction(function(e){return function(){return e.setLastReadMessageIdOnAttach()}}(this)),r=Bacon.mergeAll([t,this.messageList.asEventStream("renderMessages"),this.messageList.collection.asEventStream("messagesAdded")]).filter(function(e){return function(){return e.messageList.collection.length>0}}(this)).map(function(e){return function(){return e.lastReadMessageIdOnAttach}}(this)).filter(function(e){return e}).filter(function(e){return function(){return!("inbox"===e.name&&"{}"!==e.messageList.viewModel.get("filter"))}}(this)).takeUntil(this.end),r.filter(function(e){return function(t){return!e._messageIdInHistory(t)}}(this)).onValue(this,"setLastReadMessageIndicator"),r.filter(function(e){return function(t){return e._messageIdInHistory(t)}}(this)).onValue(this,"buildJumpToMarkerIndicator")},t.prototype.setLastReadMessageIdOnAttach=function(){
return this.overrideAttachReset?this.overrideAttachReset=!1:this.lastReadMessageIdOnAttach=this.lastReadMessageId()},t.prototype.lastReadMessageId=function(){return Flowdock.app.markers.getMarker(this.messageList.model,this.name)},t.prototype.messageFromId=function(e){return this.messageList.collection.find(function(t){return t.get("id")===e})},t.prototype.setLastReadMessageIndicator=function(e){var t,n,r,o,i;return o=this.messageList.collection.get(e),n=this.messageList.collection.slice(this.messageList.collection.indexOf(o)+1),r=this._findLastConsecutiveMessageFromCurrentUser(n)||o,i=_.last(this.messageList.findSubviews(r)),e===this.lastReadMessageIdOnAttach&&(null!=i?i.$el.hasClass("last-read-message"):0)||(this._removeIndicators(),!i||this._isFirstChild(i)||(null!=i&&i.$el.addClass("last-read-message"),t=$("<div>").addClass("last-read-message-text").html("new messages"),"up"===this.listDirection?null!=i&&i.$el.prepend(t):null!=i&&i.$el.append(t),this._visibleInScreen(i.$el)))?void 0:this.buildJumpToMarkerIndicator(r.id);
},t.prototype.buildJumpToMarkerIndicator=function(t){return this._removeJumpToMarker(),!this.markerIndicator&&_.isFunction(this.jumpIndicator)?(t=t||this.lastReadMessageIdOnAttach,t?(this.markerIndicator=$(Helpers.renderTemplate(e("../../templates/shared/jump_to_marker.mustache"))()),this.markerIndicator.find("[data-marker-jump]").asEventStream("click").takeUntil(this.endJumpToListeners).take(1).onValue(function(e){return function(){return e._removeJumpToMarker(),e.lastReadMessageIdOnAttach=t,e.overrideAttachReset=e._messageIdInHistory(t),e.jumpToMessage(t)}}(this)),this.markerIndicator.find("[data-marker-remove]").asEventStream("click").takeUntil(this.endJumpToListeners).take(1).onValue(function(e){return function(){return e._removeJumpToMarker()}}(this)),this.jumpIndicator(this.markerIndicator),this.messageList.$el.asEventStream("scroll").filter(function(e){return function(){var t;return t=e.messageList.$(".last-read-message"),t.length>0&&e._visibleInScreen(t)}}(this)).takeUntil(this.endJumpToListeners).take(1).onValue(function(e){
return function(){return e._removeJumpToMarker()}}(this))):void 0):void 0},t.prototype._isFirstChild=function(e){var t;return t="up"===this.listDirection?this.messageList.$el.children("li").first()[0]:this.messageList.$el.children("li").last()[0],t===(null!=e?e.$el[0]:void 0)},t.prototype._visibleInScreen=function(e){return e.offset().top>=this.messageList.$el.offset().top},t.prototype._messageIdInHistory=function(e){var t;return t=this.messageList.collection.min(function(e){return e.get("id")}),t.get("id")>e},t.prototype._removeIndicators=function(){return this._removeJumpToMarker(),this._removeLastReadMarker()},t.prototype._removeJumpToMarker=function(){var e;return this.endJumpToListeners.push(Bacon.Next()),null!=(e=this.markerIndicator)&&e.remove(),this.markerIndicator=null},t.prototype._removeLastReadMarker=function(){return this.messageList.$(".last-read-message").removeClass("last-read-message").find(".last-read-message-text").remove()},t.prototype._findLastConsecutiveMessageFromCurrentUser=function(e){
var t,n,r,o;for(n=void 0,t=0,r=e.length;r>t&&(o=e[t],o.get("user").toString()===Flowdock.app.user.id.toString());t++)n=o;return n},t}()},{"../../templates/shared/jump_to_marker.mustache":308}],102:[function(e,t,n){t.exports=Flowdock.MacAudioPlayer=function(){function e(e){this.volumeStream=e,this.sounds={mention:this.sound("mention"),chat:this.sound("chat")},this.unsubscibeVolume=this.volumeStream.onValue(this,"setVolume")}return e.load=function(e){return new Flowdock.MacAudioPlayer(e)},e.prototype.sound=function(e){return"./resources/audio/"+e+".mp3"},e.prototype.play=function(e){return this.muted?void 0:_.defer(function(t){return function(){return macgap.sound.play(t.sound(e),t._volume)}}(this))},e.prototype.setVolume=function(e){return this._volume=e},e.prototype.mute=function(e){return this.muted=e},e.prototype.unload=function(){return this.unsubscibeVolume()},e}()},{}],103:[function(e,t,n){var r;r={titleFor:function(e){var t,n,r;return t=e.flow(),r=e.user(),t.isPrivate()?r.get("nick")||(null!=(n=Flowdock.app.users.get(r.id))?n.get("nick"):void 0)||"":r&&"0"!==r.id?r.get("nick")+" - "+t.fullName():t.fullName();
},bodyFor:function(e){var t;return null!=(t=e.presenter())?t.summary():void 0},messageFilter:function(e,t,n,o){var i,s,a;return a=r.activeFlowSingleViewMessageId(n,o),i=Models.Message.fromOpenFlows(e,t),s=r.ignoredFlow(n,Flowdock.windowFocus,a,i),Models.Message.ignoreByFlow(i,s).filter(function(e){return String(e.user)!==String(Flowdock.app.user.id)}).map(function(e){return new Models.Message(e)})},format:function(e){var t,n;try{return{title:r.titleFor(e),body:r.bodyFor(e),icon:null!=(n=e.user())?n.avatar(30):void 0}}catch(o){return t=o,console.error(t),console.error("Could not render notification for ",e)}},display:function(e,t){var n,o,i,s,a;return n=r.format(t),(null!=n?n.body:void 0)?(o=t.flow(),i="influx"===t.get("app")?function(){return Flowdock.app.router.navigateToFlow(o,{message:t})}:t.parent()||t.isThread()?function(){return t.parent()?Flowdock.app.router.navigateToFlow(o,{message:t.threadId()}):Flowdock.app.router.navigateToFlow(o,{thread:t.threadId()})}:function(){var e;return null!=(e=Flowdock.app.router)?e.navigateToFlow(o,{
message:null,users:null,thread:null}):void 0},a="influx"===t.get("app")||t.isThread()?t.id:t.parent()?t.parent():null,s=null!=o.path?o.path():o.isPrivate()?"private/"+o.id:void 0,e.closingNotification(n.title,{body:n.body,icon:n.icon,payload:JSON.stringify({flowPath:s,message:a}),onclick:function(){return i(),window.focus()}})):void 0},activeFlowSingleViewMessageId:function(e,t){return e.combine(t,function(e,t){return t&&e&&e.get("id")===t.flow.get("id")&&t.messageId?t.messageId:!1})},ignoredFlow:function(e,t,n,r){var o;return o=n.sampledBy(r,function(e,t){var n,r;return n=new Models.Message(t,{comments:!1}),r=n.isThread()?n.threadId():n.parent(),e&&!(e===r)}),Bacon.combineAsArray(e.map(function(e){return e||!1}),t,o).map(function(e){var t,n,r;return t=e[0],n=e[1],r=e[2],!n||r?!1:t})}},Flowdock.messageDesktopNotifications=function(e,t,n,o,i){return r.messageFilter(t,n,o,i).onValue(function(t){return r.display(e,t)})},_.extend(Flowdock.messageDesktopNotifications,r)},{}],104:[function(e,t,n){var r;r=function(){
return Flowdock.MessageReceivedNotifier.logging?console.log.apply(console,arguments):void 0},Flowdock.MessageReceivedNotifier=function(){function e(e){this.user=e,this.end=new Bacon.Bus,this.messageFilter=new Models.Filter.Chat,this.buffer=[]}return e.INACTIVE_IDLE_THRESHOLD=12e4,e.ACTIVE_IDLE_THRESHOLD=3e5,e.ACTIVITY_TIMEOUT=12e4,e.logging=!1,e.desktopNotificationsEnabled=function(){return Flowdock.app.notifications.hasPermission()},e.prototype.bufferMessage=function(e){return r("Buffering message for message-receive notification",e),this.buffer.push(e)},e.prototype.consume=function(e){var t,n;return t=this.untilEnd(this.userActivity()),n=this.untilEnd(e).filter(this,"filterHighlights"),n.takeWhile(t.not()).onValue(this,"bufferMessage"),t.flatMapLatest(function(t){return function(o){return o?(r("Activating message-receive notifications, sending",t.buffer.length,"buffered messages"),e=t.buffer.slice(),t.buffer=[],Bacon.fromArray(e).merge(n)):(r("Deactivating message-receive notifications"),Bacon.never())}}(this)).map(this,"formatNotification").doAction(function(e){
return r("Sending message-receive notification",e)}).onValue(this,"sendNotification")},e.prototype.filterHighlights=function(e){return null==e.id?!1:this.messageFilter.matchesTo(e)?null!=e.to&&String(e.to)===String(this.user.id)?!0:new Models.Message(e).highlights(this.user):!1},e.prototype.formatNotification=function(e){var t;return t={persist:!1,event:"message-receive",content:{message:e.id}},null!=e.flow?t.flow=e.flow:t.to=String(e.user),t},e.prototype.sendNotification=function(e){return Flowdock.app.connection.sendStream.push(e)},e.prototype.userActivity=function(){var t;return t=Flowdock.UserActivity,Bacon.mergeAll([t.blurs.map(function(){return!1}),t.focuses.map(function(){return!0}),t.visibility]).flatMapLatest(function(n){return function(r){return r?Bacon.once(!0).merge(n.untilEnd(Flowdock.userActivity)).flatMapLatest(function(){return Bacon.once(!0).merge(Bacon.later(e.ACTIVITY_TIMEOUT,!1))}).flatMapLatest(function(t){return t?Bacon.once(!0):Bacon.once(e.desktopNotificationsEnabled()).merge(Bacon.later(e.ACTIVE_IDLE_THRESHOLD,!1));
}):Bacon.once(!1).merge(n.untilEnd(t.mousemoves)).flatMapLatest(function(){return Bacon.once(!0).merge(Bacon.later(e.ACTIVITY_TIMEOUT,!1))}).flatMapLatest(function(t){return t?Bacon.once(!0):Bacon.once(e.desktopNotificationsEnabled()).merge(Bacon.later(e.INACTIVE_IDLE_THRESHOLD,!1))})}}(this)).skipDuplicates().toProperty(!0)},e.prototype.untilEnd=function(e){return e.takeUntil(this.end.mapEnd(!0))},e.prototype.cleanup=function(){return this.end.end(),this.buffer=[],this.end=null},e}()},{}],105:[function(e,t,n){var r,o;o=$(window).asEventStream("resize"),Flowdock.resize=r={window:{move:o,end:o.debounce(500)}},_.extend(Flowdock.resize,{moves:r.window.move,ends:r.window.end})},{}],106:[function(e,t,n){var r=function(e,t){return function(){return e.apply(t,arguments)}};Flowdock.ThemeControl=function(){function e(e){this.preference=e,this.setupTheme=r(this.setupTheme,this),_.extend(this,Backbone.Events)}return e.prototype.start=function(){return this.preference.onValue(this.setupTheme)},e.prototype.element=function(){
return $("body")},e.prototype.setupTheme=function(e){return null==e&&(e="classic"),this.element().removeClass("theme-classic theme-flowdark").addClass("theme-"+e)},e}()},{}],107:[function(e,t,n){Flowdock.TitleManager=function(){function e(e,t,n){this.activityProperty=e,this.activeFlow=t,this.user=n.id||n}return e.prototype.start=function(){return Bacon.combineAsArray(this.activeFlow,this.activityProperty,Flowdock.app.preferences.mute()).flatMapLatest(function(e){var t,n,r,o;return n=e[0],t=e[1],r=e[2],r?Bacon.once([n,{chat:!1,mentions:0}]):(o=n?n.asProperty("name").changes().map([n,t]):Bacon.never(),Bacon.once([n,t]).merge(o))}).onValue(this.update)},e.prototype.update=function(t){var n,r;return r=t[0],n=t[1],Helpers.setWindowTitle(r,n.chat,n.mentions),e.setDockBadge(n.chat,n.mentions)},e.setDockBadge=function(e,t){return null!=window.macgap?macgap.dock.badge=this.badgeString(e,t):null!=window.windowsApp?window.windowsApp.setBadgeLabel(this.badgeString(e,t)):void 0},e.badgeString=function(e,t){return t?""+t:e?"\u22ef":null;
},e}()},{}],108:[function(e,t,n){Flowdock.triggerMethod=function(){var e,t,n;return t=/(^|:)(\w)/g,e=function(e,t,n){return n.toUpperCase()},n=function(n){var r,o;return o="on"+n.replace(t,e),r=this[o],_.isFunction(this.trigger)&&this.trigger.apply(this,arguments),_.isFunction(r)?r.apply(this,_.tail(arguments)):void 0}}()},{}],109:[function(e,t,n){var r;r=function(){function e(e){this.typing=e}return e.prototype.toStream=function(e){var t;return t=function(e,t){return e===t||void 0===e&&t===!1},this.typing.skipDuplicates(t).flatMapLatest(function(t){return t?Bacon.interval(e,t).merge(Bacon.once(t)):null!=t?Bacon.once(!1):Bacon.never()})},e.prototype.toMessages=function(e,t){var n;return n=this.toStream(t),e.flatMapLatest(function(e){return n.map(function(t){var n;return n={event:"activity.user",content:{typing:t},persist:!1,tags:[]},e.isPrivate()?_.extend(n,{to:""+e.id}):_.extend(n,{flow:e.id})})})},e.prototype.when=function(t){var n;return n=t.flatMapLatest(function(e){return function(t){return t?e.typing:Bacon.constant(void 0);
}}(this)),new e(n,this.interval)},e.build=function(t,n,r){return new e(this.asProperty(t,n,r))},e.asProperty=function(e,t,n){var r,o;return o=e.asEventStream("keyup",t).map(function(e){var t,n;return t=$(e.target),n=t.val(),n.length>0&&0!==n.indexOf("/")?t.attr("data-input-id"):!1}),r=e.asEventStream("reset",t).map(void 0),o.merge(r).flatMapLatest(function(e){var t;return t=Bacon.once(e),e?t.merge(Bacon.later(n,!1)):t}).toProperty()},e}(),Flowdock.TypingActivity=r},{}],110:[function(e,t,n){var r=function(e,t){function n(){this.constructor=e}for(var r in t)o.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},o={}.hasOwnProperty;Flowdock.UnreadMessages=function(){function e(e){this.flow=e.flow,this.inbox=new t,this.chat=new t,this.end=new Bacon.Bus,this.chat.onValue(function(e){return function(){return e.maybeUpdateMarkerWithPeakValue("chat")}}(this)),this.inbox.onValue(function(e){return function(){return e.maybeUpdateMarkerWithPeakValue("inbox")}}(this))}var t;return t=function(e){
function t(){this.list=[],this.length=0,t.__super__.constructor.apply(this,arguments)}return r(t,e),t.prototype.add=function(e){return this.list.push(e),this.length=this.list.length},t.prototype.first=function(){return this.list[0]},t.prototype.reset=function(){return this.list=[],this.length=this.list.length,this.push("reset"),this},t.prototype.remove=function(e){var t;return(t=this.indexOf(e))>-1?(this.list.splice(t,1),this.length=this.list.length,this.push("remove")):void 0},t.prototype.indexOf=function(e){var t,n,r,o,i,s;for(o=-1,s=this.list.length,n=0,i=Math.floor(s/2),t=null,o=-1;i!==t&&s>n;)t=i,r=this.list[t],e>r?(i=Math.floor((t+s)/2),n=t):r>e?(i=Math.floor((t+n)/2),s=t):o=t;return o},t}(Bacon.Bus),e.prototype.consume=function(e){var t,n,r;return n=e.takeUntil(this.end).filter(function(e){return"activity.user"!==e.event}),t=n.filter(function(e){return function(t){return"chat"===e._getMessageApp(t)}}(this)).filter(function(e){return void 0!==e.id}).filter(this._ignoredChatMessages),r=n.filter(function(e){
return function(t){return"inbox"===e._getMessageApp(t)}}(this)),t.filter(function(e){return function(t){return e._messageIsFromCurrentUser(t)}}(this)).onValue(function(e){return function(t){return e._setMarker(t)}}(this)),t.filter(function(e){return function(t){return!e._messageIsFromCurrentUser(t)&&e.needsEyeTracking(t)}}(this)).onValue(function(e){return function(t){return e.chat.add(t.id)}}(this)),r.onValue(function(e){return function(t){return e.inbox.add(t.id)}}(this))},e.prototype.readMessage=function(e){var t;return t=this._getMessageApp(e),this.getUnreadMessages(t).remove(e.id),this._setMarker(e)},e.prototype.hasUnreadMessages=function(e){return this.getUnreadMessages(e).length>0},e.prototype.clearUnread=function(e){return this.getUnreadMessages(e).reset()},e.prototype.getUnreadMessages=function(e){return"chat"===e?this.chat:"inbox"===e?this.inbox:void 0},e.prototype._firstUnread=function(e){return this.getUnreadMessages(e).first()},e.prototype.needsEyeTracking=function(e){var t,n;return t=null!=(n=Flowdock.app.markers)?n.getMarker(this.flow,this._getMessageApp(e)):void 0,
!t||t<e.id},e.prototype.maybeUpdateMarkerWithPeakValue=function(e){var t,n,r,o,i;return!this.hasUnreadMessages(e)&&(t=null!=(n=Flowdock.app)&&null!=(r=n.peaks)&&null!=(o=r.get(this.flow.id))?o.get(e):void 0)&&null!=(i=Flowdock.app.markers)?i.setMarker(this.flow,t,e):void 0},e.prototype.onMessageReadUpdate=function(e,t){var n,r,o,i,s;return n=null!=(r=Flowdock.app)&&null!=(o=r.peaks)&&null!=(i=o.get(this.flow.id))?i.get(e):void 0,t===n?(this.getUnreadMessages(e).remove(t),null!=(s=Flowdock.app.markers)?s.setMarker(this.flow,n,e):void 0):void 0},e.prototype.destructor=function(){return this.chat.end(),this.inbox.end(),this.end.push("end"),this.end.end(),this.chat=this.inbox=this.end=null},e.prototype._messageIsFromCurrentUser=function(e){return Flowdock.app.user&&e.user&&Flowdock.app.user.id.toString()===e.user.toString()},e.prototype._getMessageApp=function(e){var t;return t=("function"==typeof e.get?e.get("app"):void 0)||e.app,"influx"===t?"inbox":t},e.prototype._setMarker=function(e){var t,n;return t=this._getMessageApp(e),
this._needsMarkerChange(e)&&null!=(n=Flowdock.app.markers)?n.setMarker(this.flow,e.id,t):void 0},e.prototype._needsMarkerChange=function(e){var t,n;return t=this._getMessageApp(e),!(e.id<=(null!=(n=Flowdock.app.markers)?n.getMarker(this.flow,t):void 0)||null!=this._firstUnread(t)&&e.id>this._firstUnread(t))},e.prototype._ignoredChatMessages=function(e){var t;return!("user-edit"===e.event||"action"===e.event&&("join"===(t=e.content.type)||"add_people"===t))},e}()},{}],111:[function(e,t,n){var r,o,i;Flowdock.UserActivity=r={IDLE_THRESHOLD:12e4,MOUSE_IDLE_THRESHOLD:1e4,MOUSEMOVE_INTERVAL:5e3,KEYDOWN_INTERVAL:3e3},_.extend(r,{mousemoves:Bacon.throttledStream(document,"mousemove",r.MOUSEMOVE_INTERVAL),focuses:$(window).asEventStream("focus"),blurs:$(window).asEventStream("blur"),keydowns:Bacon.throttledStream(document,"keydown",r.KEYDOWN_INTERVAL)}),r.visibility=(i=Modernizr.prefixed("hidden",document,!1))?(o=i.replace(/[Hh]idden/,""),$(document).asEventStream(o+"visibilitychange").map(function(){return!document[i];
})):Bacon.never(),Flowdock.userActivity=Bacon.mergeAll([r.mousemoves,r.focuses,r.keydowns]),Flowdock.windowFocus=Bacon.mergeAll([r.blurs.map(function(){return!1}),r.focuses.map(function(){return!0})]).toProperty(!0).skipDuplicates(),Flowdock.appFocus=Flowdock.windowFocus.flatMapLatest(function(e){return e?Bacon.once(!0).merge(Flowdock.userActivity).flatMapLatest(function(){return Bacon.once(!0).merge(Bacon.later(r.IDLE_THRESHOLD,!1))}):Bacon.once(!1).merge(r.mousemoves.flatMapLatest(function(){return Bacon.once(!0).merge(Bacon.later(r.MOUSE_IDLE_THRESHOLD,!1))}))}).toProperty(!0).and(r.visibility.toProperty(!0)).skipDuplicates()},{}],112:[function(e,t,n){var r,o=function(e,t){return function(){return e.apply(t,arguments)}};r=function(){function t(e,t){this.model=e.model,this.onComplete=t,this._onWalkthroughStop=o(this._onWalkthroughStop,this),this._onWalkthroughNotNow=o(this._onWalkthroughNotNow,this),this._openNextTooltip=o(this._openNextTooltip,this),this._showNextCoachMark=o(this._showNextCoachMark,this),this.skip=o(this.skip,this),
this.stop=o(this.stop,this),this._steps=[],this._components=[],this._cleanups=[]}return t.prototype.addStep=function(e){return this._steps.push(e)},t.prototype.start=function(){return this._showNextCoachMark()},t.prototype.pause=function(){return this._showAllCoachMarks()},t.prototype.unmount=function(){var e,t,n,r;for(r=this._components,t=0,n=r.length;n>t;t++)e=r[t],e.finish();return delete this._components,delete this._steps,this.model},t.prototype.stop=function(){return this.unmount(),this.model.complete().done(function(e){return function(){return e.onComplete()}}(this))},t.prototype.skip=function(){return this.unmount(),this.model.skip().done(function(e){return function(){return e.onComplete()}}(this))},t.prototype.hasTasks=function(){return this._steps.length>0},t.prototype._createContainer=function(e){var t;return t=$("<div>").addClass("tutorial-tooltip-container"),e.prepend(t),t[0]},t.prototype._renderCoachMarkWithTooltip=function(e){return _.extend(e,{onSuccess:e.onSuccess,onSkip:e.onSkip,onDone:this._onStepDone,
onBeforeDone:this._showNextCoachMark,onStop:this._onWalkthroughNotNow}),this.hasTasks()||_.extend(e,{skipPrompt:"Finish",stopPrompt:null}),this._renderCoachMark(e)},t.prototype._renderCoachMarkWithoutTooltip=function(e){var t,n;return _.extend(e,{tooltipVisible:!1,onSuccess:e.onSuccess,onSkip:e.onSkip,onDone:function(e){return function(t,r){return e._onStepDone(t,r),n()}}(this),onBeforeDone:this._openNextTooltip,onStop:this._onWalkthroughStop,stopPrompt:"Don't show these."}),t=this._renderCoachMark(e),n=e.actionTarget.asEventStream("click").onValue(function(e){return function(n){return t.state.tooltipVisible?void 0:(n.preventDefault(),n.stopImmediatePropagation(),e._openTooltipFor(t))}}(this)),t},t.prototype._renderCoachMark=function(t){var n,r;return r=this._createContainer(t.target),n=React.createFactory(e("components/tutorial/coach_mark")),React.render(n(t),r)},t.prototype._showNextCoachMark=function(e,t){var n;return e&&this._removeComponent(e),this.hasTasks()?(n=this._steps.pop(),("function"==typeof n.shouldSkip?n.shouldSkip():void 0)?void this._showNextCoachMark():this._addComponent(this._renderCoachMarkWithTooltip(n))):void this.stop();
},t.prototype._showAllCoachMarks=function(){var e,t,n,r,o;for(n=this._steps,r=[],e=0,t=n.length;t>e;e++)o=n[e],("function"==typeof o.shouldSkip?o.shouldSkip():void 0)?r.push(void 0):r.push(this._components.push(this._renderCoachMarkWithoutTooltip(o)));return r},t.prototype._openNextTooltip=function(e,t){return this._removeComponent(e),0===this._components.length?void this.stop():this._openTooltipFor(this._components[this._components.length-1])},t.prototype._openTooltipFor=function(e){var t,n,r,o;for(o=this._components,n=0,r=o.length;r>n;n++)t=o[n],t.toggleTooltip(!1);return 1===this._components.length&&e.setProps({skipPrompt:"Finish",stopPrompt:null}),e.toggleTooltip(!0)},t.prototype._addComponent=function(e){return this._components.push(e)},t.prototype._removeComponent=function(e){return this._components.splice(this._components.indexOf(e),1)},t.prototype._onStepDone=function(e,t){var n,r;return r=e.getDOMNode(),n=r.parentNode,React.unmountComponentAtNode(r),n.parentNode.removeChild(n)},t.prototype._onWalkthroughNotNow=function(e,t){
return this._removeComponent(e),this._showAllCoachMarks()},t.prototype._onWalkthroughStop=function(e,t){return this._removeComponent(e),this.skip()},t}(),t.exports=r},{"components/tutorial/coach_mark":59}],113:[function(e,t,n){/*!
 * jQuery Word completion plugin for text fields
 *
 * Examples:
 *
 * $("input").wordComplete({
 *   source: ['car', 'bike', 'train']
 * });
 *
 * $("input").wordComplete({
 *   source: getWords, // Reference to a function that returns an array
 *   // Allows "live" manipulation of the completed word
 *   // This would autocomplete each word with ', yo!'
 *   completionHook: function(word, startPos) {
 *     return word + ', yo!';
 *   },
 *   // Key that triggers the autocompletion
 *   // For reference, see http://jshotkeys.googlepages.com/test-static-01.html
 *   key: 'tab'
 * });
 *
 * Dependencies: jquery.hotkeys (>= 0.7.9)
 *
 * Authors: Raine Virta, Mikko Kivel
 * Date: 2009-11-03
 */
!function(e){e.fn.autoComplete=function(t){if(window.addEventListener){var n={sort:!0,reverse:!1};return e.extend(n,t),n.source instanceof Array?n.words=function(){return n.source}:"function"==typeof n.source&&(n.words=n.source),this.each(function(){function t(e){if(e.selectionStart)return e.selectionStart;if(document.selection){e.focus();var t=document.selection.createRange();if(null==t)return 0;var n=e.createTextRange(),r=n.duplicate();n.moveToBookmark(t.getBookmark()),r.setEndPoint("EndToStart",n);for(var o=0,i=0;i<r.text.length;i++)"\r\n"==r.text.substr(i,2)&&(o+=2,i++);return r.text.length+o}return 0}function r(e,t){for(var n=[],r=0,o=e.length,i=t.length,s=0;o>=s;s++)n[s]=[],n[s][0]=s;for(var a=0;i>=a;a++)n[0][a]=a;for(s=1;o>=s;s++)for(a=1;i>=a;a++){r=e[s]==t[a]?0:1;var u=n[s-1][a]+1,l=n[s][a-1]+1,c=n[s-1][a-1]+r;u>l&&(u=l),u>c&&(u=c),n[s][a]=u,s>1&&a>1&&e[s]===t[a-1]&&e[s-1]===t[a]&&(n[s][a]=Math.min(n[s][a],n[s-2][a-2]+r))}return n[o][i]}function o(){var o=t(x),a=x.value.substr(0,o).match(/\s?([^\s]+)$/);
if(a&&(f=Helpers.replaceDiacritics(a[1])),!a||f.length<1||x.value.charAt(o)&&!x.value.charAt(o).match(/\s/))return f=void 0,[];var u,l=f.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&");u=s()?"^"+l+".*":".*"+l.split("").reduce(function(e,t){return"\\"===e.slice(-1)?e+t:f[0]===e?e+".*"+t:e+".{0,2}"+t})+".*";var c=RegExp(u,"i"),p=function(e){return _.reduce(e.matches,function(e,t){return e||c.test(t)},!1)},d=_.pluck(jQuery.grep(n.cachedWords,p),"word");if(e.isFunction(n.sort)?d.sort(n.sort):n.sort===!0?d.sort():d.length<25&&d.sort(function(e,t){return r(f,e)-r(f,t)}),1!=n.sort&&d.length<100){var h,m=[],g=[],v=f.toLowerCase();for(i=0;i<d.length;i++)h=d[i].toLowerCase(),h==v?m.unshift(d[i]):0==h.indexOf(v)?m.push(d[i]):g.push(d[i]);d=m.concat(g)}return d}function s(){if(n.hiddenComplete)if(n.hiddenCompleteLimiter instanceof Array){if(-1==n.hiddenCompleteLimiter.indexOf(f.charAt(0)))return!0}else if(f.charAt(0)==n.hiddenCompleteLimiter)return!0;return!1}function a(t){null!=selected&&selected.removeClass("selected"),selected=e(t).addClass("selected"),
selectedWord=selected.text();for(var n=0;n<tagFields.length;n++)tagFields[n].text()==selectedWord&&(m=n)}function u(){b=o();var t=b.length;if(b=b.slice(0,T),C.empty().removeClass("has-more").attr("data-more","").toggleClass("reversed",n.reverse),tagFields=[],b.length>0){if(1==b.length&&b[0]==f)return;k=s(),k?(void 0!=n.excludeHidden&&(b=b.filter(function(e){return-1===n.excludeHidden.indexOf(e)})),selectedWord=b[m],c()):(n.reverse&&b.reverse(),b.forEach(function(t){field=e("<li class='ac'>"),"function"==typeof n.displayHtml?field.append(n.displayHtml(t)):field.text(t),C.append(field),tagFields.push(field)}),t>T&&C.addClass("has-more").attr("data-more","\u2026 and "+String(t-T)+" more. Narrow your search."),"function"!=typeof n.autoSelect||n.autoSelect(b[0])?n.reverse?(selected=tagFields[tagFields.length-1].addClass("selected"),selectedWord=selected.text(),m=tagFields.length-1):(selected=tagFields[0].addClass("selected"),selectedWord=selected.text(),m=0):selected=selectedWord=m=void 0,n.el?C.appendTo(n.el).show():C.appendTo("body").show().css({
bottom:e(window).height()-e(x).offset().top,left:e(x).offset().left,width:e(x).width()}),w=!0,C.trigger("selector-open"),g=void 0,n.reverse&&tagFields.length>0&&C.scrollTop(C.find("li.ac:last-child")[0].offsetTop))}else{if(!n.emptyHook||!f||!C.is(":empty"))return;var r=n.emptyHook(f);r&&(w=!0,C.trigger("selector-open"),C.append(r).show())}C.is(":empty")&&C.hide()}function l(){selected&&0!=selected.length&&(selected.is(".ac:first-child")?C.scrollTop(0):selected.is(".ac:last-child")?C.scrollTop(C[0].scrollHeight):selected[0].offsetTop<C.scrollTop()?C.scrollTop(selected[0].offsetTop):selected[0].offsetTop+selected.outerHeight()>C.height()+C.scrollTop()&&C.scrollTop(selected[0].offsetTop+selected.outerHeight()-C.height()))}function c(){y=v=m=g=selected=selectedWord=tagFields=void 0,C.empty().hide(),w=!1,E={}}function p(){if(k&&m+1<b.length?m+=1:k&&(m=0),void 0==g&&(g=t(x)),void 0==y&&(y=x.value.substr(g)),void 0!=b[m]){if(n.completionHook)var e=g-f.length,r=n.completionHook(b[m],e);else var r=b[m];var o=r.substr(f.length);
if(x.value=x.value.substr(0,g-f.length)+r+y,v=g+o.length,x.focus(),x.selectionStart)x.setSelectionRange(v,v);else if(x.createTextRange){var i=x.createTextRange();i.collapse(!0),i.moveEnd("character",v),i.moveStart("character",v),i.select()}k?1==b.length&&(b=[]):c()}}function d(e){e.preventDefault(),e.stopImmediatePropagation()}function h(e){return e.altKey||e.ctrlKey||e.shiftKey}var f,m,g,v,b,y,w,k,x=this,C=e('<ul id="autocomplete" class="autocompleter"></ul>'),E={},T=50;e(x).bind("keydown","Return",function(e){w&&null!=selected&&(p(),d(e))}),e(x).bind("keydown","Tab",function(e){(w||k)&&e.preventDefault()}),e(x).bind("keyup",function(e){!w||38!=e.which&&40!=e.which?9!=e.which||h(e)||!w&&!k?39==e.which&&w?(d(e),c()):(w=!1,C.hide(),u()):(d(e),p()):e.preventDefault()}),e(x).bind("keydown","Up",function(e){w&&(e.preventDefault(),null==selected?(selected=C.children("li.ac").last().addClass("selected"),selectedWord=selected.text(),m=C.children("li.ac").length-1):selected.prev("li.ac").length>0?(selected=selected.removeClass("selected").prev("li.ac").addClass("selected"),
selectedWord=selected.text(),m--):(null!=selected&&selected.removeClass("selected"),selected=selectedWord=m=void 0),l())}),e(x).bind("keydown","Down",function(e){w&&(e.preventDefault(),null==selected?(selected=C.children("li.ac").first().addClass("selected"),selectedWord=selected.text(),m=0):selected.next("li.ac").length>0?(selected=selected.removeClass("selected").next("li.ac").addClass("selected"),selectedWord=selected.text(),m++):(null!=selected&&selected.removeClass("selected"),selected=selectedWord=m=void 0),l())}),e(x).bind("blur",function(e){setTimeout(function(){w&&c()},150)}),C.bind("mousedown",function(e){return!1}),e(x).bind("focus",function(e){n.cachedWords=n.words().map(function(e){return{word:e.word,matches:(e.aliases||[]).map(Helpers.replaceDiacritics).concat(Helpers.replaceDiacritics(e.word))}}),u()}),C.on("click","li.ac",function(t){t.preventDefault(),p(),e(x).focus()}),C.on("mousemove","li.ac",_.throttle(function(e){var t=_.isEmpty(E)||E.x==e.clientX&&E.y==e.clientY;t||a(e.currentTarget),E.x=e.clientX,
E.y=e.clientY},30))})}}}(jQuery)},{}],114:[function(e,t,n){jQuery.fn.delayedHover=function(e,t){return null==e&&(e="hover"),this.asEventStream("mouseenter",t).flatMap(function(e){var t,n,r,o;return r=$(e.currentTarget).asEventStream("mouseenter").map(!0),o=$(e.currentTarget).asEventStream("mouseleave").map(!1),t=r.merge(o).flatMapLatest(function(t){var n;return t?Bacon.never():(n=$(e.currentTarget).data("close-delay"),Bacon.later(n||0,{target:$(e.currentTarget),action:"close"}))}),n=$(e.currentTarget).data("hover-delay"),Bacon.later(n||0,{target:$(e.currentTarget),action:"open"}).takeUntil(t).merge(t)}).skipDuplicates(function(e,t){return e.action===t.action}).onValue(function(t){return t.target.toggleClass(e,"open"===t.action),t.target.triggerHandler("hover-delay-"+t.action)}),this}},{}],115:[function(e,t,n){!function(e){var t,n,r,o;return r="filedragndrop",o="filedragndrop-intercept-overlay",t=function(t){var n,i;if(!this.data(r+".initialized"))return n=!1,i=e("<div id='"+o+"'></div>").addClass(t.overlayClass).on("dragleave."+r,function(e){
i.detach(),t.dragleave(e),n=!1}).on("drop."+r,function(e){i.detach(),t.drop(e),n=!1}).data(r+".overlay-initialized",!0),this.on("dragenter."+r,function(r){n||(n=!0,r.originalEvent.dataTransfer&&_.any(r.originalEvent.dataTransfer.types,function(e){return"Files"===e})&&(r.preventDefault(),e(t.target).append(i),t.dragenter(r)))}),this.data(r+".initialized",!0)},n=function(){return this.data(r+".initialized",!1),this.off("."+r)},e.fn.dragNDropFileEvents=function(r){var o;return null==r&&(r={}),"destroy"===r?(this.each(function(){return n.call(e(this))}),this):(o={dragenter:function(e){},dragleave:function(e){},drop:function(e){},overlayClass:"overlay"},r=e.extend(o,r),this.each(function(){return t.call(e(this),r)}),this)}}(jQuery)},{}],116:[function(e,t,n){jQuery.fn.emojie=function(){return this.each(function(){var e;try{return emojie(this)}catch(t){e=t}})}},{}],117:[function(e,t,n){var r=[].indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(t in this&&this[t]===e)return t;return-1};!function(e){var t,n,o,i,s,a,u,l,c,p,d,h;
return n=9,t=8,d="    ",s=function(){return e(this).on("paste",function(e){return function(){return l.call(e)}}(this)),e(this).on("keydown",function(e){return function(t){return u.call(e,t)}}(this))},u=function(e){var r,s;switch(e.which){case n:if(e.ctrlKey||e.metaKey)return;if(e.preventDefault(),e.shiftKey)return o.call(this,this.selectionStart,this.selectionEnd);if(this.selectionStart!==this.selectionEnd)return i.call(this,this.selectionStart,this.selectionEnd);if(this.selectionStart===this.selectionEnd)if(/\s/.test(this.value.slice(0,+(this.selectionStart-1)+1||9e9).slice(-1)[0])||0===this.selectionStart){if(0===this.selectionStart||this.value.slice(0,+(this.selectionStart-1)+1||9e9).split("\n").slice(-1)[0].match(/^\s*$/))return s=this.selectionStart+4,r=this.value.split(""),r.splice(this.selectionStart,0,"    "),this.value=r.join(""),this.setSelectionRange(s,s)}else;break;case t:if(!(e.metaKey||e.ctrlKey||e.altKey||e.shiftKey)&&p.call(this))return e.preventDefault(),o.call(this,this.selectionStart,this.selectionEnd);
}},p=function(){var e;return e=this.value.slice(0,+(this.selectionStart-1)+1||9e9).split("\n").slice(-1)[0],this.selectionStart===this.selectionEnd&&/(^|\n)[\s]{4}$/.test(e)},l=function(){var e;return e=this.selectionStart,setTimeout(function(t){return function(){return a.call(t,e)}}(this),0)},a=function(e){var t,n,r,o;return n=Helpers.IndentationHelper.pasteRegion({text:this.value,start:e,end:this.selectionStart}),o=n.text,t=n.end,r=n.start,this.value=o,this.setSelectionRange(t,t)},h=function(e){return"\n"===e[0]&&(e=e.substr(1,e.length-1)),"\n"===e[e.length-1]&&(e=e.substr(0,e.length-1)),e},c=function(e,t){return e.setSelectionRange(t,t)},i=function(e,t){var n,r,o,i,s;return i=this,s=i.value.split("\n"),r=i.value.substr(0,e).split("").filter(function(e){return"\n"===e}).length,o=i.value.substr(0,t).split("").filter(function(e){return"\n"===e}).length,0===s[o].length&&(o-=1),n=_.map(s.slice(r,+o+1||9e9),function(e){return"    "+e}),[].splice.apply(s,[r,o-r+1].concat(n)),n,i.value=s.join("\n"),i.setSelectionRange(e+4,t+4*n.length);
},o=function(e,t){var n,o,i,s,a,u,l,c,p,d,h;return i=this,a=i.value.split("\n"),u=function(){var e,t,n;for(n=[],e=0,t=a.length;t>e;e++)s=a[e],n.push(s);return n}(),n=i.value.substr(0,e).split("").filter(function(e){return"\n"===e}).length,o=i.value.substr(0,t).split("").filter(function(e){return"\n"===e}).length,d=0,h=a.slice(n,+o+1||9e9).map(function(e){return"    "===e.slice(0,4)?(d++,e.substr(4)):e}),[].splice.apply(a,[n,o-n+1].concat(h)),h,i.value=a.join("\n"),d?(p=h[0],c=r.call(u,p)>=0?e:e-4,l=o===n?t-4:t-4*d,i.setSelectionRange(c,l)):void 0},e.fn.indentPaste=function(){return this.each(function(){return s.call(this)})}}(jQuery)},{}],118:[function(e,t,n){var r,o,i,s,a,u,l,c,p,d,h,f,m,g,v;r=function(e,t){return function(){return e.apply(t,arguments)}},h="reorderable",s=h+".data",u=function(e){return e.data(s)},f=function(e,t){return e.data(s,t)},v=function(){var e;return e=u(this),this.data?(this.removeClass(null!=e?e.options.namespace:void 0).removeClass(null!=e?e.options.className:void 0),f(this,null),this.off("."+h)):void 0;
},o=function(e){var t;return(t=u(this))?void 0:(t={},this.addClass(e.namespace).addClass(e.className),t.options=e,f(this,t),this.on("mousedown."+h,r(l,this)),this.on("mouseup."+h,r(p,this)),this.on("mousemove."+h,r(c,this)),this.on("dragstart."+h,function(e){return e.preventDefault(),!1}))},l=function(e){var t;if(2!==e.button)return t=u(this),t.mousePressed=!0,t.initialMouseCoordinates={pageX:e.pageX,pageY:e.pageY},t.timer=setTimeout(function(e){return function(){return m.call(e)}}(this),t.options.dragstartTimeout),t.offsetTriggered=!1},p=function(e){return g.call(this)},c=function(e){var t,n;return t=u(this),t.mousePressed?(n=t.offsetTriggered,n||(n=Math.abs(e.pageY-t.initialMouseCoordinates.pageY+this.parent().scrollTop())>=t.options.dragstartOffset,t.offsetTriggered=n),n?m.call(this):void 0):void 0},i=function(e){var t;return t=$("<div></div>").addClass(e.dragOverlayClass),t.css({position:"absolute",top:0,left:0,width:$(window).width(),height:$(window).height(),"z-index":2001}),t.on("mousemove",r(d,this)),$(window).one("mouseup",r(a,this)),
t},m=function(){var e,t,n,r;return e=u(this),e&&!e.dragging&&1!==this.parent().children("."+e.options.namespace+":visible").length?(e.dragging=!0,r=this.parent().scrollTop(),"static"===this.parent().css("position")&&this.parent().css({position:"relative"}),t=this.clone().addClass(e.options.draggableClass),t.css({width:this.width()+"px",height:this.height()+"px",left:this.position().left+"px",top:this.position().top+r+"px",position:"absolute"}),n=i.call(this,e.options),this.addClass(e.options.draggedClass),e.overlay=n,e.draggable=t,e.initialElementCoordinates=this.position(),$("body").append(n),this.parent().append(t)):void 0},g=function(){var e,t,n,r,o;return e=u(this),null!=(n=e.overlay)&&n.off(),null!=(r=e.overlay)&&r.remove(),null!=(o=e.draggable)&&o.remove(),clearTimeout(e.timer),t=e.options,e={options:t},f(this,e),this.removeClass(e.options.draggedClass)},d=function(e){var t,n,r,o,i,s,a,l,c,p;return p=function(e){var t,n,r,o;return 0===e.length?!1:(t=e.height()/2,o=e.position().top,r=o-t,n=o+t,i-c>r&&n>i-c);
},t=u(this),s=t.options,c=this.parent().scrollTop(),r=e.pageY-t.initialMouseCoordinates.pageY+c,a=parseFloat(t.draggable.css("top")),i=t.initialElementCoordinates.top+r,n=a>i?"up":"down",t.draggable.css({top:i}),o=this.next("."+s.className),l=this.prev("."+s.className),"up"===n?(l.is(":hidden")||p(l))&&l.before(this):(o.is(":hidden")||p(o))&&o.after(this),this},a=function(e){var t;return t=u(this).options,g.call(this),t.drop(this.parent().children("."+t.namespace).index(this))},$.fn.reorderable=function(e){var t;return"destroy"===e?this.each(function(){return v.call($(this))}):(t={className:"tabs-reorderable",namespace:"reorderable",dragstartTimeout:500,dragstartOffset:10,draggableClass:"dragging",draggedClass:"being-dragged",dragOverlayClass:"dragging-overlay",drop:function(e){}},e=$.extend(t,e),this.each(function(){return o.call($(this),e)})),this}},{}],119:[function(e,t,n){var r;r=null,$.fn.scrollableInview=function(e,t){return null==e&&(e={}),"destroy"===e?this.each(function(){var e;return null!=(e=$(this).data("inview"))?e.unsubscribe():void 0;
}):"remove"===e?this.each(function(){var e,n,r,o;if(e=$(this),n=e.data("inview")){for(;(r=n.callbacks.indexOf(t))>=0;)[].splice.apply(n.callbacks,[r,r-r+1].concat(o=[])),o;return 0===n.callbacks.length?n.unsubscribe():void 0}}):this.each(function(){var t,n,o,i,s,a,u;return t=$(this),i=t.data("inview"),null!=i?void i.callbacks.push(e.onInview):(i={callbacks:[e.onInview]},n=$(e.scrollParent),0===n.length&&(n=t.parent()),u=function(){var e,t,n,r;for(r=i.callbacks,t=0,n=r.length;n>t;t++)(e=r[t])();return i.unsubscribe()},o=function(){return $.contains($("body")[0],t[0])&&n.is(":visible")&&t.visible(!e.fully)?u():void 0},r||(r=Bacon.fromPoll(1e3,function(){return new Bacon.Next})),s=n.data("inview-scroll-stream"),s||(s=n.asEventStream("scroll").debounce(50).merge(r)),n.data("inview-scroll-stream",s),a=s.onValue(o),_.defer(o),i.unsubscribe=function(){return a(),t.data("inview",null)},t.data("inview",i))}),this}},{}],120:[function(e,t,n){var r,o,i,s;r=jQuery,r.fn.userAgentClass=s=function(e){var t;return null==e&&(e=window.navigator.userAgent),
t=s.uaMatch(e),this.addClass(t.browser+" "+t.os),this},i=function(e){return/(ipad|iphone|ipad)/.exec(e)&&"ios"||/(android)/.exec(e)&&"android"||/(mac os x)/.exec(e)&&"macosx"||/(windows)/.exec(e)&&"windows"||/(linux)/.exec(e)&&"linux"||"other"},o=function(e){return(/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version)?[ \/]([\w.]+)/.exec(e)||/(iemobile)\/([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+))?/.exec(e)||[]).slice(1)},s.uaMatch=function(e){var t,n,r;return e=e.toLowerCase(),n=o(e),t=n[0],r=n[1],{browser:t||"",version:r||"0",os:i(e)}}},{}],121:[function(e,t,n){var r,o,i=[].slice,s=[].indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(t in this&&this[t]===e)return t;return-1};r={backspace:8,tab:9,enter:13,esc:27,spacebar:32,pagedown:33,pageup:34,home:35,end:36,left:37,up:38,right:39,down:40,"delete":46,forwardSlash:[47,191],bracketRight:219,bracketLeft:221,plus:187,minus:189,numeric:[48,49,50,51,52,53,54,55,56,57].concat([96,97,98,99,100,101,102,103,104,105]),
"?":63,a:65,b:66,c:67,d:68,e:69,f:70,g:71,h:72,i:73,j:74,k:75,l:76,m:77,n:78,o:79,p:80,q:81,r:82,s:83,t:84,u:85,v:86,w:87,x:88,y:89,z:90,semicolon:186,comma:188},o={ctrl:"ctrlKey",alt:"altKey",meta:"metaKey",cmd:"metaKey",shift:"shiftKey"},r.cursor=[r.left,r.up,r.right,r.down],window.KeyEvent={keymap:r,modifierDown:function(e){return e.ctrlKey||e.altKey||e.metaKey},is:function(){var e,t,n;return n=1<=arguments.length?i.call(arguments,0):[],e=_.flatten(n.map(function(e){return e.split(":")})),t=[],_.each(e,function(e){var n;return n={modifiers:[],keyCodes:[]},_.each(e.split("+"),function(e){var t,i;return(t=r[e])?n.keyCodes.push(t):(i=o[e])?n.modifiers.push(i):void 0}),n.keyCodes=_.flatten(n.keyCodes),t.push(n)}),function(n){var r;return"keypress"===n.type?(r=String.fromCharCode(n.which),s.call(e,r)>=0):null!=_.find(t,function(e){var t,r,o,i,a,u;for(i=[],a=["ctrlKey","altKey","metaKey","shiftKey"],t=0,r=a.length;r>t;t++)o=a[t],n[o]===!0&&i.push(o);return _.isEqual(i.sort(),e.modifiers.sort())?(u=n.which,s.call(e.keyCodes,u)>=0?!0:void 0):!1;
})}},isKey:function(){var e,t,n;return n=1<=arguments.length?i.call(arguments,0):[],e=_.flatten(function(){var e,o,i;for(i=[],e=0,o=n.length;o>e;e++)t=n[e],i.push(r[t]);return i}()),function(t){var n;return n=t.which,s.call(e,n)>=0}},not:function(){var e,t,n;return n=1<=arguments.length?i.call(arguments,0):[],e=_.flatten(function(){var e,o,i;for(i=[],e=0,o=n.length;o>e;e++)t=n[e],i.push(r[t]);return i}()),function(t){var n;return n=t.which,!(s.call(e,n)>=0)}}}},{}],122:[function(e,t,n){var r,o,i,s,a,u,l,c,p,d,h,f,m,g=[].indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(t in this&&this[t]===e)return t;return-1};a=e("../lib/syntax_highlight"),u=e("markdown-it"),o=e("lib/markdown/text_renderer"),m=new o,l=u({breaks:!0,linkify:!0,langPrefix:"",highlight:function(e,t){if(t&&a.getLanguage(t))try{a.highlight(t,e).value}catch(n){}try{return a.highlightAuto(e).value}catch(n){return null}}}).disable(["heading","table","hr","image","entity"]).use(e("markdown-it-flowdock")),i=u("zero").enable(["backticks","code","fence"]),
d=l.renderer.rules.code_inline,p=l.renderer.rules.code_block,h=l.renderer.rules.fence,l.renderer.rules.fence=function(e,t,n,r,o){return h(e,t,n,r,o).toString().replace(/^<pre>/,"<pre class='formatted code' data-no-text-emoji>")},l.renderer.rules.code_inline=function(e,t){return d(e,t).replace(/^<code>/,"<code data-no-text-emoji>")},l.renderer.rules.code_block=function(e,t,n,r){return SourceDetector.detect(e[t].content)?l.renderer.rules.fence(e,t,n,r,l.renderer):p(e,t,n,r).replace(/^<pre>/,"<pre class='formatted' data-no-text-emoji>")},l.renderer.rules.mention=function(e,t,n,r){var o,i,s,a,u,l,c,p;return u=e[t].markup,c=e[t].content,r.groups&&"@"===c[0]?(o=r.groups.getByHandle(c.slice(1)),o?(s=o.isMember(Flowdock.app.user)?"highlight":"","<a data-group='@"+c+"' class='tag mention "+s+"'>"+u+c+"</a>"):u+c):(l="@"+c.toLowerCase(),a=g.call(Collections.Tags.teamTags,l)>=0,g.call(Collections.Tags.everyoneTags,l)>=0||a?(s=!a||r.inTeam?"highlight":"","<a data-tag-search='"+l+"' class='tag mention "+s+"'>"+u+c+"</a>"):(p=_.find(r.users,function(e){
var t;return(null!=(t=e.nick)?t.toLowerCase():void 0)===c.toLowerCase()}),p?(i=p.id===Flowdock.app.user.id?"highlight":"","<a data-user='"+p.id+"' class='tag mention "+i+"'>"+u+c+"</a>"):u+c))},l.renderer.rules.hashtag=function(e,t,n,r){var o,i,s;return s=e[t].content,i=e[t].markup,o=Helpers.absoluteUrlFor({flow:n.flowPath})+"?filter=all&tags="+s,"<a href='"+o+"' data-tag-search='"+s+"' class='tag'>"+i+s+"</a>"},c=function(e){var t;return e.match(/^[a-zA-Z\-]+:/)?e:(t=l.linkify.match(e))?t[0].url:"http://"+e},l.renderer.rules.link_open=function(e,t,n,r){var o,i,s;return s=e[t],s.attrs=function(){var e,t,n,r;for(n=s.attrs,r=[],e=0,t=n.length;t>e;e++)o=n[e],"href"===o[0]?(i=c(o[1]),r.push(["href",i])):r.push(o);return r}(),s.attrs.push(["class","external embeddable"]),null!=i&&s.attrs.push(["title",i]),l.renderer.renderToken(e,t,n,r)},s=function(e){var t,n,r,o,i,s,a,u,l;for(t={},r=0,i=e.length;i>r;r++)if(l=e[r],"fence"===(s=l.type)||"code_block"===s)for(n=o=a=l.map[0],u=l.map[1];u>=a?u>o:o>u;n=u>=a?++o:--o)t[n]=!0;
return t},f=function(e){var t,n,r,o,s;for(o="",r=i.parseInline(e)[0].children,t=0,n=r.length;n>t;t++)s=r[t],o+="code_inline"===s.type?s.markup+s.content+s.markup:emojimoji(s.markup+s.content);return o},t.exports=r={replaceEmojiInline:f,replaceEmoji:function(e){var t,n,r,o,a;return a=i.parse(e,{}),t=s(a),o=function(){var o,i,s,a;for(s=e.split("\n"),a=[],n=o=0,i=s.length;i>o;n=++o)r=s[n],t[n]?a.push(r):a.push(f(r));return a}(),o.join("\n")},tags:function(e){var t,n,r,o,i,s,a,u,l;for(u=[],n=0,o=e.length;o>n;n++)if(l=e[n],"inline"===l.type)for(s=l.children,r=0,i=s.length;i>r;r++)t=s[r],("mention"===(a=t.type)||"hashtag"===a)&&("mention"===t.type?u.push("@"+t.content):"hashtag"===t.type&&u.push("#"+t.content));return u},parse:function(e,t){return l.parse(e,t||{})},text:function(e){return m.render(e,{},{}).trim()},render:function(e,t){return l.render(e,t).replace(/[ ]{2}/g," &nbsp;").replace(/\n+$/,"")},renderInline:function(e,t){return l.renderInline(e,t).replace(/[ ]{2}/g," &nbsp;").replace(/\n+$/,"")}}},{"../lib/syntax_highlight":130,
"lib/markdown/text_renderer":123,"markdown-it":603,"markdown-it-flowdock":598}],123:[function(e,t,n){var r,o,i,s;o=e("underscore"),s=function(e,t){return e[t].content},i={},i.code_inline=s,i.code_block=function(e,t,n,r){return e[t].content+"\n"},i.fence=function(e,t,n,r,o){return e[t].content+"\n"},i.image=function(e,t,n,r,o){return token.attrIndex("alt")},i.hardbreak=function(){return"\n"},i.softbreak=function(){return"\n"},i.text=s,i.html_block=s,i.html_inline=s,i.mention=i.hashtag=function(e,t,n,r){var o,i;return i=e[t].content,o=e[t].markup,""+o+i},r=function(){function e(){this.rules=o.extend({},i)}return e.prototype.renderAttrs=function(){return""},e.prototype.renderToken=function(e,t,n){var r,o,i,s;return i="",r=!1,s=e[t],s.hidden?"":(s.block&&-1!==s.nesting&&t&&e[t-1].hidden&&(i+="\n"),s.block&&(r=!0,1===s.nesting&&(t+1<e.length?(o=e[t+1],("inline"===o.type||o.hidden)&&(r=!1)):-1===o.nesting&&o.tag===s.tag&&(r=!1))),r&&(i+="\n"),i)},e.prototype.renderInline=function(e,t,n){var r,o,i,s,a,u;for(s="",r=o=0,
i=e.length;i>o;r=++o)a=e[r],u=e[r].type,s+="undefined"!=typeof this.rules[u]?this.rules[u](e,r,t,n,this):this.renderToken(e,r,t);return s},e.prototype.renderInlineAsText=function(e,t,n){var r,o,i,s,a;for(s="",r=o=0,i=e.length;i>o;r=++o)a=e[r],"text"===e[r].type?s+=this.rules.text(e,r,t,n,this):"image"===e[r].type&&(s+=this.renderInlineAsText(e[r].children,t,n));return s},e.prototype.render=function(e,t,n){var r,o,i,s,a,u;for(s="",r=o=0,i=e.length;i>o;r=++o)a=e[r],u=e[r].type,s+="inline"===u?this.renderInline(e[r].children,t,n):"undefined"!=typeof this.rules[u]?this.rules[e[r].type](e,r,t,n,this):this.renderToken(e,r,t,n);return s},e}(),t.exports=r},{underscore:891}],124:[function(e,t,n){moment.locale("en-12h",{longDateFormat:{LT:"h:mm A",L:"MMM D",LL:"MMM D, YYYY",LLL:"MMMM D, YYYY LT",LLLL:"dddd, MMMM D YYYY LT"}}),moment.locale("en-24h",{longDateFormat:{LT:"H:mm",L:"MMM D",LL:"MMM D, YYYY",LLL:"MMMM D, YYYY LT",LLLL:"dddd, MMMM D YYYY LT"}}),moment.locale(window.locale||"en-24h")},{}],125:[function(e,t,n){var r,o,i,s,a=function(e,t){
function n(){this.constructor=e}for(var r in t)u.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},u={}.hasOwnProperty,l=[].slice;o=function(){function e(){this._listeners={}}return e.prototype.addEventListener=function(e,t){var n;return(n=this._listeners)[e]||(n[e]=[]),this._listeners[e].push(t)},e.prototype.removeEventListener=function(e,t){var n;if(this._listeners[e])return this._listeners[e]=function(){var r,o,i,s;for(i=this._listeners[e],s=[],r=0,o=i.length;o>r;r++)n=i[r],n!==t&&s.push(n);return s}.call(this)},e.prototype.dispatchEvent=function(e){var t,n,r,o,i;if(e.type&&("function"==typeof this["on"+e.type]&&this["on"+e.type](e),this._listeners[e.type])){for(o=this._listeners[e.type],i=[],t=0,n=o.length;n>t;t++)r=o[t],i.push(r(e));return i}},e.prototype._event=function(e){var t;return t=document.createEvent("Event"),t.initEvent(e),t},e}(),r=function(e){function t(e,n){var r,o,i,s,a,u,l,c,p;for(null==n&&(n={}),t.__super__.constructor.apply(this,arguments),
this.underlying=window.webkitNotifications.createNotification(n.icon,e,n.body),l=t.events,i=0,a=l.length;a>i;i++)o=l[i],this["on"+o]=n["on"+o];for(p=function(){var e,n,i,s;for(i=t.events,s=[],e=0,n=i.length;n>e;e++)o=i[e],s.push(this.removeEventListener(name,r));return s},r=function(e){return function(t){return e.dispatchEvent(t),"close"===t.type?p():void 0}}(this),c=t.events,s=0,u=c.length;u>s;s++)o=c[s],this.underlying.addEventListener(o,r);this.underlying.show()}var n;return a(t,e),t.events=["show","close","error","click"],t.available=null!=window.webkitNotifications&&!(null!=(null!=(n=window.Notification)?n.permission:void 0)),t.requestPermission=function(e){var t;return null!=(t=window.webkitNotifications)?t.requestPermission(e):void 0},t.permissionLevel=function(){var e,t;return e=null!=(t=window.webkitNotifications)?t.checkPermission():void 0,0===e?"granted":2===e?"denied":"default"},t.prototype.close=function(){return this.underlying.close()},t}(o),s=function(){function e(e,t){null==t&&(t={}),this.notification=window.windowsApp.notifier(e,t);
}return e.available=null!=window.windowsApp,e.permission="granted",e.requestPermission=function(e){return"function"==typeof e?e("granted"):void 0},e.prototype.addEventListener=function(){var e,t;return e=1<=arguments.length?l.call(arguments,0):[],null!=(t=this.notification)?t.addEventListener.apply(t,e):void 0},e.prototype.removeEventListener=function(){var e,t;return e=1<=arguments.length?l.call(arguments,0):[],null!=(t=this.notification)?t.removeEventListener.apply(t,e):void 0},e.prototype.close=function(){},e}(),i=function(e){function t(e,n){null==n&&(n={}),t.__super__.constructor.call(this),this.onclose=n.onclose,this.onerror=n.onerror,this.onshow=n.onshow,this._show({title:e,content:n.body,payload:n.payload})}var n;return a(t,e),t.available=null!=("undefined"!=typeof macgap&&null!==macgap&&null!=(n=macgap.growl)?n.notify:void 0),t.permissionLevel=function(){return"granted"},t.requestPermission=function(e){return"function"==typeof e?e(this.permissionLevel):void 0},t.prototype._show=function(e){var t,n;return null!=("undefined"!=typeof macgap&&null!==macgap&&null!=(n=macgap.growl)?n.notify:void 0)?(macgap.growl.notify(e),
this.dispatchEvent(this._event("show")),setTimeout(function(e){return function(){return e.dispatchEvent(e._event("close"))}}(this),5e3)):(t=this._event("error"),t.message("MacGap notifications not available"),this.dispatchEvent(t))},t.prototype.close=function(){},t}(o),window.NotificationPolyfill={polyfills:[i,r,s],bestAlternative:function(){var e,t;return e=function(){var e,n,r,o;for(r=NotificationPolyfill.polyfills,o=[],e=0,n=r.length;n>e;e++)t=r[e],t.available&&o.push(t);return o}(),e.length>0?e[0]:window.Notification},replace:function(){return window.Notification=NotificationPolyfill.bestAlternative()}}},{}],126:[function(e,t,n){var r,o,i,s,a;for(o=0,a=["ms","moz","webkit","o"],r=0,i=a.length;i>r;r++)s=a[r],window.requestAnimationFrame||(window.requestAnimationFrame=window[s+"RequestAnimationFrame"],window.cancelAnimationFrame=window[s+"CancelAnimationFrame"]||window[s+"CancelRequestAnimationFrame"]);window.requestAnimationFrame||(window.requestAnimationFrame=function(e,t){var n,r,i;return n=(new Date).getTime(),
i=Math.max(0,16-(n-o)),r=setTimeout(function(){return e(n+i)},i),o=n+i,r}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){return clearTimeout(e)}),Bacon.fromAnimationFramePoll=function(e,t){return new EventStream(function(n){var r,o,i;return o=void 0,r=function(){return window.requestAnimationFrame(function(){var e,r;return r=t(),e=n(r),e===Bacon.noMore||r.isEnd()?i():void 0})},i=function(){return clearInterval(o)},o=setInterval(r,e),i})}},{}],127:[function(e,t,n){var r,o;o=function(e,t){return e?e.length*t:0},r={punctuation:function(e){return o(e.match(/[\[\]\.\(\);=`]/g),1)},camelCase:function(e){return o(e.match(/(?:\b[A-Z]?[a-z]+[A-Z][a-z]+\b)/g),2)+o(e.match(/(?:\b[A-Z]?(?:[a-z]+)(?:[A-Z][a-z]+){2,}\b)/g),10)},snakeCase:function(e){return o(e.match(/(?:\b(?:[a-z]+_[a-z])+)/g),5)},indentation:function(e){return o(e.match(/^(  |\t)+[^\s\d-#\*]/gm),20)},score:function(e){return r.punctuation(e)+r.indentation(e)+r.snakeCase(e)+r.camelCase(e)},detect:function(e){return e.length>8096?!1:r.score(e)/e.length>.1;
}},window.SourceDetector=r},{}],128:[function(e,t,n){t.exports=function(e){return e?e.replace(/^\w/,function(e){return e.toUpperCase()}):null}},{}],129:[function(e,t,n){var r;r=e("unicode-substring"),t.exports=function(e,t){var n,o,i,s;if(null==t&&(t=80),i=new RegExp(FlowdockText.regexen.hashtagAlpha.source+"+$","i"),n=/[\s\u0021-\u002F\u003A-\u0040\u005B-\u0060\u007B-\u007F\u00A0-\u00BF]$/,o="\u2026",s=s||o,t>=e.length)return e;for(e=r(e,0,t-s.length).replace(i,"");e&&n.test(e);)e=e.replace(n,"");return e?e+s:""}},{"unicode-substring":892}],130:[function(e,t,n){var r;r=e("highlight.js/lib/highlight"),r.registerLanguage("apache",e("highlight.js/lib/languages/apache")),r.registerLanguage("xml",e("highlight.js/lib/languages/xml")),r.registerLanguage("bash",e("highlight.js/lib/languages/bash")),r.registerLanguage("clojure",e("highlight.js/lib/languages/clojure")),r.registerLanguage("coffeescript",e("highlight.js/lib/languages/coffeescript")),r.registerLanguage("cpp",e("highlight.js/lib/languages/cpp")),r.registerLanguage("cs",e("highlight.js/lib/languages/cs")),
r.registerLanguage("css",e("highlight.js/lib/languages/css")),r.registerLanguage("markdown",e("highlight.js/lib/languages/markdown")),r.registerLanguage("diff",e("highlight.js/lib/languages/diff")),r.registerLanguage("ruby",e("highlight.js/lib/languages/ruby")),r.registerLanguage("erb",e("highlight.js/lib/languages/erb")),r.registerLanguage("go",e("highlight.js/lib/languages/go")),r.registerLanguage("haml",e("highlight.js/lib/languages/haml")),r.registerLanguage("haskell",e("highlight.js/lib/languages/haskell")),r.registerLanguage("http",e("highlight.js/lib/languages/http")),r.registerLanguage("ini",e("highlight.js/lib/languages/ini")),r.registerLanguage("java",e("highlight.js/lib/languages/java")),r.registerLanguage("javascript",e("highlight.js/lib/languages/javascript")),r.registerLanguage("json",e("highlight.js/lib/languages/json")),r.registerLanguage("lisp",e("highlight.js/lib/languages/lisp")),r.registerLanguage("lua",e("highlight.js/lib/languages/lua")),r.registerLanguage("makefile",e("highlight.js/lib/languages/makefile")),
r.registerLanguage("nginx",e("highlight.js/lib/languages/nginx")),r.registerLanguage("ocaml",e("highlight.js/lib/languages/ocaml")),r.registerLanguage("perl",e("highlight.js/lib/languages/perl")),r.registerLanguage("php",e("highlight.js/lib/languages/php")),r.registerLanguage("python",e("highlight.js/lib/languages/python")),r.registerLanguage("scala",e("highlight.js/lib/languages/scala")),r.registerLanguage("sql",e("highlight.js/lib/languages/sql")),r.registerLanguage("swift",e("highlight.js/lib/languages/swift")),t.exports=r},{"highlight.js/lib/highlight":553,"highlight.js/lib/languages/apache":554,"highlight.js/lib/languages/bash":555,"highlight.js/lib/languages/clojure":556,"highlight.js/lib/languages/coffeescript":557,"highlight.js/lib/languages/cpp":558,"highlight.js/lib/languages/cs":559,"highlight.js/lib/languages/css":560,"highlight.js/lib/languages/diff":561,"highlight.js/lib/languages/erb":562,"highlight.js/lib/languages/go":563,"highlight.js/lib/languages/haml":564,"highlight.js/lib/languages/haskell":565,
"highlight.js/lib/languages/http":566,"highlight.js/lib/languages/ini":567,"highlight.js/lib/languages/java":568,"highlight.js/lib/languages/javascript":569,"highlight.js/lib/languages/json":570,"highlight.js/lib/languages/lisp":571,"highlight.js/lib/languages/lua":572,"highlight.js/lib/languages/makefile":573,"highlight.js/lib/languages/markdown":574,"highlight.js/lib/languages/nginx":575,"highlight.js/lib/languages/ocaml":576,"highlight.js/lib/languages/perl":577,"highlight.js/lib/languages/php":578,"highlight.js/lib/languages/python":579,"highlight.js/lib/languages/ruby":580,"highlight.js/lib/languages/scala":581,"highlight.js/lib/languages/sql":582,"highlight.js/lib/languages/swift":583,"highlight.js/lib/languages/xml":584}],131:[function(e,t,n){var r;r=function(){function e(e){null==e&&(e={}),this.root=e}return e.prototype.set=function(t,n){return e.set(this.root,t,n)},e.prototype.prefixed=function(t){return new e(e.prefixed(this.root,t))},e.prototype.values=function(){return e.values(this.root)},e.set=function(e,t,n){
var r,o;for(r=0;r<t.length;)o=t[r++],e[o]||(e[o]={}),e=e[o];return e.end=n},e.prefixed=function(e,t){var n;for(n=0;n<t.length;)if(e=e[t[n++]],!e)return{};return e},e.values=function(e){var t,n,r,o,i;for(r=[e],o=[];r.length;){t=r.pop();for(n in t)i=t[n],"end"===n?o.push(i):r.push(i)}return o},e}(),t.exports=r},{}],132:[function(e,t,n){var r,o,i,s;o=e("socket.io-client"),s=function(e){return function(t){return e===t}},i=function(){return(new Date).getTime()},Models.Connection=function(){function e(){var t;this.io=Models.Connection.io(),this.outgoing={},this.flows=[],this.privates=[],this.messages=new Bacon.Bus,this.states=new Bacon.Bus,this.sendStream=new Bacon.Bus,this.internal=new Bacon.Bus,this.messages.plug(this.sendStream),this.connectionAlive=this.messages.filter(function(e){return e.id}).map(i).toProperty(i()),this.state=this.states.toProperty(Models.Connection.CONNECTING).skipDuplicates(),this.forcedReconnects=this.state.changes().errors().mapError(function(e){return e}).filter(function(e){return 11===(null!=e?e.code:void 0);
}),this.resetSocket(),this.state.onValue(function(t){return console.log("Connection state",t,e.REVERSE_STATE_MAP[t])}),t=this.state.filter(s(Models.Connection.OPEN)).changes().skip(1),this.ids=this.messages.merge(this.internal).scan({},function(e,t){return!t.id||"activity.user"===t.event&&e[t.flow]||(e[t.flow]=t.id),e}),Bacon.combineAsArray(this.ids,this.connectionAlive).onValue(function(){}),Bacon.combineAsArray(this.ids,this.connectionAlive).sampledBy(t).onValue(function(e){return function(t){var n,r,o,s;return o=t[0],n=t[1],n+Models.Connection.INACTIVITY_THRESHOLD>i()?(s=_.clone(e.outgoing),e.sync(o,function(t){return t?void 0:e.checkOutgoing(s)})):(console.log(new Date,"all flows invalid"),r=e.flows,e.flows=[],e.messages.error({error:"flow sync failed",flows:r}))}}(this)),this.state.filter(s(Models.Connection.CLOSED)).onValue(function(e){return function(){return e.messages.error("stream closed")}}(this)),this.sendStream.onValue(function(e){return function(t){var n,r;return r=function(n){return delete e.outgoing[t.uuid],
e.messages.error({message:t,error:n})},n=function(e){return e?r(e):void 0},t.uuid&&(e.outgoing[t.uuid]=r),e.socket.emit("message",t,n)}}(this)),this.messages.filter(function(e){return e.id}).onValue(function(e){return function(t){return delete e.outgoing[t.uuid]}}(this)),this.forcedReconnects.onValue(function(e){return function(t){return console.error(new Date,t),e.reconnect()}}(this))}return e.INACTIVITY_THRESHOLD=18e5,e.CONNECTING=0,e.OPEN=1,e.CLOSED=2,e.RECONNECTING=3,e.REVERSE_STATE_MAP={0:"CONNECTING",1:"OPEN",2:"CLOSED",3:"RECONNECTING"},e.io=function(){return o},e.prototype.resetSocket=function(){var e;return this.socket=this.userSocket=null,e=this.connect(),this.socket=e.flows,this.userSocket=e.user,this.stateStream(this.socket),this.stateStream(this.userSocket),this.messagesStream(this.socket),this.messagesStream(this.userSocket)},e.prototype.checkOutgoing=function(e){var t,n,r,o;n=this.outgoing,r=[];for(o in n)t=n[o],e[o]?r.push(t()):r.push(void 0);return r},e.prototype.formatIncomingMessage=function(e){
return e.user&&"string"==typeof e.user&&(e.user=parseInt(e.user,10)),e},e.prototype.messagesStream=function(e){var t;return t=r(e,"message").map(function(e){return e[1]||e[0]}).map(this.formatIncomingMessage),this.messages.plug(t.takeUntil(this.forcedReconnects))},e.prototype.stateStream=function(e){var t,n,r,o,i,s;return n=Bacon.fromEventTarget(e,"connecting").map(function(){return Models.Connection.CONNECTING}),t=Bacon.fromEventTarget(e,"connect").map(function(){return Models.Connection.OPEN}),r=Bacon.fromEventTarget(e,"disconnect").map(function(){return Models.Connection.CLOSED}),i=Bacon.fromEventTarget(e,"reconnecting").map(function(){return Models.Connection.RECONNECTING}),o=Bacon.fromEventTarget(e,"reconnect").map(function(){return Models.Connection.OPEN}),Bacon.fromEventTarget(e,"error").onValue(function(e){return function(t){return e.messages.error(t)}}(this)),Bacon.fromEventTarget(e,"connect_failed").onValue(function(e){return function(t){return e.messages.error(t)}}(this)),s=Bacon.mergeAll([t,n,r,o,i,this.messages.errors()]).skipDuplicates().takeUntil(this.forcedReconnects),
this.states.plug(s)},e.prototype.subscribe=function(e,t,n){var r,o;return o=this.socket,t?this.flows.push(e):(o=this.userSocket,this.privates.push(e)),r=function(e){return function(t,r){return t||e.internal.push({event:"last-event-id",flow:r.id,id:r.last_message_id}),n(t,r)}}(this),o.emit("subscribe",e,r)},e.prototype.unsubscribe=function(e,t,n){var r;return t?(this.flows=function(){var t,n,o,i;for(o=this.flows,i=[],t=0,n=o.length;n>t;t++)r=o[t],r!==e&&i.push(r);return i}.call(this),this.socket.emit("unsubscribe",e,function(e){return e&&n?n():void 0})):(this.privates=function(){var t,n,o,i;for(o=this.privates,i=[],t=0,n=o.length;n>t;t++)r=o[t],r!==e&&i.push(r);return i}.call(this),this.userSocket.emit("unsubscribe",e,function(e){return e&&n?n():void 0}))},e.prototype.sync=function(e,t){var n,r,o,i,s;for(n={},console.log(new Date,"sync",n),s=this.flows,o=0,i=s.length;i>o;o++)r=s[o],n[r]=e[r]||0;return this.socket.emit("resubscribe",n,function(e){return function(n,o){var i,s;if(n){if(o=e.flows,e.flows=[],e.messages.error({
error:"flow sync failed",reason:n,flows:o}),"function"==typeof t)return t("sync failed: "+n)}else{i=[];for(r in o)s=o[r],s===!1&&i.push(r);if(e.flows=_.difference(e.flows,i),i.length>0&&console.log("sync failed!",i),i.length>0&&e.messages.error({error:"flow sync failed",flows:i}),"function"==typeof t)return t()}}}(this))},e.prototype.disconnect=function(){var e,t,n,r;this.socket.disconnect(),this.userSocket.disconnect(),n=this.io.managers,r=[];for(t in n)e=n[t],r.push(delete this.io.managers[t]);return r},e.prototype.reconnect=function(){return console.log("resetting connection"),this.disconnect(),setTimeout(function(e){return function(){return e.resetSocket(),e.states.push(Models.Connection.RECONNECTING)}}(this),1e3)},e.prototype.connect=function(){var e,t,n;return n="mobile"===window.platform?["polling"]:["polling","websocket"],e={transports:n,reconnectionAttempts:Infinity,reconnectionDelayMax:16e3,path:"/jplex/",multiplex:!0,timeout:6e4},t={flows:this.io(window.location.protocol+"//"+window.location.host+"/flow",e),
user:this.io(window.location.protocol+"//"+window.location.host+"/user",e)}},e}(),r=function(e,t){return new Bacon.EventStream(function(n){var r,o;return r=function(){var e;return e=n(new Bacon.Next(arguments)),e===Bacon.noMore?o():void 0},e.addEventListener?(o=function(){return e.removeEventListener(t,r,!1)},e.addEventListener(t,r,!1)):(o=function(){return e.removeListener(t,r)},e.addListener(t,r)),o})}},{"socket.io-client":843}],133:[function(e,t,n){var r=function(e,t){function n(){this.constructor=e}for(var r in t)o.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},o={}.hasOwnProperty;Models.Emoji=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return r(t,e),t.prototype.colonized=function(){return":"+this.id+":"},t}(Backbone.Model)},{}],134:[function(e,t,n){var r,o,i=function(e,t){function n(){this.constructor=e}for(var r in t)s.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},s={}.hasOwnProperty;
Models.Filter=function(){function e(e){var t,n,r,o;null==e&&(e={}),(n=e.label)&&(this.label=n),null==this.event&&(this.event=[]),this.iconUrl=e.iconUrl,null==this.tags&&(this.tags=[]),null==this.application&&(this.application=[]),_.isArray(e.event)?this.event=_.uniq(this.event.concat(e.event)):e.event&&(this.event=_.uniq(this.event.concat(e.event.split(",")))),e.application||(e.application=e.activity),t=this._toStringArray(e.application||e.activity).map(function(e){return Number(e)}),this.application=_.uniq(this.application.concat(t)),_.isArray(e.tags)?this.tags=_.uniq(this.tags.concat(_.map(e.tags,function(e){return(null!=e?e.id:void 0)||e}))):e.tags&&(this.tags=_.uniq(this.tags.concat(e.tags.split(",")))),("and"===(r=null!=(o=e.tagMode)?o.toLowerCase():void 0)||"or"===r)&&(this.tagMode=e.tagMode)}return e.prototype.tagMode="and",e.build=function(e){var t;return null==e&&(e={}),e.query?new Models.Filter.Search(e):e.slug&&Models.Filter.filterMap()[e.slug]?new(t=Models.Filter.filterMap()[e.slug])(e):new Models.Filter(e);
},e.fromQuery=function(e){var t,n;return n=e.filter,t=_.extend({},_.omit(e,"filter"),{slug:n}),Models.Filter.build(t)},e.filterMap=function(){return{files:Models.Filter.Files,links:Models.Filter.Links}},e.labelMap=function(){return{mail:"Push API",twitter:"Twitter",vcs:"Git",jira:"JIRA",mercurial:"Bitbucket",hg:"Mercurial",svn:"Subversion",kiln:"Kiln",confluence:"Confluence",activity:"API",discussion:"API",file:"Files",perforce:"Perforce"}},e.prototype._toStringArray=function(e){return null==e?[]:_.isArray(e)?e:(""+e).split(",")},e.prototype.className=function(){return this.slug?"all"===this.slug?this.slug:this.slug+"-only":1===this.event.length?this.event[0]:void 0},e.prototype.subsetOf=function(e){return this.isAll()&&!e.isAll()?!1:this.query===e.query&&0===_.difference(e.tags,this.tags).length&&0===_.difference(this.event,e.event).length},e.prototype.isEqual=function(e){return e.subsetOf(this)&&this.subsetOf(e)},e.prototype.notEqual=function(e){return!this.isEqual(e)},e.prototype.isAll=function(){return 0===this.event.length&&0===this.tags.length&&!this.query&&0===this.application.length;
},e.prototype.matchesTo=function(e){var t,n,r;return n=function(e){return function(t){return _.isArray(e.event)&&e.event.length>0?_.include(e.event,t.event):!0}}(this),t=function(e){return function(t){return _.isArray(e.application)&&e.application.length>0?_.include(e.application,t._application):!0}}(this),r=function(e){return function(t){var n,r,o,i;if(_.isArray(e.tags)&&e.tags.length>0){if("or"===e.tagMode){for(o=e.tags,n=0,r=o.length;r>n;n++)if(i=o[n],_.include(t.tags,i))return!0;return!1}return 0===_.difference(e.tags,t.tags).length}return!0}}(this),!this.query&&t(e)&&n(e)&&r(e)},e.prototype.normalize=function(e){return this.tags=this.tags.map(function(t){return e.tags.getByHumanized(t).id})},e.prototype.merge=function(e){return Models.Filter.build({slug:e.slug||this.slug,event:this.event.concat(e.event),tags:this.tags.concat(e.tags),query:e.query||this.query,application:e.application,iconUrl:e.iconUrl||this.iconUrl})},e.prototype.queryString=function(e){var t;return t=this.asVisibleParams(e),_.isEmpty(t)&&"inbox"===this.slug?"":Helpers.generateQuery(_.extend({
filter:this.slug},t),{showEmpty:!1})},e.prototype.asVisibleParams=function(e){return o({event:this.slug?_.difference(this.event,this.constructor.prototype.event):this.event,tags:r(this.slug?_.difference(this.tags,this.constructor.prototype.tags):this.tags,e),query:this.query,activity:this.application})},e.prototype.asParams=function(){var e;return o({event:this.event,tags:this.tags,search:this.query,tag_mode:(null!=(e=this.tags)?e.length:void 0)?this.tagMode:void 0,activity:this.application})},e.prototype.inboxFilter=function(){return"inbox"===this.slug||this.event.length>0&&_.all(this.event,function(e){return _.include(Models.Filter.Inbox.prototype.event,e)})},e.prototype.getLabel=function(){var e;return this.label?this.label:1===this.event.length&&(e=Models.Filter.labelMap()[this.event[0]])?e:this.event.length+" Events"},e.prototype.toString=function(){var e;return _.isString(this.application)||(null!=(e=this.application)?e.length:void 0)>0?this.label:Models.Filter.labelMap()[this.event]||this.label},e.prototype.icon=function(){
var e;return(null!=(e=this.application)?e.length:void 0)?void 0:this.event},e.prototype.type=function(){return"filter"},e.prototype.isCustom=function(){return this.event.length||_.any(this.tags,function(e){return":thread"===e||":url"===e})},e.prototype.isEmpty=function(){return!(this.event&&0!==this.event.length||this.query&&""!==this.query||this.tags&&0!==this.tags.length)},e}(),Models.Filter.Inbox=function(e){function t(e){var n;null==e&&(e={}),t.__super__.constructor.apply(this,arguments),(null!=(n=e.event)?n.length:void 0)&&(_.isArray(e.event)?this.event=e.event:this.event=e.event.split(","))}return i(t,e),t.prototype.slug="inbox",t.prototype.label="Inbox",t.prototype.event=["mail","twitter","vcs","jira","mercurial","hg","svn","kiln","confluence","activity","discussion"],t.prototype.className=function(){return 1===this.event.length?this.event[0]:"inbox-only"},t.prototype.getLabel=function(){return 1===this.event.length?Models.Filter.labelMap()[this.event[0]]:this.label},t.prototype.inboxFilter=function(){return!0;
},t.prototype.asVisibleParams=function(e){return o({event:this.event.length>1?_.difference(this.event,this.constructor.prototype.event):this.event,tags:r(this.tags,e)})},t}(Models.Filter),Models.Filter.Application=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return i(t,e),t.prototype.event=null,t}(Models.Filter.Inbox),Models.Filter.Chat=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return i(t,e),t.prototype.slug="chat",t.prototype.label="Chat",t.prototype.event=["message","comment","file","action","status","user-edit","line"],t}(Models.Filter),Models.Filter.All=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return i(t,e),t.prototype.slug="all",t.prototype.label="All",t.prototype.event=Models.Filter.Chat.prototype.event.concat(Models.Filter.Inbox.prototype.event),t}(Models.Filter),Models.Filter.Files=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return i(t,e),t.prototype.slug="files",t.prototype.label="Files",
t.prototype.event=["file"],t}(Models.Filter),Models.Filter.Links=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return i(t,e),t.prototype.slug="links",t.prototype.label="Links",t.prototype.tags=[":url"],t.prototype.icon="fa fa-fw fa-link",t}(Models.Filter),Models.Filter.Comments=function(e){function t(e,n){this.parent=e,null==n&&(n={}),t.__super__.constructor.call(this,n)}return i(t,e),t.prototype.subsetOf=function(e){return!1},t.prototype.matchesTo=function(e){return this.parent.id&&_.include(e.tags,"influx:"+this.parent.id)&&t.__super__.matchesTo.call(this,e)},t.prototype.asParams=function(){var e,n;return e=t.__super__.asParams.apply(this,arguments),null!=this.parent.id&&(n="influx:"+this.parent.id,null!=e.tags?e.tags+=","+n:e.tags=n),e},t}(Models.Filter),Models.Filter.Search=function(e){function t(e){null==e&&(e={}),this.query=e.query,this.tags=[]}return i(t,e),t.prototype.slug="search",t.prototype.label="Search",t.prototype.event=Models.Filter.All.prototype.event,t}(Models.Filter),
o=function(e){return _.reduce(e,function(e,t,n){return n&&(null!=t?t.length:void 0)&&(e[n]=_.isArray(t)?t.join(","):t),e},{})},r=function(e,t){return e.map(function(e){return e=t.tags.getOrAdd(e).toString(),"#"===e[0]?e.slice(1):e})},Models.Filter.Thread=function(e){function t(e,n){this.thread=e,null==n&&(n={}),t.__super__.constructor.call(this,n)}return i(t,e),t.prototype.subsetOf=function(e){return!1},t.prototype.matchesTo=function(e){return this.thread&&this.thread===e.thread_id&&e.persist!==!1},t.prototype.asParams=function(){return{}},t}(Models.Filter)},{}],135:[function(e,t,n){var r=function(e,t){return function(){return e.apply(t,arguments)}},o=function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},i={}.hasOwnProperty;Models.Flow=function(e){function t(e,n){null==e&&(e={}),null==n&&(n={}),this.eventStreamFilter=r(this.eventStreamFilter,this),this.isReadUpdateMessage=r(this.isReadUpdateMessage,this),
this._embedded=n.embedded!==!1,this._embedded&&(this.users=new Collections.Users([],{flow:this}),this.unreadMessages=new Flowdock.UnreadMessages({flow:this}),this.tags=new Collections.Tags([],{flow:this}),this.invitations=new Collections.Invitations([],{flow:this}),this.emoji=new Collections.Emoji([],{flow:this}),this.fullyLoaded=new $.Deferred,this.legacySources=new Collections.LegacySources([],{flow:this}),this.sources=new Collections.Sources([],{flow:this}),this.integrations=new Collections.Integrations([],{flow:this}),this.groups=new Collections.FlowGroups(e.flow_groups||[],{flow:this})),t.__super__.constructor.apply(this,arguments)}return o(t,e),t.prototype.isFlow=function(){return!0},t.prototype.isPrivate=function(){return!1},t.prototype.url=function(){return Helpers.apiUrl(this.get("url")||Helpers.apiUrl("/flows/"+this.path()))},t.prototype.email=function(){return this.get("email")},t.prototype.initialize=function(e,t){return null==t&&(t={}),this.stream=new Bacon.Bus,this.subscriptions=[],t.embedded!==!1?this.subscriptions.push(this.stream.filter(function(e){
return 0===e.event.indexOf("open-invitation-")}).onValue(function(e){return function(t){return"open-invitation-enable"===t.event?e.set("join_url",t.content.url):"open-invitation-disable"===t.event?e.unset("join_url"):void 0}}(this))):void 0},t.prototype.getUserById=function(e){return this.users.get(e)},t.prototype.me=function(){return this.users.get(Flowdock.app.user.id)},t.prototype.path=function(){return this.get("url")?this.get("url").split("/").slice(-2).join("/"):this.get("organization_subdomain")},t.prototype.fullName=function(){return this.get("name")+" ("+this.get("organization").name+")"},t.prototype.organization=function(){return this.get("organization").id},t.prototype.consume=function(e){return this._embedded&&(this.tags.consume(this.stream),this.users.consume(this.stream),this.invitations.consume(this.stream),this.legacySources.consume(this.stream),this.emoji.consume(this.stream),this.sources.consume(this.stream),this.unreadMessages.consume(this.stream),this.groups.consume(this.stream),this.stream.plug(e.filter(this.eventStreamFilter))),
this},t.prototype.subscribe=function(e){return e.subscribe(this.id,!0,function(e){return function(t,n){return console.log("Subscribed to flow",e.path(),t,n),t?e.trigger("subscribe-failed",e):e.set(e.parse(_.extend(n,{open:!0}))),t?e.fullyLoaded.reject():e.fullyLoaded.resolve()}}(this)),this.fullyLoaded.promise()},t.prototype.unsubscribe=function(e){return e.unsubscribe(this.id,!0),this.reset()},t.prototype.buildMessage=function(e,t){return null==t&&(t=Models.Message),new t(_.extend({flow:this.id},e))},t.prototype.cleanup=function(){var e,t,n,r,o,i,s,a,u,l,c;for(n=this.subscriptions,e=0,t=n.length;t>e;e++)(c=n[e])();return null!=(r=this.tags)&&r.cleanup(),null!=(o=this.users)&&o.cleanup(),null!=(i=this.invitations)&&i.cleanup(),null!=(s=this.legacySources)&&s.cleanup(),null!=(a=this.emoji)&&a.cleanup(),null!=(u=this.sources)&&u.cleanup(),null!=(l=this.unreadMessages)&&l.destructor(),this.tags=null,this.users=null,this.invitations=null,this.legacySources=null,this.emoji=null,this.sources=null,this.subscriptions=[],
this.unreadMessages=null},t.prototype.reset=function(){return"pending"===this.fullyLoaded.state()&&this.fullyLoaded.reject(),this.fullyLoaded=new $.Deferred,this.tags.reset(),this.users.reset(),this.invitations.reset(),this.legacySources.reset(),this.emoji.reset(),this.sources.reset(),this.trigger("flow-unloaded",this)},t.prototype.set=function(e,n){var r,o,i,s,a,u,l,c,p,d,h,f,m,g,v,b;if(null==n&&(n={}),e.users&&null!=(a=this.users)&&a.reset(e.users),e.tags&&null!=(u=this.tags)&&u.reset(function(){var t,n;t=e.tags,n=[];for(v in t)r=t[v],n.push({id:v,count:r});return n}()),e.invitations&&null!=(l=this.invitations)&&l.reset(e.invitations),e.emoji&&null!=(c=this.emoji)&&c.reset(e.emoji),e.sources&&null!=(p=this.sources)&&p.reset(e.sources),e.integrations&&null!=(d=this.integrations)&&d.reset(e,{parse:!0}),e.flow_groups&&null!=(h=this.groups)&&h.reset(e.flow_groups),delete e.tags,delete e.users,delete e.invitations,delete e.sources,delete e.emoji,delete e.integrations,(null!=e&&null!=(f=e.url)?f.match(/https?:\/\/api\./):void 0)&&(b=e.url.replace("api.","www."),
s=null!=(m=b.match(/https?:\/\/[\w\.]+(?=\/)/))?m[0]:void 0,null!=s&&(e.url=b.replace(s,s+"/rest"))),null!=(null!=e?e.url:void 0)&&e.url!==this.get("url")&&null!=this.get("_links")&&null==e._links){g=this.get("_links");for(o in g)i=g[o],null!=i.href&&(i.href=i.href.replace(this.get("url"),e.url))}return t.__super__.set.apply(this,arguments)},t.prototype.isReadUpdateMessage=function(e){return null!=e.content&&null!=e.content.read&&null!=e.content.read.flows&&e.content.read.flows[this.id]},t.prototype.eventStreamFilter=function(e){return e.flow===this.id||this.isReadUpdateMessage(e)},t.prototype.typingUsers=function(e){return this.users.typing.map(function(t){var n,r,o,i;for(i=[],r=0,o=t.length;o>r;r++)n=t[r],n.id===e&&i.push(n.user);return i})},t.prototype.enableJoinUrl=function(){return this.can("post","join_url")?$.ajax(this.resourceUrl("join_url"),{dataType:"json",type:"POST",success:function(e){return function(t){return e.set("join_url",t.join_url)}}(this)}):(new $.Deferred).reject()},t.prototype.disableJoinUrl=function(){
return this.can("delete","join_url")?this.fullyLoaded.then(function(e){return function(){var t;return t=e.get("join_url"),e.unset("join_url"),$.ajax(e.resourceUrl("join_url"),{type:"POST",data:{_method:"delete"},error:function(){return e.set({join_url:t})}})}}(this)):(new $.Deferred).reject()},t.prototype.combinedAccessMode=function(){return this.get("access_mode")+";"+(this.has("join_url")?"link":"no-link")},t.prototype.resetToken=function(){return $.post(this.resourceUrl("api_token")).done(function(e){return function(t){return e.set("api_token",t.api_token)}}(this))},t.prototype.renameUrl=function(){return this.get("url")+"/rename"},t.prototype.rename=function(e,t){var n;return null==t&&(t=!1),n={flow:{name:e}},t&&(n.flow.parameterized_name=t),$.ajax({url:this.renameUrl(),type:"put",data:n,dataType:"json"})},t.prototype.emojiKeys=function(){return this.emoji.keys()},t.prototype.initials=function(){var e,t;return t=emojimoji(this.get("name")).split(" ").map(function(e){return e.replace(/[\W_]/g,"")}).filter(function(e){
return e.length}),e=0===t.length?[""]:1===t.length?[t[0][0],t[0][1]]:t.length>1?t.slice(0,2).map(function(e){return e[0]}):void 0},t.prototype.receivesTeamNotifications=function(){return this.get("team_notifications")!==!1},t}(Backbone.Model)},{}],136:[function(e,t,n){var r=function(e,t){function n(){this.constructor=e}for(var r in t)o.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},o={}.hasOwnProperty;Models.FlowGroup=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return r(t,e),t.prototype.defaults=function(){return{members:[]}},t.prototype.isMember=function(e){return 0!==this.get("members").filter(function(t){return t.id===e.id}).length},t}(Backbone.Model)},{}],137:[function(e,t,n){var r=function(e,t){function n(){this.constructor=e}for(var r in t)o.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},o={}.hasOwnProperty;Models.FlowPreferences=function(e){function t(){return t.__super__.constructor.apply(this,arguments);
}return r(t,e),t.prototype.defaults={inbox_visible:!1},t.prototype.inboxVisible=function(){return this.get("inbox_visible")},t}(Backbone.Model)},{}],138:[function(e,t,n){var r=function(e,t){function n(){this.constructor=e}for(var r in t)o.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},o={}.hasOwnProperty;Models.Integration=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return r(t,e),t.prototype.idAttribute="service",t}(Backbone.Model)},{}],139:[function(e,t,n){var r=function(e,t){function n(){this.constructor=e}for(var r in t)o.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},o={}.hasOwnProperty;Models.Invitation=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return r(t,e),t.prototype.url=function(){return this.get("url")?Helpers.apiUrl(this.get("url")):t.__super__.url.apply(this,arguments)},t.prototype.resend=function(e){return $.post(this.collection.url(),{
email:this.get("email")},function(t){return(null!=e?e.success:void 0)?e.success(t):void 0}).error(function(t){return(null!=e?e.error:void 0)?e.error(t):void 0})},t}(Backbone.Model)},{}],140:[function(e,t,n){var r=function(e,t){function n(){this.constructor=e}for(var r in t)o.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},o={}.hasOwnProperty;Models.LegacySource=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return r(t,e),t.prototype.initialize=function(e,n){return null==e&&(e={}),null==n&&(n={}),this.flow=n.flow,t.__super__.initialize.apply(this,arguments)},t.prototype.url=function(){var e;return this.get("url")?Helpers.apiUrl(this.get("url")):(null!=(e=this.flow)?e.url():void 0)+"/legacy_sources"},t.prototype.setConfig=function(e,t){var n,r;return n=this.get("config"),r={},r[e]=t,this.get("config").set(_.extend({},this.get("config"),r))},t.prototype.getConfig=function(e){return this.get("config")[e]},t.prototype.displayName=function(){
switch(this.get("type")){case"twitter_user":return this.getConfig("name");case"twitter_keyword":return this.getConfig("param")}},t}(Backbone.Model)},{}],141:[function(e,t,n){var r=function(e,t){function n(){this.constructor=e}for(var r in t)o.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},o={}.hasOwnProperty,i=[].slice;Models.Marker=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return r(t,e),t.prototype.parseId=function(){var e,t,n;return t=this.id.split(":"),n=t[0],e=2<=t.length?i.call(t,1):[],[n,e.join(":")]},t.prototype.validate=function(e,t){var n,r;for(n in e)if(r=e[n],"id"!==n&&this.get(n)>r)return"Markers cannot be downgraded";return!1},t}(Backbone.Model)},{}],142:[function(e,t,n){var r,o,i=function(e,t){function n(){this.constructor=e}for(var r in t)s.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},s={}.hasOwnProperty,a=[].indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(t in this&&this[t]===e)return t;
return-1};o=e("../lib/string.truncate"),r=e("../lib/markdown"),Models.Message=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return i(t,e),t.prototype.defaults=function(){return{event:"message",content:"",emojiReactions:{},tags:[]}},t.prototype.sync=Flowdock.socketIoSync,t.prototype.getTitle=function(){var e,t,n;return e=this.get("content"),n=null!=(t=this.get("thread"))?t.title:void 0,(null!=e?e.file_name:void 0)?null!=e?e.file_name:void 0:"object"==typeof e?n:e||n},t.prototype._threadTitle=function(e){return e?o(r.text(r.parse(e)).split(/\n/)[0]||"",80).trim():"file"===this.get("event")&&this.isUnsaved()?"Uploading file":void 0},t.prototype.initialize=function(e,t){var n,r,o;return null==e&&(e={}),null==t&&(t={}),e.uuid||this.set("uuid",this.generateUuid()),t.flow&&(this._flow=t.flow,this.set({flow:t.flow.id})),n=this.isUnsaved()&&!t["private"]&&!this.get("thread_id")&&"chat"===this.get("app")&&("message"===(r=this.get("event"))||"file"===r||"status"===r||"line"===r),n&&(o=this.generateThreadId(),
this.set({thread:{title:this._threadTitle(this.getContent()),id:o},thread_id:o}),Flowdock.analytics.trackHighVolume(Flowdock.ANALYTICS_EVENT_TYPES.threads_add)),t["private"]&&(this._private=t["private"],this.set({to:t["private"].id})),t.comments!==!1?this.comments=new Collections.CommentMessages([],{flow:this.flow(),message:this,fresh:t.fresh}):void 0},t.prototype.threadColor=function(){return this.isThreadStarter()||this.isInConversation()?Helpers.CommentHelper.color(this.flow().id,this.threadId()):null},t.prototype.isUnsaved=function(){return null==this.id},t.fromOpenFlows=function(e,t){return e.filter(function(e){var n;return e.to||(null!=(n=t.get(e.flow))?n.get("open"):void 0)})},t.ignoreByFlow=function(e,t){return t.map(function(e){return e||!1}).sampledBy(e,function(e,t){return e?e.isFlow()&&null!=t.flow&&t.flow===e.id?!1:e.isPrivate()&&null!=t.to&&e.isBetweenUsers([t.user,t.to])?!1:t:t}).filter(function(e){return e})},t.highlightStream=function(e,t){return e.filter(function(e){return new Models.Message(e).highlights(t);
})},t.prototype.url=function(){return this.flow().url()+"/messages/"+this.id},t.prototype.flow=function(){return this._flow?this._flow:this._private?this._private:this.collection?this.collection.flow:null==Flowdock.app?null:this.get("to")?Flowdock.app.privates.forMessage(this):Flowdock.app.flows.get(this.get("flow"))},t.prototype.tags=function(){var e,t,n,r,o;for(n=this.get("tags"),r=[],e=0,t=n.length;t>e;e++)o=n[e],r.push(this.flow().tags.getOrAdd(o));return r},t.prototype.humanTags=function(){return _.filter(this.tags(),function(e){return e.humanize()})},t.prototype.generateThreadId=function(){return this.generateIdentifier(27)},t.prototype.generateUuid=function(){return this.generateIdentifier(16)},t.prototype.generateIdentifier=function(e){var t,n;return t="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghiklmnopqrstuvwxyz-_",function(){var r,o,i;for(i=[],n=r=0,o=e;o>=0?o>r:r>o;n=o>=0?++r:--r)i.push(t.charAt(Math.floor(Math.random()*t.length)));return i}().join("")},t.prototype.myMessage=function(){var e,t,n,r,o;
return o=null!=(t=this.user())?t.id:void 0,e=null!=(n=this.flow())&&null!=(r=n.me())?r.id:void 0,!(!o||!e||o!==e)},t.prototype.editable=function(){var e;return"message"===(e=this.get("event"))||"comment"===e},t.prototype.getContent=function(){var e;return"comment"===this.get("event")?this.get("content").text:"message"===(e=this.get("event"))||"status"===e?this.get("content"):void 0},t.prototype.containsNSFWContent=function(){var e,t,n,r;return e=_.some(this.humanTags(),function(e){return"nsfw"===e.id}),n=!!("function"==typeof this.getContent&&null!=(r=this.getContent())?r.match(/\bnsfw\b/i):void 0),t=n&&!!this.getContent().match(/#nsfw\b/i),t?e:e||n},t.prototype.isDeleted=function(){return this.editable()&&""===this.getContent()&&null!=this.get("edited")},t.prototype.searchReplaceContent=function(e,t){var n,r;if(this.editable())return r=function(e,t,n){var r;return r=e.replace(RegExp(t,"gi"),n),r!==e?r:void 0},"comment"===this.get("event")?n=r(this.get("content").text,e,t):"message"===this.get("event")&&(n=r(this.get("content"),e,t)),
this.updateContent(n)},t.prototype.updateContent=function(e,t){return _.isString(e)?(0===e.trim().length&&(e=""),e.length>8e3&&(e=e.slice(0,8e3)),"comment"===this.get("event")?this.set({content:_.extend(this.get("content"),{text:e})}):"message"===this.get("event")&&this.set("content",e),this.saveWithRetry(null,t)):void 0},t.prototype.sendableToRally=function(){var e,t,n;return"Rally"===(null!=(e=this.get("thread"))&&null!=(t=e.source)&&null!=(n=t.application)?n.name:void 0)&&this.editable()&&this.myMessage()},t.prototype.rethread=function(e,t){return Flowdock.analytics.track(t),$.post(this.url()+"/rethread",{thread_id:e})},t.prototype.removable=function(){return"influx"===this.get("app")?!0:"file"===this.get("event")&&this.myMessage()},t.prototype.user=function(){var e,t;return this.has("external_user_name")?new Models.ExternalUser({nick:this.get("external_user_name")}):0===(e=this.get("user"))||"0"===e||null===e?new Models.DefaultUser:this.flow()?(t=this.get("event"),a.call(Models.Filter.Chat.prototype.event,t)>=0?this.flow().users.getOrAdd(this.get("user")):this.flow().users.get(this.get("user"))):void 0;
},t.prototype.isValid=function(){var e;return this.attributes.flow||this.attributes.to?("message"===(e=this.attributes.event)||"line"===e)&&this.attributes.content.trim().length<=0?!1:!0:!1},t.prototype.isInformational=function(){var e;return"action"===(e=this.get("event"))||"activity"===e||"line"===e||"status"===e||"user-edit"===e},t.prototype.presenterData=function(){var e,t;return{flowPath:"function"==typeof(e=this.flow()).path?e.path():void 0,groups:this.flow().groups,inTeam:this.inTeam(Flowdock.app.user),sent:this.get("sent"),thread:this.get("thread"),user:null!=(t=this.user())?t.toJSON():void 0,users:this.flow().users.toJSON()}},t.prototype.presenter=function(e){var t,n,r;return"activity"===(n=this.get("event"))||"discussion"===n?(t=(null!=e?e.collapseThreads:void 0)?(null!=(r=this.collection)?r.threadGroupOf(this):void 0)||[]:[this],new Presenters.Activity(this.toJSON(),t,null!=e?e.lineLimit:void 0)):"thread"===this.get("event")?new Presenters.Thread(this.toJSON()):Presenters.createPresenter(this.get("event"),this.get("content"),_.extend(this.presenterData(),e));
},t.prototype.appendedAttachments=function(){return(this.get("attachments")||[]).filter(function(e){return!e.content_disposition||!e.content_disposition.match(/^inline/)})},t.prototype.previousTags=function(e){var t,n,r,o,i,s;return null==e&&(e=!1),o=this.previousAttributes().tags,n=this.get("tags"),t=_.difference(n,o),i=_.difference(o,n),r=function(e){return function(t){return e.collection?e.collection.flow.tags.getOrAdd(t):new Models.Tag({id:t})}}(this),e?{add:t,remove:i}:{add:function(){var e,n,o;for(o=[],e=0,n=t.length;n>e;e++)s=t[e],o.push(r(s));return o}(),remove:function(){var e,t,n;for(n=[],e=0,t=i.length;t>e;e++)s=i[e],n.push(r(s));return n}()}},t.prototype.modifyTags=function(e){var t,n,r,o,i,s;return null==e&&(e={}),t=function(){var t,n,r,o;for(r=e.add||[],o=[],t=0,n=r.length;n>t;t++)s=r[t],o.push(s.toLowerCase());return o}(),i=function(){var t,n,r,o;for(r=e.remove||[],o=[],t=0,n=r.length;n>t;t++)s=r[t],o.push(s.toLowerCase());return o}(),r=this.get("tags"),n=_.union(_.difference(r,i),t),this.set("tags",n,{
user:e.user||(null!=(o=window.user)?o.id:void 0)}),this.trigger("tag-change",{add:t,remove:i}),e.remote!==!0&&e.sync!==!1&&this.sync("tag-change",this,{tagChanges:{add:t,remove:i}}),this},t.prototype.handleEmojiReaction=function(e){var t,n,r;return null==e&&(e={}),t=e.emoji,r=e.user,n=this.get("emojiReactions"),"add"===e.type?(n[t]=n[t]||[],-1===n[t].indexOf(r)&&n[t].push(r)):"remove"===e.type&&n[t]&&(n[t]=n[t].filter(function(e){return e!==r}),n[t].length||delete n[t]),this.set("emojiReactions",n),this.trigger("change:emojiReactions",this,n),this},t.prototype.tagDifference=function(e){return{add:_.difference(e,this.get("tags")),remove:_.difference(this.get("tags"),e)}},t.prototype.addTags=function(e,t){return null==t&&(t={}),this.modifyTags(_.extend({},t,{add:e}))},t.prototype.removeTags=function(e,t){return null==t&&(t={}),this.modifyTags(_.extend({},t,{remove:e}))},t.prototype.markAsRead=function(e){return e&&this.unread(e)?this.removeTags([":unread:"+e.id]):void 0},t.prototype.parent=function(){var e;return null!=(e=_.find(this.get("tags"),Models.Tag.inboxTag))?e.split(":").pop():void 0;
},t.prototype.isThread=function(){return!(!this.get("thread_id")||!this.get("thread"))},t.prototype.threadId=function(){return this.get("thread_id")?this.get("thread_id"):parseInt(this.parent(),10)||this.get("id")},t.prototype.hasComments=function(){var e;return e=Models.Tag.special.thread,a.call(this.get("tags")||[],e)>=0},t.prototype.hasTag=function(e){var t;return t=e.id||e,_.any(this.get("tags")||[],function(e){return e===t})},t.prototype.highlights=function(e,t){var n,r;return null==t&&(t={}),e&&-1!==Models.Filter.All.prototype.event.indexOf(this.get("event"))?(r=e.get("id").toString(),t["private"]&&null!=this.get("to")&&String(this.get("to"))===r?!0:(n=[":user:"+r,":user:everyone"].concat(e.flowGroups().map(function(e){return Models.Tag.groupTagFor(e.id)})),this.inTeam(e)&&n.push(":user:team"),_.any(this.get("tags"),function(e){return a.call(n,e)>=0}))):!1},t.prototype.inTeam=function(e){var t,n;if(e)return n=e.get("id").toString(),!this.flow().isPrivate()&&(null!=(t=this.flow().users.get(n))?t.get("team_notifications"):void 0);
},t.prototype.usersReadMessage=function(){var e;return e=this.flow().isPrivate(),this.flow().users.available().filter(function(t){return function(n){return t.highlights(n,{"private":e})&&!t.unread(n)}}(this))},t.prototype.unread=function(e){var t;return e?(t=e.id||e,_.include(this.get("tags"),":unread:"+t)):!1},t.prototype.commentable=function(){return!this.isComment()},t.prototype.isInConversation=function(){var e;return this.isThread()?(e=this.get("thread"),e.initial_message!==this.id||(e.internal_comments||0)+(e.external_comments||0)+(e.activities||0)>1):this.hasComments()||this.parent()},t.prototype.isCommentToThread=function(){var e,t;return this.isThread()?("message"===(e=this.get("event"))||"file"===e||"comment"===e||"discussion"===e)&&(null!=(t=this.get("thread"))?t.initial_message:void 0)!==this.id:this.parent()},t.prototype.isComment=function(){return null!=_.find(this.get("tags"),Models.Tag.inboxTag)},t.prototype.isPrivate=function(){var e;return null!=(e=this.flow())?e.isPrivate():void 0},t.prototype.isDeprecated=function(){
var e;return e=_.find(this.flow().integrations.deprecated(),function(e){return function(t){return t.get("service")===e.get("event")}}(this)),this._skipNonGithubVcsEvents()?!1:null!=e},t.prototype._skipNonGithubVcsEvents=function(){return"vcs"===this.get("event")&&!this._isGitHub()},t.prototype._isGitHub=function(){var e,t,n;return null!=(e=this.get("content"))&&null!=(t=e.repository)&&null!=(n=t.url)?n.match("^https://api.github.com"):void 0},t.prototype.consume=function(e){var t;return this.subscriptions=[],t=e.filter(function(e){return function(t){return t.flow===e.get("flow")}}(this)),this.subscriptions.push(t.filter(function(e){return function(t){return"tag-change"===t.event&&t.content.message===e.id}}(this)).onValue(function(e){return function(t){return e.modifyTags({add:t.content.add,remove:t.content.remove,remote:!0,user:t.user})}}(this))),this.subscriptions.push(t.filter(function(e){return function(t){return"message-delete"===t.event&&t.content.message===e.id}}(this)).onValue(function(e){return function(t){
return e.trigger("message-deleted")}}(this))),this.subscriptions.push(t.filter(function(e){return function(t){return t.thread&&t.thread_id===e.get("thread_id")}}(this)).onValue(function(e){return function(t){return e.set("thread",t.thread)}}(this))),this.subscriptions.push(t.filter(function(e){return function(t){return"message-edit"===t.event&&t.content.message===e.id}}(this)).onValue(function(e){return function(t){var n,r,o,i;return n={content:t.content.updated_content,edited:t.sent},i=t.content.updated_event,r=t.content.updated_tags,r&&(o=_.extend(e.tagDifference(r),{user:t.user,sync:!1}),e.modifyTags(o)),i?(e.set(n,{trigger:!1}),e.set({event:i})):e.set(n)}}(this))),this},t.prototype.unconsume=function(){var e,t,n,r;if(null!=this.subscriptions)for(n=this.subscriptions,e=0,t=n.length;t>e;e++)(r=n[e])();return this.subscriptions=null,this},t.prototype.cleanup=function(){return this._preventCleanup?void console.log("not cleaning up locked model"):(this.unconsume(),this.comments?(this.comments.cleanup(),this.comments=void 0):void 0);
},t.prototype.flowKey=function(){return this.get("to")?{to:this.flow().id.toString()}:{flow:this.get("flow")}},t.prototype.commentsFetched=function(){return this.comments.historyComplete.backward===!0},t.prototype.lockCleanup=function(){return this._preventCleanup=!0,this},t.prototype.unlockCleanup=function(){return this._preventCleanup=!1,this},t.prototype.isDroppableTo=function(e){var t;return this.id!==e&&(t=this.get("thread_id"))&&t!==e},t.prototype.threadify=function(){return this.addTags([Models.Tag.special.thread])},t.prototype.deThreadify=function(){return this.removeTags([Models.Tag.special.thread])},t.prototype.replyTitle=function(){var e,t,n;return n="",this.isCommentToThread()&&(n=this.isThread()?null!=(e=this.get("thread"))?e.title:void 0:null!=(t=this.get("content"))?t.title:void 0),n&&""!==n?n:"Reply"},t.prototype.isThreadStarter=function(){return this.get("to")?!1:this.isThread()?!this.isCommentToThread():!this.parent()},t.prototype.isRethreadable=function(){var e;return this.myMessage()&&!this.isPrivate()&&(!this.isThreadStarter()||!this.isInConversation())&&!this.isInformational()&&(null!=(e=this.collection)?e.threadBeforeMessage(this):void 0);
},t.prototype.hasContext=function(){var e;return e=this.get("event"),a.call(Models.Filter.Chat.prototype.event,e)>=0},t.prototype.hasStatus=function(){return!1},t.prototype.permalink=function(){return Helpers.absoluteUrlFor({flow:this.flow(),message:this})},t.prototype.flowUrl=function(){return this.get("to")?void 0:Helpers.absoluteUrlFor({flow:this.flow()})},t}(Backbone.Model),Models.ChatMessage=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return i(t,e),t.prototype.defaults=function(){return{app:"chat",event:"message",content:"",emojiReactions:{},tags:[]}},t}(Models.Message),Models.CommentMessage=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return i(t,e),t.prototype.defaults=function(){return{app:"chat",event:"comment",content:"",emojiReactions:{},tags:[]}},t.prototype.isValid=function(){return t.__super__.isValid.call(this)&&this.attributes.content.text.trim().length>0},t}(Models.ChatMessage),Models.FileMessage=function(e){function t(){return t.__super__.constructor.apply(this,arguments);
}return i(t,e),t.prototype.defaults=function(){return{app:"chat",event:"file",emojiReactions:{},tags:[]}},t}(Models.ChatMessage),Models.InboxMessage=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return i(t,e),t.prototype.defaults=function(){return{app:"influx",content:"",emojiReactions:{},tags:[]}},t}(Models.Message),Models.ErrorMessage=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return i(t,e),t.prototype.defaults=function(){return{event:"error-message",content:"",emojiReactions:{},tags:[]}},t.prototype.commentable=function(){return!1},t}(Models.Message)},{"../lib/markdown":122,"../lib/string.truncate":129}],143:[function(e,t,n){var r=function(e,t){function n(){this.constructor=e}for(var r in t)o.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},o={}.hasOwnProperty,i=[].indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(t in this&&this[t]===e)return t;return-1};Models.NotificationItem=function(e){
function t(){return t.__super__.constructor.apply(this,arguments)}return r(t,e),t.prototype.defaults={unread:!1,unreads:[]},t.generateId=function(e){var t;return e.get("to")?(t=_.sortBy([""+e.get("to"),""+e.get("user")]),"private:"+t.join(":")):"flow:"+e.get("flow")+":"+e.get("id")},t.prototype.initialize=function(e,n){var r,o,i;return null==n&&(n={}),t.__super__.initialize.apply(this,arguments),this.userId=i=n.userId,r=[":unread:"+i,":user:"+i,":user:everyone",":user:team"],o=this.untilEnd(this.message().asEventStream("tag-change")),o.filter(function(e){var t;return t=e.remove,t.indexOf(":unread:"+i)>=0}).onValue(this,"markAsRead",!1),o.map(this,"message").flatMapLatest(function(e){var t;return t=Flowdock.app.user.flowGroups().map(function(e){return Models.Tag.groupTagFor(e.id)}),_.all(e.get("tags"),function(e){return r.indexOf(e)<0&&t.indexOf(e)<0})?Bacon.once():Bacon.never()}).onValue(this,"trigger","remove-mention",this),this.untilEnd(this.message().asEventStream("message-deleted")).onValue(this,"trigger","remove-mention",this);
},t.prototype.message=function(){return this.get("message")},t.prototype.flow=function(){return this.message().flow()},t.prototype.markAsRead=function(e){return null==e&&(e=!0),this.set({unread:!1,unreads:[]}),e?$.ajax({url:Helpers.apiUrl("/notifications/unreads/"+this.id),method:"DELETE"}):void 0},t.prototype.isUnread=function(){return!!this.get("unread")},t.prototype.consume=function(e){return this.message().consume(e),this.isPrivateMessage()?this.initPrivateStream(e):void 0},t.prototype.unconsume=function(){return this.message().unconsume()},t.prototype.parse=function(e){return null==e.message||e.message instanceof Models.Message||(e.message=new Models.Message(e.message)),e},t.prototype.isPrivateMessage=function(){return!this.isFlowMessage()},t.prototype.isFlowMessage=function(){return 0===this.id.indexOf("flow:")},t.prototype.isMention=function(){return this.isPrivateMessage()||this.message().get("tags").indexOf(":user:"+Flowdock.app.user.id)>=0},t.prototype.unreadCount=function(){return this.isPrivateMessage()?this.get("unreads").length:void 0;
},t.prototype.unreadProperty=function(){return this.isPrivateMessage()?this.untilEnd(this.asEventStream("change:unreads")).map(this,"unreadCount").toProperty(this.unreadCount()):Bacon.never()},t.prototype.initPrivateStream=function(e){var t,n;return t=this.untilEnd(e).filter(this.flow().eventStreamFilter),n=":unread:"+this.userId,t.filter(function(e){return"tag-change"===e.event}).filter(function(e){return function(t){var n;return n=t.content.message,i.call(e.get("unreads"),n)>=0}}(this)).filter(function(e){return e.content.remove.indexOf(n)>=0}).map(function(e){return e.content.message}).onValue(function(e){return function(t){return e.set({unreads:_.without(e.get("unreads"),t)}),0===e.unreadCount()?e.set({unread:!1}):void 0}}(this))},t}(Backbone.Model)},{}],144:[function(e,t,n){var r;r=function(){function e(e,t){null==e&&(e={}),null==t&&(t={}),this._global={},this._flows={},this.parse(e)}return e.prototype.defaults={chat_desktop_notifications:!0,chat_sound_notifications:!0,inbox_desktop_notifications:!0,inbox_sound_notifications:!0,
mentions_desktop_notifications:!0,mentions_sound_notifications:!0,private_desktop_notifications:!0,private_sound_notifications:!0},e.prototype.parse=function(e){var t,n,r,o,i,s,a;null==e&&(e={}),o=e.global;for(n in o)a=o[n],this._global[n]=this._mapBooleanValue(a);i=e.flows,s=[];for(t in i)r=i[t],this._flows[t]={},s.push(function(){var e;e=[];for(n in r)a=r[n],e.push(this._flows[t][n]=this._mapBooleanValue(a));return e}.call(this));return s},e.prototype.get=function(e,t){var n;return null!=(null!=(n=this._flows[t])?n[e]:void 0)?this._flows[t][e]:null!=this._global[e]?this._global[e]:this.defaults[e]},e.prototype._mapBooleanValue=function(e){switch(e){case"true":return!0;case"false":return!1;default:return e}},e}(),t.exports=r},{}],145:[function(e,t,n){var r=function(e,t){function n(){this.constructor=e}for(var r in t)o.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},o={}.hasOwnProperty;Models.Organization=function(e){function t(){return t.__super__.constructor.apply(this,arguments);
}return r(t,e),t.prototype.url=Helpers.apiUrl("/organizations"),t.prototype.link=function(e){var t;return null!=(t=this.get("_links")[e])?t.href:void 0},t.prototype.userLimit=function(){return Bacon.combineAsArray([this.asEventStream("change:user_count").map(function(e){return function(){return e.get("user_count")}}(this)).toProperty(this.get("user_count")),this.asEventStream("change:user_limit").map(function(e){return function(){return e.get("user_limit")}}(this)).toProperty(this.get("user_limit"))])},t.prototype.updateIfStale=function(){return(null==this.updated||this.updated<(new Date).getTime()-3e5)&&!this.fetching?this.fetch():void 0},t.prototype.consume=function(e){return this._bacon=e.filter(function(e){return function(t){var n,r;return 0===(null!=(n=t.flow)?n.indexOf(e.get("id")):void 0)&&"action"===t.event&&("invite"===(r=t.content.type)||"uninvite"===r)}}(this)).onValue(function(e){return function(){return delete e.updated,e.trigger("needsUpdate",e)}}(this))},t.prototype.cleanup=function(){return"function"==typeof this._bacon?this._bacon():void 0;
},t.prototype.fetch=function(){var e;return this.fetching=!0,e=t.__super__.fetch.apply(this,arguments),e.always(function(e){return function(){return e.fetching=!1,e.updated=(new Date).getTime()}}(this)),e},t.prototype.validate=function(e,t){var n,r,o,i,s;return n={},n.name=[],n.subdomain=[],n.reCAPTCHA=[],e.name||n.name.push("must be specified"),e.subdomain||n.subdomain.push("must be specified"),(null!=(r=e.name)?r.length:void 0)>65&&n.name.push("is too long (max length 65)"),(null!=(o=e.name)?o.length:void 0)<3&&n.name.push("is too short (min length 3)"),(null!=(i=e.subdomain)?i.length:void 0)>65&&n.subdomain.push("is too long (max length is 65)"),(null!=(s=e.subdomain)?s.length:void 0)<3&&n.subdomain.push("is too short (min length is 3)"),/^[a-z0-9]{1}[a-z0-9-]*$/.test(e.subdomain)||n.subdomain.push("has invalid format. Only alphanumeric characters and hyphens (-) allowed. May not begin with a hyphen."),e["g-recaptcha-response"]||n.reCAPTCHA.push("needs to be entered"),n.name.length>0||n.subdomain.length>0||n.reCAPTCHA.length>0?{
message:"Validation error",errors:n}:void 0},t.prototype.flows=function(){return Flowdock.app.flows.filter(function(e){return function(t){return t.get("organization").id===e.id}}(this))},t.prototype.users=function(){return new Collections.Users(this.get("users"))},t}(Backbone.Model)},{}],146:[function(e,t,n){var r,o=function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},i={}.hasOwnProperty;r=e("./notification_preferences"),Models.Preferences=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return o(t,e),t.prototype.url=Helpers.apiUrl("/preferences"),t.prototype.defaults={locale:"en-24h",link_previews:!0,audio_volume:"0.9",typing_activity:!0,push_email:!0,keyboard_shortcuts:!0,muted:"0",emphasize_own_nick:!0,enter_sends_message:!0,sidebar_collapsed:!1,inbox_only:!1,fade_on_back:!1,single_view_in_inbox:!1,emoji_size:"0",theme:"classic"},t.prototype.initialize=function(e,t){return null==t&&(t={}),
this.user=t.user,this._initFlowPreferences(null!=e?e.flows:void 0),this._setNotificationPreferences(null!=e?e.notifications:void 0),this.subscriptions=[],this.collection?(this.listenTo(this.collection,"add",this.flowAdded),this.listenTo(this.collection,"change:open",this.flowOpenChanged)):void 0},t.prototype.consume=function(e){return this.subscriptions.push(e.onValue(function(e){return function(t){var n;return"preference-change"===t.event?(e.set(e.parse(t.content.preferences)),e._setNotificationPreferences(null!=(n=t.content.preferences)?n.notifications:void 0)):void 0}}(this)))},t.prototype.cleanup=function(){var e,t,n,r;for(n=this.subscriptions,e=0,t=n.length;t>e;e++)(r=n[e])();return this.subscriptions=null},t.prototype.parse=function(e,t){var n,r,o,i,s;for(o in e)s=e[o],e[o]=this.mapBooleanValue(s);i=e.flows;for(n in i){r=i[n];for(o in r)s=r[o],e.flows[n][o]=this.mapBooleanValue(s)}return e},t.prototype.mapBooleanValue=function(e){switch(e){case"true":return!0;case"false":return!1;default:return e}},t.prototype.flip=function(e){
var t;return t={},t[e]=!this.get(e),this.save(t),this},t.prototype.toJSON=function(){var e,t,n,r,o,i,s;e=_.clone(this.attributes),o=_.omit(e,["flows","notifications"]);for(r in o)s=o[r],e[r]=String(s);e.flows={},i=this._flowPreferences;for(t in i)n=i[t],e.flows[t]=n.toJSON();return{preferences:e}},t.prototype.hasChanged=function(){return Backbone.Model.prototype.hasChanged.apply(this,arguments)||_.reduce(this._flowPreferences,function(e,t){return t.hasChanged()||e},!1)},t.prototype.linkPreviews=function(){return this.get("link_previews")},t.prototype.use12HourClock=function(){return"en-12h"===this.get("locale")},t.prototype.emojiSize=function(){return this.get("emoji_size")},t.prototype.theme=function(){return this.get("theme")},t.prototype.typingActivity=function(){return this.asProperty("typing_activity")},t.prototype.notificationAllowed=function(e,t){var n;return"message"===t.get("event")||"comment"===t.get("event")||"influx"===t.get("app")?(n=this._notificationPreferenceKey(e,t),this.notificationPreference(n,t.get("flow"))):!1;
},t.prototype.filterMessages=function(e,t){return e.filter(function(e){return e.id}).filter(function(e){return function(n){var r;return r=new Models.Message(n,{comments:!1}),e.notificationAllowed(t,r)&&n.user!==e.user.get("id")}}(this))},t.prototype.keyboardShortcuts=function(){return this.get("keyboard_shortcuts")},t.prototype.mute=function(){var e;return e=function(e){return parseInt(e)>Date.now()},this.asProperty("muted").flatMapLatest(function(t){return e(t)?Bacon.later(parseInt(t,10)-Date.now(),!1).merge(Bacon.once(!0)):Bacon.once(!1)}).skipDuplicates().toProperty(!1)},t.prototype.shouldSendMessageWith=function(e){return this.enterSendsMessage()?KeyEvent.is("enter")(e):KeyEvent.is("shift+enter")(e)||KeyEvent.is("alt+enter")(e)},t.prototype.enterSendsMessage=function(){return this.get("enter_sends_message")},t.prototype.flowPreferences=function(e){var t;return t=_.isString(e)?e:e.get("id"),this._flowPreferences[t]||(this._flowPreferences[t]=new Models.FlowPreferences),this._flowPreferences[t]},t.prototype.flowAdded=function(e){
return this.fetch().done(function(t){return function(n){var r;return r=e.get("id"),n.flows[r]?t._addFlowPreferences(r,n.flows[r]):void 0}}(this))},t.prototype.flowOpenChanged=function(e){return e.get("open")?e.once("sync",function(t){return function(){return t.flowAdded(e)}}(this)):void 0},t.prototype.isNew=function(){return!1},t.prototype.notificationPreference=function(e,t){return this._notificationPreferences.get(e,t)},t.prototype._initFlowPreferences=function(e){var t,n,r;if(this._flowPreferences={},e){r=[];for(t in e)n=e[t],r.push(this._addFlowPreferences(t,n));return r}},t.prototype._addFlowPreferences=function(e,t){return this._flowPreferences[e]?this._flowPreferences[e].set(t):this._flowPreferences[e]=new Models.FlowPreferences(t)},t.prototype._setNotificationPreferences=function(e){return this._notificationPreferences=new r(e)},t.prototype._notificationPreferenceKey=function(e,t){var n;return n=this._messageSource(t),n+"_"+e+"_notifications"},t.prototype._messageSource=function(e){var t;return e.isPrivate()?"private":e.highlights(this.user)?"mentions":(t=e.get("app"),
"influx"===t&&(t="inbox"),t)},t}(Backbone.Model)},{"./notification_preferences":144}],147:[function(e,t,n){var r=function(e,t){return function(){return e.apply(t,arguments)}},o=function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},i={}.hasOwnProperty;Models.PrivateConversation=function(e){function t(e){null==e&&(e={}),this.eventStreamFilter=r(this.eventStreamFilter,this),this.users=new Collections.Users(e.users||[],{flow:this}),this.tags=new Collections.Tags([],{flow:this}),this.emoji=new Collections.Emoji([],{flow:this}),this.subscriptions=[],this.unreadMessages=new Flowdock.UnreadMessages({flow:this}),t.__super__.constructor.apply(this,arguments)}return o(t,e),t.prototype.isFlow=function(){return!1},t.prototype.isPrivate=function(){return!0},t.prototype.defaults=function(){return{open:!0}},t.prototype.path=function(){return"private/"+this.id},t.prototype.url=function(){return this.get("url")?Helpers.apiUrl(this.get("url")):Helpers.apiUrl("/private/"+this.id);
},t.prototype.getUserById=function(e){return this.users.get(e)},t.prototype.initialize=function(e){return null==e&&(e={}),this.consumed=!1,this.stream=new Bacon.Bus,this.fullyLoaded=$.Deferred(),this.listenTo(this.users,"change:nick",this._onNickChange)},t.prototype.consume=function(e){var t;return this.consumed=!0,t=this.asEventStream("change:open").merge(Bacon.once(this)).flatMapLatest(function(t){return t.get("open")?e.filter(function(e){var n;return String(e.user)===String(t.id)&&("activity.user"===(n=e.event)||"message"===n||"user-edit"===n)}):Bacon.never()}),this.users.consume(t),this.stream.plug(e.filter(this.eventStreamFilter)),this.subscriptions.push(this.stream.filter(function(e){var t;return!("tag-change"===(t=null!=e?e.event:void 0)||"activity.user"===t||"message-receive"===t)}).onValue(function(e){return function(t){return e.get("open")?void 0:e.save({open:!0},{wait:!0,patch:!0})}}(this))),this.emoji.consume(e),this.tags.consume(this.stream),this.unreadMessages.consume(this.stream),this},t.prototype._onNickChange=function(e,t){
return this.otherParty().id===Number(e.get("id"))?this.set("name",t):void 0},t.prototype.parse=function(e){var t,n;return t=function(e,t){var n,r;return _.extend({},e,{last_activity:null!=(n=t.get(e.id))?n.get("last_activity"):void 0,last_ping:null!=(r=t.get(e.id))?r.get("last_ping"):void 0})},this.users.reset(function(){var r,o,i,s;for(i=e.users,s=[],r=0,o=i.length;o>r;r++)n=i[r],s.push(t(n,this.users));return s}.call(this)),e},t.prototype.buildMessage=function(e,t){return null==t&&(t=Models.Message),new t(_.extend({to:""+this.id},e,{tags:_.uniq((e.tags||[]).concat([":unread:"+this.id]))}),{"private":this})},t.prototype.eventStreamFilter=function(e){var t;return e.to&&((t=String(this.id))===String(e.user)||t===String(e.to))},t.prototype.otherParty=function(){return this.users.find(function(e){return function(t){return String(t.id)!==String(e.me().id)}}(this))},t.prototype.me=function(){return this.collection.user||Flowdock.app.user},t.prototype.cleanup=function(){var e,t,n,r,o;for(n=this.subscriptions,e=0,t=n.length;t>e;e++)(o=n[e])();
return this.subscriptions=null,this.users.cleanup(),this.tags.cleanup(),this.emoji.cleanup(),null!=(r=this.unreadMessages)&&r.destructor(),this.users=null,this.tags=null,this.emoji=null,this.unreadMessages=null},t.prototype.subscribe=function(e){return null!=e&&e.subscribe(this.id,!1,function(e){return function(t,n){return console.log("Subscribed to private conversation",e.path(),t,n),t?e.trigger("subscribe-failed",e):e.set(e.parse(_.extend(n,{open:!0,subscribed:!0}))),t?e.fullyLoaded.reject():e.fullyLoaded.resolve()}}(this)),this.fullyLoaded.promise()},t.prototype.unsubscribe=function(e){return e.unsubscribe(this.id,!1),this.reset()},t.prototype.isBetweenUsers=function(e){var t,n,r;for(t=0,n=e.length;n>t;t++)if(r=e[t],!this.users.get(parseInt(r,10)))return!1;return!0},t.prototype.typingUsers=function(e){return this.users.typing.map(function(t){var n,r,o,i;for(i=[],r=0,o=t.length;o>r;r++)n=t[r],n.id===e&&i.push(n.user);return i})},t.prototype.emojiKeys=function(){return this.emoji.keys()},t.prototype.set=function(e,n){
var r,o,i;return null==n&&(n={}),e.emoji&&this.emoji.reset(e.emoji),e.tags&&null!=(o=this.tags)&&o.reset(function(){var t,n;t=e.tags,n=[];for(i in t)r=t[i],n.push({id:i,count:r});return n}()),t.__super__.set.apply(this,arguments)},t.prototype.reset=function(){return this.tags.reset()},t.prototype.initials=function(){return[]},t.prototype.opened=function(){return $.ajax({type:"POST",url:this.url()+"/opened"})},t}(Backbone.Model)},{}],148:[function(e,t,n){var r=function(e,t){function n(){this.constructor=e}for(var r in t)o.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},o={}.hasOwnProperty;Models.Source=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return r(t,e),t}(Backbone.Model)},{}],149:[function(e,t,n){var r;r=e("fuse.js"),Models.TabSearch=function(){function e(e,t){this.collection=e,this.options=t,this.loading=this.collection.isLoadingStream().toProperty(!1)}return e.inBatches=function(t,n,r){return null==r&&(r=0),t.length<=r+n?[t]:[t.slice(0,n+r)].concat(e.inBatches(t,n,r+n));
},e.prototype.filterCollection=function(e){var t,n,r,o,i,s,a,u,l,c;if(e.input.length){for(a=e.fuse.search(Helpers.replaceDiacritics(e.input)),c=[],n=0,o=a.length;o>n;n++)u=a[n],c.push({item:this.collection.get(u.item),score:u.score});return c}for(s=this.collection.models,l=[],t=0,r=s.length;r>t;t++)i=s[t],l.push({item:i,score:0});return l},e.prototype.rebuildIndex=function(){return new r(this.sanitize(this.collection,this.options.fields),{keys:this.options.fields,id:"id",threshold:this.options.threshold||.6,includeScore:!0})},e.prototype.sanitize=function(e,t){var n,r,o,i,s,a;for(e=e.toJSON(),n=0,i=e.length;i>n;n++)for(a=e[n],r=0,s=t.length;s>r;r++)o=t[r],null!=a[o]&&(a[o]=Helpers.replaceDiacritics(a[o]));return e},e.prototype.fetch=function(e){return this.collection.fetch(e)},e.prototype.filter=function(t){var n;return n=this.collection.asEventStream("add remove change").debounce(100).map(function(e){return function(){return e.rebuildIndex()}}(this)).toProperty(this.rebuildIndex()),Bacon.combineTemplate({input:t,
fuse:n}).map(function(e){return function(t){return e.filterCollection(t)}}(this)).flatMapLatest(function(t){var n;return n=e.inBatches(t,100),0===n.length?Bacon.once(t):Bacon.once(n[0]).merge(Bacon.sequentially(200,n.slice(1)))}).toProperty()},e.prototype.cleanup=function(){return this.options=void 0},e}()},{"fuse.js":552}],150:[function(e,t,n){var r=function(e,t){function n(){this.constructor=e}for(var r in t)o.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},o={}.hasOwnProperty;Models.Tag=function(e){function t(e,n){(null!=e?e.id:void 0)&&(e.id=e.id.toString().toLowerCase()),t.__super__.constructor.call(this,e,n)}return r(t,e),t.regularTag=function(e){return-1===e.indexOf(":")},t.userTag=function(e){return 0===e.indexOf(":user:")},t.groupTag=function(e){return 0===e.indexOf(":group:")},t.inboxTag=function(e){return 0===e.indexOf("influx:")},t.userTagFor=function(e){return":user:"+e},t.groupTagFor=function(e){return":group:"+e},t.userIdFor=function(e){return Models.Tag.userTag(e)&&e!==Models.Tag.userTagFor("everyone")?e.split(":")[2]:void 0;
},t.stripHashes=function(e){return e.replace(/^#+/,"")},t.special={thread:":thread"},t.prototype.defaults=function(){return{count:0}},t.prototype.flow=function(){var e;return this.get("flow")||(null!=(e=this.collection)?e.flow:void 0)},t.prototype.type=function(){return Models.Tag.regularTag(this.id)?"tag":this.id.split(":")[1]},t.prototype.increment=function(e){var t;return null==e&&(e=1),t=this.get("count")+e,this.set({count:t}),t},t.prototype.decrement=function(e){return null==e&&(e=1),this.increment(-e)},t.prototype.humanize=function(){var e,t,n,r,o,i,s,a,u,l;if(u=this.id,u===Models.Tag.userTagFor("everyone"))return"@everyone";if(u===Models.Tag.userTagFor("team"))return"@team";if(Models.Tag.userTag(u)){if(o=u.split(":"),t=o[0],r=o[1],n=o[2],l=null!=(i=this.flow())?i.users.get(n):void 0,null!=l)return"@"+l.get("nick")}else if(Models.Tag.groupTag(u)){if(s=u.split(":"),t=s[0],r=s[1],n=s[2],e=null!=(a=this.flow())?a.groups.get(n):void 0,null!=e)return"@@"+e.get("handle")}else if(Models.Tag.regularTag(u))return"#"+u;
},t.prototype.humanizeSpecial=function(){switch(this.id){case":thread":return"Threads";case":url":return"Links"}},t.prototype.isAtMention=function(){var e;return e=this.humanize(),e&&"@"===e[0]},t.prototype.toString=function(){return this.humanize()||this.humanizeSpecial()},t}(Backbone.Model)},{}],151:[function(e,t,n){var r=function(e,t){function n(){this.constructor=e}for(var r in t)o.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},o={}.hasOwnProperty;Models.Thread=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return r(t,e),t.prototype.initialize=function(e){return null==e&&(e={}),this._flow=e.flow,this.activities=new Collections.Activities(e.activities||[],{flow:this.flow(),thread:this.threadId(),maximumMessages:e.maximumMessages}),this.listenTo(this.activities,"add historyAdd remove change:thread",this._updateThreadState),this._updateThreadState()},t.prototype.threadId=function(){return this.get("thread_id")},t.prototype.flow=function(){
return this._flow},t.prototype.removable=function(){return!1},t.prototype.hasContext=function(){return this.isChatThread()},t.prototype.isPrivate=function(){return!1},t.prototype.cleanup=function(){return this.activities.cleanup(),t.__super__.cleanup.apply(this,arguments)},t.prototype.hasContinuation=function(){return this.commentCount()>1||1===this.commentCount()&&1!==(Number(this.get("activities"))||0)},t.prototype.isChatThread=function(){return!this.get("source")},t.prototype.getTitle=function(){return this.get("title")},t.prototype.hasChatConversation=function(){return this.get("internal_comments")>1||this.commentCount()>1&&this.get("internal_comments")>0},t.prototype.commentCount=function(){return(Number(this.get("internal_comments"))||0)+(Number(this.get("external_comments"))||0)+(Number(this.get("activities"))||0)},t.prototype.fullyLoaded=function(){return this.commentCount()===this.activities.length},t.prototype._updateThreadState=function(){var e;return e=this.activities.last(),(null!=e?e.get("thread"):void 0)?this.set(e.get("thread")):void 0;
},t.prototype.hasStatus=function(){return null!=this.get("status")},t.prototype.permalink=function(){return Helpers.absoluteUrlFor({flow:this.flow(),message:this})},t}(Backbone.Model)},{}],152:[function(e,t,n){var r,o;o=e("models/tutorial_task"),r=function(){function e(e,t){null==t&&(t={}),this.id=e.id,this.tasks=e.tasks.filter(function(e){return!o.isFinished(e)}).map(function(e){return o.build(e)}).filter(function(e){return e}).map(function(t){return t.tutorial=e.id,t})}return e.urlRoot="/owl/tutorials/",e.create=function(t){var n;return n=new $.Deferred,$.post(e.urlRoot,t).done(function(t){var r;return r=new e(t),n.resolve(r)}),n},e.prototype.url=function(){return e.urlRoot+this.id},e.prototype.getState=function(){return this.get("tasks").filter(function(e){return!(null!=e.completed_at||null!=e.skipped_at)}).map(function(e){return e.name})},e.prototype.getTaskMatching=function(e){return _.find(this.tasks,function(t){return Helpers.endsWith(t.name,e)})},e.prototype.complete=function(){return this._postTutorialData({
completed:!0})},e.prototype.skip=function(){return this._postTutorialData({skipped:!0})},e.prototype._postData=function(e,t){return t=_.extend({_method:"PUT"},t),$.post(e,t)},e.prototype._postTutorialData=function(e){return this._postData(this.url(),e)},e}(),t.exports=r},{"models/tutorial_task":153}],153:[function(e,t,n){var r,o,i,s,a,u,l,c,p,d=function(e,t){function n(){this.constructor=e}for(var r in t)h.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},h={}.hasOwnProperty;p=function(){function e(e){this.id=e.id,this.name=e.name,this.tutorial=e.tutorial}return e.build=function(e){switch(e.name){case"invitee-chat":return new s(e);case"invitee-invite":return new u(e);case"invitee-menu":return new l(e);case"invitee-inbox":return new a(e);case"chat":return new r(e);case"invite":return new i(e);case"menu":return new c(e);case"inbox":return new o(e);default:return console.error("No matching tutorial task found for "+e.name)}},e.isFinished=function(e){return!(!e.skipped_at&&!e.completed_at);
},e.prototype.url=function(){return"/owl/tutorials/"+this.tutorial+"/tasks/"+this.id},e.prototype.complete=function(){var e;return e=Flowdock.ANALYTICS_EVENT_TYPES.onboarding_step_complete_+this.name,Flowdock.analytics.track(e),this._postData({completed:!0})},e.prototype.skip=function(){var e;return e=Flowdock.ANALYTICS_EVENT_TYPES.onboarding_step_skip_+this.name,Flowdock.analytics.track(e),this._postData({skipped:!0})},e.prototype._postData=function(e){return e=_.extend({_method:"PUT"},e),$.post(this.url(),e)},e}(),r=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return d(t,e),t.prototype.name="chat",t.prototype.steps=[{title:"Send your first message",description:"Every flow has a chat. Share your thoughts, ask questions and express emotions."}],t.prototype.successStep={title:"Just like that!",description:"Chat is the heart of CA Flowdock, but there's more\u2026"},t}(p),i=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return d(t,e),t.prototype.name="invite",
t.prototype.steps=[{title:"Invite your team",description:"Get some real people in your flow to start communicating in CA Flowdock."}],t.prototype.successStep={title:"Nicely done!",description:"While we wait for them to join, let's continue the tour\u2026"},t}(p),c=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return d(t,e),t.prototype.name="menu",t.prototype.steps=[{title:"Your CA Flowdock preferences",description:"Change the way CA Flowdock works. Tweak your notification settings."},{title:"Change a few settings",description:"Make CA Flowdock your own. Help others recognize you by uploading an avatar."}],t.prototype.successStep={title:"Nicely done!",description:"Now you know where to find your preferences."},t}(p),o=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return d(t,e),t.prototype.name="inbox",t.prototype.steps=[{title:"Each flow has a team inbox",description:"The team inbox is a window into your team's work. Stay up-to-date with all your tools, from wikis to version control. Comment on any activity."
}],t.prototype.successStep={title:"This is the team inbox!",description:"Next up, have a look at what you can do with it."},t}(p),s=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return d(t,e),t.prototype.steps=[{title:"Send your first message",description:"Join the conversation. Reply to a message by clicking on the bubble to its left."}],t.prototype.successStep={title:"Just like that!",description:"Chat is the heart of CA Flowdock, but there's more\u2026"},t}(o),u=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return d(t,e),t.prototype.steps=[{title:"Invite the right people",description:"Who do you work with? Are they already here? If not, invite them."}],t.prototype.successStep={title:"Nicely done!",description:"While we wait for them to join, let's continue the tour\u2026"},t}(o),l=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return d(t,e),t.prototype.steps=[{title:"Your CA Flowdock preferences",description:"Change the way CA Flowdock works. Tweak your notification settings."
},{title:"Change a few settings",description:"Make CA Flowdock your own. Help others recognize you by uploading an avatar."}],t.prototype.successStep={title:"Nicely done!",description:"Now you know where to find your preferences."},t}(o),a=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return d(t,e),t.prototype.steps=[{title:"Each flow has a team inbox",description:"The team inbox is a window into your team's work. Stay up-to-date with all your tools, from wikis to version control. Comment on any activity."}],t.prototype.successStep={title:"This is the team inbox!",description:"Next up, have a look at what you can do with it."},t}(o),t.exports=p},{}],154:[function(e,t,n){var r=function(e,t){function n(){this.constructor=e}for(var r in t)o.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},o={}.hasOwnProperty;Models.User=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return r(t,e),t.prototype.url=function(){
return Helpers.apiUrl("/users/"+this.id)},t.prototype.cleanup=function(){return this.unsubscribe?this.unsubscribe():void 0},t.prototype.consume=function(e){return this.cleanup(),this.unsubscribe=e.filter(function(e){return"user-edit"===e.event}).filter(function(e){return function(t){return t.content.user.id===e.id}}(this)).onValue(function(e){return function(t){return e.set(t.content.user)}}(this))},t.prototype.isOnline=function(){var e;return"active"===(e=this.presence())||"idle"===e},t.prototype.flowGroups=function(){var e,t;return null!=(e=Flowdock.app)&&null!=(t=e.flows)?t.models.reduce(function(e,t){return e.concat(t.groups.models)},[]).filter(function(e){return function(t){return t.isMember(e)}}(this)):void 0},t.prototype.nick=function(){return this.get("nick")},t.prototype.presenceModel=function(){var e,t;return null!=(e=Flowdock.app)&&null!=(t=e.presence)?t.user(this.id):void 0},t.prototype.presence=function(){var e;return(null!=(e=this.presenceModel())?e.state():void 0)||"unknown"},t.prototype.canChatWith=function(e){
return e.external()?!1:e.id.toString()===this.id.toString()?!1:!0},t.prototype.avatar=function(e){return null==e&&(e=80),this.get("avatar")+e},t.prototype.external=function(){return"0"===this.id},t.prototype.block=function(e){return null==e&&(e={}),e.flow?this.updateFlowUser({disabled:!0},e):void 0},t.prototype.updateFlowUser=function(e,t){return $.ajax({url:t.flow.url()+"/users/"+this.id,type:"PUT",data:e,success:function(e){return t.success?t.success(e):void 0},error:function(e){return t.error?t.error(e):void 0}})},t.prototype.enabled=function(){return!this.get("disabled")},t.prototype.available=function(){return this.enabled()&&this.get("in_flow")},t}(Backbone.Model),Models.ExternalUser=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return r(t,e),t.prototype.defaults={id:"0",nick:"Flowdock",avatar:Helpers.assetPath("/avatars/default/")},t.prototype.external=function(){return!0},t.prototype.canChatWith=function(e){return!1},t.prototype.consume=function(){},t}(Models.User),Models.DefaultUser=function(e){
function t(){return t.__super__.constructor.apply(this,arguments)}return r(t,e),t.prototype.defaults={id:"0",name:"Team Flowdock",nick:"Flowdock",status_message:null,email:"team@flowdock.com",avatar:Helpers.assetPath("/avatars/9e6f7168611d249b28bbd84dc60cb194/"),disabled:!0},t.prototype.canChatWith=function(e){return!1},t}(Models.ExternalUser)},{}],155:[function(e,t,n){var r,o,i=function(e,t){function n(){this.constructor=e}for(var r in t)s.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},s={}.hasOwnProperty;r=e("backbone").Model,o=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return i(t,e),t.STATES={0:"offline",1e6:"idle",2e6:"active"},t.OFFLINE=0,t.IDLE=1e6,t.CONNECTED=2e6,t.prototype.state=function(){return t.STATES[this.get("state")||0]},t}(r),t.exports=o},{backbone:499}],156:[function(e,t,n){e("browsernizr/test/audio"),e("browsernizr/test/css/positionsticky"),e("browsernizr/lib/prefixed"),e("browsernizr/lib/hasEvent"),e("browsernizr/test/touchevents"),
window.Modernizr=e("browsernizr"),window.moment=e("moment"),window.Backbone=e("backbone"),window.__backboneAgent&&window.__backboneAgent.handleBackbone(window.Backbone),Backbone.$=jQuery,window._=e("underscore"),window.BackboneProjections=e("backbone.projections"),e("es5-shim"),window.Bacon=e("baconjs"),jQuery.fn.asEventStream=Bacon.$.asEventStream,window.React=e("react/addons"),window.FlowdockText=e("flowdock-text"),e("backbone-query-parameters/backbone.queryparams-1.1-shim"),e("backbone-query-parameters"),e("./lib/flowdock/base"),e("./helpers/auto_link_helper"),e("./helpers/comment_helper"),e("./helpers/file_helper"),e("./helpers/helpers"),e("./helpers/indentation_helper"),e("./helpers/mail_helper"),e("./helpers/tag_helper"),e("./helpers/time_helper"),e("./helpers/title_helper"),e("./helpers/twitter_helper"),e("./helpers/url_helpers"),e("./lib/backbone/bacon"),e("./lib/backbone/collection_extensions"),e("./lib/backbone/model_extensions"),e("./lib/backbone/owl_sync"),e("./lib/bacon/throttled_stream"),e("./lib/domparser"),
e("./lib/emojimoji"),e("./lib/flow_activities"),e("./lib/flowdock/audio_notifications"),e("./lib/flowdock/collection"),e("./lib/flowdock/desktop_notification_center"),e("./lib/flowdock/dropdown"),e("./lib/flowdock/emoji_control"),e("./lib/flowdock/trigger_method"),e("./lib/flowdock/theme_control"),e("./lib/flowdock/hierarchical_view"),e("./lib/flowdock/item_view"),e("./lib/flowdock/keboard_events"),e("./lib/key_event"),e("./lib/flowdock/keyboard_shortcuts"),e("./lib/flowdock/last_read_marker"),e("./lib/flowdock/message_desktop_notifications"),e("./lib/flowdock/message_received_notifier"),e("./lib/flowdock/resize"),e("./lib/flowdock/title_manager"),e("./lib/flowdock/typing_activity"),e("./lib/flowdock/unread_messages"),e("./lib/flowdock/user_activity"),e("./lib/flowdock/walkthrough"),e("./lib/jquery.autocomplete"),e("./lib/jquery.delayed-hover"),e("./lib/jquery.dragndrop"),e("./lib/jquery.emojie"),e("./lib/jquery.indent-paste"),e("./lib/jquery.reorderable"),e("./lib/jquery.scrollable-inview"),e("./lib/jquery.user-agent-class"),
e("./lib/moment.locale"),e("./lib/notification_polyfill"),e("./lib/raf-polyfill"),e("./lib/source_detector"),e("./models/connection"),e("./models/emoji"),e("./models/filter"),e("./models/flow"),e("./models/flow_group"),e("./models/flow_preferences"),e("./models/integration"),e("./models/invitation"),e("./models/legacy_source"),e("./models/marker"),e("./models/message"),e("./models/notification_item"),e("./models/organization"),e("./models/preferences"),e("./models/private_conversation"),e("./models/source"),e("./models/tab_search"),e("./models/tag"),e("./models/thread"),e("./models/tutorial"),e("./models/tutorial_task"),e("./models/user"),e("./collections/applications"),e("./collections/combined"),e("./collections/emoji"),e("./collections/flows"),e("./collections/flow_groups"),e("./collections/users"),e("./collections/integrations"),e("./collections/invitations"),e("./collections/legacy_sources"),e("./collections/markers"),e("./collections/messages"),e("./collections/notification_items"),e("./collections/organization_flows"),
e("./collections/organizations"),e("./collections/peaks"),e("./collections/private_conversations"),e("./collections/sources"),e("./collections/tags"),e("./collections/threads"),e("./cache/lru"),e("./cache/threads"),e("./views/shared/base"),e("./views/shared/attachment"),e("./views/shared/autocompleter"),e("./views/shared/avatar"),e("./views/shared/close"),e("./views/shared/dropdown_container"),e("./views/shared/everyone_warning"),e("./views/shared/expanding_input"),e("./views/shared/header"),e("./views/shared/list"),e("./views/shared/message"),e("./views/shared/message_autocompleter"),e("./views/shared/message_error"),e("./views/shared/message_input"),e("./views/shared/message_list"),e("./views/shared/message_loader"),e("./views/shared/more_messages"),Views.Shared.Overlay=e("./views/shared/overlay"),e("./views/shared/popup"),e("./views/shared/progress"),e("./views/shared/reversed_message_list"),e("./views/shared/tabbed_overlay"),e("./views/shared/tag_input"),e("./views/shared/textarea_autocompleter"),e("./views/shared/title"),
e("./views/shared/title_action"),e("./views/shared/title_actions"),e("./views/shared/tokenist"),e("./views/shared/typing_users"),e("./views/shared/user_list"),e("./views/shared/index"),e("./views/errors/index"),e("./views/errors/error"),e("./views/errors/inline"),e("./views/errors/modal"),e("./views/errors/flow"),e("./views/errors/alert"),e("./views/errors/connection_closed"),e("./views/errors/external_action_failed"),e("./views/errors/external_authentication_required"),e("./views/errors/flow_not_found"),e("./views/errors/flow_subscribe_failed"),e("./views/errors/handshake_failed"),e("./views/errors/no_organizations"),e("./views/errors/private_not_found"),e("./views/errors/private_subscribe_failed"),e("./views/errors/update"),e("./views/errors/use_mac_app"),e("./views/chat"),e("./views/chat/message"),e("./views/chat/comment_message"),e("./views/chat/file_message"),e("./views/chat/input"),e("./views/chat/message_list"),e("./views/chat/private_toolbar"),e("./views/chat/user"),e("./views/chat/user_list"),e("./views/content"),
e("./views/embed"),e("./views/embed/embeddable"),e("./views/flow"),e("./views/flow_manager"),e("./views/flow_view_model"),e("./views/inbox"),e("./views/inbox/comment_form"),e("./views/inbox/comment_list"),e("./views/inbox/fileuploader"),e("./views/inbox/full_text"),e("./views/inbox/header"),e("./views/inbox/item"),e("./views/inbox/item_action_list"),e("./views/inbox/message_list"),e("./views/inbox/search_autocompleter"),e("./views/inbox/single_view"),e("./views/inbox/single_view_error"),e("./views/inbox/single_view_message"),e("./views/inbox/thread"),e("./views/navigation"),e("./views/navigation/sidebar_dropdown_menu"),e("./views/navigation/flow_dropdown_menu"),e("./views/navigation/flow_list"),e("./views/navigation/spotlight_search"),e("./views/navigation/navigation_desktop"),e("./views/navigation/navigation_mobile"),e("./views/navigation/notification"),e("./views/navigation/notification_center"),e("./views/navigation/notification_list"),e("./views/navigation/screenhero"),e("./views/navigation/sidebar_dropdown"),
e("./views/navigation/tabs"),e("./views/navigation/tab"),e("./views/navigation/tabs_desktop"),e("./views/navigation/tabs_mobile"),e("./views/navigation/user_menu"),e("./views/new_flow"),e("./views/new_organization"),e("./views/overlays"),e("./views/overlays/keyboard_shortcuts"),e("./views/overlays/meme_commands"),e("./views/overlays/meme_templates"),e("./views/overlays/nick_conflict"),e("./views/overlays/promotion_banner"),e("./views/overlays/slash_commands"),e("./views/overlays/upload"),e("./views/private"),e("./views/thread"),e("./views/thread/action"),e("./views/thread/action_list"),e("./views/thread/actions"),e("./views/thread/message"),e("./views/thread/activity"),e("./views/thread/activity_list"),e("./views/thread/comment"),e("./views/thread/discussion"),e("./views/thread/comment_form"),e("./views/thread/file_message"),e("./views/thread/header"),e("./views/thread/title"),e("./views/toolbar"),e("./views/toolbar/desktop"),e("./views/toolbar/mobile"),e("./views/toolbar/search"),e("./views/toolbar/user_counter"),
e("./views/users/invitation"),e("./views/users/invitations"),e("./views/users/user_card"),e("./presenters/activity"),e("./presenters/attachment"),e("./presenters/chat_message"),e("./presenters/helper"),e("./presenters/inbox_message"),e("./presenters/line_message"),e("./presenters/presenters"),e("./presenters/team_inbox/confluence"),e("./presenters/team_inbox/git"),e("./presenters/team_inbox/jira"),e("./presenters/team_inbox/kiln"),e("./presenters/team_inbox/mail"),e("./presenters/team_inbox/mercurial"),e("./presenters/team_inbox/perforce"),e("./presenters/team_inbox/subversion"),e("./presenters/team_inbox/twitter"),e("./presenters/chat/action_message"),e("./presenters/chat/file_message"),e("./presenters/chat/user_edit_message"),e("./presenters/index"),e("./router"),e("./app")},{"./app":2,"./cache/lru":13,"./cache/threads":14,"./collections/applications":15,"./collections/combined":16,"./collections/emoji":17,"./collections/flow_groups":18,"./collections/flows":19,"./collections/integrations":20,"./collections/invitations":21,
"./collections/legacy_sources":22,"./collections/markers":23,"./collections/messages":24,"./collections/notification_items":25,"./collections/organization_flows":26,"./collections/organizations":27,"./collections/peaks":28,"./collections/private_conversations":30,"./collections/sources":31,"./collections/tags":32,"./collections/threads":33,"./collections/users":34,"./helpers/auto_link_helper":68,"./helpers/comment_helper":69,"./helpers/file_helper":71,"./helpers/helpers":72,"./helpers/indentation_helper":73,"./helpers/mail_helper":74,"./helpers/tag_helper":75,"./helpers/time_helper":76,"./helpers/title_helper":77,"./helpers/twitter_helper":78,"./helpers/url_helpers":79,"./lib/backbone/bacon":80,"./lib/backbone/collection_extensions":81,"./lib/backbone/model_extensions":82,"./lib/backbone/owl_sync":83,"./lib/bacon/throttled_stream":84,"./lib/domparser":85,"./lib/emojimoji":87,"./lib/flow_activities":88,"./lib/flowdock/audio_notifications":90,"./lib/flowdock/base":92,"./lib/flowdock/collection":93,"./lib/flowdock/desktop_notification_center":94,
"./lib/flowdock/dropdown":95,"./lib/flowdock/emoji_control":96,"./lib/flowdock/hierarchical_view":97,"./lib/flowdock/item_view":98,"./lib/flowdock/keboard_events":99,"./lib/flowdock/keyboard_shortcuts":100,"./lib/flowdock/last_read_marker":101,"./lib/flowdock/message_desktop_notifications":103,"./lib/flowdock/message_received_notifier":104,"./lib/flowdock/resize":105,"./lib/flowdock/theme_control":106,"./lib/flowdock/title_manager":107,"./lib/flowdock/trigger_method":108,"./lib/flowdock/typing_activity":109,"./lib/flowdock/unread_messages":110,"./lib/flowdock/user_activity":111,"./lib/flowdock/walkthrough":112,"./lib/jquery.autocomplete":113,"./lib/jquery.delayed-hover":114,"./lib/jquery.dragndrop":115,"./lib/jquery.emojie":116,"./lib/jquery.indent-paste":117,"./lib/jquery.reorderable":118,"./lib/jquery.scrollable-inview":119,"./lib/jquery.user-agent-class":120,"./lib/key_event":121,"./lib/moment.locale":124,"./lib/notification_polyfill":125,"./lib/raf-polyfill":126,"./lib/source_detector":127,"./models/connection":132,
"./models/emoji":133,"./models/filter":134,"./models/flow":135,"./models/flow_group":136,"./models/flow_preferences":137,"./models/integration":138,"./models/invitation":139,"./models/legacy_source":140,"./models/marker":141,"./models/message":142,"./models/notification_item":143,"./models/organization":145,"./models/preferences":146,"./models/private_conversation":147,"./models/source":148,"./models/tab_search":149,"./models/tag":150,"./models/thread":151,"./models/tutorial":152,"./models/tutorial_task":153,"./models/user":154,"./presenters/activity":157,"./presenters/attachment":158,"./presenters/chat/action_message":159,"./presenters/chat/file_message":160,"./presenters/chat/user_edit_message":161,"./presenters/chat_message":162,"./presenters/helper":164,"./presenters/inbox_message":165,"./presenters/index":166,"./presenters/line_message":167,"./presenters/presenters":168,"./presenters/team_inbox/confluence":169,"./presenters/team_inbox/git":170,"./presenters/team_inbox/jira":171,"./presenters/team_inbox/kiln":172,
"./presenters/team_inbox/mail":173,"./presenters/team_inbox/mercurial":174,"./presenters/team_inbox/perforce":175,"./presenters/team_inbox/subversion":176,"./presenters/team_inbox/twitter":177,"./router":197,"./views/chat":338,"./views/chat/comment_message":339,"./views/chat/file_message":340,"./views/chat/input":341,"./views/chat/message":342,"./views/chat/message_list":343,"./views/chat/private_toolbar":344,"./views/chat/user":346,"./views/chat/user_list":347,"./views/content":348,"./views/embed":349,"./views/embed/embeddable":351,"./views/errors/alert":360,"./views/errors/connection_closed":361,"./views/errors/error":362,"./views/errors/external_action_failed":363,"./views/errors/external_authentication_required":364,"./views/errors/flow":365,"./views/errors/flow_not_found":366,"./views/errors/flow_subscribe_failed":367,"./views/errors/handshake_failed":368,"./views/errors/index":369,"./views/errors/inline":370,"./views/errors/modal":371,"./views/errors/no_organizations":372,"./views/errors/private_not_found":373,
"./views/errors/private_subscribe_failed":374,"./views/errors/update":375,"./views/errors/use_mac_app":376,"./views/flow":377,"./views/flow_manager":378,"./views/flow_view_model":379,"./views/inbox":380,"./views/inbox/comment_form":381,"./views/inbox/comment_list":382,"./views/inbox/fileuploader":383,"./views/inbox/full_text":384,"./views/inbox/header":385,"./views/inbox/item":386,"./views/inbox/item_action_list":387,"./views/inbox/message_list":388,"./views/inbox/search_autocompleter":389,"./views/inbox/single_view":390,"./views/inbox/single_view_error":391,"./views/inbox/single_view_message":392,"./views/inbox/thread":393,"./views/navigation":394,"./views/navigation/flow_dropdown_menu":395,"./views/navigation/flow_list":396,"./views/navigation/navigation_desktop":398,"./views/navigation/navigation_mobile":399,"./views/navigation/notification":400,"./views/navigation/notification_center":401,"./views/navigation/notification_list":402,"./views/navigation/screenhero":403,"./views/navigation/sidebar_dropdown":404,
"./views/navigation/sidebar_dropdown_menu":405,"./views/navigation/spotlight_search":406,"./views/navigation/tab":407,"./views/navigation/tabs":408,"./views/navigation/tabs_desktop":409,"./views/navigation/tabs_mobile":410,"./views/navigation/user_menu":411,"./views/new_flow":412,"./views/new_organization":413,"./views/overlays":414,"./views/overlays/keyboard_shortcuts":416,"./views/overlays/meme_commands":417,"./views/overlays/meme_templates":418,"./views/overlays/nick_conflict":420,"./views/overlays/promotion_banner":421,"./views/overlays/slash_commands":422,"./views/overlays/upload":424,"./views/private":426,"./views/shared/attachment":427,"./views/shared/autocompleter":428,"./views/shared/avatar":429,"./views/shared/base":430,"./views/shared/close":431,"./views/shared/dropdown_container":433,"./views/shared/everyone_warning":435,"./views/shared/expanding_input":436,"./views/shared/header":438,"./views/shared/index":439,"./views/shared/list":440,"./views/shared/message":442,"./views/shared/message_autocompleter":443,
"./views/shared/message_error":444,"./views/shared/message_input":445,"./views/shared/message_list":446,"./views/shared/message_loader":447,"./views/shared/more_messages":448,"./views/shared/overlay":449,"./views/shared/popup":450,"./views/shared/progress":451,"./views/shared/reversed_message_list":452,"./views/shared/tabbed_overlay":456,"./views/shared/tag_input":457,"./views/shared/textarea_autocompleter":459,"./views/shared/title":460,"./views/shared/title_action":461,"./views/shared/title_actions":462,"./views/shared/tokenist":463,"./views/shared/typing_users":464,"./views/shared/user_list":465,"./views/thread":466,"./views/thread/action":467,"./views/thread/action_list":468,"./views/thread/actions":469,"./views/thread/activity":470,"./views/thread/activity_list":471,"./views/thread/comment":472,"./views/thread/comment_form":473,"./views/thread/discussion":474,"./views/thread/file_message":475,"./views/thread/header":477,"./views/thread/message":478,"./views/thread/title":479,"./views/toolbar":480,"./views/toolbar/desktop":481,
"./views/toolbar/mobile":482,"./views/toolbar/search":483,"./views/toolbar/user_counter":484,"./views/users/invitation":486,"./views/users/invitations":487,"./views/users/user_card":488,backbone:499,"backbone-query-parameters":493,"backbone-query-parameters/backbone.queryparams-1.1-shim":492,"backbone.projections":497,baconjs:500,browsernizr:510,"browsernizr/lib/hasEvent":524,"browsernizr/lib/prefixed":533,"browsernizr/test/audio":542,"browsernizr/test/css/positionsticky":543,"browsernizr/test/touchevents":544,"es5-shim":549,"flowdock-text":551,moment:669,"react/addons":670,underscore:891}],157:[function(e,t,n){var r;r=e("../lib/string.truncate"),Presenters.Activity=function(){function e(e,t,n){this.data=e,this.threadGroup=t,this.lineLimit=n,this.visibleGroup=null!=this.lineLimit?this.threadGroup.slice(0,this.lineLimit):this.threadGroup}return e.prototype.icon=function(){return null},e.prototype.meta=function(){var e;return e=this.threadGroup.length-this.visibleGroup.length,e>0?[{text:e+" more message"+(e>1?"s":"")
}]:[]},e.prototype.link=function(){var e;return null!=(e=this.data.thread)?e.external_url:void 0},e.prototype.actions=function(){return[]},e.prototype.author=function(){return this.data.author},e.prototype.avatar=function(e){var t,n,r,o,i;return(null!=(t=this.data.thread)&&null!=(n=t.source)&&null!=(r=n.application)?r.icon_url:void 0)||(null!=(o=this.data.thread)&&null!=(i=o.source)?i.icon:void 0)},e.prototype.classNameFor=function(e){var t;return t={"integration-comment":"comment-from-integration"},t[e]||""},e.prototype.grouped=function(){return!0},e.prototype.headline=function(){var e;return(null!=(e=this.data.thread)?e.title:void 0)||this.data.title},e.prototype.htmlHeadline=function(){return this.headline()},e.prototype.excerpt=function(){return{html:this._renderGroup()}},e.prototype.body=function(){return Presenters.Helper.render("body",{body:{html:this.data.body}})},e.prototype.linkTitle=function(){var e,t,n,r,o,i,s,a,u,l;return(null!=(e=this.data.thread)&&null!=(t=e.source)&&null!=(n=t.application)?n.name:void 0)?"Open in "+(null!=(r=this.data.thread)&&null!=(o=r.source)&&null!=(i=o.application)?i.name:void 0):(null!=(s=this.data.thread)&&null!=(a=s.source)?a.application:void 0)?"Open in "+(null!=(u=this.data.thread)&&null!=(l=u.source)?l.application:void 0):"Open original";
},e.prototype.summary=function(){var e;return[Presenters.Helper.unsafeStripHTML(null!=(e=this.data.thread)?e.title:void 0),this.summaryExcerpt()].filter(_.identity).join(": ")},e.prototype._renderDiscussion=function(e){return{author:e.get("author").name,avatar:e.get("author").avatar||Flowdock.icons.defaultAvatar,excerpt:this._discussionExcerpt(e)}},e.prototype.summaryExcerpt=function(){return"discussion"===this.data.event&&this.data.body?r(Presenters.Helper.unsafeStripHTML(this.data.body)):this.data.title?Presenters.Helper.unsafeStripHTML(this.data.title):void 0},e.prototype._discussionExcerpt=function(e){var t,n,r;return t=null!=(n=Presenters.Helper.unsafeStripHTML(e.get("body")))?n.trim():void 0,t&&0!==t.length||(t=null!=(r=Presenters.Helper.unsafeStripHTML(e.get("title")))?r.trim():void 0),t&&0!==t.length||(t="commented"),t},e.prototype._renderActivity=function(e){return{author:e.get("author").name,avatar:e.get("author").avatar||Flowdock.icons.defaultAvatar,title:e.get("title"),excerpt:Presenters.Helper.unsafeStripHTML(e.get("body"))
}},e.prototype._renderMessage=function(e){return{author:e.user().get("name"),avatar:e.user().get("avatar"),excerpt:e.get("content")}},e.prototype._render=function(e){switch(e.get("event")){case"activity":return this._renderActivity(e);case"discussion":return this._renderDiscussion(e);case"message":return this._renderMessage(e)}},e.prototype._renderGroup=function(){return Presenters.Helper.render("thread_group",{messages:this.visibleGroup.map(function(e){return function(t){return _.extend(e._render(t),{single:1===e.visibleGroup.length})}}(this))})},e}()},{"../lib/string.truncate":129}],158:[function(e,t,n){Presenters.Attachment=function(){function e(e){this.content=Helpers.FileHelper.parseAttachment(e)}return e.prototype.dimensions=function(){return this.isImage()?this.content.image.width+"x"+this.content.image.height:void 0},e.prototype.size=function(){return this.content.file.size},e.prototype.name=function(){return this.content.file.name},e.prototype.meta=function(){var e;return e=[{text:this.name()},{text:this.size()
}],this.isImage()&&e.push({text:"("+this.dimensions()+")"}),e},e.prototype.type=function(){return this.content.file.type},e.prototype.path=function(){return this.content.file.path},e.prototype.thumbnail=function(){return this.content.thumbnail?Presenters.Helper.render("shared/thumbnail",{attachment:this.content},{details:"shared/file_details"}):void 0},e.prototype.info=function(){return Presenters.Helper.render("shared/file_info",{attachment:this.content},{details:"shared/file_details"})},e.prototype.rotatedPath=function(){var e;return null!=(e=this.content.rotated)?e.path:void 0},e.prototype.isImage=function(){return this.content.image},e}()},{}],159:[function(e,t,n){var r=function(e,t){function n(){this.constructor=e}for(var r in t)o.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},o={}.hasOwnProperty;Presenters.ChatMessage.Action=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return r(t,e),t.prototype.body=function(){return Presenters.Helper.render("body",{
body:this.description()})},t.prototype.summary=function(){var e;return e=this.description(),null!=e.html?Presenters.Helper.unsafeStripHTML(e.html):e.text},t.prototype.description=function(){var e,t,n,r;return e=this.content.type,r=this.getTypeObj(e),n=this.content[r.field],t=this.descriptionFormatter(e,n,this.data,this.content),r.description(t)},t.prototype.getTypeObj=function(e){var t;return t={"user-edit":{field:"user",description:function(e){return{text:e.name+" is now known as "+e.nick}}},add_people:{field:"message",description:function(e){return{text:"Added "+e+" to the flow."}}},join:{description:function(){return{text:"Joined the flow."}}},invite:{field:"email",description:function(e){return{html:"Invited "+e+" to the flow."}}},decline:{field:"email",description:function(e){return{html:e+" declined invitation to the flow."}}},uninvite:{field:"email",description:function(e){return{html:"Canceled invite for "+e+"."}}}},t[e]},t.prototype.descriptionFormatter=function(e,t,n,r){var o,i;return o=function(e){return Presenters.Helper.render("shared/emailLink",{
name:e,email:e}).trim()},i={add_people:function(e){var t,n;return n=e,1===n.length?n[0]:2===n.length?n.join(" and "):(t=n.pop(),n.join(", ")+" and "+t)},invite:o,uninvite:o,decline:o},("function"==typeof i[e]?i[e](t,n,r):void 0)||t},t}(Presenters.ChatMessage)},{}],160:[function(e,t,n){Presenters.ChatMessage.File=function(){function e(e,t,n){this.event=e,this.content=t,this.data=n,this.content&&(this.file=new Presenters.Attachment(this.content))}return e.prototype.avatar=function(e){var t;return""+(null!=(t=this.data.user)?t.avatar:void 0)+e},e.prototype.icon=function(){},e.prototype.author=function(){return this.data.user?{name:this.data.user.nick}:void 0},e.prototype.excerpt=function(){var e;return e=this.file.thumbnail(),e?{html:e}:{html:this.file.info()}},e.prototype.action=function(){},e.prototype.meta=function(){},e.prototype.headline=function(){var e;return e=this.file.content.file.name+" - "+this.file.content.file.size,this.file.content.image&&(e+=" ("+this.file.content.image.width+"x"+this.file.content.image.height+")"),
e},e.prototype.body=function(){return this.content.file_name},e.prototype.linkTitle=function(){return"Download"},e.prototype.link=function(){return"/rest"+this.content.path},e.prototype.summary=function(){return"Uploaded a file: "+this.content.file_name},e}()},{}],161:[function(e,t,n){var r=function(e,t){function n(){this.constructor=e}for(var r in t)o.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},o={}.hasOwnProperty;Presenters.ChatMessage.UserEdit=function(e){function t(e,n,r){n.type="user-edit",t.__super__.constructor.call(this,"action",n,r)}return r(t,e),t}(Presenters.ChatMessage.Action)},{}],162:[function(e,t,n){var r;r=e("../lib/markdown"),Presenters.ChatMessage=function(){function e(e,t,n){this.event=e,this.content=t,this.data=n}return e.SUPPORTED_EVENTS=["message","comment","error-message"],e.prototype.avatar=function(e){var t;return""+(null!=(t=this.data.user)?t.avatar:void 0)+e},e.prototype.icon=function(){},e.prototype.author=function(){return this.data.user?{
name:this.data.user.nick}:void 0},e.prototype.excerpt=function(){var e;return e=this.body(),null!=e?{html:e}:void 0},e.prototype.grouped=function(){return!1},e.prototype.meta=function(){},e.prototype.action=function(){},e.prototype.htmlHeadline=function(){var e,t;return null!=(e=this.data)&&null!=(t=e.thread)?t.title:void 0},e.prototype.headline=function(){var e,t;return(null!=(e=this.data)&&null!=(t=e.thread)?t.title:void 0)||this.summary().split("\n")[0]},e.prototype.body=function(){return this._summary(this.format)},e.prototype.plainText=function(e){return r.text(r.parse(e))},e.prototype._summary=function(e){var t;return"message"===(t=this.event)||"line"===t||"error-message"===t?e.call(this,this.content):"status"===this.event?Presenters.Helper.escape(this.content)||"cleared status":"comment"===this.event?e.call(this,this.content.text):"file"===this.event?"Uploaded a file: "+this.content.file_name:void 0},e.prototype.summary=function(){return this._summary(this.plainText)},e.prototype.format=function(e){var t;
return"message"===(t=this.event)||"comment"===t||"line"===t?r.render(e,this.data):Presenters.Helper.autoLink(Helpers.IndentationHelper.formatIndented(e),this.data)},e}()},{"../lib/markdown":122}],163:[function(e,t,n){var r;r=function(){function e(e){this.model=e}return e.prototype.id=function(){return"flow-"+this.model.id},e.prototype.iconClass=function(){return"invitation"===this.model.get("access_mode")?"fa-lock":"fa-building"},e.prototype.iconTitle=function(){var e,t;return e="invitation"===this.model.get("access_mode")?"This flow is invitation-only.":"This flow can be joined by anyone in the organization.",t=this.model.get("open")?"You are a part of this flow. ":"",t+e},e.prototype.icon=function(){return{open:this.model.get("open"),"class":this.iconClass(),title:this.iconTitle()}},e.prototype.description=function(){var e;return(null!=(e=this.model.get("description"))?e.length:void 0)?this.model.get("description"):"No description"},e.prototype.lastMessageAt=function(){return moment(new Date(this.model.get("last_message_at")||0));
},e.prototype.name=function(){return this.model.get("name")},e.prototype.specifier=function(){return this.model.get("organization").name},e.prototype.hasUsers=function(){return!0},e.prototype.url=function(){return Helpers.url.stripHost(this.model.get("web_url"))},e}(),t.exports=r},{}],164:[function(e,t,n){var r,o;o=e("MD5"),Presenters.Helper=function(){function t(){}return t.templates={body:e("./templates/body.mustache"),bodyWithProperties:e("./templates/bodyWithProperties.mustache"),confluence:e("./templates/confluence.mustache"),"github/commit":e("./templates/github/commit.mustache"),"github/commit_summary":e("./templates/github/commit_summary.mustache"),"github/commits":e("./templates/github/commits.mustache"),"github/pages":e("./templates/github/pages.mustache"),jira:e("./templates/jira.mustache"),mail:e("./templates/mail.mustache"),"shared/changeLog":e("./templates/shared/changeLog.mustache"),"shared/emailLink":e("./templates/shared/emailLink.mustache"),"shared/file_details":e("./templates/shared/file_details.mustache"),
"shared/file_info":e("./templates/shared/file_info.mustache"),"shared/propertyList":e("./templates/shared/propertyList.mustache"),"shared/thumbnail":e("./templates/shared/thumbnail.mustache"),thread_group:e("./templates/thread_group.mustache"),"twitter/actionAuthor":e("./templates/twitter/actionAuthor.mustache"),"twitter/author":e("./templates/twitter/author.mustache")},t.avatarFromEmail=function(e,t){return null==t&&(t=100),null!=e?r(o(e.toLowerCase()),t):void 0},t.avatarFromHash=function(e,t){return null==t&&(t=100),null!=e?r(e,t):void 0},t.render=function(e,t,n){var r,o,i,s,a;null==n&&(n={}),i={};for(o in t)r=t[o],r&&(i[o]=null!=r.html?r.html:null!=r.text?this.escape(r.text).replace(/\n/g,"<br/>"):r);for(s in n)a=n[s],n[s]=Presenters.Helper.templates[a];return Helpers.renderTemplate(Presenters.Helper.templates[e])(i,n)},t.unsafeUnescapeHTML=function(e){return null==e&&(e=""),$("<div/>").html(e).text()},t.unsafeStripHTML=function(e){var t,n;return null==e&&(e=""),_.isString(e)&&""!==e?(n=new DOMParser,t=$(n.parseFromString(e,"text/html")),
t.find("img").replaceWith(function(){var e,t,n,r,o,i,s;return o=3===(null!=(i=this.previousSibling)?i.nodeType:void 0)?this.previousSibling.textContent:"",r=3===(null!=(s=this.nextSibling)?s.nodeType:void 0)?this.nextSibling.textContent:"",n=o.length>0&&!o.match(/\s$/),t=r.length>0&&!r.match(/^\s/),(e=this.getAttribute("alt"))?n&&t?" "+e+" ":n?" "+e:t?e+" ":e:n&&t?" ":""}),t.find("br").replaceWith(function(){return" "}),Helpers.TimeHelper.updateTimestamps(t),t.text()):void 0},t.stripExcessWhitespace=function(e){var t;return(null!=e&&"function"==typeof e.replace&&"function"==typeof(t=e.replace(/\s+/g," ")).trim?t.trim():void 0)||""},t.sliceExcerpt=function(e,t){return null==t&&(t=200),null!=(null!=e?e.trim:void 0)?Presenters.Helper.stripExcessWhitespace(e.trim().slice(0,t)):void 0},t.keyValuePairs=function(e){var t,n,r;return t=function(){var t;t=[];for(n in e)r=e[n],n&&r?t.push({key:n,value:Presenters.Helper.escape(r).replace(/\n/g,"<br/>")}):t.push(void 0);return t}(),_.compact(t)},t.escape=function(e){return $("<div/>").text(e).html();
},t.autoLink=function(e,t){var n;return null==t&&(t={}),_.isString(e)?(n=Collections.Tags.everyoneTags.concat(Collections.Tags.teamTags),Helpers.autoLink(e,{hashtagClass:"tag",mentionClass:"mention tag",hashtagUrlBase:Helpers.absoluteUrlFor({flow:t.flowPath})+"?filter=all&tags=",users:t.users,everyoneTags:n})):void 0},t.restifyFilepaths=function(e){var t,n,r,o,i,s,a,u,l,c,p;if(_.isString(e)&&""!==e){for(u=new DOMParser,t=u.parseFromString(e,"text/html"),l=t.querySelectorAll("img"),o=0,s=l.length;s>o;o++)n=l[o],p=n.getAttribute("src"),p&&p.match(/^\/files/)&&n.setAttribute("src","/rest"+p);for(c=t.querySelectorAll("a"),i=0,a=c.length;a>i;i++)n=c[i],r=n.getAttribute("href"),r&&r.match(/^\/files/)&&n.setAttribute("href","/rest"+r);return t.body.innerHTML}},t.capitalize=function(e){return e.split(" ").map(function(e){return capitalizeFirst(e)}).join(" ")},t.capitalizeFirst=function(e){var t;return e||(e=""),""+((null!=(t=e[0])?t.toUpperCase():void 0)||"")+e.slice(1)},t}(),r=function(e,t){return null==t&&(t=null),Helpers.assetPath("/avatars/"+e+"/"+t);
}},{"./templates/body.mustache":178,"./templates/bodyWithProperties.mustache":179,"./templates/confluence.mustache":180,"./templates/github/commit.mustache":181,"./templates/github/commit_summary.mustache":182,"./templates/github/commits.mustache":183,"./templates/github/pages.mustache":184,"./templates/jira.mustache":185,"./templates/mail.mustache":186,"./templates/shared/changeLog.mustache":187,"./templates/shared/emailLink.mustache":188,"./templates/shared/file_details.mustache":189,"./templates/shared/file_info.mustache":190,"./templates/shared/propertyList.mustache":191,"./templates/shared/thumbnail.mustache":192,"./templates/thread_group.mustache":193,"./templates/twitter/actionAuthor.mustache":194,"./templates/twitter/author.mustache":195,MD5:489}],165:[function(e,t,n){Presenters.InboxMessage=function(){function e(e,t){this.event=e,this.content=t}return e.prototype.meta=function(){return[]},e.prototype.actions=function(){return[]},e.prototype.author=function(){},e.prototype.avatar=function(e){var t,n;return t=null!=(n=this.author())?n.email:void 0,
null==e&&(e=100),Presenters.Helper.avatarFromEmail(t,e)},e.prototype.grouped=function(){return!1},e.prototype.classNameFor=function(e){var t;return t={"integration-comment":"comment-from-integration"},t[e]||""},e.prototype.linkTitle=function(){return"Open in "+Helpers.capitalizeFirst(this.event)},e}()},{}],166:[function(e,t,n){},{}],167:[function(e,t,n){var r=function(e,t){function n(){this.constructor=e}for(var r in t)o.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},o={}.hasOwnProperty;Presenters.ChatMessage.LineMessage=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return r(t,e),t.prototype.author=function(){return this.data.user},t}(Presenters.ChatMessage)},{}],168:[function(e,t,n){var r=[].indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(t in this&&this[t]===e)return t;return-1};window.Presenters.TeamInbox=window.Presenters.TeamInbox||{},window.Presenters.createPresenter=function(e,t,n){var o,i;return null==n&&(n=null),
i={mail:Presenters.TeamInbox.Mail,jira:Presenters.TeamInbox.Jira,confluence:Presenters.TeamInbox.Confluence,twitter:Presenters.TeamInbox.Twitter,vcs:Presenters.TeamInbox.Git,mercurial:Presenters.TeamInbox.Mercurial,hg:Presenters.TeamInbox.Mercurial,svn:Presenters.TeamInbox.Subversion,kiln:Presenters.TeamInbox.Kiln,action:Presenters.ChatMessage.Action,file:Presenters.ChatMessage.File,"user-edit":Presenters.ChatMessage.UserEdit,status:Presenters.ChatMessage.LineMessage,line:Presenters.ChatMessage.LineMessage},r.call(Presenters.ChatMessage.SUPPORTED_EVENTS,e)>=0?new Presenters.ChatMessage(e,t,n):(o=i[e],o?new o(e,t,n):void 0)}},{}],169:[function(e,t,n){var r=function(e,t){function n(){this.constructor=e}for(var r in t)o.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},o={}.hasOwnProperty;Presenters.TeamInbox.Confluence=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return r(t,e),t.prototype.icon=function(){return Flowdock.icons.confluence;
},t.prototype.author=function(){var e,t,n;return e=null!=(t=this.content)?t.user_email:void 0,{name:null!=(n=this.content)?n.user_name:void 0,link:"mailto:"+e,email:e}},t.prototype.action=function(){var e;return e=this.content.event,"comment_create"===e?"commented wiki page":e+"d wiki page"},t.prototype.headline=function(){return this.content.page_title},t.prototype.link=function(){return this.content.page_url},t.prototype.meta=function(){var e;return e=[{text:this.content.space_name,link:this.content.space_url}],this.isComment()&&e.push({text:this.content.page_title,link:this.content.page_url}),e},t.prototype.summary=function(){var e;return e=this.action()+' wiki page "'+this.content.page_title+'"',this.isComment()?e+": "+this.content.comment_content_summary:e},t.prototype.body=function(){var e,t;return e=(t=this.htmlBody())?{html:t}:{text:this.textBody()},Presenters.Helper.render("confluence",{body:e,diff:this.content.diff})},t.prototype.additionalClasses=function(){return this.isComment()?this.classNameFor("integration-comment"):void 0;
},t.prototype.excerpt=function(){var e;return e=this.textBody(),Presenters.Helper.sliceExcerpt(e)},t.prototype.htmlBody=function(){return this.isComment()?this.content.comment_content_summary_html:void 0},t.prototype.textBody=function(){return this.isComment()?this.content.comment_content_summary:this.content.version_comment},t.prototype.isComment=function(){return"comment_create"===this.content.event},t}(Presenters.InboxMessage)},{}],170:[function(e,t,n){var r,o,i,s,a,u,l,c,p,d,h,f,m,g,v,b,y,w,k,x,C,E,T,S,D,A,M,F,N,O=function(e,t){return function(){return e.apply(t,arguments)}},I=function(e,t){function n(){this.constructor=e}for(var r in t)P.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},P={}.hasOwnProperty;l=e("../../lib/string.capitalize"),Presenters.TeamInbox.Git=function(e){function t(e,t,n){this.event=e,this.content=t,null==n&&(n={}),this.actions=O(this.actions,this),this.lineLimit=n.lineLimit||3,this.renderedContent=D(this.content)}return I(t,e),t.prototype.icon=function(){
return Flowdock.icons.git},t.prototype.avatar=function(e){var t,n,r;return null==e&&(e=100),(null!=(t=this.author())?t.avatarUrl:void 0)?this.author().avatarUrl+("&s="+e):(null!=(n=this.author())?n.email:void 0)?Presenters.Helper.avatarFromEmail(this.author().email,e):(null!=(r=this.author())?r.gravatarId:void 0)?Presenters.Helper.avatarFromHash(this.author().gravatarId,e):void 0},t.prototype.link=function(){var e,t;return e=this.renderedContent.link?this.renderedContent.link:(null!=(t=this.branch())?t.url:void 0)&&!s(this.content)?this.branch().url:void 0,(null!=e?e.match(/^https?/):void 0)?e:void 0},t.prototype.author=function(){return r(this.content)},t.prototype.action=function(){return this.renderedContent.action},t.prototype.headline=function(){return f(this.renderedContent.headline)},t.prototype.summary=function(){return f(N(this.content))},t.prototype.body=function(){return f("edited"===this.renderedContent.action?this.renderPages():i(this.content)||s(this.content)?null:this.hasCommits()?this.renderCommits():Presenters.Helper.render("body",{
body:this.renderedContent.body}))},t.prototype.renderPages=function(){return Presenters.Helper.render("github/pages",{pages:this.renderedContent.pages})},t.prototype.renderCommits=function(e){var t,n;return n=this.renderedContent.commits.map(function(e){return function(t){return E(t,e.content.before)}}(this)).reverse(),t=n.length,e&&t-e>0&&(n=n.slice(0,e)),Presenters.Helper.render("github/commits",{commits:n,forced:this.renderedContent.forced},{commit:"github/commit",commit_summary:"github/commit_summary"})},t.prototype.additionalClasses=function(){return this.content.comment?this.classNameFor("integration-comment"):void 0},t.prototype.excerpt=function(){var e;return this.hasCommits()?{html:f(this.renderCommits(this.lineLimit))}:(e=Presenters.Helper.unsafeStripHTML(this.body()),f(Presenters.Helper.sliceExcerpt(e)))},t.prototype.meta=function(){var e,t,n,r;return r=this.repository(),e=this.branch(),t=[{text:r.name,link:r.url}],(null!=e?e.name:void 0)&&t.push({text:e.name,link:e.url}),g(this.content)&&t.unshift({
text:"Forced update"}),n=k(this.content,this.lineLimit),n>0&&t.unshift({text:n+" more commit"+(n>1?"s":"")}),t},t.prototype.actions=function(){var e;return e=[],s(this.content)?[]:(this.content.compare&&e.push({text:"diff",link:this.content.compare,className:"list"}),this.pullRequestPossible()&&e.push({text:"pull request",link:this.repository().url+"/compare/"+this.branch().name,className:"code-fork"}),e)},t.prototype.events=function(){return{"click .commit-list .commit-details":this.toggleCommitSummary}},t.prototype.linkAndDescription=function(e,t){return 0===e.indexOf("view")?{text:e,link:t,className:e.split(" ")[0]}:{text:e,link:t}},t.prototype.pullRequestPossible=function(){var e,t;return e=this.content.ref,(null!=(t=this.repository().url)?t.match(/^https?:\/\/github.com/):void 0)&&e&&"refs/heads/master"!==e&&!this.tag()&&!s(this.content)},t.prototype.linkTitle=function(){return"vcs"===this.event&&String(this.link()).indexOf("github.com")>=0?"Open in GitHub":"Open original"},t.prototype.repository=function(){
return M(this.content)},t.prototype.branch=function(){return this.renderedContent.branch},t.prototype.tag=function(){return this.renderedContent.tag},t.prototype.gitEvent=function(){return b(this.content)},t.prototype.commits=function(){return this.renderedContent.commits},t.prototype.pages=function(){return this.renderedContent.pages},t.prototype.issue=function(){return this.renderedContent.issue},t.prototype.pullRequest=function(){return this.renderedContent.pullRequest},t.prototype.hasCommits=function(){return(null!=this.renderedContent.commits)>0},t.prototype.toggleCommitSummary=function(e){var t;if(!$(e.target).is("a"))return t=$(e.target).closest(".commit"),$(t).toggleClass("toggled"),$(t).find(".details").toggleClass("show")},t}(Presenters.InboxMessage),E=function(e,t){var n,r,o,i;return n=$.extend(!0,{},e),n.id=null!=(r=n.id)?r.slice(0,7):void 0,n.before=null!=t?t.slice(0,7):void 0,n.author.avatar=Presenters.Helper.avatarFromEmail(n.author.email,20),["added","modified","removed"].forEach(function(e){var t;
return n.changes[e]=function(){var r,o,i,s;for(i=n.changes[e],s=[],r=0,o=i.length;o>r;r++)t=i[r],s.push(m(t,n,e));return s}()}),i=null!=(o=f(n.message))?o.split("\n\n"):void 0,i.length>1&&(n.message=i[0],n.furthermore=i[1]),n},f=function(e){return null!=e?emojimoji(e):e},m=function(e,t,n){var r,o;return o={file:e},t.url&&(r=t.url.split("/commit/")[0],"removed"!==n?o.link=r+"/blob/"+t.id+"/"+e:o.link=r+"/blob/"+t.before+"/"+e),o},D=function(e){var t;return t=e.event||b(e),A[t](e)},h=function(e){return null==e.commits?[]:e.commits.map(function(e){return{author:e.author,url:e.url||e.link,id:e.id||e.sha,message:e.message,changes:{added:e.added||[],removed:e.removed||[],modified:e.modified||[]}}})},k=function(e,t){var n,r;return n=null!=(r=e.commits)?r.length:void 0,_.isNumber(n)?Math.max(n-t,0):0},C=function(e){return null==e.pages?[]:e.pages.map(function(e){return{title:e.title,url:e.html_url,summary:e.summary,action:e.action}})},g=function(e){return e.forced&&"push"===e.event&&!e.created&&!e.deleted&&"tag"!==e.refType;
},y=function(e){return e?e.replace("//api.github.com/repos","//github.com"):void 0},S=function(e){var t;return"tags"===(null!=(t=e.ref)?t.split("/")[1]:void 0)?"tag":"branch"},o=function(e){var t;return null!=(t=e.ref)?t.split("/").slice(2).join("/"):void 0},a=function(e){var t,n,r,i,s;return i=function(e){return 1===e?"a commit":e+" commits"},n=o(e)?o(e)+" ":"",t={headline:Number(null!=(s=e.commits)?s.length:void 0)>0?n+"with "+i(e.commits.length):o(e)||"",forced:g(e)},r=e.repository.url&&0===e.repository.url.indexOf("https://github.com")?e.repository.url+"/tree/"+o(e):e.repository.url,t[S(e)]={name:o(e),url:r},t},u=function(e){var t,n;return s(e)?"Deleted "+S(e)+" "+o(e):i(e)?"Created "+S(e)+" "+o(e):(t=o(e)?" "+o(e):"",n=""+S(e)+t+" at "+e.repository.name+" updated",g(e)&&(n+=" (forced)"),n)},M=function(e){return null!=e.repository?{name:e.repository.name,url:y(e.repository.url)}:void 0},r=function(e){var t,n;return(t=e.sender||e.pusher||(null!=(n=_.last(e.commits))?n.author:void 0))?{name:t.login||t.name,email:t.email,
link:t.email?"mailto:"+t.email:"https://github.com/"+t.login,avatarUrl:t.avatar_url,gravatarId:t.gravatar_id}:void 0},d=function(e){var t;return null!=(null!=(t=e.issue.pull_request)?t.html_url:void 0)?"Pull request":"Issue"},p=function(e){var t,n;return t=A[e.event||b(e)](e).body,t=t.html?Presenters.Helper.unsafeStripHTML(t.html):t.text,n=e.issue?d(e)+" # "+e.issue.number+": "+e.issue.title:"Commit "+e.comment.commit_id.substr(0,10),n+" in "+e.repository.name+" commented by "+e.sender.login+':\n"'+(null!=t&&"function"==typeof t.trim?t.trim():void 0)+'"'},b=function(e){return e.commits?"push":e.comment&&e.comment.commit_id?"commit_comment":e.comment?"issue_comment":e.pages?"gollum":e.pull_request?"pull_request":e.issue?"issues":"push"},x=function(e){var t,n;return n=e.pages.map(function(e){return e.title}),t=_.first(n,e.pages.length-1).join(", ")+(" & "+_.last(n)),{action:"edited wiki pages",headline:t,summary:"Edited wiki pages "+t,pages:C(e),link:y(e.repository.url+"/wiki/_pages")}},F=function(e){var t;return t=e.pages[0],
{action:t.action+" wiki page",headline:t.title,summary:l(t.action)+" wiki page "+t.title,pages:C(e),link:t.html_url}},s=function(e){return e.deleted},i=function(e){var t;return e.created&&0===(null!=(t=e.commits)?t.length:void 0)},A={push:function(e){var t,n;return s(e)?t="deleted":i(e)?(t="created",n=e.compare):(t="updated",g(e)&&(t+=" (forced)")),t+=" "+S(e),_.extend(a(e),{action:t,commits:h(e),link:n})},gollum:function(e){return(1===e.pages.length?F:x)(e)},pull_request:function(e){var t,n;return t="closed"===e.action&&e.pull_request.merged?"merged":e.action,n=e.pull_request,{action:t,link:n.html_url,headline:T(n),summary:l(t)+" pull request "+n.number+" \u201c"+n.title+"\u201d",body:v(n),pullRequest:{title:n.title,number:n.number}}},issues:function(e){var t;return t=e.issue,{action:e.action,link:t.html_url,headline:w(t),body:v(t),issue:{title:t.title,number:t.number}}},commit_comment:function(e){return{action:"commented",link:e.comment.html_url,headline:"commit "+e.comment.commit_id.slice(0,7),body:v(e.comment)
}},issue_comment:function(e){var t,n,r,o,i;return n=e.issue,r=null!=(null!=(o=n.pull_request)?o.html_url:void 0)?{title:n.title,number:n.number}:void 0,t=r?T(n):w(n),{action:"commented",link:y((null!=(i=e.comment)?i.html_url:void 0)||e.issue.html_url||e.issue.url),headline:t,body:v(e.comment),pullRequest:r}}},A.pull_request_review_comment=A.commit_comment,v=function(e){return e.body_html?{html:e.body_html}:e.body?{text:e.body}:void 0},T=function(e){return"pull request #"+e.number+': "'+e.title+'"'},w=function(e){return"issue #"+e.number+': "'+e.title+'"'},c=function(e){var t;return t=e.body.indexOf("\n"),-1!==t?e.body.substring(0,t):e.body},N=function(e){var t;return e.commits?u(e):e.comment?p(e):(t=e.event||b(e),A[t](e).summary)}},{"../../lib/string.capitalize":128}],171:[function(e,t,n){var r=function(e,t){function n(){this.constructor=e}for(var r in t)o.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},o={}.hasOwnProperty;Presenters.TeamInbox.Jira=function(e){
function t(){return t.__super__.constructor.apply(this,arguments)}return r(t,e),t.prototype.icon=function(){return Flowdock.icons.jira},t.prototype.author=function(){var e,t,n;return e=null!=(t=this.content)?t.user_email:void 0,{name:null!=(n=this.content)?n.user_name:void 0,link:"mailto:"+e,email:e}},t.prototype.action=function(){var e;return e=this.content.event_type,"start_work"===e?"started":e&&"unknown"!==e?"e"===e[e.length-1]?e+"d":e+"ed":"updated"},t.prototype.headline=function(){return this.issueName()},t.prototype.linkTitle=function(){return"Open in JIRA"},t.prototype.link=function(){return this.content.issue_url},t.prototype.meta=function(){return[{text:this.content.project_name,link:this.content.project_url}]},t.prototype.summary=function(){var e;return e=this.action()+' "'+this.issueName()+'"',"comment"===this.content.event_type?e+": "+this.content.comment_body:e},t.prototype.body=function(){var e,t,n;return e=(t=this.htmlBody())?{html:t}:{text:this.textBody()},n=this.content.issue_changelog?void 0:Presenters.Helper.keyValuePairs(this.issueProperties()),
Presenters.Helper.render("jira",{changeLog:this.content.issue_changelog,body:e,propertyList:n},{changeLog:"shared/changeLog",propertyList:"shared/propertyList"})},t.prototype.additionalClasses=function(){return"comment"===this.content.event_type?this.classNameFor("integration-comment"):void 0},t.prototype.excerpt=function(){return Presenters.Helper.sliceExcerpt(this.textBody())},t.prototype.issueProperties=function(){return{Type:this.content.issue_type,Status:this.content.issue_status,Priority:this.content.issue_priority,Assignee:this.content.issue_assignee_name,Reporter:this.content.issue_reporter_name,Summary:this.content.issue_summary}},t.prototype.htmlBody=function(){return null!=this.content.comment_body_html?this.content.comment_body_html:null!=this.content.issue_description_html?this.content.issue_description_html:void 0},t.prototype.textBody=function(){return null!=this.content.comment_body?this.content.comment_body:null!=this.content.issue_description?this.content.issue_description:""},t.prototype.issueName=function(){
var e;return e=this.content.issue_key+" ("+this.content.issue_type+"): "+this.content.issue_summary,this.content.issue_resolution?e+(" as "+this.content.issue_resolution):e},t}(Presenters.InboxMessage)},{}],172:[function(e,t,n){var r,o,i=function(e,t){function n(){this.constructor=e}for(var r in t)s.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},s={}.hasOwnProperty;Presenters.TeamInbox.Kiln=function(e){function t(e,n){this.content=n,t.__super__.constructor.call(this,e,o(this.content))}return i(t,e),t.prototype.icon=function(){return Flowdock.icons.kiln},t.prototype.linkTitle=function(){return"Open in Kiln"},t}(Presenters.TeamInbox.Git),r=function(e){var t;return t=_.last(e.commits||[]),null!=t?t.branch:void 0},o=function(e){var t;return _.extend(e,{ref:"refs/head/"+r(e),commits:null!=(t=e.commits)?t.map(function(e){return _.extend(e,{added:[],modified:[],removed:[]})}):void 0})}},{}],173:[function(e,t,n){var r,o,i,s=function(e,t){return function(){return e.apply(t,arguments);
}},a=function(e,t){function n(){this.constructor=e}for(var r in t)u.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},u={}.hasOwnProperty;Presenters.TeamInbox.Mail=function(e){function t(e,t,n){this.event=e,this.content=t,this.data=n,this.actions=s(this.actions,this)}return a(t,e),t.prototype.icon=function(){return Flowdock.icons.mail},t.prototype.author=function(){var e,t,n,r,o;return e=null!=(t=this.content.from)&&null!=(n=t[0])?n.address:void 0,{name:(null!=(r=this.content.from)&&null!=(o=r[0])?o.name:void 0)||(null!=e?e.split("@")[0]:void 0),link:"mailto:"+e,email:e}},t.prototype.headline=function(){return this.content.subject},t.prototype.summary=function(){return this.content.subject},t.prototype.body=function(){var e;return e=i(this.content.content),e&&0!==e.length?(e=Presenters.Helper.restifyFilepaths(e),e=Presenters.Helper.autoLink(e,this.data),Presenters.Helper.render("mail",{headers:o(this.content),body:{html:e}})):void 0},t.prototype.meta=function(){
var e;return e=[],this.content.source&&e.push({text:this.content.source}),this.content.project&&e.push({text:this.content.project}),e},t.prototype.action=function(){},t.prototype.actions=function(){var e,t;return[{text:"reply",link:Helpers.MailHelper.mailtoUrl(this.content,"reply",null!=(e=this.data)?e.sent:void 0),className:"mail-reply"},{text:"forward",link:Helpers.MailHelper.mailtoUrl(this.content,"forward",null!=(t=this.data)?t.sent:void 0),className:"mail-forward"}]},t.prototype.excerpt=function(){var e;return e=Presenters.Helper.unsafeStripHTML(i(this.content.content)),Presenters.Helper.sliceExcerpt(e)},t.prototype.linkTitle=function(){return this.content.source?"Open in "+this.content.source:"Open original"},t.prototype.link=function(){return this.content.link},t}(Presenters.InboxMessage),i=function(e){return _.isArray(e)&&(e=e.filter(function(e){return _.isString(e)&&e.length>0}).join()),e},o=function(e){var t,n,o,i;return n=_.object(function(){var n,o,i,s;for(i=["from","to","cc","bcc","replyTo"],s=[],
n=0,o=i.length;o>n;n++)t=i[n],e[t]&&s.push([t,_.compact(_.map(e[t],r))]);return s}()),null!=(null!=(o=n.replyTo)?o[0]:void 0)&&null!=(null!=(i=n.from)?i[0]:void 0)&&n.replyTo[0].address===n.from[0].address&&delete n.replyTo,n},r=function(e){return e?(e=_.extend({},e),e.name&&""!==e.name?e.name=e.name+" <"+e.address+">":e.name=e.address,e):void 0}},{}],174:[function(e,t,n){var r,o,i,s,a=function(e,t){function n(){this.constructor=e}for(var r in t)u.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},u={}.hasOwnProperty;Presenters.TeamInbox.Mercurial=function(e){function t(e,n){this.content=n,t.__super__.constructor.call(this,e,s(this.content))}return a(t,e),t.prototype.icon=function(){return Flowdock.icons.mercurial},t.prototype.linkTitle=function(){return"mercurial"===this.event?"Open in Bitbucket":"Open original"},t}(Presenters.TeamInbox.Git),r=function(e){return{email:(e.match(/<(.*)>/)||[])[1],name:e.match(/^([^<]*)/)[0].trim()}},o=function(e,t){var n;return null!=(n=e.files)?n.filter(function(e){
return e.type.toString()===t.toString()}).map(function(e){return e.file}):void 0},i=function(e){var t;return t=_.last(e.commits||[]),(null!=t?t.branch:void 0)||""},s=function(e){var t;return _.extend(e,{ref:"refs/head/"+i(e),commits:null!=(t=e.commits)?t.map(function(e){return _.extend(e,{author:r(e.raw_author),url:e.link,id:e.raw_node,added:o(e,"added"),modified:o(e,"modified"),removed:o(e,"removed")})}):void 0})}},{}],175:[function(e,t,n){var r,o,i=function(e,t){function n(){this.constructor=e}for(var r in t)s.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},s={}.hasOwnProperty;Presenters.TeamInbox.Perforce=function(e){function t(e,n){this.content=n,t.__super__.constructor.call(this,e,o(this.content))}return i(t,e),t.prototype.icon=function(){return Flowdock.icons.svn},t}(Presenters.TeamInbox.Git),r=function(e,t){var n,r;return null!=(n=e.files)&&null!=(r=n[t])?r.map(function(e){return e.file}):void 0},o=function(e){return{ref:"refs/head/"+(e.branch||"trunk"),
sender:e.commit.author,commits:[{author:{name:e.commit.author.name,email:e.commit.author.email},id:e.commit.id,message:e.commit.message,added:r(e.commit,"added"),modified:r(e.commit,"modified"),removed:r(e.commit,"removed"),branched:r(e.commit,"branched"),integrated:r(e.commit,"integraged")}],repository:e.repository}}},{}],176:[function(e,t,n){var r,o,i=function(e,t){function n(){this.constructor=e}for(var r in t)s.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},s={}.hasOwnProperty;Presenters.TeamInbox.Subversion=function(e){function t(e,n){this.content=n,t.__super__.constructor.call(this,e,o(this.content))}return i(t,e),t.prototype.icon=function(){return Flowdock.icons.svn},t}(Presenters.TeamInbox.Git),r=function(e,t){var n,r;return null!=(n=e.changes)&&null!=(r=n[t])?r.map(function(e){return e.path}):void 0},o=function(e){var t,n,o;return t=e.revision_url?e.revision_url.replace(/:revision/,e.revision):void 0,_.extend(e,{ref:"refs/head/"+(e.branch||"trunk"),sender:e.author,
created:"branch_create"===e.action,deleted:"branch_delete"===e.action,commits:[{author:{name:e.author.name,email:e.author.email},url:t,id:e.revision,message:e.message,added:r(e,"added"),modified:r(e,"modified"),removed:r(e,"removed")}]}),(e.created||e.deleted)&&(e.compare=null!=(n=e.commits)&&null!=(o=n[0])?o.url:void 0,e.commits=[]),e}},{}],177:[function(e,t,n){var r,o=function(e,t){return function(){return e.apply(t,arguments)}},i=function(e,t){function n(){this.constructor=e}for(var r in t)s.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},s={}.hasOwnProperty;r=e("unicode-substring"),Presenters.TeamInbox.Twitter=function(e){function t(){return this.actions=o(this.actions,this),t.__super__.constructor.apply(this,arguments)}var n,s,a,u,l,c;return i(t,e),t.prototype.icon=function(){return Flowdock.icons.twitter},t.prototype.author=function(){var e,t,n;return e=(null!=(n=this.retweet())?n.user:void 0)||this.content.user,t=l(e.screen_name),{name:e.name,link:t,partial:Presenters.Helper.render("twitter/author",{
author:e,profileLink:t})}},t.prototype.avatar=function(){var e;return(e=function(e){return e.replace(/_normal\./,"_reasonably_small.")})(this.retweet()?this.retweet().user.profile_image_url_https||this.retweet().user.profile_image_url:this.content.user.profile_image_url_https||this.content.user.profile_image_url)},t.prototype.headline=function(){return this.tweetText()},t.prototype.singleViewHtmlHeadline=function(){return this.formatTweet()},t.prototype.htmlHeadline=function(){return this.author().partial+"<br> "+this.formatTweet()},t.prototype.summary=function(){var e,t;return t=this.author().name,e="tweeted:",this.retweet()&&(e="retweeted by "+this.content.user.name+":"),t+" "+e+" "+this.tweetText()},t.prototype.body=function(){var e,t,n;return t=null!=(n=this.entities())?n.media:void 0,null==t?null:(e=t.reduce(function(e,t){return"photo"===t.type&&(e=$(e).add($("<a>").attr("href",t.expanded_url).html($("<img>").attr({src:t.media_url_https,alt:"Twitter photo"})))),e},$()),e[0].outerHTML)},t.prototype.action=function(){},
t.prototype.link=function(){return l(this.content.user.screen_name,this.content.id_str)},t.prototype.timestampLink=function(){return this.link()},t.prototype.meta=function(){var e,t,n,r;return e=[],n=this.content.in_reply_to_screen_name,t=this.content.in_reply_to_status_id_str,r=this.retweet(),n&&e.push({text:"in reply to @"+n,link:l(n,t)}),r&&e.push({text:"retweeted by "+this.content.user.name,link:l(this.content.user.screen_name)}),e},t.prototype.actions=function(){return[{text:"reply",link:Helpers.TwitterHelper.intentReplyUrl(this.content.id_str),className:"reply"},{text:"retweet",link:Helpers.TwitterHelper.intentRetweetUrl(this.content.id_str),className:"retweet"},{text:"favorite",link:Helpers.TwitterHelper.intentFavoriteUrl(this.content.id_str),className:"star"}]},t.prototype.entities=function(){return this.retweet()?this.retweet().entities:this.content.entities},t.prototype.retweet=function(){return this.content.retweeted_status},t.prototype.tweetText=function(){var e,t;return t=(null!=(e=this.retweet())?e.text:void 0)||this.content.text,
t.replace(/[<>]/g,function(e){var t;return t={"<":"&lt;",">":"&gt;"},t[e]})},t.prototype.formatTweet=function(){return this.entities()?this.applyEntities():this.tweetText()},t.prototype.applyEntities=function(){var e,t,n,o,i,s,a;for(o=function(e){return function(t){return e.entities()[t]||[]}}(this),a=this.tweetText(),e=o("urls").concat(o("hashtags"),o("user_mentions"),o("media")),e=e.sort(function(e,t){return(null!=e?e.indices[0]:void 0)-(null!=t?t.indices[0]:void 0)}).reverse(),n=function(e){var t,n,o,i,s;return t=e.indices[0],s=e.indices[1],i=r(a,0,t),n=r(a,t,s),o=r(a,s),a=""+i+u(n,e)+o},i=0,s=e.length;s>i;i++)t=e[i],n(t);return a},l=function(e,t){var n;return null==t&&(t=null),n="https://twitter.com/"+e,null!=t&&(n=n+"/status/"+t),n},u=function(e,t){return t.screen_name?c(t):t.url?s(t):t.text?n(t):void 0},a=function(e){return $("<div/>").text(e).html()},n=function(e){var t;return t=a(e.text),"<a href='https://twitter.com/search/?q="+encodeURIComponent("#"+t)+"'>#"+t+"</a>"},c=function(e){var t;return t=a(e.screen_name),
"<a href='https://twitter.com/"+encodeURIComponent(t)+"'>@"+t+"</a>"},s=function(e){return"<a href='"+a(e.expanded_url)+"'>"+a(e.display_url)+"</a>"},t}(Presenters.InboxMessage)},{"unicode-substring":892}],178:[function(e,t,n){var r=e("hogan.js");t.exports=new r.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.b(r.t(r.f("body",e,t,0))),r.fl()},partials:{},subs:{}},"{{& body}}",r)},{"hogan.js":586}],179:[function(e,t,n){var r=e("hogan.js");t.exports=new r.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.s(r.f("body",e,t,1),e,t,0,9,30,"{{ }}")&&(r.rs(e,t,function(e,t,r){r.b("  <p>"),r.b(r.t(r.f("body",e,t,0))),r.b("</p>"),r.b("\n"+n)}),e.pop()),r.s(r.d("propertyList.length",e,t,1),e,t,0,64,86,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b(n.rp("<propertyList0",e,t,"  "))}),e.pop()),r.fl()},partials:{"<propertyList0":{name:"propertyList",partials:{},subs:{}}},subs:{}},"{{#body}}\n  <p>{{& body}}</p>\n{{/body}}\n{{#propertyList.length}}\n  {{> propertyList}}\n{{/propertyList.length}}",r)},{"hogan.js":586
}],180:[function(e,t,n){var r=e("hogan.js");t.exports=new r.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.b("<p>"),r.b(r.t(r.f("body",e,t,0))),r.b("</p>"),r.b("\n"+n),r.s(r.f("diff",e,t,1),e,t,0,27,119,"{{ }}")&&(r.rs(e,t,function(e,t,r){r.b('  <table class="diff">'),r.b("\n"+n),r.b("    <tr>"),r.b("\n"+n),r.b("      <th>Changes:<th>"),r.b("\n"+n),r.b("    </tr>"),r.b("\n"+n),r.b("    "),r.b(r.t(r.f("diff",e,t,0))),r.b("\n"+n),r.b("  </table>"),r.b("\n"+n)}),e.pop()),r.fl()},partials:{},subs:{}},'<p>{{& body}}</p>\n{{#diff}}\n  <table class="diff">\n    <tr>\n      <th>Changes:<th>\n    </tr>\n    {{& diff}}\n  </table>\n{{/diff}}\n',r)},{"hogan.js":586}],181:[function(e,t,n){var r=e("hogan.js");t.exports=new r.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.b('<li class="commit">'),r.b("\n"+n),r.b(r.rp("<commit_summary0",e,t,"  ")),r.b('  <ul class="commit-changes details">'),r.b("\n"+n),r.s(r.f("furthermore",e,t,1),e,t,0,102,183,"{{ }}")&&(r.rs(e,t,function(e,t,r){r.b('    <li class="commit-message-furthermore">'),
r.b("\n"+n),r.b("      "),r.b(r.v(r.f("furthermore",e,t,0))),r.b("\n"+n),r.b("    </li>"),r.b("\n"+n)}),e.pop()),r.b("\n"+n),r.s(r.d("changes.modified",e,t,1),e,t,0,226,544,"{{ }}")&&(r.rs(e,t,function(e,t,r){r.s(r.f("link",e,t,1),e,t,0,240,402,"{{ }}")&&(r.rs(e,t,function(e,t,r){r.b('    <li class="modified"><a target="_blank" rel="noopener noreferrer" href="'),r.b(r.v(r.f("link",e,t,0))),r.b('">'),r.b("\n"+n),r.b('      <span class="fa fa-pencil"></span>'),r.b("\n"+n),r.b("      "),r.b(r.v(r.f("file",e,t,0))),r.b("\n"+n),r.b("    </a></li>"),r.b("\n"+n)}),e.pop()),r.s(r.f("link",e,t,1),e,t,1,0,0,"")||(r.b('      <li class="modified">'),r.b("\n"+n),r.b('        <span class="fa fa-pencil"></span>'),r.b("\n"+n),r.b("        "),r.b(r.v(r.f("file",e,t,0))),r.b("\n"+n),r.b("      </li>"),r.b("\n"+n))}),e.pop()),r.b("\n"+n),r.s(r.d("changes.added",e,t,1),e,t,0,589,905,"{{ }}")&&(r.rs(e,t,function(e,t,r){r.s(r.f("link",e,t,1),e,t,0,603,768,"{{ }}")&&(r.rs(e,t,function(e,t,r){r.b('      <li class="added"><a target="_blank" rel="noopener noreferrer" href="'),
r.b(r.v(r.f("link",e,t,0))),r.b('">'),r.b("\n"+n),r.b('        <span class="fa fa-plus"></span>'),r.b("\n"+n),r.b("        "),r.b(r.v(r.f("file",e,t,0))),r.b("\n"+n),r.b("      </a></li>"),r.b("\n"+n)}),e.pop()),r.s(r.f("link",e,t,1),e,t,1,0,0,"")||(r.b('      <li class="added">'),r.b("\n"+n),r.b('        <span class="fa fa-plus"></span>'),r.b("\n"+n),r.b("        "),r.b(r.v(r.f("file",e,t,0))),r.b("\n"+n),r.b("      </li>"),r.b("\n"+n))}),e.pop()),r.b("\n"+n),r.s(r.d("changes.removed",e,t,1),e,t,0,949,1263,"{{ }}")&&(r.rs(e,t,function(e,t,r){r.s(r.f("link",e,t,1),e,t,0,963,1123,"{{ }}")&&(r.rs(e,t,function(e,t,r){r.b('    <li class="removed"><a target="_blank" rel="noopener noreferrer" href="'),r.b(r.v(r.f("link",e,t,0))),r.b('">'),r.b("\n"+n),r.b('      <span class="fa fa-minus"></span>'),r.b("\n"+n),r.b("      "),r.b(r.v(r.f("file",e,t,0))),r.b("\n"+n),r.b("    </a></li>"),r.b("\n"+n)}),e.pop()),r.s(r.f("link",e,t,1),e,t,1,0,0,"")||(r.b('      <li class="removed">'),r.b("\n"+n),r.b('        <span class="fa fa-minus"></span>'),
r.b("\n"+n),r.b("        "),r.b(r.v(r.f("file",e,t,0))),r.b("\n"+n),r.b("      </li>"),r.b("\n"+n))}),e.pop()),r.b("  </ul>"),r.b("\n"+n),r.b("</li>"),r.b("\n"),r.fl()},partials:{"<commit_summary0":{name:"commit_summary",partials:{},subs:{}}},subs:{}},'<li class="commit">\n  {{> commit_summary }}\n  <ul class="commit-changes details">\n    {{#furthermore}}\n    <li class="commit-message-furthermore">\n      {{furthermore}}\n    </li>\n    {{/furthermore}}\n\n    {{#changes.modified}}\n    {{#link}}\n    <li class="modified"><a target="_blank" rel="noopener noreferrer" href="{{link}}">\n      <span class="fa fa-pencil"></span>\n      {{file}}\n    </a></li>\n    {{/link}}\n    {{^link}}\n      <li class="modified">\n        <span class="fa fa-pencil"></span>\n        {{file}}\n      </li>\n    {{/link}}\n    {{/changes.modified}}\n\n    {{#changes.added}}\n    {{#link}}\n      <li class="added"><a target="_blank" rel="noopener noreferrer" href="{{link}}">\n        <span class="fa fa-plus"></span>\n        {{file}}\n      </a></li>\n    {{/link}}\n    {{^link}}\n      <li class="added">\n        <span class="fa fa-plus"></span>\n        {{file}}\n      </li>\n    {{/link}}\n    {{/changes.added}}\n\n    {{#changes.removed}}\n    {{#link}}\n    <li class="removed"><a target="_blank" rel="noopener noreferrer" href="{{link}}">\n      <span class="fa fa-minus"></span>\n      {{file}}\n    </a></li>\n    {{/link}}\n    {{^link}}\n      <li class="removed">\n        <span class="fa fa-minus"></span>\n        {{file}}\n      </li>\n    {{/link}}\n    {{/changes.removed}}\n  </ul>\n</li>\n',r);
},{"hogan.js":586}],182:[function(e,t,n){var r=e("hogan.js");t.exports=new r.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.b("<span class='commit-details'>"),r.b("\n"+n),r.b("  <span class='author-info'>"),r.b("\n"+n),r.b("    <span class='commit-author-name'>"),r.b(r.v(r.d("author.name",e,t,0))),r.b("</span>"),r.b("\n"+n),r.b("    <img class='commit-avatar' src='"),r.b(r.v(r.d("author.avatar",e,t,0))),r.b("'>"),r.b("\n"+n),r.b("  </span>"),r.b("\n"+n),r.b("  <a class='commit-sha' href='"),r.b(r.v(r.f("url",e,t,0))),r.b("' target='_blank' rel='noopener noreferrer'>"),r.b(r.v(r.f("id",e,t,0))),r.b("</a>"),r.b("\n"+n),r.b('  <span class="commit-message">'),r.b(r.v(r.f("message",e,t,0))),r.s(r.f("furthermore",e,t,1),e,t,0,335,389,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b('<span class="commit-ellipsis fa fa-ellipsis-h"></span>')}),e.pop()),r.b("</span>"),r.b("\n"+n),r.b("</span>"),r.b("\n"),r.fl()},partials:{},subs:{}},"<span class='commit-details'>\n  <span class='author-info'>\n    <span class='commit-author-name'>{{author.name}}</span>\n    <img class='commit-avatar' src='{{author.avatar}}'>\n  </span>\n  <a class='commit-sha' href='{{url}}' target='_blank' rel='noopener noreferrer'>{{id}}</a>\n  <span class=\"commit-message\">{{message}}{{#furthermore}}<span class=\"commit-ellipsis fa fa-ellipsis-h\"></span>{{/furthermore}}</span>\n</span>\n",r);
},{"hogan.js":586}],183:[function(e,t,n){var r=e("hogan.js");t.exports=new r.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.s(r.f("forced",e,t,1),e,t,0,11,41,"{{ }}")&&(r.rs(e,t,function(e,t,r){r.b('<div class="commits forced">'),r.b("\n"+n)}),e.pop()),r.s(r.f("forced",e,t,1),e,t,1,0,0,"")||(r.b('<div class="commits">'),r.b("\n"+n)),r.b('<ul class="commit-list">'),r.b("\n"+n),r.s(r.f("commits",e,t,1),e,t,0,138,158,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b(n.rp("<commit0",e,t,"    "))}),e.pop()),r.b("</ul>"),r.b("\n"+n),r.b("</div>"),r.b("\n"),r.fl()},partials:{"<commit0":{name:"commit",partials:{},subs:{}}},subs:{}},'{{#forced}}\n<div class="commits forced">\n{{/forced}}\n{{^forced}}\n<div class="commits">\n{{/forced}}\n<ul class="commit-list">\n  {{#commits}}\n    {{> commit}}\n  {{/commits}}\n</ul>\n</div>\n',r)},{"hogan.js":586}],184:[function(e,t,n){var r=e("hogan.js");t.exports=new r.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.s(r.f("pages",e,t,1),e,t,0,10,139,"{{ }}")&&(r.rs(e,t,function(e,t,r){
r.b('<h3><a href="'),r.b(r.v(r.f("url",e,t,0))),r.b('" target="_blank" rel="noopener noreferrer">'),r.b(r.v(r.f("title",e,t,0))),r.b("</a></h3>"),r.b("\n"+n),r.s(r.f("summary",e,t,1),e,t,0,106,126,"{{ }}")&&(r.rs(e,t,function(e,t,r){r.b("<p>"),r.b(r.v(r.f("summary",e,t,0))),r.b("</p>"),r.b("\n"+n)}),e.pop())}),e.pop()),r.fl()},partials:{},subs:{}},'{{#pages}}\n<h3><a href="{{url}}" target="_blank" rel="noopener noreferrer">{{title}}</a></h3>\n{{#summary}}\n<p>{{summary}}</p>\n{{/summary}}\n{{/pages}}\n',r)},{"hogan.js":586}],185:[function(e,t,n){var r=e("hogan.js");t.exports=new r.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.b(r.t(r.f("body",e,t,0))),r.b("\n"+n),r.s(r.d("propertyList.length",e,t,1),e,t,0,35,57,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b(n.rp("<propertyList0",e,t,"  "))}),e.pop()),r.s(r.d("changeLog.length",e,t,1),e,t,0,103,122,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b(n.rp("<changeLog1",e,t,"  "))}),e.pop()),r.fl()},partials:{"<propertyList0":{name:"propertyList",partials:{},subs:{}
},"<changeLog1":{name:"changeLog",partials:{},subs:{}}},subs:{}},"{{& body}}\n{{#propertyList.length}}\n  {{> propertyList}}\n{{/propertyList.length}}\n{{#changeLog.length}}\n  {{> changeLog}}\n{{/changeLog.length}}",r)},{"hogan.js":586}],186:[function(e,t,n){var r=e("hogan.js");t.exports=new r.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.s(r.f("headers",e,t,1),e,t,0,12,1311,"{{ }}")&&(r.rs(e,t,function(e,t,r){r.b("  <table class='headers'>"),r.b("\n"+n),r.s(r.d("from.length",e,t,1),e,t,0,59,276,"{{ }}")&&(r.rs(e,t,function(e,t,r){r.b("      <tr>"),r.b("\n"+n),r.b("        <th>From:</th>"),r.b("\n"+n),r.b("        <td class='list comma-delimited'>"),r.b("\n"+n),r.s(r.f("from",e,t,1),e,t,0,155,236,"{{ }}")&&(r.rs(e,t,function(e,t,r){r.b('          <a href="mailto:'),r.b(r.v(r.f("address",e,t,0))),r.b("\" class='list-item'>"),r.b(r.v(r.f("name",e,t,0))),r.b("</a>"),r.b("\n"+n)}),e.pop()),r.b("        </td>"),r.b("\n"+n),r.b("      </tr>"),r.b("\n"+n)}),e.pop()),r.s(r.d("to.length",e,t,1),e,t,0,311,522,"{{ }}")&&(r.rs(e,t,function(e,t,r){
r.b("      <tr>"),r.b("\n"+n),r.b("        <th>To:</th>"),r.b("\n"+n),r.b("        <td class='list comma-delimited'>"),r.b("\n"+n),r.s(r.f("to",e,t,1),e,t,0,403,484,"{{ }}")&&(r.rs(e,t,function(e,t,r){r.b('          <a href="mailto:'),r.b(r.v(r.f("address",e,t,0))),r.b("\" class='list-item'>"),r.b(r.v(r.f("name",e,t,0))),r.b("</a>"),r.b("\n"+n)}),e.pop()),r.b("        </td>"),r.b("\n"+n),r.b("      </tr>"),r.b("\n"+n)}),e.pop()),r.s(r.d("cc.length",e,t,1),e,t,0,555,766,"{{ }}")&&(r.rs(e,t,function(e,t,r){r.b("      <tr>"),r.b("\n"+n),r.b("        <th>CC:</th>"),r.b("\n"+n),r.b("        <td class='list comma-delimited'>"),r.b("\n"+n),r.s(r.f("cc",e,t,1),e,t,0,647,728,"{{ }}")&&(r.rs(e,t,function(e,t,r){r.b('          <a href="mailto:'),r.b(r.v(r.f("address",e,t,0))),r.b("\" class='list-item'>"),r.b(r.v(r.f("name",e,t,0))),r.b("</a>"),r.b("\n"+n)}),e.pop()),r.b("        </td>"),r.b("\n"+n),r.b("      </tr>"),r.b("\n"+n)}),e.pop()),r.s(r.d("bcc.length",e,t,1),e,t,0,800,1014,"{{ }}")&&(r.rs(e,t,function(e,t,r){r.b("      <tr>"),
r.b("\n"+n),r.b("        <th>BCC:</th>"),r.b("\n"+n),r.b("        <td class='list comma-delimited'>"),r.b("\n"+n),r.s(r.f("bcc",e,t,1),e,t,0,894,975,"{{ }}")&&(r.rs(e,t,function(e,t,r){r.b('          <a href="mailto:'),r.b(r.v(r.f("address",e,t,0))),r.b("\" class='list-item'>"),r.b(r.v(r.f("name",e,t,0))),r.b("</a>"),r.b("\n"+n)}),e.pop()),r.b("        </td>"),r.b("\n"+n),r.b("      </tr>"),r.b("\n"+n)}),e.pop()),r.s(r.d("replyTo.length",e,t,1),e,t,0,1053,1280,"{{ }}")&&(r.rs(e,t,function(e,t,r){r.b("      <tr>"),r.b("\n"+n),r.b("        <th>Reply to:</th>"),r.b("\n"+n),r.b("        <td class='list comma-delimited'>"),r.b("\n"+n),r.s(r.f("replyTo",e,t,1),e,t,0,1156,1237,"{{ }}")&&(r.rs(e,t,function(e,t,r){r.b('          <a href="mailto:'),r.b(r.v(r.f("address",e,t,0))),r.b("\" class='list-item'>"),r.b(r.v(r.f("name",e,t,0))),r.b("</a>"),r.b("\n"+n)}),e.pop()),r.b("        </td>"),r.b("\n"+n),r.b("      </tr>"),r.b("\n"+n)}),e.pop()),r.b("  </table>"),r.b("\n"+n)}),e.pop()),r.b(r.t(r.f("body",e,t,0))),r.b("\n"),
r.fl()},partials:{},subs:{}},"{{#headers}}\n  <table class='headers'>\n    {{#from.length}}\n      <tr>\n        <th>From:</th>\n        <td class='list comma-delimited'>\n          {{#from}}\n          <a href=\"mailto:{{address}}\" class='list-item'>{{name}}</a>\n          {{/from}}\n        </td>\n      </tr>\n    {{/from.length}}\n    {{#to.length}}\n      <tr>\n        <th>To:</th>\n        <td class='list comma-delimited'>\n          {{#to}}\n          <a href=\"mailto:{{address}}\" class='list-item'>{{name}}</a>\n          {{/to}}\n        </td>\n      </tr>\n    {{/to.length}}\n    {{#cc.length}}\n      <tr>\n        <th>CC:</th>\n        <td class='list comma-delimited'>\n          {{#cc}}\n          <a href=\"mailto:{{address}}\" class='list-item'>{{name}}</a>\n          {{/cc}}\n        </td>\n      </tr>\n    {{/cc.length}}\n    {{#bcc.length}}\n      <tr>\n        <th>BCC:</th>\n        <td class='list comma-delimited'>\n          {{#bcc}}\n          <a href=\"mailto:{{address}}\" class='list-item'>{{name}}</a>\n          {{/bcc}}\n        </td>\n      </tr>\n    {{/bcc.length}}\n    {{#replyTo.length}}\n      <tr>\n        <th>Reply to:</th>\n        <td class='list comma-delimited'>\n          {{#replyTo}}\n          <a href=\"mailto:{{address}}\" class='list-item'>{{name}}</a>\n          {{/replyTo}}\n        </td>\n      </tr>\n    {{/replyTo.length}}\n  </table>\n{{/headers}}\n{{& body}}\n",r);
},{"hogan.js":586}],187:[function(e,t,n){var r=e("hogan.js");t.exports=new r.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.b("<table class='changelog'>"),r.b("\n"+n),r.b("  <tr>"),r.b("\n"+n),r.b("    <th>Field</td>"),r.b("\n"+n),r.b("    <th>Old value</td>"),r.b("\n"+n),r.b("    <th>New value</td>"),r.b("\n"+n),r.b("  </tr>"),r.b("\n"+n),r.s(r.f("changeLog",e,t,1),e,t,0,120,213,"{{ }}")&&(r.rs(e,t,function(e,t,r){r.b("  <tr>"),r.b("\n"+n),r.b("    <td>"),r.b(r.v(r.f("field",e,t,0))),r.b("</td>"),r.b("\n"+n),r.b("    <td>"),r.b(r.v(r.f("old_value",e,t,0))),r.b("</td>"),r.b("\n"+n),r.b("    <td>"),r.b(r.v(r.f("new_value",e,t,0))),r.b("</td>"),r.b("\n"+n),r.b("  </tr>"),r.b("\n"+n)}),e.pop()),r.b("</table>"),r.fl()},partials:{},subs:{}},"<table class='changelog'>\n  <tr>\n    <th>Field</td>\n    <th>Old value</td>\n    <th>New value</td>\n  </tr>\n{{#changeLog}}\n  <tr>\n    <td>{{field}}</td>\n    <td>{{old_value}}</td>\n    <td>{{new_value}}</td>\n  </tr>\n{{/changeLog}}\n</table>",r)},{"hogan.js":586
}],188:[function(e,t,n){var r=e("hogan.js");t.exports=new r.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.b('<a href="mailto:'),r.b(r.v(r.f("email",e,t,0))),r.b('">'),r.b(r.v(r.f("name",e,t,0))),r.b("</a>"),r.b("\n"),r.fl()},partials:{},subs:{}},'<a href="mailto:{{email}}">{{name}}</a>\n',r)},{"hogan.js":586}],189:[function(e,t,n){var r=e("hogan.js");t.exports=new r.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.b('<p class="attachment-description">'),r.b("\n"+n),r.b("  "),r.b(r.v(r.d("attachment.file.name",e,t,0))),r.b("<br>"),r.b("\n"+n),r.b("  "),r.b(r.v(r.d("attachment.file.size",e,t,0))),r.b("\n"+n),r.s(r.d("attachment.thumbnail",e,t,1),e,t,0,120,182,"{{ }}")&&(r.rs(e,t,function(e,t,r){r.b("  ("),r.b(r.v(r.d("attachment.image.width",e,t,0))),r.b("x"),r.b(r.v(r.d("attachment.image.height",e,t,0))),r.b(")"),r.b("\n"+n)}),e.pop()),r.b("</p>"),r.b("\n"),r.fl()},partials:{},subs:{}},'<p class="attachment-description">\n  {{attachment.file.name}}<br>\n  {{attachment.file.size}}\n  {{#attachment.thumbnail}}\n  ({{attachment.image.width}}x{{attachment.image.height}})\n  {{/attachment.thumbnail}}\n</p>\n',r);
},{"hogan.js":586}],190:[function(e,t,n){var r=e("hogan.js");t.exports=new r.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.b('<div class="attachment-icon '),r.b(r.v(r.d("attachment.file.type",e,t,0))),r.b('"></div>'),r.b("\n"+n),r.b(r.rp("<details0",e,t,"")),r.fl()},partials:{"<details0":{name:"details",partials:{},subs:{}}},subs:{}},'<div class="attachment-icon {{attachment.file.type}}"></div>\n{{> details}}\n',r)},{"hogan.js":586}],191:[function(e,t,n){var r=e("hogan.js");t.exports=new r.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.b("<table class='property-list'>"),r.b("\n"+n),r.s(r.f("propertyList",e,t,1),e,t,0,47,110,"{{ }}")&&(r.rs(e,t,function(e,t,r){r.b("  <tr>"),r.b("\n"+n),r.b("    <td>"),r.b(r.v(r.f("key",e,t,0))),r.b("</td>"),r.b("\n"+n),r.b("    <td>"),r.b(r.t(r.f("value",e,t,0))),r.b("</td>"),r.b("\n"+n),r.b("  </tr>"),r.b("\n"+n)}),e.pop()),r.b("</table>"),r.b("\n"),r.fl()},partials:{},subs:{}},"<table class='property-list'>\n{{#propertyList}}\n  <tr>\n    <td>{{key}}</td>\n    <td>{{& value }}</td>\n  </tr>\n{{/propertyList}}\n</table>\n",r);
},{"hogan.js":586}],192:[function(e,t,n){var r=e("hogan.js");t.exports=new r.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.b('<div class="attachment-thumbnail" style="background-image: url(\''),r.b(r.v(r.d("attachment.thumbnail.path",e,t,0))),r.b("');\"></div>"),r.b("\n"+n),r.b(r.rp("<details0",e,t,"")),r.fl()},partials:{"<details0":{name:"details",partials:{},subs:{}}},subs:{}},'<div class="attachment-thumbnail" style="background-image: url(\'{{attachment.thumbnail.path}}\');"></div>\n{{> details}}\n',r)},{"hogan.js":586}],193:[function(e,t,n){var r=e("hogan.js");t.exports=new r.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.b('<ol class="inbox-thread-list">'),r.b("\n"+n),r.s(r.f("messages",e,t,1),e,t,0,46,568,"{{ }}")&&(r.rs(e,t,function(e,t,r){r.s(r.f("single",e,t,1),e,t,0,62,129,"{{ }}")&&(r.rs(e,t,function(e,t,r){r.b('      <li class="inbox-thread-item inbox-thread-item-single">'),r.b("\n"+n)}),e.pop()),r.s(r.f("single",e,t,1),e,t,1,0,0,"")||(r.b('      <li class="inbox-thread-item">'),
r.b("\n"+n)),r.b("\n"+n),r.b('      <img class="inbox-thread-author-avatar" src="'),r.b(r.v(r.f("avatar",e,t,0))),r.b('" />'),r.b("\n"+n),r.b('      <span class="inbox-thread-author-name">'),r.b(r.v(r.f("author",e,t,0))),r.b("</span>"),r.b("\n"+n),r.s(r.f("title",e,t,1),e,t,0,356,447,"{{ }}")&&(r.rs(e,t,function(e,t,r){r.b('      <span class="inbox-thread-title">'),r.b(r.t(r.f("title",e,t,0))),r.s(r.f("excerpt",e,t,1),e,t,0,420,421,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b(":")}),e.pop()),r.b("</span>"),r.b("\n"+n)}),e.pop()),r.s(r.f("excerpt",e,t,1),e,t,0,476,543,"{{ }}")&&(r.rs(e,t,function(e,t,r){r.b('      <span class="inbox-thread-excerpt">'),r.b(r.v(r.f("excerpt",e,t,0))),r.b("</span>"),r.b("\n"+n)}),e.pop()),r.b("    </li>"),r.b("\n"+n)}),e.pop()),r.b("</ol>"),r.b("\n"),r.fl()},partials:{},subs:{}},'<ol class="inbox-thread-list">\n  {{#messages}}\n    {{#single}}\n      <li class="inbox-thread-item inbox-thread-item-single">\n    {{/single}}\n    {{^single}}\n      <li class="inbox-thread-item">\n    {{/single}}\n\n      <img class="inbox-thread-author-avatar" src="{{avatar}}" />\n      <span class="inbox-thread-author-name">{{author}}</span>\n      {{#title}}\n      <span class="inbox-thread-title">{{& title }}{{#excerpt}}:{{/excerpt}}</span>\n      {{/title}}\n      {{#excerpt}}\n      <span class="inbox-thread-excerpt">{{excerpt}}</span>\n      {{/excerpt}}\n    </li>\n  {{/messages}}\n</ol>\n',r);
},{"hogan.js":586}],194:[function(e,t,n){var r=e("hogan.js");t.exports=new r.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.b('<a class="twitter-profile-link" href="https://twitter.com/'),r.b(r.v(r.f("screen_name",e,t,0))),r.b('">'),r.b("\n"+n),r.b('<span class="screen-name">@'),r.b(r.v(r.f("screen_name",e,t,0))),r.b("</span>"),r.b("\n"+n),r.b('<span class="real-name">('),r.b(r.v(r.f("name",e,t,0))),r.b(")</span></a>"),r.b("\n"),r.fl()},partials:{},subs:{}},'<a class="twitter-profile-link" href="https://twitter.com/{{screen_name}}">\n<span class="screen-name">@{{screen_name}}</span>\n<span class="real-name">({{name}})</span></a>\n',r)},{"hogan.js":586}],195:[function(e,t,n){var r=e("hogan.js");t.exports=new r.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.b("<a class='author-name' href='"),r.b(r.v(r.f("profileLink",e,t,0))),r.b("' target='_blank' rel='noopener noreferrer'>"),r.b("\n"+n),r.b("  <span>"),r.b(r.v(r.d("author.name",e,t,0))),r.b("</span>"),r.b("\n"+n),r.b("</a>"),r.b("\n"+n),
r.b("<a class='screen-name' href='"),r.b(r.v(r.f("profileLink",e,t,0))),r.b("'>"),r.b("\n"+n),r.b("  <span>@"),r.b(r.v(r.d("author.screen_name",e,t,0))),r.b("</span>"),r.b("\n"+n),r.b("</a>"),r.b("\n"),r.fl()},partials:{},subs:{}},"<a class='author-name' href='{{profileLink}}' target='_blank' rel='noopener noreferrer'>\n  <span>{{author.name}}</span>\n</a>\n<a class='screen-name' href='{{profileLink}}'>\n  <span>@{{author.screen_name}}</span>\n</a>\n",r)},{"hogan.js":586}],196:[function(e,t,n){var r;r=function(){function e(e,t){this.model=e,this["private"]=t}return e.prototype.id=function(){return"user-"+this.model.id},e.prototype.description=function(){return this.model.get("email")},e.prototype.icon=function(){return{avatar:this.model.avatar(120),title:this.model.get("name")}},e.prototype.hasUsers=function(){return!1},e.prototype.lastMessageAt=function(){var e;return moment(new Date((null!=(e=this["private"])?e.get("last_message_at"):void 0)||0))},e.prototype.name=function(){return"@"+this.model.get("nick")},
e.prototype.specifier=function(){return this.model.get("name")},e.prototype.url=function(){return"/app/private/"+this.model.id},e.prototype.userCount=function(){return 0},e.prototype.visibleUsers=function(){return[]},e}(),t.exports=r},{}],197:[function(e,t,n){var r,o=function(e,t){return function(){return e.apply(t,arguments)}},i=function(e,t){function n(){this.constructor=e}for(var r in t)s.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},s={}.hasOwnProperty;window.Router=function(e){function t(){this.removeFlow=o(this.removeFlow,this),this.storeFlowState=o(this.storeFlowState,this),this.storePrivateState=o(this.storePrivateState,this),this.routeProperty=Bacon.fromBinder(function(e){return function(t){var n,r;return r=function(){return e.stopListening(e,"route",n)},n=function(e,n){return t({route:e,params:n})===Bacon.noMore?r():void 0},e.listenTo(e,"route",n),r}}(this)).toProperty(),this.routeProperty.onValue(function(){}),this.route(/^(.+)$/,"catchall",function(){
return this.navigate("",{trigger:!0,replace:!0})}),t.__super__.constructor.apply(this,arguments)}return i(t,e),t.root="/app/",t.prototype.routes={"":"activateFirst","new-tab":"showNewTab","private(/:id)":"routePrivate",":org/:name/welcome":"welcome",":org/:name/welcome/:type":"welcome","preferences/:initialTab":"viewPreferences",preferences:"viewPreferences","create-flow(/:organizationId)":"viewCreateFlow",":org/:name":"routeFlow",":org/:name/users":"viewUsers",":org/:name/messages/:id":"viewSingleMessage",":org/:name/threads/:id":"viewThread",":org/:name/*invalid":"routeInvalid","create-organization":"viewCreateOrganization","new-1-to-1":"viewNewPrivateDialog","quick-finder":"showSpotSearch"},t.prototype.initialize=function(e){return null==e&&(e={}),this.flows=e.flows,this.privates=e.privates,this.manager=e.manager,this.flowStates={},this.privateStates={},this.flows.each(function(e){return function(t){return e.storeFlowState(t)}}(this)),this.listenTo(this.flows,"add",function(e){return this.storeFlowState(e)}),
this.listenTo(this.flows,"remove",function(e){return this.removeFlow(e)}),this.route(/^(.+)\/$/,"removeTrailingSlash",function(e){return this.navigate(e,{trigger:!0,replace:!0})}),this.route(":org/:name/inbox/:id",function(e,t,n){return this.navigate(e+"/"+t+"/messages/"+n,{trigger:!0,replace:!0})}),this.isPrivateSearchEnabled=Flowdock.app.features.F18656_search_1To1,this.isPrivateSearchEnabled?this.privates.each(function(e){return function(t){return e.storePrivateState(t)}}(this)):void 0},t.prototype.findFlow=function(e,t){var n;return n=e+"/"+t,this.flows.find(function(e){return e.path()===n})},t.prototype.findPrivate=function(e){return this.privates.withUser(parseInt(e,10))},t.prototype.activateFlow=function(e,t,n){var r,o,i;return null==n&&(n=function(){}),this.navigationDisabled?void 0:(r=e&&t?this.findFlow(e,t):this.findPrivate(e))?(null!=(o=this.currentFlow)?o.id:void 0)===r.id?(n(r),r):(this.currentFlow=r,i=function(e){return function(){return e.trigger("flowActivated",r),e.manager.activate(r),n(r)}}(this),
r.isFlow()&&!r.get("joined")?r.save({open:!0},{wait:!0,patch:!0,success:i}):(r.get("open")||"function"==typeof r.saveWithRetry&&r.saveWithRetry({open:!0},{patch:!0}),i()),r):(this.currentFlow=null,this.trigger("flowActivated",null),void this.flowNotFound(e,t))},t.prototype.routeFlow=function(e,t,n){return null==n&&(n={}),t=t.replace(/\?.*$/,""),this.activateFlow(e,t,function(e){return function(t){var r;return r=e.maybeFilterInbox(t,n),e.manager.thread(null),e.manager.single(null),e.manager.users(!1),e.storeFlowState(t,r)}}(this))},t.prototype.routePrivate=function(e,t){var n,r,o;return null==t&&(t={}),e?(this.manager.closeOverlay(),n=this.activateFlow(e),this.trigger("flowState",{flow:n}),this.isPrivateSearchEnabled?(r=this.findPrivate(e),o=this.maybeFilterInbox(r,t),this.storePrivateState(n,o)):void 0):this.viewNewPrivateDialog()},t.prototype.routeInvalid=function(e,t){return this.navigateToFlow(this.findFlow(e,t))},t.prototype.viewSingleMessage=function(e,t,n,r){return null==r&&(r={}),this.activateFlow(e,t,function(e){
return function(t){var o;if(null!=t)return e.manager.single(n),o=e.maybeFilterInbox(t,r),e.storeFlowState(t,o,{message:n})}}(this))},t.prototype.viewThread=function(e,t,n,r){return null==r&&(r={}),this.activateFlow(e,t,function(e){return function(t){var o;if(null!=t)return e.manager.thread(n),o=e.maybeFilterInbox(t,r),e.storeFlowState(t,o,{thread:n})}}(this))},t.prototype.viewUsers=function(e,t,n){return null==n&&(n={}),this.activateFlow(e,t,function(e){return function(t){var r;if(null!=t)return e.manager.users(!0),r=e.maybeFilterInbox(t,n),e.storeFlowState(t,r,{users:!0})}}(this))},t.prototype.maybeFilterInbox=function(e,t){var n;return n=null==t||_.isEmpty(t)?new Models.Filter.Inbox:n=Models.Filter.fromQuery(t),e.fullyLoaded.done(function(t){return function(){return n.normalize(e),t.manager.filterInbox(n,!1)}}(this)),n},t.prototype.welcome=function(e,t,n){return this.navigate(e+"/"+t,{trigger:!0,replace:!0}),this.manager.restartWalkthrough({type:n})},t.prototype.viewCreateFlow=function(e){return this.manager.openCreateFlow(e);
},t.prototype.viewCreateOrganization=function(){return this.manager.openCreateOrganization()},t.prototype.viewNewPrivateDialog=function(){return this.manager.openNewPrivateDialog()},t.prototype.viewPreferences=function(e){return Flowdock.app.ready.done(function(t){return function(){return t.manager.openPreferences(e)}}(this))},t.prototype.storePrivateState=function(e,t,n){return null==n&&(n={}),this.privateStates[e.id]={flow:e,inbox:t,chat:n},this.trigger("flowState",this.privateStates[e.id])},t.prototype.storeFlowState=function(e,t,n){return null==n&&(n={}),this.flowStates[e.id]={flow:e,inbox:t,chat:n},this.lastRoute=n.message?this.viewSingleMessage:n.thread?this.viewThread:this.routeFlow,this.trigger("flowState",this.flowStates[e.id])},t.prototype.reloadFlow=function(){var e,t,n,r;return console.log("Router: Reloading flow",null!=(n=this.currentFlow)?n.path():void 0),this.currentFlow?(e=this.currentFlow,t=e.path().split("/"),r=this.flowStates[e.id],e.fullyLoaded.then(function(n){return function(){var o;return r.chat.message&&t.push(r.chat.message),
r.chat.thread&&t.push(r.chat.thread),null!=r.inbox&&t.push(r.inbox.asVisibleParams(e)),(null!=(o=n.currentFlow)?o.id:void 0)===e.id?(n.currentFlow=null,n.lastRoute.apply(n,t)):void 0}}(this))):this.activateFirst()},t.prototype.removeFlow=function(e){var t,n;return console.log("Router: removing flow",null!=e?e.path():void 0),delete this.flowStates[e.id],e.id===(null!=(n=this.currentFlow)?n.id:void 0)?(this.currenFlow=null,(t=this.flows.find(function(t){return t.get("open")&&t.id!==e.id}))?this.navigateBackToFlow(t):this.showNewTab()):void 0},t.prototype.activateFirst=function(){var e;return this.manager.closeOverlay(),e=this.flows.firstOpen(),e?this.navigateToFlow(e):this.showNewTab()},t.prototype.activatePrevious=function(){return Flowdock.app.flows.lastActive.take(1).onValue(function(e){return e?Flowdock.app.router.navigateBackToFlow(e):Flowdock.app.router.activateFirst()})},t.prototype.navigateTo=function(e,t){return null==t&&(t={}),this.navigationDisabled?void 0:(t=_.extend({},r,t),this.navigate(Helpers.pathFor(e),t));
},t.prototype.navigateToFlow=function(e,t,n){var o,i,s,a;return null==t&&(t={}),null==n&&(n={}),this.navigationDisabled?void 0:(n=_.extend({},r,n),o=this.flowStates[e.id||e]||{},s=_.pick(t,"thread","message","users","jump"),a=_.pick(t,"filter"),i={flow:e},_.isEmpty(a)?_.extend(i,{filter:o.inbox}):_.extend(i,a),_.isEmpty(s)?_.extend(i,o.chat):_.extend(i,s),n.trigger||this.storeFlowState(e,i.filter,_.pick(i,"thread","message","users")),this.navigate(Helpers.pathFor(i),n))},t.prototype.navigateBackToFlow=function(e,t){var n,r;return null==t&&(t={}),e?e.isFlow()?(n=t.closeSingleIfCurrentFlow&&(null!=(r=this.currentFlow)?r.id:void 0)===e.id?{message:null,thread:null,users:null}:{},this.navigateToFlow(e,n,t)):this.navigateToPrivate(e,t):void 0},t.prototype.navigateToPrivate=function(e,t,n){var o,i,s,a;return null==t&&(t={}),null==n&&(n={}),this.navigationDisabled?void 0:(n=_.extend({},r,n),o=this.privateStates[e.id||e]||{},s=_.pick(t,"message","jump"),a=_.pick(t,"filter"),i={"private":e},_.isEmpty(a)?_.extend(i,{filter:o.inbox
}):_.extend(i,a),_.isEmpty(s)?_.extend(i,o.chat):_.extend(i,s),n.trigger||this.storePrivateState(e,i.filter,_.pick(i,"message")),this.navigate(Helpers.pathFor(i),n))},t.prototype.flowNotFound=function(e,t){return this.manager.error("flow-not-found",{org:e,name:t}),this.trigger("flowActivated",void 0)},t.prototype.routingError=function(){return this.manager.error("routing-error"),this.trigger("flowActivated",void 0)},t.prototype.showNewTab=function(){return this.manager.openNewTab(),this.currentFlow=null,Flowdock.eventBus.trigger("mobile:hide-navigation"),this.trigger("flowActivated",void 0),this.navigate(Helpers.pathFor({showNewTab:!0}))},t.prototype.showSpotSearch=function(e){return this.manager.openSpotlightSearch(e),this.currentFlow=null,Flowdock.eventBus.trigger("mobile:hide-navigation"),this.trigger("flowActivated",void 0),this.navigate(Helpers.pathFor({showSpotSearch:!0}))},t.prototype.disableNavigation=function(){return this.navigationDisabled=!0},t.prototype.isMessageOpen=function(){return null!=this.currentFlow&&null!=this.flowStates[this.currentFlow.id].message;
},t}(Backbone.Router),_.extend(window.Router.prototype,Backbone.Bacon),r={trigger:!0}},{}],198:[function(e,t,n){var r=e("hogan.js");t.exports=new r.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.b("<div class='instructions-overlay disabled'>"),r.b("\n"+n),r.b("  <div class='instructions-content'>"),r.b("\n"+n),r.b("    <i class='fa fa-lock fa-fw'></i>"),r.b("\n"+n),r.b("    <i>This message can't be dragged into another thread.</i>"),r.b("\n"+n),r.b("  </div>"),r.b("\n"+n),r.b("</div>"),r.b("\n"),r.fl()},partials:{},subs:{}},"<div class='instructions-overlay disabled'>\n  <div class='instructions-content'>\n    <i class='fa fa-lock fa-fw'></i>\n    <i>This message can't be dragged into another thread.</i>\n  </div>\n</div>\n",r)},{"hogan.js":586}],199:[function(e,t,n){var r=e("hogan.js");t.exports=new r.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.b("<div class='instructions-overlay enabled'>"),r.b("\n"+n),r.b("  <div class='instructions-content'>"),r.b("\n"+n),r.b("    <i class='fa fa-hand-o-up fa-fw'></i>"),
r.b("\n"+n),r.b("    <i>Drop message on a thread to add to thread. Esc to cancel.</i>"),r.b("\n"+n),r.b("  </div>"),r.b("\n"+n),r.b("</div>"),r.b("\n"),r.fl()},partials:{},subs:{}},"<div class='instructions-overlay enabled'>\n  <div class='instructions-content'>\n    <i class='fa fa-hand-o-up fa-fw'></i>\n    <i>Drop message on a thread to add to thread. Esc to cancel.</i>\n  </div>\n</div>\n",r)},{"hogan.js":586}],200:[function(e,t,n){var r=e("hogan.js");t.exports=new r.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.b('<div class="name">Error</div>'),r.b("\n"+n),r.b('<div class="content">Sorry, this message could not be rendered.</div>'),r.b("\n"+n),r.b('<a class="report-link">Report error</a>'),r.b("\n"),r.fl()},partials:{},subs:{}},'<div class="name">Error</div>\n<div class="content">Sorry, this message could not be rendered.</div>\n<a class="report-link">Report error</a>\n',r)},{"hogan.js":586}],201:[function(e,t,n){var r=e("hogan.js");t.exports=new r.Template({code:function(e,t,n){var r=this;
return r.b(n=n||""),r.b("<menu class='message-actions clean'>"),r.b("\n"+n),r.s(r.f("removable",e,t,1),e,t,0,53,152,"{{ }}")&&(r.rs(e,t,function(e,t,r){r.b("  <li>"),r.b("\n"+n),r.b("    <a class='delete' title='Delete message'>"),r.b("\n"+n),r.b(r.rp("<deleteSVGIcon0",e,t,"      ")),r.b("    </a>"),r.b("\n"+n),r.b("  </li>"),r.b("\n"+n)}),e.pop()),r.s(r.f("editable",e,t,1),e,t,0,182,289,"{{ }}")&&(r.rs(e,t,function(e,t,r){r.b("  <li>"),r.b("\n"+n),r.b("    <a class='edit-message' title='Edit this message.'>"),r.b("\n"+n),r.b(r.rp("<editSVGIcon1",e,t,"      ")),r.b("    </a>"),r.b("\n"+n),r.b("  </li>"),r.b("\n"+n)}),e.pop()),r.s(r.f("sendableToRally",e,t,1),e,t,0,325,436,"{{ }}")&&(r.rs(e,t,function(e,t,r){r.b("  <li>"),r.b("\n"+n),r.b("    <a class='share-with-rally' title='Share with Rally.'>"),r.b("\n"+n),r.b(r.rp("<shareSVGIcon2",e,t,"      ")),r.b("    </a>"),r.b("\n"+n),r.b("  </li>"),r.b("\n"+n)}),e.pop()),r.s(r.f("rethreadable",e,t,1),e,t,0,476,595,"{{ }}")&&(r.rs(e,t,function(e,t,r){r.b("  <li>"),r.b("\n"+n),
r.b("    <a class='rethread-message' title='Rethread this message.'>"),r.b("\n"+n),r.b(r.rp("<rethreadSVGIcon3",e,t,"      ")),r.b("    </a>"),r.b("\n"+n),r.b("  </li>"),r.b("\n"+n)}),e.pop()),r.s(r.f("private",e,t,1),e,t,0,627,894,"{{ }}")&&(r.rs(e,t,function(e,t,r){r.s(r.f("emptied",e,t,1),e,t,1,0,0,"")||(r.b("  <li>"),r.b("\n"+n),r.b("    <a class='edit-tags' title='Edit message tags.'>"),r.b("\n"+n),r.b(r.rp("<editTagsSVGIcon4",e,t,"      ")),r.b("    </a>"),r.b("\n"+n),r.b("  </li>"),r.b("\n"+n),r.b("  <li>"),r.b("\n"+n),r.b("    <a class='emoji-reaction-button' title='Add emoji reaction.'>"),r.b("\n"+n),r.b(r.rp("<emojiReactionSymbolSVGIcon5",e,t,"      ")),r.b("    </a>"),r.b("\n"+n),r.b("  </li>"),r.b("\n"+n))}),e.pop()),r.b("</menu>"),r.b("\n"+n),r.s(r.f("noLeftSideMessageComponents",e,t,1),e,t,1,0,0,"")||(r.b("<div class='bubble-container'></div>"),r.b("\n"+n),r.b("<div class='avatar-container'></div>"),r.b("\n"+n)),r.s(r.f("withoutNick",e,t,1),e,t,0,1071,1136,"{{ }}")&&(r.rs(e,t,function(e,t,r){r.b("<div class='message-author' data-user='"),
r.b(r.v(r.d("user.id",e,t,0))),r.b("'>&nbsp</div>"),r.b("\n"+n)}),e.pop()),r.s(r.f("withoutNick",e,t,1),e,t,1,0,0,"")||(r.b("<div class='message-author' data-user='"),r.b(r.v(r.d("user.id",e,t,0))),r.b("'>"),r.b(r.v(r.d("user.nick",e,t,0))),r.b("</div>"),r.b("\n"+n)),r.b(r.t(r.f("timestamp",e,t,0))),r.b("\n"),r.fl()},partials:{"<deleteSVGIcon0":{name:"deleteSVGIcon",partials:{},subs:{}},"<editSVGIcon1":{name:"editSVGIcon",partials:{},subs:{}},"<shareSVGIcon2":{name:"shareSVGIcon",partials:{},subs:{}},"<rethreadSVGIcon3":{name:"rethreadSVGIcon",partials:{},subs:{}},"<editTagsSVGIcon4":{name:"editTagsSVGIcon",partials:{},subs:{}},"<emojiReactionSymbolSVGIcon5":{name:"emojiReactionSymbolSVGIcon",partials:{},subs:{}}},subs:{}},"<menu class='message-actions clean'>\n  {{#removable}}\n  <li>\n    <a class='delete' title='Delete message'>\n      {{> deleteSVGIcon}}\n    </a>\n  </li>\n  {{/removable}}\n  {{#editable}}\n  <li>\n    <a class='edit-message' title='Edit this message.'>\n      {{> editSVGIcon}}\n    </a>\n  </li>\n  {{/editable}}\n  {{#sendableToRally}}\n  <li>\n    <a class='share-with-rally' title='Share with Rally.'>\n      {{> shareSVGIcon}}\n    </a>\n  </li>\n  {{/sendableToRally}}\n  {{#rethreadable}}\n  <li>\n    <a class='rethread-message' title='Rethread this message.'>\n      {{> rethreadSVGIcon}}\n    </a>\n  </li>\n  {{/rethreadable}}\n  {{#private}}\n  {{^emptied}}\n  <li>\n    <a class='edit-tags' title='Edit message tags.'>\n      {{> editTagsSVGIcon}}\n    </a>\n  </li>\n  <li>\n    <a class='emoji-reaction-button' title='Add emoji reaction.'>\n      {{> emojiReactionSymbolSVGIcon}}\n    </a>\n  </li>\n  {{/emptied}}\n  {{/private}}\n</menu>\n{{^noLeftSideMessageComponents}}\n<div class='bubble-container'></div>\n<div class='avatar-container'></div>\n{{/noLeftSideMessageComponents}}\n{{#withoutNick}}\n<div class='message-author' data-user='{{user.id}}'>&nbsp</div>\n{{/withoutNick}}\n{{^withoutNick}}\n<div class='message-author' data-user='{{user.id}}'>{{user.nick}}</div>\n{{/withoutNick}}\n{{& timestamp}}\n",r);
},{"hogan.js":586}],202:[function(e,t,n){var r=e("hogan.js");t.exports=new r.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.b("Error loading messages."),r.b("\n"+n),r.b("<span>"),r.b("\n"+n),r.b("  <a href='#'>Retry</a>"),r.b("\n"+n),r.b("</span>"),r.b("\n"),r.fl()},partials:{},subs:{}},"Error loading messages.\n<span>\n  <a href='#'>Retry</a>\n</span>\n",r)},{"hogan.js":586}],203:[function(e,t,n){var r=e("hogan.js");t.exports=new r.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.b(r.rp("<spinner0",e,t,"")),r.fl()},partials:{"<spinner0":{name:"spinner",partials:{},subs:{}}},subs:{}},"{{> spinner}}\n",r)},{"hogan.js":586}],204:[function(e,t,n){var r=e("hogan.js");t.exports=new r.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.b('<span class="unsent">'),r.b("\n"+n),r.b("  Message too long or invalid"),r.b("\n"+n),r.b("</span>"),r.b("\n"),r.fl()},partials:{},subs:{}},'<span class="unsent">\n  Message too long or invalid\n</span>\n',r)},{"hogan.js":586}],205:[function(e,t,n){
var r=e("hogan.js");t.exports=new r.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.b("<span class='unsent'>"),r.b("\n"+n),r.b("  Message not delivered, still trying<span class='ellipsis'>...</span>"),r.b("\n"+n),r.b("</span>"),r.b("\n"),r.fl()},partials:{},subs:{}},"<span class='unsent'>\n  Message not delivered, still trying<span class='ellipsis'>...</span>\n</span>\n",r)},{"hogan.js":586}],206:[function(e,t,n){var r=e("hogan.js");t.exports=new r.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.b("Load more messages"),r.b("\n"),r.fl()},partials:{},subs:{}},"Load more messages\n",r)},{"hogan.js":586}],207:[function(e,t,n){var r=e("hogan.js");t.exports=new r.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.b("<span class='unsent'>"),r.b("\n"+n),r.b("  Message not sent."),r.b("\n"+n),r.b("  <a class='resend' href='#'>Resend</a>"),r.b("\n"+n),r.b("</span>"),r.b("\n"),r.fl()},partials:{},subs:{}},"<span class='unsent'>\n  Message not sent.\n  <a class='resend' href='#'>Resend</a>\n</span>\n",r);
},{"hogan.js":586}],208:[function(e,t,n){var r=e("hogan.js");t.exports=new r.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.b('<a class="chat-notification-close dark-link close"><i class="fa fa-times"></i></a>'),r.b("\n"+n),r.b(r.rp("<content0",e,t,"")),r.fl()},partials:{"<content0":{name:"content",partials:{},subs:{}}},subs:{}},'<a class="chat-notification-close dark-link close"><i class="fa fa-times"></i></a>\n{{> content}}\n',r)},{"hogan.js":586}],209:[function(e,t,n){var r=e("hogan.js");t.exports=new r.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.b('<i class="icon fa fa-fw fa-bell-slash"/>'),r.b("\n"+n),r.b("You will no longer be notified of @team mentions in "),r.b(r.v(r.f("flowName",e,t,0))),r.b("."),r.b("\n"+n),r.b('<a class="chat-notification-action undo">Turn back on</a>'),r.b("\n"),r.fl()},partials:{},subs:{}},'<i class="icon fa fa-fw fa-bell-slash"/>\nYou will no longer be notified of @team mentions in {{flowName}}.\n<a class="chat-notification-action undo">Turn back on</a>\n',r);
},{"hogan.js":586}],210:[function(e,t,n){var r=e("hogan.js");t.exports=new r.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.b('<i class="icon fa fa-fw fa-bell"/>'),r.b("\n"+n),r.b("You will be notified of @team mentions in "),r.b(r.v(r.f("flowName",e,t,0))),r.b("."),r.b("\n"+n),r.b('<a class="chat-notification-action undo">Turn off</a>'),r.b("\n"),r.fl()},partials:{},subs:{}},'<i class="icon fa fa-fw fa-bell"/>\nYou will be notified of @team mentions in {{flowName}}.\n<a class="chat-notification-action undo">Turn off</a>\n',r)},{"hogan.js":586}],211:[function(e,t,n){var r=e("hogan.js");t.exports=new r.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.b("<section class='content clearfix'>"),r.b("\n"+n),r.b("  <h3>Create a new flow</h3>"),r.b("\n"+n),r.b("  <hr class='short'>"),r.b("\n"+n),r.s(r.f("noFlows",e,t,1),e,t,0,99,252,"{{ }}")&&(r.rs(e,t,function(e,t,r){r.b("  <p>"),r.b("\n"+n),r.b("    <strong>"),r.b("\n"+n),r.b("      <i class='fa fa-warning'></i>"),r.b("\n"+n),r.b("      Looks like you don't have any accessible flows. Create a flow here."),
r.b("\n"+n),r.b("    </strong>"),r.b("\n"+n),r.b("  </p>"),r.b("\n"+n)}),e.pop()),r.b("  <p><strong>Flows</strong> are team workspaces with an inbox and a chat. Create one for each team and invite people to join.</p>"),r.b("\n"+n),r.b("  <form class='create-new-flow'>"),r.b("\n"+n),r.b("    <fieldset class='clearfix'>"),r.b("\n"+n),r.b("      <ol>"),r.b("\n"+n),r.b("        <li class='select organization'>"),r.b("\n"+n),r.b("          <label for='organization'>Organization<br></label>"),r.b("\n"+n),r.b("          <select class='flat-select' id='organization-select' name='organization' required>"),r.b("\n"+n),r.s(r.f("organizations",e,t,1),e,t,0,696,762,"{{ }}")&&(r.rs(e,t,function(e,t,r){r.b("            <option value='"),r.b(r.v(r.f("id",e,t,0))),r.b("'>"),r.b(r.v(r.f("name",e,t,0))),r.b("</option>"),r.b("\n"+n)}),e.pop()),r.b("            <optgroup label='-----------'></optgroup>"),r.b("\n"+n),r.b("            <option value=''>Create new\u2026</option>"),r.b("\n"+n),r.b("          </select>"),r.b("\n"+n),r.b("        </li>"),
r.b("\n"+n),r.b("        <li class='input name'>"),r.b("\n"+n),r.b("          <label for='name'>What is it called?</label>"),r.b("\n"+n),r.b("          <input autofocus name='name' pattern='.{2,}' placeholder='Flow name' required type='text'>"),r.b("\n"+n),r.b("        </li>"),r.b("\n"+n),r.b("        <li class='input description'>"),r.b("\n"+n),r.b("          <label for='description'>What is its purpose and who is it meant for?</label>"),r.b("\n"+n),r.b("          <textarea class='low' maxlength='255' name='description' placeholder='Flow description'></textarea>"),r.b("\n"+n),r.b("        </li>"),r.b("\n"+n),r.b("        <li class='input open-flow'>"),r.b("\n"+n),r.b("          <input checked id='new-flow-open' name='open-flow' type='radio'>"),r.b("\n"+n),r.b("          <label for='new-flow-open'>Allow anyone in the organization to join this flow</label><br />"),r.b("\n"+n),r.b("          <input id='new-flow-inviteonly' name='open-flow' type='radio'>"),r.b("\n"+n),r.b("          <label for='new-flow-inviteonly'>Hide this flow from others &#8212; invitation only</label>"),
r.b("\n"+n),r.b("        </li>"),r.b("\n"+n),r.b("      </ol>"),r.b("\n"+n),r.b("      <ul class='buttons right'>"),r.b("\n"+n),r.b("        <li>"),r.b("\n"+n),r.b("          <a class='button close'>Cancel</a>"),r.b("\n"+n),r.b("        </li>"),r.b("\n"+n),r.b("        <li>"),r.b("\n"+n),r.b("          <input class='primary-button' id='createFlow' type='submit' value='Create flow'>"),r.b("\n"+n),r.b("        </li>"),r.b("\n"+n),r.b("      </ul>"),r.b("\n"+n),r.b("    </fieldset>"),r.b("\n"+n),r.b("  </form>"),r.b("\n"+n),r.b("</section>"),r.b("\n"),r.fl()},partials:{},subs:{}},"<section class='content clearfix'>\n  <h3>Create a new flow</h3>\n  <hr class='short'>\n  {{#noFlows}}\n  <p>\n    <strong>\n      <i class='fa fa-warning'></i>\n      Looks like you don't have any accessible flows. Create a flow here.\n    </strong>\n  </p>\n  {{/noFlows}}\n  <p><strong>Flows</strong> are team workspaces with an inbox and a chat. Create one for each team and invite people to join.</p>\n  <form class='create-new-flow'>\n    <fieldset class='clearfix'>\n      <ol>\n        <li class='select organization'>\n          <label for='organization'>Organization<br></label>\n          <select class='flat-select' id='organization-select' name='organization' required>\n            {{#organizations}}\n            <option value='{{id}}'>{{name}}</option>\n            {{/organizations}}\n            <optgroup label='-----------'></optgroup>\n            <option value=''>Create new\u2026</option>\n          </select>\n        </li>\n        <li class='input name'>\n          <label for='name'>What is it called?</label>\n          <input autofocus name='name' pattern='.{2,}' placeholder='Flow name' required type='text'>\n        </li>\n        <li class='input description'>\n          <label for='description'>What is its purpose and who is it meant for?</label>\n          <textarea class='low' maxlength='255' name='description' placeholder='Flow description'></textarea>\n        </li>\n        <li class='input open-flow'>\n          <input checked id='new-flow-open' name='open-flow' type='radio'>\n          <label for='new-flow-open'>Allow anyone in the organization to join this flow</label><br />\n          <input id='new-flow-inviteonly' name='open-flow' type='radio'>\n          <label for='new-flow-inviteonly'>Hide this flow from others &#8212; invitation only</label>\n        </li>\n      </ol>\n      <ul class='buttons right'>\n        <li>\n          <a class='button close'>Cancel</a>\n        </li>\n        <li>\n          <input class='primary-button' id='createFlow' type='submit' value='Create flow'>\n        </li>\n      </ul>\n    </fieldset>\n  </form>\n</section>\n",r);
},{"hogan.js":586}],212:[function(e,t,n){var r=e("hogan.js");t.exports=new r.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.b("<script src='https://www.google.com/recaptcha/api.js'></script>"),r.b("\n"+n),r.b("<section class='content clearfix'>"),r.b("\n"+n),r.s(r.f("canBeDismissed",e,t,1),e,t,1,0,0,"")||(r.b("  <h2>Oops!</h2>"),r.b("\n"+n),r.b("  <p>"),r.b("\n"+n),r.b("    It seems that your Flowdock user account does not belong to an active organization. To proceed, you need to create a new organization"),r.s(r.f("noOrganizations",e,t,1),e,t,1,0,0,"")||r.b(" or restore an expired one below"),r.b(". If you wish to join an existing organization, ask a member for an invitation."),r.b("\n"+n),r.b("  </p>"),r.b("\n"+n),r.b(r.rp("<noEnabledOrganizations0",e,t,"  ")),r.b("  Logged in as "),r.b(r.v(r.d("user.name",e,t,0))),r.b(" ("),r.b(r.v(r.d("user.email",e,t,0))),r.b(")"),r.b("\n"+n),r.b("  <input class='primary-button switch-accounts' type='button' value='Switch to another account'>"),r.b("\n"+n)),
r.b("  <h3>Create a new organization</h3>"),r.b("\n"+n),r.b("  <hr class='short'>"),r.b("\n"+n),r.b('  <p>Creating a new organization will start a new 30-day trial. You can set up payments from the <a href="/account" target="_blank" rel="noopener noreferrer">account</a> page.</p>'),r.b("\n"+n),r.b("  <form class='new-organization'>"),r.b("\n"+n),r.b("    <fieldset class='clearfix'>"),r.b("\n"+n),r.b("      <ol>"),r.b("\n"+n),r.b("        <li class='input name'>"),r.b("\n"+n),r.b("          <label for='organization-name'>What will it be called?</label>"),r.b("\n"+n),r.b("          <input autofocus name='organization-name' placeholder='Organization name' required type='text'>"),r.b("\n"+n),r.b("        </li>"),r.b("\n"+n),r.b("        <li class='input subdomain email-example'>"),r.b("\n"+n),r.b("          <label for='subdomain-name'>Subdomain for e-mails</label>"),r.b("\n"+n),r.b('          <a href="#" class="edit-subdomain">Edit</a>'),r.b("\n"+n),r.b("          <div class='flow-email'>"),r.b("\n"+n),r.b('            <span class="local-part">flow_name@</span><span class="organization-part">acme</span><input type="text" required name="subdomain-name"></input>.<span class="flowdock-domain">'),
r.b(r.v(r.f("host",e,t,0))),r.b("</span>"),r.b("\n"+n),r.b("          </div>"),r.b("\n"+n),r.b("        </li>"),r.b("\n"+n),r.b("      </ol>"),r.b("\n"+n),r.b("      <div class='g-recaptcha' data-sitekey='6LdXfCIUAAAAAIkS2PW7C9PXbzLvQfsFcDVWzFzg'></div>      "),r.b("\n"+n),r.b("      <ul class='validation-errors'></ul>"),r.b("\n"+n),r.b("      <ul class='buttons right'>"),r.b("\n"+n),r.b("        <li>"),r.b("\n"+n),r.b("          <a class='button close'>Cancel</a>"),r.b("\n"+n),r.b("        </li>"),r.b("\n"+n),r.b("        <li>"),r.b("\n"+n),r.b("          <input class='primary-button create-organization' type='submit' value='Create organization'>"),r.b("\n"+n),r.b("        </li>"),r.b("\n"+n),r.b("      </ul>"),r.b("\n"+n),r.b("    </fieldset>"),r.b("\n"+n),r.b("  </form>"),r.b("\n"+n),r.b("</section>"),r.b("\n"),r.fl()},partials:{"<noEnabledOrganizations0":{name:"noEnabledOrganizations",partials:{},subs:{}}},subs:{}},"<script src='https://www.google.com/recaptcha/api.js'></script>\n<section class='content clearfix'>\n  {{^canBeDismissed}}\n  <h2>Oops!</h2>\n  <p>\n    It seems that your Flowdock user account does not belong to an active organization. To proceed, you need to create a new organization{{^noOrganizations}} or restore an expired one below{{/noOrganizations}}. If you wish to join an existing organization, ask a member for an invitation.\n  </p>\n  {{> noEnabledOrganizations}}\n  Logged in as {{user.name}} ({{user.email}})\n  <input class='primary-button switch-accounts' type='button' value='Switch to another account'>\n  {{/canBeDismissed}}\n  <h3>Create a new organization</h3>\n  <hr class='short'>\n  <p>Creating a new organization will start a new 30-day trial. You can set up payments from the <a href=\"/account\" target=\"_blank\" rel=\"noopener noreferrer\">account</a> page.</p>\n  <form class='new-organization'>\n    <fieldset class='clearfix'>\n      <ol>\n        <li class='input name'>\n          <label for='organization-name'>What will it be called?</label>\n          <input autofocus name='organization-name' placeholder='Organization name' required type='text'>\n        </li>\n        <li class='input subdomain email-example'>\n          <label for='subdomain-name'>Subdomain for e-mails</label>\n          <a href=\"#\" class=\"edit-subdomain\">Edit</a>\n          <div class='flow-email'>\n            <span class=\"local-part\">flow_name@</span><span class=\"organization-part\">acme</span><input type=\"text\" required name=\"subdomain-name\"></input>.<span class=\"flowdock-domain\">{{host}}</span>\n          </div>\n        </li>\n      </ol>\n      <div class='g-recaptcha' data-sitekey='6LdXfCIUAAAAAIkS2PW7C9PXbzLvQfsFcDVWzFzg'></div>      \n      <ul class='validation-errors'></ul>\n      <ul class='buttons right'>\n        <li>\n          <a class='button close'>Cancel</a>\n        </li>\n        <li>\n          <input class='primary-button create-organization' type='submit' value='Create organization'>\n        </li>\n      </ul>\n    </fieldset>\n  </form>\n</section>\n",r);
},{"hogan.js":586}],213:[function(e,t,n){var r=e("hogan.js");t.exports=new r.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.s(r.f("errors",e,t,1),e,t,0,11,70,"{{ }}")&&(r.rs(e,t,function(e,t,r){r.b("<li class='error new-organization-error'>"),r.b(r.v(r.f("message",e,t,0))),r.b("</li>"),r.b("\n"+n)}),e.pop()),r.fl()},partials:{},subs:{}},"{{#errors}}\n<li class='error new-organization-error'>{{message}}</li>\n{{/errors}}\n",r)},{"hogan.js":586}],214:[function(e,t,n){var r=e("hogan.js");t.exports=new r.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.b("<ul class='expired-organization-list'>"),r.b("\n"+n),r.s(r.f("expiredOrganizations",e,t,1),e,t,0,66,637,"{{ }}")&&(r.rs(e,t,function(e,t,r){r.b("  <li class='expired-organization'>"),r.b("\n"+n),r.b("    <ul class='actions block-list'>"),r.b("\n"+n),r.s(r.d("subscription.trial",e,t,1),e,t,0,168,301,"{{ }}")&&(r.rs(e,t,function(e,t,r){r.b("      <li>"),r.b("\n"+n),r.b("        <a class='help-link' href='/trials' target='_blank' rel='noopener noreferrer'>Extend trial</a>"),
r.b("\n"+n),r.b("      </li>"),r.b("\n"+n)}),e.pop()),r.b("      <li>"),r.b("\n"+n),r.b("        <a class='help-link' href='/organizations/"),r.b(r.v(r.f("id",e,t,0))),r.b("/payments' target='_blank' rel='noopener noreferrer'>Configure payments</a>"),r.b("\n"+n),r.b("      </li>"),r.b("\n"+n),r.b("    </ul>"),r.b("\n"+n),r.b("    <div class='name-row'>"),r.b("\n"+n),r.b("      <span class='name'>"),r.b(r.v(r.f("name",e,t,0))),r.b("</span>"),r.b("\n"+n),r.b("    </div>"),r.b("\n"+n),r.b("    <div class='description'>"),r.b("\n"+n),r.b("      "),r.b(r.v(r.f("reason",e,t,0))),r.b("\n"+n),r.b("    </div>"),r.b("\n"+n),r.b("  </li>"),r.b("\n"+n)}),e.pop()),r.b("</ul>"),r.b("\n"+n),r.b("<br>"),r.b("\n"),r.fl()},partials:{},subs:{}},"<ul class='expired-organization-list'>\n  {{#expiredOrganizations}}\n  <li class='expired-organization'>\n    <ul class='actions block-list'>\n      {{#subscription.trial}}\n      <li>\n        <a class='help-link' href='/trials' target='_blank' rel='noopener noreferrer'>Extend trial</a>\n      </li>\n      {{/subscription.trial}}\n      <li>\n        <a class='help-link' href='/organizations/{{id}}/payments' target='_blank' rel='noopener noreferrer'>Configure payments</a>\n      </li>\n    </ul>\n    <div class='name-row'>\n      <span class='name'>{{name}}</span>\n    </div>\n    <div class='description'>\n      {{reason}}\n    </div>\n  </li>\n  {{/expiredOrganizations}}\n</ul>\n<br>\n",r);
},{"hogan.js":586}],215:[function(e,t,n){var r=e("hogan.js");t.exports=new r.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.b("<span class='github-issue'>"),r.b("\n"+n),r.b("  <strong>Issue #"),r.b(r.v(r.f("number",e,t,0))),r.b(": "),r.b(r.v(r.f("title",e,t,0))),r.b("</strong> by "),r.b(r.v(r.f("author",e,t,0))),r.b("\n"+n),r.b("</span><span class='github-meta'>in "),r.b(r.v(r.f("repoAuthor",e,t,0))),r.b("/"),r.b(r.v(r.f("repoName",e,t,0))),r.b(" on GitHub</span>"),r.b("\n"),r.fl()},partials:{},subs:{}},"<span class='github-issue'>\n  <strong>Issue #{{number}}: {{title}}</strong> by {{author}}\n</span><span class='github-meta'>in {{repoAuthor}}/{{repoName}} on GitHub</span>\n",r)},{"hogan.js":586}],216:[function(e,t,n){var r=e("hogan.js");t.exports=new r.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.b("<span class='github-pull'>"),r.b("\n"+n),r.b("  <strong>PR #"),r.b(r.v(r.f("number",e,t,0))),r.b(": "),r.b(r.v(r.f("title",e,t,0))),r.b("</strong> by "),r.b(r.v(r.f("author",e,t,0))),
r.b("\n"+n),r.b("</span><span class='github-meta'>in "),r.b(r.v(r.f("repoAuthor",e,t,0))),r.b("/"),r.b(r.v(r.f("repoName",e,t,0))),r.b(" on GitHub</span>"),r.b("\n"),r.fl()},partials:{},subs:{}},"<span class='github-pull'>\n  <strong>PR #{{number}}: {{title}}</strong> by {{author}}\n</span><span class='github-meta'>in {{repoAuthor}}/{{repoName}} on GitHub</span>\n",r)},{"hogan.js":586}],217:[function(e,t,n){var r=e("hogan.js");t.exports=new r.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.b("<span class='github-repo'>"),r.b("\n"+n),r.b("  <strong>"),r.b(r.v(r.f("repoAuthor",e,t,0))),r.b("/"),r.b(r.v(r.f("repoName",e,t,0))),r.b("</strong>"),r.s(r.f("repoDescription",e,t,1),e,t,0,93,114,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b(": "),n.b(n.v(n.f("repoDescription",e,t,0)))}),e.pop()),r.b("\n"+n),r.b("</span><span class='github-meta'>on GitHub</span>"),r.b("\n"),r.fl()},partials:{},subs:{}},"<span class='github-repo'>\n  <strong>{{repoAuthor}}/{{repoName}}</strong>{{#repoDescription}}: {{repoDescription}}{{/repoDescription}}\n</span><span class='github-meta'>on GitHub</span>\n",r);
},{"hogan.js":586}],218:[function(e,t,n){var r=e("hogan.js");t.exports=new r.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.b("<span class='spotify-icon'><img src='"),r.b(r.v(r.f("icon",e,t,0))),r.b("'></span>"),r.b("\n"+n),r.b("<span class='spotify-album'>"),r.b("\n"+n),r.b("  <strong>"),r.b(r.v(r.f("album",e,t,0))),r.b("</strong>"),r.b("\n"+n),r.b("  by "),r.b(r.v(r.f("artist",e,t,0))),r.b("\n"+n),r.b("</span><span class='spotify-meta'>on Spotify</span>"),r.b("\n"),r.fl()},partials:{},subs:{}},"<span class='spotify-icon'><img src='{{icon}}'></span>\n<span class='spotify-album'>\n  <strong>{{album}}</strong>\n  by {{artist}}\n</span><span class='spotify-meta'>on Spotify</span>\n",r)},{"hogan.js":586}],219:[function(e,t,n){var r=e("hogan.js");t.exports=new r.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.b("<span class='spotify-icon'><img src='"),r.b(r.v(r.f("icon",e,t,0))),r.b("'></span>"),r.b("\n"+n),r.b("<span class='spotify-artist'>"),r.b("\n"+n),r.b("  <strong>"),r.b(r.v(r.f("artist",e,t,0))),
r.b("</strong>"),r.b("\n"+n),r.b("</span><span class='spotify-meta'>on Spotify</span>"),r.b("\n"),r.fl()},partials:{},subs:{}},"<span class='spotify-icon'><img src='{{icon}}'></span>\n<span class='spotify-artist'>\n  <strong>{{artist}}</strong>\n</span><span class='spotify-meta'>on Spotify</span>\n",r)},{"hogan.js":586}],220:[function(e,t,n){var r=e("hogan.js");t.exports=new r.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.b("<span class='spotify-icon'><img src='"),r.b(r.v(r.f("icon",e,t,0))),r.b("'></span>"),r.b("\n"+n),r.b("<span class='spotify-track'>"),r.b("\n"+n),r.b("  <strong>"),r.b(r.v(r.f("track",e,t,0))),r.b("</strong>"),r.b("\n"+n),r.b("  on "),r.b(r.v(r.f("album",e,t,0))),r.b(" by "),r.b(r.v(r.f("artist",e,t,0))),r.b("\n"+n),r.b("</span><span class='spotify-meta'>on Spotify</span>"),r.b("\n"),r.fl()},partials:{},subs:{}},"<span class='spotify-icon'><img src='{{icon}}'></span>\n<span class='spotify-track'>\n  <strong>{{track}}</strong>\n  on {{album}} by {{artist}}\n</span><span class='spotify-meta'>on Spotify</span>\n",r);
},{"hogan.js":586}],221:[function(e,t,n){var r=e("hogan.js");t.exports=new r.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.b("<span class='fa fa-fw fa-twitter'></span>"),r.b("\n"+n),r.b("<span class='author'><a class='external tweet-preview' href='"),r.b(r.v(r.f("authorLink",e,t,0))),r.b("'>"),r.b(r.v(r.f("author",e,t,0))),r.b("</a>"),r.s(r.f("isRetweet",e,t,1),e,t,0,147,278,"{{ }}")&&(r.rs(e,t,function(e,t,r){r.b("\n"+n),r.b("  retweeted"),r.b("\n"+n),r.b("  <a class='external tweet-preview' href='http://twitter.com/"),r.b(r.v(r.f("originalAuthorUsername",e,t,0))),r.b("'>"),r.b(r.v(r.f("originalAuthorName",e,t,0))),r.b("</a>"),r.b("\n"+n)}),e.pop()),r.b("  :"),r.b("\n"+n),r.b("</span>"),r.b("\n"+n),r.b("<span class='tweet'>"),r.b("\n"+n),r.b('  "'),r.b(r.t(r.f("tweet",e,t,0))),r.b('"'),r.b("\n"+n),r.b("</span>"),r.b("\n"+n),r.b("<time>"),r.b("\n"+n),r.b("  on "),r.b(r.t(r.f("time",e,t,0))),r.b("\n"+n),r.b("</time>"),r.b("\n"),r.fl()},partials:{},subs:{}},"<span class='fa fa-fw fa-twitter'></span>\n<span class='author'><a class='external tweet-preview' href='{{authorLink}}'>{{author}}</a>{{#isRetweet}}\n  retweeted\n  <a class='external tweet-preview' href='http://twitter.com/{{originalAuthorUsername}}'>{{originalAuthorName}}</a>\n  {{/isRetweet}}\n  :\n</span>\n<span class='tweet'>\n  \"{{& tweet }}\"\n</span>\n<time>\n  on {{& time }}\n</time>\n",r);
},{"hogan.js":586}],222:[function(e,t,n){var r=e("hogan.js");t.exports=new r.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.b("<div class='video-image'>"),r.b("\n"+n),r.b("  <img src='"),r.b(r.v(r.f("image",e,t,0))),r.b("'>"),r.b("\n"+n),r.b("  <i class='fa fa-play video-play-button'></i>"),r.b("\n"+n),r.b("  <span class='video-duration'>"),r.b(r.v(r.f("duration",e,t,0))),r.b("</span>"),r.b("\n"+n),r.b("</div>"),r.b("\n"+n),r.b("<span>"),r.b("\n"+n),r.b("  <strong class='video-title'>"),r.b(r.v(r.f("title",e,t,0))),r.b("</strong>"),r.b("\n"+n),r.b("  <br>"),r.b("\n"+n),r.b("  "),r.b(r.v(r.d("author.name",e,t,0))),r.b("\n"+n),r.b("</span>"),r.b("\n"),r.fl()},partials:{},subs:{}},"<div class='video-image'>\n  <img src='{{image}}'>\n  <i class='fa fa-play video-play-button'></i>\n  <span class='video-duration'>{{duration}}</span>\n</div>\n<span>\n  <strong class='video-title'>{{title}}</strong>\n  <br>\n  {{author.name}}\n</span>\n",r)},{"hogan.js":586}],223:[function(e,t,n){var r=e("hogan.js");t.exports=new r.Template({
code:function(e,t,n){var r=this;return r.b(n=n||""),r.b("<a class='toast-continue' title='Close this notification'>"),r.b("\n"+n),r.b("  <i class='fa fa-times-circle-o'></i>"),r.b("\n"+n),r.b("</a>"),r.b("\n"+n),r.b("<div class='toast-icon'>"),r.b("\n"+n),r.b("  <i class='fa fa-warning'></i>"),r.b("\n"+n),r.b("</div>"),r.b("\n"+n),r.b("<div class='toast-content'>"),r.b("\n"+n),r.b("  <h4 class='toast-title'>"),r.b("\n"+n),r.b("    "),r.b(r.v(r.f("title",e,t,0))),r.b("\n"+n),r.b("  </h4>"),r.b("\n"+n),r.b("  <p class='toast-description'>"),r.b("\n"+n),r.b("    "),r.b(r.v(r.f("description",e,t,0))),r.b("\n"+n),r.b("    <a class='resolve' href='"),r.b(r.v(r.f("url",e,t,0))),r.b("' title='Resolve'>Resolve</a>"),r.b("\n"+n),r.b("  </p>"),r.b("\n"+n),r.b("</div>"),r.b("\n"),r.fl()},partials:{},subs:{}},"<a class='toast-continue' title='Close this notification'>\n  <i class='fa fa-times-circle-o'></i>\n</a>\n<div class='toast-icon'>\n  <i class='fa fa-warning'></i>\n</div>\n<div class='toast-content'>\n  <h4 class='toast-title'>\n    {{title}}\n  </h4>\n  <p class='toast-description'>\n    {{description}}\n    <a class='resolve' href='{{url}}' title='Resolve'>Resolve</a>\n  </p>\n</div>\n",r);
},{"hogan.js":586}],224:[function(e,t,n){var r=e("hogan.js");t.exports=new r.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.b("<div class='toast-icon'>"),r.b("\n"+n),r.b("  <i class='fa fa-warning'></i>"),r.b("\n"+n),r.b("</div>"),r.b("\n"+n),r.b("<div class='toast-content'>"),r.b("\n"+n),r.b("  <h4 class='toast-title'>Unable to connect to Flowdock</h4>"),r.b("\n"+n),r.b("  <p class='toast-description'>"),r.b("\n"+n),r.b("    Trying to reconnect"),r.b("\n"+n),r.b("    <span class='animate-ellipsis'>...</span>"),r.b("\n"+n),r.b("  </p>"),r.b("\n"+n),r.b("</div>"),r.b("\n"),r.fl()},partials:{},subs:{}},"<div class='toast-icon'>\n  <i class='fa fa-warning'></i>\n</div>\n<div class='toast-content'>\n  <h4 class='toast-title'>Unable to connect to Flowdock</h4>\n  <p class='toast-description'>\n    Trying to reconnect\n    <span class='animate-ellipsis'>...</span>\n  </p>\n</div>\n",r)},{"hogan.js":586}],225:[function(e,t,n){var r=e("hogan.js");t.exports=new r.Template({code:function(e,t,n){var r=this;
return r.b(n=n||""),r.b("<section class='content clearfix'>"),r.b("\n"+n),r.b("  <div class='image'></div>"),r.b("\n"+n),r.b("  <h3>There was an error</h3>"),r.b("\n"+n),r.b("  <p>"),r.b("\n"+n),r.b("    There was an unexpected error which could not be resolved.<br>"),r.b("\n"+n),r.b('    Reload the page and contact <a href="mailto:team@flowdock.com">team@flowdock.com</a> if it happens again.'),r.b("\n"+n),r.b("  </p>"),r.b("\n"+n),r.b("  <ul class='buttons clean'>"),r.b("\n"+n),r.b("    <li>"),r.b("\n"+n),r.b("      <button class='primary-button reload'>Reload</button>"),r.b("\n"+n),r.b("    </li>"),r.b("\n"+n),r.b("  </ul>"),r.b("\n"+n),r.b("</section>"),r.b("\n"),r.fl()},partials:{},subs:{}},"<section class='content clearfix'>\n  <div class='image'></div>\n  <h3>There was an error</h3>\n  <p>\n    There was an unexpected error which could not be resolved.<br>\n    Reload the page and contact <a href=\"mailto:team@flowdock.com\">team@flowdock.com</a> if it happens again.\n  </p>\n  <ul class='buttons clean'>\n    <li>\n      <button class='primary-button reload'>Reload</button>\n    </li>\n  </ul>\n</section>\n",r);
},{"hogan.js":586}],226:[function(e,t,n){var r=e("hogan.js");t.exports=new r.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.b("<a class='toast-continue' title='Close this notification'>"),r.b("\n"+n),r.b("  <i class='fa fa-times-circle-o'></i>"),r.b("\n"+n),r.b("</a>"),r.b("\n"+n),r.b("<div class='toast-icon'>"),r.b("\n"+n),r.b("  <i class='fa fa-warning'></i>"),r.b("\n"+n),r.b("</div>"),r.b("\n"+n),r.b("<div class='toast-content'>"),r.b("\n"+n),r.b("  <h4 class='toast-title'>"),r.b("\n"+n),r.b("    "),r.b(r.v(r.f("title",e,t,0))),r.b("\n"+n),r.b("  </h4>"),r.b("\n"+n),r.b("  <p class='toast-description'>"),r.b("\n"+n),r.b("    "),r.b(r.v(r.f("description",e,t,0))),r.b("\n"+n),r.b("  </p>"),r.b("\n"+n),r.b("</div>"),r.b("\n"),r.fl()},partials:{},subs:{}},"<a class='toast-continue' title='Close this notification'>\n  <i class='fa fa-times-circle-o'></i>\n</a>\n<div class='toast-icon'>\n  <i class='fa fa-warning'></i>\n</div>\n<div class='toast-content'>\n  <h4 class='toast-title'>\n    {{title}}\n  </h4>\n  <p class='toast-description'>\n    {{description}}\n  </p>\n</div>\n",r);
},{"hogan.js":586}],227:[function(e,t,n){var r=e("hogan.js");t.exports=new r.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.b("<a class='toast-continue' title='Close this notification'>"),r.b("\n"+n),r.b("  <i class='fa fa-times-circle-o'></i>"),r.b("\n"+n),r.b("</a>"),r.b("\n"+n),r.b("<div class='toast-icon'>"),r.b("\n"+n),r.b("  <i class='fa fa-warning'></i>"),r.b("\n"+n),r.b("</div>"),r.b("\n"+n),r.b("<div class='toast-content'>"),r.b("\n"+n),r.b("  <h4 class='toast-title'>"),r.b("\n"+n),r.b("    You must connect to "),r.b(r.v(r.f("application",e,t,0))),r.b(" first"),r.b("\n"+n),r.b("  </h4>"),r.b("\n"+n),r.b("  <p class='toast-description'>"),r.b("\n"+n),r.b("    <a class='authenticate' href='"),r.b(r.v(r.f("url",e,t,0))),r.b("' title='Authenticate'>Click here to authenticate</a>"),r.b("\n"+n),r.b("  </p>"),r.b("\n"+n),r.b("</div>"),r.b("\n"),r.fl()},partials:{},subs:{}},"<a class='toast-continue' title='Close this notification'>\n  <i class='fa fa-times-circle-o'></i>\n</a>\n<div class='toast-icon'>\n  <i class='fa fa-warning'></i>\n</div>\n<div class='toast-content'>\n  <h4 class='toast-title'>\n    You must connect to {{application}} first\n  </h4>\n  <p class='toast-description'>\n    <a class='authenticate' href='{{url}}' title='Authenticate'>Click here to authenticate</a>\n  </p>\n</div>\n",r);
},{"hogan.js":586}],228:[function(e,t,n){var r=e("hogan.js");t.exports=new r.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.b("<section class='content'>"),r.b("\n"+n),r.b("  <div class='image not-found'></div>"),r.b("\n"+n),r.b("  <h3>Flow not found</h3>"),r.b("\n"+n),r.b("  <p>"),r.b("\n"+n),r.b("    The Flow you tried to access cannot be found.<br>"),r.b("\n"+n),r.b("    It either does not exist or you're not authorized to access it.<br>"),r.b("\n"+n),r.b("    You can <strong>select another flow</strong> from the navigation bar"),r.b("\n"+n),r.b("    or <strong>go back</strong</a>."),r.b("\n"+n),r.b("  </p>"),r.b("\n"+n),r.b("  <ul class='buttons'>"),r.b("\n"+n),r.b("    <li>"),r.b("\n"+n),r.b("      <button class='button back'>Go back</button>"),r.b("\n"+n),r.b("    </li>"),r.b("\n"+n),r.b("  </ul>"),r.b("\n"+n),r.b("</section>"),r.b("\n"),r.fl()},partials:{},subs:{}},"<section class='content'>\n  <div class='image not-found'></div>\n  <h3>Flow not found</h3>\n  <p>\n    The Flow you tried to access cannot be found.<br>\n    It either does not exist or you're not authorized to access it.<br>\n    You can <strong>select another flow</strong> from the navigation bar\n    or <strong>go back</strong</a>.\n  </p>\n  <ul class='buttons'>\n    <li>\n      <button class='button back'>Go back</button>\n    </li>\n  </ul>\n</section>\n",r);
},{"hogan.js":586}],229:[function(e,t,n){var r=e("hogan.js");t.exports=new r.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.b("<section class='content'>"),r.b("\n"+n),r.b("  <div class='image connection'></div>"),r.b("\n"+n),r.b("  <h3>Could not connect to flow</h3>"),r.b("\n"+n),r.b("  <p>"),r.b("\n"+n),r.b("    Connection was established to Flowdock's servers.<br>"),r.b("\n"+n),r.b("    However, we could not connect to this specific flow.<br>"),r.b("\n"+n),r.b("    <strong>Reload</strong> to restore connections."),r.b("\n"+n),r.b("  </p>"),r.b("\n"+n),r.b("  <ul class='buttons'>"),r.b("\n"+n),r.b("    <li>"),r.b("\n"+n),r.b("      <button class='primary-button reload'>Reload</button>"),r.b("\n"+n),r.b("    </li>"),r.b("\n"+n),r.b("  </ul>"),r.b("\n"+n),r.b("</section>"),r.b("\n"),r.fl()},partials:{},subs:{}},"<section class='content'>\n  <div class='image connection'></div>\n  <h3>Could not connect to flow</h3>\n  <p>\n    Connection was established to Flowdock's servers.<br>\n    However, we could not connect to this specific flow.<br>\n    <strong>Reload</strong> to restore connections.\n  </p>\n  <ul class='buttons'>\n    <li>\n      <button class='primary-button reload'>Reload</button>\n    </li>\n  </ul>\n</section>\n",r);
},{"hogan.js":586}],230:[function(e,t,n){var r=e("hogan.js");t.exports=new r.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.b("<section class='content'>"),r.b("\n"+n),r.b("  <div class='image authentication'></div>"),r.b("\n"+n),r.b("  <h3>Could not authenticate</h3>"),r.b("\n"+n),r.b("  <p>"),r.b("\n"+n),r.b("    Your connection to Flowdock could not be properly authenticated.<br>"),r.b("\n"+n),r.b("    <strong>Reload</strong> and if this happens again, try <strong>logging out</strong> and then back in."),r.b("\n"+n),r.b("  </p>"),r.b("\n"+n),r.b("  <ul class='buttons'>"),r.b("\n"+n),r.b("    <li>"),r.b("\n"+n),r.b("      <button class='primary-button reload'>Reload</button>"),r.b("\n"+n),r.b("    </li>"),r.b("\n"+n),r.b("  </ul>"),r.b("\n"+n),r.b("</section>"),r.b("\n"),r.fl()},partials:{},subs:{}},"<section class='content'>\n  <div class='image authentication'></div>\n  <h3>Could not authenticate</h3>\n  <p>\n    Your connection to Flowdock could not be properly authenticated.<br>\n    <strong>Reload</strong> and if this happens again, try <strong>logging out</strong> and then back in.\n  </p>\n  <ul class='buttons'>\n    <li>\n      <button class='primary-button reload'>Reload</button>\n    </li>\n  </ul>\n</section>\n",r);
},{"hogan.js":586}],231:[function(e,t,n){var r=e("hogan.js");t.exports=new r.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.b("<div class='stripe'>"),r.b("\n"+n),r.b("  <div class='error'>"),r.b("\n"+n),r.b("    Error fetching organizations. Please try again."),r.b("\n"+n),r.b("  </div>"),r.b("\n"+n),r.b("</div>"),r.b("\n"),r.fl()},partials:{},subs:{}},"<div class='stripe'>\n  <div class='error'>\n    Error fetching organizations. Please try again.\n  </div>\n</div>\n",r)},{"hogan.js":586}],232:[function(e,t,n){var r=e("hogan.js");t.exports=new r.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.b("<section class='content'>"),r.b("\n"+n),r.b("  <div class='image not-found'></div>"),r.b("\n"+n),r.b("  <h3>Unknown User</h3>"),r.b("\n"+n),r.b("  <p>"),r.b("\n"+n),r.b("    The user you tried to chat with wasn't found.<br>"),r.b("\n"+n),r.b("  </p>"),r.b("\n"+n),r.b("  <ul class='buttons'>"),r.b("\n"+n),r.b("    <li>"),r.b("\n"+n),r.b("      <button class='button back'>Back</button>"),
r.b("\n"+n),r.b("    </li>"),r.b("\n"+n),r.b("  </ul>"),r.b("\n"+n),r.b("</section>"),r.b("\n"),r.fl()},partials:{},subs:{}},"<section class='content'>\n  <div class='image not-found'></div>\n  <h3>Unknown User</h3>\n  <p>\n    The user you tried to chat with wasn't found.<br>\n  </p>\n  <ul class='buttons'>\n    <li>\n      <button class='button back'>Back</button>\n    </li>\n  </ul>\n</section>\n",r)},{"hogan.js":586}],233:[function(e,t,n){var r=e("hogan.js");t.exports=new r.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.b("<section class='content'>"),r.b("\n"+n),r.b("  <div class='image connection'></div>"),r.b("\n"+n),r.b("  <h3>Could not connect to flow</h3>"),r.b("\n"+n),r.b("  <p>"),r.b("\n"+n),r.b("    Connection was established to Flowdock's servers.<br>"),r.b("\n"+n),r.b("    However, we could not connect to this specific private chat.<br>"),r.b("\n"+n),r.b("    <strong>Reload</strong> to restore connections."),r.b("\n"+n),r.b("  </p>"),r.b("\n"+n),r.b("  <ul class='buttons'>"),r.b("\n"+n),
r.b("    <li>"),r.b("\n"+n),r.b("      <button class='primary-button reload'>Reload</button>"),r.b("\n"+n),r.b("    </li>"),r.b("\n"+n),r.b("  </ul>"),r.b("\n"+n),r.b("</section>"),r.b("\n"),r.fl()},partials:{},subs:{}},"<section class='content'>\n  <div class='image connection'></div>\n  <h3>Could not connect to flow</h3>\n  <p>\n    Connection was established to Flowdock's servers.<br>\n    However, we could not connect to this specific private chat.<br>\n    <strong>Reload</strong> to restore connections.\n  </p>\n  <ul class='buttons'>\n    <li>\n      <button class='primary-button reload'>Reload</button>\n    </li>\n  </ul>\n</section>\n",r)},{"hogan.js":586}],234:[function(e,t,n){var r=e("hogan.js");t.exports=new r.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.b("<section class='content'>"),r.b("\n"+n),r.b("  <div class='image not-found'></div>"),r.b("\n"+n),r.b("  <h3>Whoops! You don't seem to have any Flows open.</h3>"),r.b("\n"+n),r.b("  <ul>"),r.b("\n"+n),r.b("    <p>"),r.b("\n"+n),
r.b("      This can happen if you've closed all of your flows or your subscription has expired. You can try opening a flow from the top left corner or reloading the page."),r.b("\n"+n),r.b("    </p>"),r.b("\n"+n),r.b("  </ul>"),r.b("\n"+n),r.b("  <p>"),r.b("\n"+n),r.b('    If you keep seeing this error, please contact us at <a href="mailto:team@flowdock.com">team@flowdock.com</a>'),r.b("\n"+n),r.b("  </p>"),r.b("\n"+n),r.b("  <a class='button primary-button account' href='/account'>See Account Details</a>"),r.b("\n"+n),r.b("</section>"),r.b("\n"),r.fl()},partials:{},subs:{}},"<section class='content'>\n  <div class='image not-found'></div>\n  <h3>Whoops! You don't seem to have any Flows open.</h3>\n  <ul>\n    <p>\n      This can happen if you've closed all of your flows or your subscription has expired. You can try opening a flow from the top left corner or reloading the page.\n    </p>\n  </ul>\n  <p>\n    If you keep seeing this error, please contact us at <a href=\"mailto:team@flowdock.com\">team@flowdock.com</a>\n  </p>\n  <a class='button primary-button account' href='/account'>See Account Details</a>\n</section>\n",r);
},{"hogan.js":586}],235:[function(e,t,n){var r=e("hogan.js");t.exports=new r.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.b("<a class='toast-continue' title='Close this notification'>"),r.b("\n"+n),r.b("  <i class='fa fa-times-circle-o'></i>"),r.b("\n"+n),r.b("</a>"),r.b("\n"+n),r.b("<div class='toast-icon'>"),r.b("\n"+n),r.b("  <i class='fa fa-info'></i>"),r.b("\n"+n),r.b("</div>"),r.b("\n"+n),r.b("<div class='toast-content'>"),r.b("\n"+n),r.b("  <h4 class='toast-title'>"),r.b("\n"+n),r.b("    Application Update Available!"),r.b("\n"+n),r.b("  </h4>"),r.b("\n"+n),r.b("  <p class='toast-description'>"),r.b("\n"+n),r.b("    "),r.b(r.v(r.f("title",e,t,0))),r.b("\n"+n),r.b("    <a class='reload' href='#' title='Click to reload and update'>Click to reload</a>"),r.b("\n"+n),r.b("  </p>"),r.b("\n"+n),r.b("</div>"),r.b("\n"),r.fl()},partials:{},subs:{}},"<a class='toast-continue' title='Close this notification'>\n  <i class='fa fa-times-circle-o'></i>\n</a>\n<div class='toast-icon'>\n  <i class='fa fa-info'></i>\n</div>\n<div class='toast-content'>\n  <h4 class='toast-title'>\n    Application Update Available!\n  </h4>\n  <p class='toast-description'>\n    {{title}}\n    <a class='reload' href='#' title='Click to reload and update'>Click to reload</a>\n  </p>\n</div>\n",r);
},{"hogan.js":586}],236:[function(e,t,n){var r=e("hogan.js");t.exports=new r.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.b("<a class='toast-continue' title='Close this notification'>"),r.b("\n"+n),r.b("  <i class='fa fa-times-circle-o'></i>"),r.b("\n"+n),r.b("</a>"),r.b("\n"+n),r.b("<div class='toast-icon'>"),r.b("\n"+n),r.b("  <i class='fa fa-download'></i>"),r.b("\n"+n),r.b("</div>"),r.b("\n"+n),r.b("<div class='toast-content'>"),r.b("\n"+n),r.b("  <h4 class='toast-title'>"),r.b("\n"+n),r.b("    New Desktop App Available"),r.b("\n"+n),r.b("  </h4>"),r.b("\n"+n),r.b("  <p class='toast-description'>"),r.b("\n"+n),r.b("    "),r.b(r.v(r.f("title",e,t,0))),r.b("\n"+n),r.b("    <a href='/mac' title='Download the new app'>Download</a>"),r.b("\n"+n),r.b("  </p>"),r.b("\n"+n),r.b("</div>"),r.b("\n"),r.fl()},partials:{},subs:{}},"<a class='toast-continue' title='Close this notification'>\n  <i class='fa fa-times-circle-o'></i>\n</a>\n<div class='toast-icon'>\n  <i class='fa fa-download'></i>\n</div>\n<div class='toast-content'>\n  <h4 class='toast-title'>\n    New Desktop App Available\n  </h4>\n  <p class='toast-description'>\n    {{title}}\n    <a href='/mac' title='Download the new app'>Download</a>\n  </p>\n</div>\n",r);
},{"hogan.js":586}],237:[function(e,t,n){var r=e("hogan.js");t.exports=new r.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.b('<div class="left-panel"></div>'),r.b("\n"+n),r.b('<div class="right-panel"></div>'),r.b("\n"),r.fl()},partials:{},subs:{}},'<div class="left-panel"></div>\n<div class="right-panel"></div>\n',r)},{"hogan.js":586}],238:[function(e,t,n){var r=e("hogan.js");t.exports=new r.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.b("<span class='fa-stack'>"),r.b("\n"+n),r.b('  <svg class="icon-container" width="20px" height="20px" viewBox="0 0 20 20">'),r.b("\n"+n),r.b('    <g stroke-width="1" fill-rule="evenodd">'),r.b("\n"+n),r.b('      <path d="M13.154455,4.56612703 L8.45543392,12.5816543 L7.13562012,10.3407242 C6.82439428,9.81237277 6.12136883,9.62324121 5.57485728,9.93406599 C5.0247418,10.246919 4.83888153,10.9347393 5.1513945,11.4750065 L7.44736081,15.4419522 C7.67801288,15.8404975 8.12593096,16.0458548 8.56355207,15.9913464 C8.8065605,15.9632048 9.03772742,15.8587515 9.21921147,15.6881274 C9.34869584,15.573533 9.448319,15.4323181 9.51344732,15.2781734 L15.1335321,5.69128233 C15.4457877,5.15862093 15.2632739,4.46243426 14.716505,4.15160948 C14.5357932,4.04867729 14.3391211,4 14.1455381,4 C13.7501346,4 13.36683,4.20383616 13.154455,4.56612703 Z"></path>'),
r.b("\n"+n),r.b("    </g>"),r.b("\n"+n),r.b("  </svg>"),r.b("\n"+n),r.b("</span>"),r.fl()},partials:{},subs:{}},'<span class=\'fa-stack\'>\n  <svg class="icon-container" width="20px" height="20px" viewBox="0 0 20 20">\n    <g stroke-width="1" fill-rule="evenodd">\n      <path d="M13.154455,4.56612703 L8.45543392,12.5816543 L7.13562012,10.3407242 C6.82439428,9.81237277 6.12136883,9.62324121 5.57485728,9.93406599 C5.0247418,10.246919 4.83888153,10.9347393 5.1513945,11.4750065 L7.44736081,15.4419522 C7.67801288,15.8404975 8.12593096,16.0458548 8.56355207,15.9913464 C8.8065605,15.9632048 9.03772742,15.8587515 9.21921147,15.6881274 C9.34869584,15.573533 9.448319,15.4323181 9.51344732,15.2781734 L15.1335321,5.69128233 C15.4457877,5.15862093 15.2632739,4.46243426 14.716505,4.15160948 C14.5357932,4.04867729 14.3391211,4 14.1455381,4 C13.7501346,4 13.36683,4.20383616 13.154455,4.56612703 Z"></path>\n    </g>\n  </svg>\n</span>',r)},{"hogan.js":586}],239:[function(e,t,n){var r=e("hogan.js");t.exports=new r.Template({code:function(e,t,n){
var r=this;return r.b(n=n||""),r.b('<svg class="icon-container" x="0px" y="0px"'),r.b("\n"+n),r.b('	 viewBox="0 0 20 20" enable-background="new 0 0 20 20" xml:space="preserve">'),r.b("\n"+n),r.b("<g>"),r.b("\n"+n),r.b('	<path class="icon-path" d="M11.219297,12.803921 C11.2188795,13.287707 11.5307502,13.723651 12.0095154,13.908981 C12.4877588,14.093921 13.0390642,13.991804 13.4055227,13.650182 L19.6246697,7.847278 C20.1250405,7.380641 20.1250405,6.62344 19.6250872,6.156316 L13.4092801,0.350392 C13.1646266,0.121507 12.8368911,0 12.5033106,0 C12.3381903,0 12.1721307,0.029622 12.0136904,0.090716 C11.5349251,0.275656 11.222637,0.712087 11.222637,1.195483 L11.222637,4.755235 L8.988401,4.755235 C2.057852,4.755235 1.6948031,2.082537 1.1856852,1.074049 C1.018715,0.743306 0.4262512,0.646537 0.2128106,1.072977 C-0.7577142,3.01202 1.4935153,9.173136 8.988401,9.173136 L11.2205495,9.173136 L11.219297,12.803921 Z"/>'),r.b("\n"+n),r.b("</g>"),r.b("\n"+n),r.b("</svg>"),r.fl()},partials:{},subs:{}},'<svg class="icon-container" x="0px" y="0px"\n	 viewBox="0 0 20 20" enable-background="new 0 0 20 20" xml:space="preserve">\n<g>\n	<path class="icon-path" d="M11.219297,12.803921 C11.2188795,13.287707 11.5307502,13.723651 12.0095154,13.908981 C12.4877588,14.093921 13.0390642,13.991804 13.4055227,13.650182 L19.6246697,7.847278 C20.1250405,7.380641 20.1250405,6.62344 19.6250872,6.156316 L13.4092801,0.350392 C13.1646266,0.121507 12.8368911,0 12.5033106,0 C12.3381903,0 12.1721307,0.029622 12.0136904,0.090716 C11.5349251,0.275656 11.222637,0.712087 11.222637,1.195483 L11.222637,4.755235 L8.988401,4.755235 C2.057852,4.755235 1.6948031,2.082537 1.1856852,1.074049 C1.018715,0.743306 0.4262512,0.646537 0.2128106,1.072977 C-0.7577142,3.01202 1.4935153,9.173136 8.988401,9.173136 L11.2205495,9.173136 L11.219297,12.803921 Z"/>\n</g>\n</svg>',r);
},{"hogan.js":586}],240:[function(e,t,n){var r=e("hogan.js");t.exports=new r.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.b('<svg width="20px" height="20px" viewBox="0 0 20 20" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">'),r.b("\n"+n),r.b('    <g id="Assets" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">'),r.b("\n"+n),r.b('        <g id="X" fill="#000000">'),r.b("\n"+n),r.b('            <path d="M10,8.36006749 L4.98544027,3.34550776 C4.53260042,2.89266791 3.79547972,2.88977 3.34262486,3.34262486 C2.88661278,3.79863694 2.89106072,4.53099323 3.34550776,4.98544027 L8.36006749,10 L3.34550776,15.0145597 C2.89106072,15.4690068 2.88661278,16.2013631 3.34262486,16.6573751 C3.79547972,17.11023 4.53260042,17.1073321 4.98544027,16.6544922 L10,11.6399325 L15.0145597,16.6544922 C15.4673996,17.1073321 16.2045203,17.11023 16.6573751,16.6573751 C17.1133872,16.2013631 17.1089393,15.4690068 16.6544922,15.0145597 L11.6399325,10 L16.6544922,4.98544027 C17.1089393,4.53099323 17.1133872,3.79863694 16.6573751,3.34262486 C16.2045203,2.88977 15.4673996,2.89266791 15.0145597,3.34550776 L10,8.36006749 Z" id="Combined-Shape"></path>'),
r.b("\n"+n),r.b("        </g>"),r.b("\n"+n),r.b("    </g>"),r.b("\n"+n),r.b("</svg>"),r.fl()},partials:{},subs:{}},'<svg width="20px" height="20px" viewBox="0 0 20 20" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    <g id="Assets" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <g id="X" fill="#000000">\n            <path d="M10,8.36006749 L4.98544027,3.34550776 C4.53260042,2.89266791 3.79547972,2.88977 3.34262486,3.34262486 C2.88661278,3.79863694 2.89106072,4.53099323 3.34550776,4.98544027 L8.36006749,10 L3.34550776,15.0145597 C2.89106072,15.4690068 2.88661278,16.2013631 3.34262486,16.6573751 C3.79547972,17.11023 4.53260042,17.1073321 4.98544027,16.6544922 L10,11.6399325 L15.0145597,16.6544922 C15.4673996,17.1073321 16.2045203,17.11023 16.6573751,16.6573751 C17.1133872,16.2013631 17.1089393,15.4690068 16.6544922,15.0145597 L11.6399325,10 L16.6544922,4.98544027 C17.1089393,4.53099323 17.1133872,3.79863694 16.6573751,3.34262486 C16.2045203,2.88977 15.4673996,2.89266791 15.0145597,3.34550776 L10,8.36006749 Z" id="Combined-Shape"></path>\n        </g>\n    </g>\n</svg>',r);
},{"hogan.js":586}],241:[function(e,t,n){var r=e("hogan.js");t.exports=new r.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.b("<span class='fa-stack'>"),r.b("\n"+n),r.b('  <svg class="icon-container" x="0px" y="0px" viewBox="0 0 20 20" enable-background="new 0 0 20 20" xml:space="preserve">'),r.b("\n"+n),r.b('    <g stroke-width="1" fill-rule="evenodd">'),r.b("\n"+n),r.b('      <path d="M8.55369805,3.87743621 C8.84036407,3.35305466 9.37793922,3 9.99382997,3 C10.6097207,3 11.1472959,3.35305466 11.4339619,3.87743621 L14.1125667,3.87743621 C14.6026826,3.87743621 15,4.26689928 15,4.75487243 C15,5.23946706 14.6079881,5.63230864 14.1125667,5.63230864 L5.88743329,5.63230864 C5.39731742,5.63230864 5,5.24284557 5,4.75487243 C5,4.27027779 5.39201185,3.87743621 5.88743329,3.87743621 L8.55369805,3.87743621 Z M5.42197739,7.51559462 C5.40184087,6.96007913 5.83064998,6.50974485 6.39074837,6.50974485 L13.6092675,6.50974485 C14.1644415,6.50974485 14.5981598,6.960498 14.5780385,7.51559462 L14.270705,15.9941502 C14.2505684,16.5496657 13.7789427,17 13.2295444,17 L6.77047153,17 C6.21559093,17 5.74943226,16.5492468 5.72931093,15.9941502 L5.42197739,7.51559462 Z M9.58333333,7.81038679 L9.58333333,15.7383375 C9.58333333,15.9782782 9.76988135,16.1615432 10,16.1615432 C10.2233887,16.1615432 10.4166667,15.9720675 10.4166667,15.7383375 L10.4166667,7.81038679 C10.4166667,7.57044609 10.2301186,7.38718106 10,7.38718106 C9.77661133,7.38718106 9.58333333,7.57665672 9.58333333,7.81038679 Z M12.2219279,7.79826008 L11.9452464,15.7213813 C11.9368726,15.9611758 12.1169111,16.1508396 12.3468896,16.1588706 C12.5701422,16.1666668 12.769915,15.9840519 12.7780721,15.7504642 L13.0547536,7.82734299 C13.0631274,7.58754846 12.8830889,7.39788464 12.6531104,7.38985362 C12.4298578,7.38205746 12.230085,7.56467239 12.2219279,7.79826008 Z M6.94524641,7.82734299 L7.2219279,15.7504642 C7.23030171,15.9902587 7.42313195,16.1669017 7.65311041,16.1588706 C7.876363,16.1510745 8.06291065,15.954969 8.05475359,15.7213813 L7.7780721,7.79826008 C7.76969829,7.55846554 7.57686805,7.38182259 7.34688959,7.38985362 C7.123637,7.39764977 6.93708935,7.59375531 6.94524641,7.82734299 Z"></path>'),
r.b("\n"+n),r.b("    </g>"),r.b("\n"+n),r.b("  </svg>"),r.b("\n"+n),r.b("</span>"),r.fl()},partials:{},subs:{}},'<span class=\'fa-stack\'>\n  <svg class="icon-container" x="0px" y="0px" viewBox="0 0 20 20" enable-background="new 0 0 20 20" xml:space="preserve">\n    <g stroke-width="1" fill-rule="evenodd">\n      <path d="M8.55369805,3.87743621 C8.84036407,3.35305466 9.37793922,3 9.99382997,3 C10.6097207,3 11.1472959,3.35305466 11.4339619,3.87743621 L14.1125667,3.87743621 C14.6026826,3.87743621 15,4.26689928 15,4.75487243 C15,5.23946706 14.6079881,5.63230864 14.1125667,5.63230864 L5.88743329,5.63230864 C5.39731742,5.63230864 5,5.24284557 5,4.75487243 C5,4.27027779 5.39201185,3.87743621 5.88743329,3.87743621 L8.55369805,3.87743621 Z M5.42197739,7.51559462 C5.40184087,6.96007913 5.83064998,6.50974485 6.39074837,6.50974485 L13.6092675,6.50974485 C14.1644415,6.50974485 14.5981598,6.960498 14.5780385,7.51559462 L14.270705,15.9941502 C14.2505684,16.5496657 13.7789427,17 13.2295444,17 L6.77047153,17 C6.21559093,17 5.74943226,16.5492468 5.72931093,15.9941502 L5.42197739,7.51559462 Z M9.58333333,7.81038679 L9.58333333,15.7383375 C9.58333333,15.9782782 9.76988135,16.1615432 10,16.1615432 C10.2233887,16.1615432 10.4166667,15.9720675 10.4166667,15.7383375 L10.4166667,7.81038679 C10.4166667,7.57044609 10.2301186,7.38718106 10,7.38718106 C9.77661133,7.38718106 9.58333333,7.57665672 9.58333333,7.81038679 Z M12.2219279,7.79826008 L11.9452464,15.7213813 C11.9368726,15.9611758 12.1169111,16.1508396 12.3468896,16.1588706 C12.5701422,16.1666668 12.769915,15.9840519 12.7780721,15.7504642 L13.0547536,7.82734299 C13.0631274,7.58754846 12.8830889,7.39788464 12.6531104,7.38985362 C12.4298578,7.38205746 12.230085,7.56467239 12.2219279,7.79826008 Z M6.94524641,7.82734299 L7.2219279,15.7504642 C7.23030171,15.9902587 7.42313195,16.1669017 7.65311041,16.1588706 C7.876363,16.1510745 8.06291065,15.954969 8.05475359,15.7213813 L7.7780721,7.79826008 C7.76969829,7.55846554 7.57686805,7.38182259 7.34688959,7.38985362 C7.123637,7.39764977 6.93708935,7.59375531 6.94524641,7.82734299 Z"></path>\n    </g>\n  </svg>\n</span>',r);
},{"hogan.js":586}],242:[function(e,t,n){var r=e("hogan.js");t.exports=new r.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.b("<span class='fa-stack'>"),r.b("\n"+n),r.b('  <svg class="icon-container" x="0px" y="0px" viewBox="0 0 20 20" enable-background="new 0 0 20 20" xml:space="preserve">'),r.b("\n"+n),r.b("    <g>"),r.b("\n"+n),r.b('      <path d="M8.31000042,4.35362167 C8.31000042,3.60603706 8.91246426,3 9.66123531,3 L10.3286278,3 C11.0748942,3 11.6798627,3.60082504 11.6798627,4.35362167 L11.6798627,5.70724333 L8.31000042,5.70724333 L8.31000042,4.35362167 Z M8.31000042,6.36986224 L11.6800003,6.36986224 L11.6800003,13.1095867 L8.31000042,13.1095867 L8.31000042,6.36986224 Z M8.34044107,13.7945014 L11.6896563,13.7945014 L10.5244169,15.3226399 L9.4863615,15.3226399 L8.34044107,13.7945014 Z M10.0099516,15.7000122 L10.5099516,15.7000122 L10.5099516,16.2000122 C10.5099516,16.4761546 10.278018,16.7000122 10.0099516,16.7000122 C9.73380922,16.7000122 9.50995159,16.4680786 9.50995159,16.2000122 L9.50995159,15.7000122 L10.0099516,15.7000122 Z" class="icon-path" transform="translate(9.999828, 9.850006) rotate(30.000000) translate(-9.999828, -9.850006) "></path>'),
r.b("\n"+n),r.b("    </g>"),r.b("\n"+n),r.b("  </svg>"),r.b("\n"+n),r.b("</span>"),r.fl()},partials:{},subs:{}},'<span class=\'fa-stack\'>\n  <svg class="icon-container" x="0px" y="0px" viewBox="0 0 20 20" enable-background="new 0 0 20 20" xml:space="preserve">\n    <g>\n      <path d="M8.31000042,4.35362167 C8.31000042,3.60603706 8.91246426,3 9.66123531,3 L10.3286278,3 C11.0748942,3 11.6798627,3.60082504 11.6798627,4.35362167 L11.6798627,5.70724333 L8.31000042,5.70724333 L8.31000042,4.35362167 Z M8.31000042,6.36986224 L11.6800003,6.36986224 L11.6800003,13.1095867 L8.31000042,13.1095867 L8.31000042,6.36986224 Z M8.34044107,13.7945014 L11.6896563,13.7945014 L10.5244169,15.3226399 L9.4863615,15.3226399 L8.34044107,13.7945014 Z M10.0099516,15.7000122 L10.5099516,15.7000122 L10.5099516,16.2000122 C10.5099516,16.4761546 10.278018,16.7000122 10.0099516,16.7000122 C9.73380922,16.7000122 9.50995159,16.4680786 9.50995159,16.2000122 L9.50995159,15.7000122 L10.0099516,15.7000122 Z" class="icon-path" transform="translate(9.999828, 9.850006) rotate(30.000000) translate(-9.999828, -9.850006) "></path>\n    </g>\n  </svg>\n</span>',r);
},{"hogan.js":586}],243:[function(e,t,n){var r=e("hogan.js");t.exports=new r.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.b("<span class='fa-stack'>"),r.b("\n"+n),r.b('  <svg class="icon-container" x="0px" y="0px" viewBox="0 0 20 20" enable-background="new 0 0 20 20" xml:space="preserve">'),r.b("\n"+n),r.b("    <g>"),r.b("\n"+n),r.b('      <path d="M6.73748734,11.0008075 L7.34944249,8.99919245 L6.00247329,8.99919245 C5.44882258,8.99919245 5,8.55496919 5,7.9983849 C5,7.44565416 5.45576096,6.99757736 6.00247329,6.99757736 L7.96139764,6.99757736 L8.9810019,3.66260207 C9.13159168,3.1700451 9.64548732,2.89053972 10.1364117,3.04063036 C10.6239371,3.18968184 10.8963883,3.71206202 10.7464876,4.20236522 L9.8919055,6.99757736 L11.9613976,6.99757736 L12.9810019,3.66260207 C13.1315917,3.1700451 13.6454873,2.89053972 14.1364117,3.04063036 C14.6239371,3.18968184 14.8963883,3.71206202 14.7464876,4.20236522 L13.8919055,6.99757736 L15.9975267,6.99757736 C16.5511774,6.99757736 17,7.44180062 17,7.9983849 C17,8.55111565 16.544239,8.99919245 15.9975267,8.99919245 L13.2799503,8.99919245 L12.6679952,11.0008075 L13.9975267,11.0008075 C14.5511774,11.0008075 15,11.4450308 15,12.0016151 C15,12.5543458 14.544239,13.0024226 13.9975267,13.0024226 L12.0560401,13.0024226 L11.0364358,16.3373979 C10.885846,16.8299549 10.3719504,17.1094603 9.88102602,16.9593696 C9.39350061,16.8103182 9.12104935,16.287938 9.27095009,15.7976348 L10.1255322,13.0024226 L8.05604005,13.0024226 L7.03643579,16.3373979 C6.88584601,16.8299549 6.37195038,17.1094603 5.88102602,16.9593696 C5.39350061,16.8103182 5.12104935,16.287938 5.27095009,15.7976348 L6.1255322,13.0024226 L4.00247329,13.0024226 C3.44882258,13.0024226 3,12.5581994 3,12.0016151 C3,11.4488843 3.45576096,11.0008075 4.00247329,11.0008075 L6.73748734,11.0008075 Z M8.6679952,11.0008075 L10.7374873,11.0008075 L11.3494425,8.99919245 L9.27995035,8.99919245 L8.6679952,11.0008075 Z"></path>'),
r.b("\n"+n),r.b("    </g>"),r.b("\n"+n),r.b("  </svg>"),r.b("\n"+n),r.b("</span>"),r.fl()},partials:{},subs:{}},'<span class=\'fa-stack\'>\n  <svg class="icon-container" x="0px" y="0px" viewBox="0 0 20 20" enable-background="new 0 0 20 20" xml:space="preserve">\n    <g>\n      <path d="M6.73748734,11.0008075 L7.34944249,8.99919245 L6.00247329,8.99919245 C5.44882258,8.99919245 5,8.55496919 5,7.9983849 C5,7.44565416 5.45576096,6.99757736 6.00247329,6.99757736 L7.96139764,6.99757736 L8.9810019,3.66260207 C9.13159168,3.1700451 9.64548732,2.89053972 10.1364117,3.04063036 C10.6239371,3.18968184 10.8963883,3.71206202 10.7464876,4.20236522 L9.8919055,6.99757736 L11.9613976,6.99757736 L12.9810019,3.66260207 C13.1315917,3.1700451 13.6454873,2.89053972 14.1364117,3.04063036 C14.6239371,3.18968184 14.8963883,3.71206202 14.7464876,4.20236522 L13.8919055,6.99757736 L15.9975267,6.99757736 C16.5511774,6.99757736 17,7.44180062 17,7.9983849 C17,8.55111565 16.544239,8.99919245 15.9975267,8.99919245 L13.2799503,8.99919245 L12.6679952,11.0008075 L13.9975267,11.0008075 C14.5511774,11.0008075 15,11.4450308 15,12.0016151 C15,12.5543458 14.544239,13.0024226 13.9975267,13.0024226 L12.0560401,13.0024226 L11.0364358,16.3373979 C10.885846,16.8299549 10.3719504,17.1094603 9.88102602,16.9593696 C9.39350061,16.8103182 9.12104935,16.287938 9.27095009,15.7976348 L10.1255322,13.0024226 L8.05604005,13.0024226 L7.03643579,16.3373979 C6.88584601,16.8299549 6.37195038,17.1094603 5.88102602,16.9593696 C5.39350061,16.8103182 5.12104935,16.287938 5.27095009,15.7976348 L6.1255322,13.0024226 L4.00247329,13.0024226 C3.44882258,13.0024226 3,12.5581994 3,12.0016151 C3,11.4488843 3.45576096,11.0008075 4.00247329,11.0008075 L6.73748734,11.0008075 Z M8.6679952,11.0008075 L10.7374873,11.0008075 L11.3494425,8.99919245 L9.27995035,8.99919245 L8.6679952,11.0008075 Z"></path>\n    </g>\n  </svg>\n</span>',r);
},{"hogan.js":586}],244:[function(e,t,n){var r=e("hogan.js");t.exports=new r.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.b("<span class='fa-stack'>"),r.b("\n"+n),r.b('	<svg class="icon-container" width="20px" height="20px" x="0px" y="0px" viewBox="0 0 20 20" style="enable-background:new 0 0 20 20;" stroke="#777" xml:space="preserve">'),r.b("\n"+n),r.b('        <rect x="0" y="0" fill="none" stroke="none" width="20" height="20"/>'),r.b("\n"+n),r.b("        <g>"),r.b("\n"+n),r.b('        	<path style="fill: none" stroke-miterlimit="10" d="M16.5,10.2c0,3.7-3,6.8-6.8,6.8C6,17,3,13.9,3,10.2S6,3.5,9.7,3.5"/>'),r.b("\n"+n),r.b("        	<g>"),r.b("\n"+n),r.b('        		<path fill="none" stroke-width="0.75" stroke-miterlimit="10" d="M6.9,11.1c0,1.4,1.3,2.5,2.8,2.5"/>'),r.b("\n"+n),r.b('        		<path fill="none" stroke-width="0.75" stroke-miterlimit="10" d="M12.5,11.1c0,1.4-1.2,2.5-2.8,2.5"/>'),r.b("\n"+n),r.b("        	</g>"),r.b("\n"+n),r.b("        	<g>"),r.b("\n"+n),r.b('        		<line fill="none" stroke-miterlimit="10" x1="15.2" y1="1.7" x2="15.2" y2="7"/>'),
r.b("\n"+n),r.b('        		<line fill="none" stroke-miterlimit="10" x1="12.6" y1="4.3" x2="17.9" y2="4.3"/>'),r.b("\n"+n),r.b("        	</g>"),r.b("\n"+n),r.b('        	<circle cx="7.5" cy="8" r="0.7"/>'),r.b("\n"+n),r.b('        	<circle cx="12" cy="8" r="0.7"/>'),r.b("\n"+n),r.b("        </g>"),r.b("\n"+n),r.b("    </svg>"),r.b("\n"+n),r.b("</span>"),r.b("\n"),r.fl()},partials:{},subs:{}},'<span class=\'fa-stack\'>\n	<svg class="icon-container" width="20px" height="20px" x="0px" y="0px" viewBox="0 0 20 20" style="enable-background:new 0 0 20 20;" stroke="#777" xml:space="preserve">\n        <rect x="0" y="0" fill="none" stroke="none" width="20" height="20"/>\n        <g>\n        	<path style="fill: none" stroke-miterlimit="10" d="M16.5,10.2c0,3.7-3,6.8-6.8,6.8C6,17,3,13.9,3,10.2S6,3.5,9.7,3.5"/>\n        	<g>\n        		<path fill="none" stroke-width="0.75" stroke-miterlimit="10" d="M6.9,11.1c0,1.4,1.3,2.5,2.8,2.5"/>\n        		<path fill="none" stroke-width="0.75" stroke-miterlimit="10" d="M12.5,11.1c0,1.4-1.2,2.5-2.8,2.5"/>\n        	</g>\n        	<g>\n        		<line fill="none" stroke-miterlimit="10" x1="15.2" y1="1.7" x2="15.2" y2="7"/>\n        		<line fill="none" stroke-miterlimit="10" x1="12.6" y1="4.3" x2="17.9" y2="4.3"/>\n        	</g>\n        	<circle cx="7.5" cy="8" r="0.7"/>\n        	<circle cx="12" cy="8" r="0.7"/>\n        </g>\n    </svg>\n</span>\n',r);
},{"hogan.js":586}],245:[function(e,t,n){var r=e("hogan.js");t.exports=new r.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.b('<svg class="icon-container" x="0px" y="0px" viewBox="0 0 20 20" enable-background="new 0 0 20 20" xml:space="preserve">'),r.b("\n"+n),r.b('  <g id="Assets" stroke="none" stroke-width="1" fill-rule="evenodd">'),r.b("\n"+n),r.b('    <g id="menu">'),r.b("\n"+n),r.b('        <path d="M10,6 C8.8954305,6 8,5.1045695 8,4 C8,2.8954305 8.8954305,2 10,2 C11.1045695,2 12,2.8954305 12,4 C12,5.1045695 11.1045695,6 10,6 Z M10,12 C8.8954305,12 8,11.1045695 8,10 C8,8.8954305 8.8954305,8 10,8 C11.1045695,8 12,8.8954305 12,10 C12,11.1045695 11.1045695,12 10,12 Z M10,18 C8.8954305,18 8,17.1045695 8,16 C8,14.8954305 8.8954305,14 10,14 C11.1045695,14 12,14.8954305 12,16 C12,17.1045695 11.1045695,18 10,18 Z" id="Combined-Shape"></path>'),r.b("\n"+n),r.b("    </g>"),r.b("\n"+n),r.b("  </g>"),r.b("\n"+n),r.b("</svg>"),r.fl()},partials:{},subs:{}},'<svg class="icon-container" x="0px" y="0px" viewBox="0 0 20 20" enable-background="new 0 0 20 20" xml:space="preserve">\n  <g id="Assets" stroke="none" stroke-width="1" fill-rule="evenodd">\n    <g id="menu">\n        <path d="M10,6 C8.8954305,6 8,5.1045695 8,4 C8,2.8954305 8.8954305,2 10,2 C11.1045695,2 12,2.8954305 12,4 C12,5.1045695 11.1045695,6 10,6 Z M10,12 C8.8954305,12 8,11.1045695 8,10 C8,8.8954305 8.8954305,8 10,8 C11.1045695,8 12,8.8954305 12,10 C12,11.1045695 11.1045695,12 10,12 Z M10,18 C8.8954305,18 8,17.1045695 8,16 C8,14.8954305 8.8954305,14 10,14 C11.1045695,14 12,14.8954305 12,16 C12,17.1045695 11.1045695,18 10,18 Z" id="Combined-Shape"></path>\n    </g>\n  </g>\n</svg>',r);
},{"hogan.js":586}],246:[function(e,t,n){var r=e("hogan.js");t.exports=new r.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.b('<svg width="20px" height="20px" viewBox="0 0 20 20" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">'),r.b("\n"+n),r.b('    <g stroke-width="0.35">'),r.b("\n"+n),r.b('      <path d="M6.8230051,17 C5.88730839,17 5.01163702,16.6030186 4.37934774,15.9707286 C3.15411438,14.7454997 2.81237054,12.6065059 4.53042109,10.88873 C5.53673691,9.88215312 9.56855713,5.85059787 11.580938,3.83770321 C12.2954476,3.12343982 13.2049106,2.84777626 14.075541,3.08106991 C14.9305321,3.30982855 15.6314172,4.01042214 15.8604285,4.86520592 C16.0937222,5.73631572 15.8177995,6.64551958 15.1035426,7.36004211 L8.3607264,14.1028699 C7.97585472,14.4877364 7.5410455,14.7154844 7.10371417,14.7618905 C6.67092304,14.8075386 6.25755144,14.6680677 5.96851933,14.3787862 C5.44392413,13.8544423 5.3690175,12.8672947 6.24115804,11.9959193 L10.9774,7.25942977 C11.1718546,7.06494281 11.4871153,7.06494281 11.6818225,7.25942977 C11.8762706,7.45411109 11.8762706,7.76961791 11.6818225,7.96384572 L6.94557918,12.7000761 C6.53624309,13.1094122 6.49866408,13.5003361 6.67294047,13.6743637 C6.74935985,13.7510377 6.8653763,13.785588 6.99904754,13.7709594 C7.20409329,13.7495217 7.4376396,13.6171125 7.65630526,13.3981948 L14.3991266,6.65562616 C14.8616778,6.19305558 15.038977,5.64879012 14.8979967,5.1234421 C14.7592773,4.60567403 14.3355653,4.18197493 13.8177842,4.04326854 C13.2924297,3.90222986 12.7481643,4.07954858 12.2853605,4.54211916 C10.2729776,6.55501382 6.24115804,10.5868282 5.23484223,11.593146 C3.92108328,12.9068918 4.23558871,14.4181306 5.08376888,15.26606 C5.93169703,16.1142357 7.44318785,16.4289974 8.75719927,15.1154849 L15.807965,8.06471721 C16.0024196,7.87003589 16.3176802,7.87003589 16.5121348,8.06471721 C16.7065893,8.25920416 16.7065893,8.57471099 16.5121348,8.76913316 L9.46136839,15.8199073 C8.63033767,16.6511933 7.70044188,17 6.8230051,17 L6.8230051,17 Z" id="Attachment" transform="translate(10.003988, 10.000000) rotate(-16.000000) translate(-10.003988, -10.000000) "></path>'),
r.b("\n"+n),r.b("    </g>"),r.b("\n"+n),r.b("</svg>"),r.fl()},partials:{},subs:{}},'<svg width="20px" height="20px" viewBox="0 0 20 20" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    <g stroke-width="0.35">\n      <path d="M6.8230051,17 C5.88730839,17 5.01163702,16.6030186 4.37934774,15.9707286 C3.15411438,14.7454997 2.81237054,12.6065059 4.53042109,10.88873 C5.53673691,9.88215312 9.56855713,5.85059787 11.580938,3.83770321 C12.2954476,3.12343982 13.2049106,2.84777626 14.075541,3.08106991 C14.9305321,3.30982855 15.6314172,4.01042214 15.8604285,4.86520592 C16.0937222,5.73631572 15.8177995,6.64551958 15.1035426,7.36004211 L8.3607264,14.1028699 C7.97585472,14.4877364 7.5410455,14.7154844 7.10371417,14.7618905 C6.67092304,14.8075386 6.25755144,14.6680677 5.96851933,14.3787862 C5.44392413,13.8544423 5.3690175,12.8672947 6.24115804,11.9959193 L10.9774,7.25942977 C11.1718546,7.06494281 11.4871153,7.06494281 11.6818225,7.25942977 C11.8762706,7.45411109 11.8762706,7.76961791 11.6818225,7.96384572 L6.94557918,12.7000761 C6.53624309,13.1094122 6.49866408,13.5003361 6.67294047,13.6743637 C6.74935985,13.7510377 6.8653763,13.785588 6.99904754,13.7709594 C7.20409329,13.7495217 7.4376396,13.6171125 7.65630526,13.3981948 L14.3991266,6.65562616 C14.8616778,6.19305558 15.038977,5.64879012 14.8979967,5.1234421 C14.7592773,4.60567403 14.3355653,4.18197493 13.8177842,4.04326854 C13.2924297,3.90222986 12.7481643,4.07954858 12.2853605,4.54211916 C10.2729776,6.55501382 6.24115804,10.5868282 5.23484223,11.593146 C3.92108328,12.9068918 4.23558871,14.4181306 5.08376888,15.26606 C5.93169703,16.1142357 7.44318785,16.4289974 8.75719927,15.1154849 L15.807965,8.06471721 C16.0024196,7.87003589 16.3176802,7.87003589 16.5121348,8.06471721 C16.7065893,8.25920416 16.7065893,8.57471099 16.5121348,8.76913316 L9.46136839,15.8199073 C8.63033767,16.6511933 7.70044188,17 6.8230051,17 L6.8230051,17 Z" id="Attachment" transform="translate(10.003988, 10.000000) rotate(-16.000000) translate(-10.003988, -10.000000) "></path>\n    </g>\n</svg>',r);
},{"hogan.js":586}],247:[function(e,t,n){var r=e("hogan.js");t.exports=new r.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.b('<svg class="icon-container" x="0px" y="0px"'),r.b("\n"+n),r.b('	 viewBox="0 0 20 20" enable-background="new 0 0 20 20" xml:space="preserve">'),r.b("\n"+n),r.b("<g>"),r.b("\n"+n),r.b('	<path class="icon-path" d="M11.8842719,15.1521658 L18.0092049,15.1521658 C19.1017876,15.1521658 20,14.2577902 20,13.154522 L20,2.99764375 C20,1.89601773 19.1086907,1 18.0092049,1 L1.99079514,1 C0.898212381,1 0,1.89437557 0,2.99764375 L0,13.154522 C0,14.256148 0.891309342,15.1521658 1.99079514,15.1521658 L8.09886288,15.1521658 L11.9396305,18.9929334 L11.8842719,15.1521658 Z"/>'),r.b("\n"+n),r.b("</g>"),r.b("\n"+n),r.b("</svg>"),r.b("\n"),r.fl()},partials:{},subs:{}},'<svg class="icon-container" x="0px" y="0px"\n	 viewBox="0 0 20 20" enable-background="new 0 0 20 20" xml:space="preserve">\n<g>\n	<path class="icon-path" d="M11.8842719,15.1521658 L18.0092049,15.1521658 C19.1017876,15.1521658 20,14.2577902 20,13.154522 L20,2.99764375 C20,1.89601773 19.1086907,1 18.0092049,1 L1.99079514,1 C0.898212381,1 0,1.89437557 0,2.99764375 L0,13.154522 C0,14.256148 0.891309342,15.1521658 1.99079514,15.1521658 L8.09886288,15.1521658 L11.9396305,18.9929334 L11.8842719,15.1521658 Z"/>\n</g>\n</svg>\n',r);
},{"hogan.js":586}],248:[function(e,t,n){var r=e("hogan.js");t.exports=new r.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.b("<span class='fa-stack'>"),r.b("\n"+n),r.b('  <svg class="icon-container" width="20px" height="20px" viewBox="0 0 20 20" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">'),r.b("\n"+n),r.b('    <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">'),r.b("\n"+n),r.b("      <g>"),r.b("\n"+n),r.b('        <g transform="translate(10.482051, 9.495191) rotate(-330.000000) translate(-10.482051, -9.495191) translate(8.482051, 1.995191)">'),r.b("\n"+n),r.b('          <g transform="translate(0.685270, 0.024197)"></g>'),r.b("\n"+n),r.b("        </g>"),r.b("\n"+n),r.b('        <g transform="translate(2.500000, 3.000000)">'),r.b("\n"+n),r.b('          <path d="M9.0904541,3.7098999 C9.0904541,3.7098999 8.82010359,4.44099898 9.29977889,4.58934493 C9.77945418,4.73769087 10.4640855,3.34648604 10.4640855,3.34648604 C10.4640855,3.34648604 11.1791124,2.04304976 10.7623643,1.84941573 C10.3456163,1.65578169 9.74182129,2.49810791 9.74182129,2.49810791 C9.74182129,2.49810791 9.08977522,2.35888593 8.94915771,2.434021 C9.74849264,1.07636956 10.3146831,0.596359447 11.224599,1.12169967 C12.2744792,1.72784827 11.7487852,2.71322189 10.7623643,4.42175293 C9.70038736,6.26115101 4.97635244,13.5456517 4.30089561,13.1556765 C3.62543877,12.7657014 7.53135936,5.413963 8.44055176,3.7098999 C8.86230469,3.64074707 9.0904541,3.7098999 9.0904541,3.7098999 Z"></path>'),
r.b("\n"+n),r.b('          <path d="M0.859999895,1.30297734 C0.859999895,1.30297734 4.40138632,0.683470811 5.64039939,2.48343949 C6.88035682,4.28340816 4.9321221,7.16090268 3.64589055,6.00499415 C3.19731494,5.60174828 3.42868552,4.58371773 4.22478919,4.09170111 C6.26273903,2.83380065 11.3037846,2.37861445 13.1075307,4.75559302 C15.6157767,8.06088702 10.6285602,10.7466745 9.62469521,11.1300886" stroke="#777777" stroke-width="0.7" style="fill:  none;"></path>'),r.b("\n"+n),r.b("        </g>"),r.b("\n"+n),r.b("      </g>"),r.b("\n"+n),r.b("    </g>"),r.b("\n"+n),r.b("  </svg>"),r.b("\n"+n),r.b("</span>"),r.fl()},partials:{},subs:{}},'<span class=\'fa-stack\'>\n  <svg class="icon-container" width="20px" height="20px" viewBox="0 0 20 20" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n      <g>\n        <g transform="translate(10.482051, 9.495191) rotate(-330.000000) translate(-10.482051, -9.495191) translate(8.482051, 1.995191)">\n          <g transform="translate(0.685270, 0.024197)"></g>\n        </g>\n        <g transform="translate(2.500000, 3.000000)">\n          <path d="M9.0904541,3.7098999 C9.0904541,3.7098999 8.82010359,4.44099898 9.29977889,4.58934493 C9.77945418,4.73769087 10.4640855,3.34648604 10.4640855,3.34648604 C10.4640855,3.34648604 11.1791124,2.04304976 10.7623643,1.84941573 C10.3456163,1.65578169 9.74182129,2.49810791 9.74182129,2.49810791 C9.74182129,2.49810791 9.08977522,2.35888593 8.94915771,2.434021 C9.74849264,1.07636956 10.3146831,0.596359447 11.224599,1.12169967 C12.2744792,1.72784827 11.7487852,2.71322189 10.7623643,4.42175293 C9.70038736,6.26115101 4.97635244,13.5456517 4.30089561,13.1556765 C3.62543877,12.7657014 7.53135936,5.413963 8.44055176,3.7098999 C8.86230469,3.64074707 9.0904541,3.7098999 9.0904541,3.7098999 Z"></path>\n          <path d="M0.859999895,1.30297734 C0.859999895,1.30297734 4.40138632,0.683470811 5.64039939,2.48343949 C6.88035682,4.28340816 4.9321221,7.16090268 3.64589055,6.00499415 C3.19731494,5.60174828 3.42868552,4.58371773 4.22478919,4.09170111 C6.26273903,2.83380065 11.3037846,2.37861445 13.1075307,4.75559302 C15.6157767,8.06088702 10.6285602,10.7466745 9.62469521,11.1300886" stroke="#777777" stroke-width="0.7" style="fill:  none;"></path>\n        </g>\n      </g>\n    </g>\n  </svg>\n</span>',r);
},{"hogan.js":586}],249:[function(e,t,n){var r=e("hogan.js");t.exports=new r.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.b("<span class='fa-stack'>"),r.b("\n"+n),r.b('  <svg class="icon-container" width="20px" height="20px" enable-background="new 0 0 20 20" viewBox="0 0 20 20">'),r.b("\n"+n),r.b('    <path d="M9.18473141,7.24184133 L7.16416597,7.24125766 C6.9280413,7.24125766 6.71489146,7.09033589 6.6245498,6.85900159 C6.59476042,6.78245754 6.58025513,6.70225133 6.58025513,6.62245777 C6.58025513,6.46127167 6.63959052,6.30292244 6.75139805,6.18465053 L9.58727912,3.18117319 C9.81546969,2.93957456 10.1853058,2.93957456 10.413253,3.1813795 L13.2476738,6.18645581 C13.414582,6.36357999 13.4644257,6.6299368 13.374084,6.8610132 C13.2835963,7.09234749 13.0706412,7.24306294 12.8343218,7.24285662 L10.8100336,7.24230649 L10.8100336,12.4194034 C10.8100336,12.8740922 10.4461973,13.2393492 9.99738252,13.2393492 C9.54543865,13.2393492 9.18473141,12.872247 9.18473141,12.4194034 L9.18473141,7.24184133 Z M13.9757709,15.3746978 L13.9757709,8.90603651 C13.9757709,8.45172151 14.3361805,8.08342645 14.7877514,8.08342645 C15.2361958,8.08342645 15.5997929,8.44645804 15.5998703,8.90603651 L15.6010732,16.0505093 L15.5997318,16.0505093 L15.5997318,17 L4.4000001,17 L4.4000001,15.7126035 L4.4000001,8.90603651 C4.4000001,8.45172151 4.76070734,8.08342645 5.21265121,8.08342645 C5.66146602,8.08342645 6.02530232,8.44645804 6.02530232,8.90603651 L6.02530232,15.3746978 L13.9757709,15.3746978 Z"></path>'),
r.b("\n"+n),r.b("  </svg>"),r.b("\n"+n),r.b("</span>"),r.fl()},partials:{},subs:{}},'<span class=\'fa-stack\'>\n  <svg class="icon-container" width="20px" height="20px" enable-background="new 0 0 20 20" viewBox="0 0 20 20">\n    <path d="M9.18473141,7.24184133 L7.16416597,7.24125766 C6.9280413,7.24125766 6.71489146,7.09033589 6.6245498,6.85900159 C6.59476042,6.78245754 6.58025513,6.70225133 6.58025513,6.62245777 C6.58025513,6.46127167 6.63959052,6.30292244 6.75139805,6.18465053 L9.58727912,3.18117319 C9.81546969,2.93957456 10.1853058,2.93957456 10.413253,3.1813795 L13.2476738,6.18645581 C13.414582,6.36357999 13.4644257,6.6299368 13.374084,6.8610132 C13.2835963,7.09234749 13.0706412,7.24306294 12.8343218,7.24285662 L10.8100336,7.24230649 L10.8100336,12.4194034 C10.8100336,12.8740922 10.4461973,13.2393492 9.99738252,13.2393492 C9.54543865,13.2393492 9.18473141,12.872247 9.18473141,12.4194034 L9.18473141,7.24184133 Z M13.9757709,15.3746978 L13.9757709,8.90603651 C13.9757709,8.45172151 14.3361805,8.08342645 14.7877514,8.08342645 C15.2361958,8.08342645 15.5997929,8.44645804 15.5998703,8.90603651 L15.6010732,16.0505093 L15.5997318,16.0505093 L15.5997318,17 L4.4000001,17 L4.4000001,15.7126035 L4.4000001,8.90603651 C4.4000001,8.45172151 4.76070734,8.08342645 5.21265121,8.08342645 C5.66146602,8.08342645 6.02530232,8.44645804 6.02530232,8.90603651 L6.02530232,15.3746978 L13.9757709,15.3746978 Z"></path>\n  </svg>\n</span>',r);
},{"hogan.js":586}],250:[function(e,t,n){var r=e("hogan.js");t.exports=new r.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.b('<svg class="slash-icon" width="20px" height="20px" viewBox="0 0 20 20" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">'),r.b("\n"+n),r.b('    <g stroke-width="1" fill-rule="evenodd">'),r.b("\n"+n),r.b('      <rect transform="translate(10.000000, 10.000000) rotate(-333.000000) translate(-10.000000, -10.000000)" x="9" y="3" width="2" height="14" rx="1"></rect>'),r.b("\n"+n),r.b("    </g>"),r.b("\n"+n),r.b("</svg>"),r.fl()},partials:{},subs:{}},'<svg class="slash-icon" width="20px" height="20px" viewBox="0 0 20 20" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    <g stroke-width="1" fill-rule="evenodd">\n      <rect transform="translate(10.000000, 10.000000) rotate(-333.000000) translate(-10.000000, -10.000000)" x="9" y="3" width="2" height="14" rx="1"></rect>\n    </g>\n</svg>',r);
},{"hogan.js":586}],251:[function(e,t,n){var r=e("hogan.js");t.exports=new r.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.b('<svg class="icon-container" version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"'),r.b("\n"+n),r.b('	 viewBox="0 0 128 128" enable-background="new 0 0 128 128" xml:space="preserve">'),r.b("\n"+n),r.b("<g>"),r.b("\n"+n),r.b('	<path class="icon-path" d="M91.2,88.6C78.6,84,74.6,80.1,74.6,71.8c0-5,3.8-3.4,5.5-12.5c0.7-3.8,4.1-0.1,4.7-8.7c0-3.5-1.9-4.3-1.9-4.3'),r.b("\n"+n),r.b("		s0.9-5.1,1.3-9.1c0.5-4.9-2.8-17.6-20.3-17.6S43.3,32.2,43.7,37.1c0.4,3.9,1.3,9.1,1.3,9.1s-1.9,0.9-1.9,4.3c0.6,8.7,4,4.9,4.7,8.7"),r.b("\n"+n),r.b("		c1.7,9.2,5.5,7.5,5.5,12.5c0,8.3-4,12.2-16.6,16.9C24.2,93.2,16,98,16,101.2c0,3.2,0,10.8,0,10.8h48h48c0,0,0-7.6,0-10.8"),r.b("\n"+n),r.b('		C112,98,103.8,93.2,91.2,88.6z"/>'),r.b("\n"+n),r.b("</g>"),r.b("\n"+n),r.b("</svg>"),r.b("\n"),r.fl()},partials:{},subs:{}},'<svg class="icon-container" version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\n	 viewBox="0 0 128 128" enable-background="new 0 0 128 128" xml:space="preserve">\n<g>\n	<path class="icon-path" d="M91.2,88.6C78.6,84,74.6,80.1,74.6,71.8c0-5,3.8-3.4,5.5-12.5c0.7-3.8,4.1-0.1,4.7-8.7c0-3.5-1.9-4.3-1.9-4.3\n		s0.9-5.1,1.3-9.1c0.5-4.9-2.8-17.6-20.3-17.6S43.3,32.2,43.7,37.1c0.4,3.9,1.3,9.1,1.3,9.1s-1.9,0.9-1.9,4.3c0.6,8.7,4,4.9,4.7,8.7\n		c1.7,9.2,5.5,7.5,5.5,12.5c0,8.3-4,12.2-16.6,16.9C24.2,93.2,16,98,16,101.2c0,3.2,0,10.8,0,10.8h48h48c0,0,0-7.6,0-10.8\n		C112,98,103.8,93.2,91.2,88.6z"/>\n</g>\n</svg>\n',r);
},{"hogan.js":586}],252:[function(e,t,n){var r=e("hogan.js");t.exports=new r.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.b('<svg class="icon-container" version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"'),r.b("\n"+n),r.b('	 viewBox="0 0 128 128" enable-background="new 0 0 128 128" xml:space="preserve">'),r.b("\n"+n),r.b("<g>"),r.b("\n"+n),r.b('	<path class="icon-path" d="M128,120c0,0-0.3-24-1.7-26.5c-2.2-3.7-7.3-6.2-16.9-10.2c-9.5-3.9-12.5-7.2-12.5-14.3c0-4.3,2.9-2.9,4.2-10.7'),r.b("\n"+n),r.b("		c0.5-3.2,3.1-0.1,3.6-7.4c0-2.9-1.4-3.7-1.4-3.7s0.7-4.4,1-7.7c0.3-4.2-2.1-15-15.3-15c-13.2,0-15.6,10.8-15.3,15"),r.b("\n"+n),r.b("		c0.3,3.4,1,7.7,1,7.7s-1.4,0.7-1.4,3.7c0.5,7.4,3,4.2,3.6,7.4C78.1,66.1,81,64.7,81,69c0,4.8-1.4,7.9-5.3,10.6"),r.b("\n"+n),r.b("		C96.4,89.9,99.2,92,99.2,101.2V120H128z M65.4,86.9c-12.7-5.2-16.7-9.7-16.7-19.1c0-5.7,3.9-3.8,5.6-14.2c0.7-4.3,4.1-0.1,4.8-9.9"),r.b("\n"+n),r.b("		c0-3.9-1.9-4.9-1.9-4.9s0.9-5.8,1.3-10.3c0.5-5.6-2.8-20-20.4-20c-17.6,0-20.9,14.4-20.4,20c0.4,4.5,1.3,10.3,1.3,10.3"),
r.b("\n"+n),r.b("		s-1.9,1-1.9,4.9c0.7,9.8,4.1,5.6,4.8,9.9c1.7,10.4,5.6,8.5,5.6,14.2c0,9.5-4,13.9-16.7,19.1C6.9,88.5,0,91,0,96.9V120h88.9"),r.b("\n"+n),r.b('		c0,0,0-13.7,0-17.3C88.9,97.3,78.1,92.2,65.4,86.9z"/>'),r.b("\n"+n),r.b("</g>"),r.b("\n"+n),r.b("</svg>"),r.b("\n"),r.fl()},partials:{},subs:{}},'<svg class="icon-container" version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\n	 viewBox="0 0 128 128" enable-background="new 0 0 128 128" xml:space="preserve">\n<g>\n	<path class="icon-path" d="M128,120c0,0-0.3-24-1.7-26.5c-2.2-3.7-7.3-6.2-16.9-10.2c-9.5-3.9-12.5-7.2-12.5-14.3c0-4.3,2.9-2.9,4.2-10.7\n		c0.5-3.2,3.1-0.1,3.6-7.4c0-2.9-1.4-3.7-1.4-3.7s0.7-4.4,1-7.7c0.3-4.2-2.1-15-15.3-15c-13.2,0-15.6,10.8-15.3,15\n		c0.3,3.4,1,7.7,1,7.7s-1.4,0.7-1.4,3.7c0.5,7.4,3,4.2,3.6,7.4C78.1,66.1,81,64.7,81,69c0,4.8-1.4,7.9-5.3,10.6\n		C96.4,89.9,99.2,92,99.2,101.2V120H128z M65.4,86.9c-12.7-5.2-16.7-9.7-16.7-19.1c0-5.7,3.9-3.8,5.6-14.2c0.7-4.3,4.1-0.1,4.8-9.9\n		c0-3.9-1.9-4.9-1.9-4.9s0.9-5.8,1.3-10.3c0.5-5.6-2.8-20-20.4-20c-17.6,0-20.9,14.4-20.4,20c0.4,4.5,1.3,10.3,1.3,10.3\n		s-1.9,1-1.9,4.9c0.7,9.8,4.1,5.6,4.8,9.9c1.7,10.4,5.6,8.5,5.6,14.2c0,9.5-4,13.9-16.7,19.1C6.9,88.5,0,91,0,96.9V120h88.9\n		c0,0,0-13.7,0-17.3C88.9,97.3,78.1,92.2,65.4,86.9z"/>\n</g>\n</svg>\n',r);
},{"hogan.js":586}],253:[function(e,t,n){var r=e("hogan.js");t.exports=new r.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.b("<a>"),r.b("\n"+n),r.s(r.f("icon",e,t,1),e,t,0,15,57,"{{ }}")&&(r.rs(e,t,function(e,t,r){r.b("  <i class='option-icon "),r.b(r.v(r.f("icon",e,t,0))),r.b("'></i>"),r.b("\n"+n)}),e.pop()),r.s(r.f("iconUrl",e,t,1),e,t,0,81,157,"{{ }}")&&(r.rs(e,t,function(e,t,r){r.b("  <i class='option-icon' style='background-image: url("),r.b(r.v(r.f("iconUrl",e,t,0))),r.b(")'></i>"),r.b("\n"+n)}),e.pop()),r.b("  <span class='id'>"),r.b(r.v(r.f("tag",e,t,0))),r.b("</span>"),r.b("\n"+n),r.s(r.f("count",e,t,1),e,t,0,216,258,"{{ }}")&&(r.rs(e,t,function(e,t,r){r.b("  <span class='count'>"),r.b(r.v(r.f("count",e,t,0))),r.b("</span>"),r.b("\n"+n)}),e.pop()),r.b("</a>"),r.b("\n"),r.fl()},partials:{},subs:{}},"<a>\n  {{#icon}}\n  <i class='option-icon {{icon}}'></i>\n  {{/icon}}\n  {{#iconUrl}}\n  <i class='option-icon' style='background-image: url({{iconUrl}})'></i>\n  {{/iconUrl}}\n  <span class='id'>{{tag}}</span>\n  {{#count}}\n  <span class='count'>{{count}}</span>\n  {{/count}}\n</a>\n",r);
},{"hogan.js":586}],254:[function(e,t,n){var r=e("hogan.js");t.exports=new r.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.s(r.f("hasContext",e,t,1),e,t,1,0,0,"")||(r.b("<header class='comment-list-header'><i class=\"fa fa-comment\"></i> Comments</header>"),r.b("\n"+n)),r.b("<ul class='comment-list'></ul>"),r.b("\n"+n),r.b("<div class='comment-list-footer'></div>"),r.b("\n"),r.fl()},partials:{},subs:{}},"{{^hasContext}}\n<header class='comment-list-header'><i class=\"fa fa-comment\"></i> Comments</header>\n{{/hasContext}}\n<ul class='comment-list'></ul>\n<div class='comment-list-footer'></div>\n",r)},{"hogan.js":586}],255:[function(e,t,n){var r=e("hogan.js");t.exports=new r.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.b("<div class='help-message'>"),r.b("\n"+n),r.b("  <div class='help-message-subtitle'>"),r.b("\n"+n),r.b("    Tip: "),r.b(r.t(r.f("tip",e,t,0))),r.b("\n"+n),r.b("  </div>"),r.b("\n"+n),r.b("</div>"),r.b("\n"),r.fl()},partials:{},subs:{}},"<div class='help-message'>\n  <div class='help-message-subtitle'>\n    Tip: {{& tip }}\n  </div>\n</div>\n",r);
},{"hogan.js":586}],256:[function(e,t,n){var r=e("hogan.js");t.exports=new r.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.b("<div class='empty-message'>"),r.b("\n"+n),r.b("  <div class='help-message-title'>"),r.b("\n"+n),r.b("    Start a discussion on this topic below."),r.b("\n"+n),r.b("  </div>"),r.b("\n"+n),r.b("  <p class='help-message-subtitle'>"),r.b("\n"+n),r.b("    The comments will appear as chat messages."),r.b("\n"+n),r.b("  </p>"),r.b("\n"+n),r.b("  <div class='help-message-icon'>"),r.b("\n"+n),r.b("    <span class='fa-stack'>"),r.b("\n"+n),r.b("      <i class='fa fa-circle fa-stack-2x'></i>"),r.b("\n"+n),r.b("      <i class='fa fa-comments fa-stack-1x fa-inverse'></i>"),r.b("\n"+n),r.b("    </span>"),r.b("\n"+n),r.b("  </div>"),r.b("\n"+n),r.b("</div>"),r.b("\n"),r.fl()},partials:{},subs:{}},"<div class='empty-message'>\n  <div class='help-message-title'>\n    Start a discussion on this topic below.\n  </div>\n  <p class='help-message-subtitle'>\n    The comments will appear as chat messages.\n  </p>\n  <div class='help-message-icon'>\n    <span class='fa-stack'>\n      <i class='fa fa-circle fa-stack-2x'></i>\n      <i class='fa fa-comments fa-stack-1x fa-inverse'></i>\n    </span>\n  </div>\n</div>\n",r);
},{"hogan.js":586}],257:[function(e,t,n){var r=e("hogan.js");t.exports=new r.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.b("<input type='text'>"),r.b("\n"),r.fl()},partials:{},subs:{}},"<input type='text'>\n",r)},{"hogan.js":586}],258:[function(e,t,n){var r=e("hogan.js");t.exports=new r.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.b("<menu class='message-actions clean'>"),r.b("\n"+n),r.s(r.f("emptied",e,t,1),e,t,1,0,0,"")||(r.b("  <li>"),r.b("\n"+n),r.b("    <a class='edit-tags'>"),r.b("\n"+n),r.b(r.rp("<editTagsSVGIcon0",e,t,"      ")),r.b("    </a>"),r.b("\n"+n),r.b("  </li>"),r.b("\n"+n),r.b("  <li>"),r.b("\n"+n),r.b("    <a class='emoji-reaction-button' title='Add emoji reaction.'>"),r.b("\n"+n),r.b(r.rp("<emojiReactionSymbolSVGIcon1",e,t,"      ")),r.b("    </a>"),r.b("\n"+n),r.b("  </li>"),r.b("\n"+n)),r.b("  <li class='dropdown sw'>"),r.b("\n"+n),r.b("    <a class='more dropdown-toggle'>"),r.b("\n"+n),r.b("      <span class='fa-stack'>"),r.b("\n"+n),r.b(r.rp("<menuIcon2",e,t,"        ")),
r.b("      </span>"),r.b("\n"+n),r.b("    </a>"),r.b("\n"+n),r.b("    <menu class='dropdown-menu capitalize'></menu>"),r.b("\n"+n),r.b("  </li>"),r.b("\n"+n),r.b("</menu>"),r.b("\n"+n),r.b("<div class='avatar' title='"),r.b(r.v(r.d("author.name",e,t,0))),r.b("'>"),r.b("\n"+n),r.b("  <div class='comment-count'>"),r.b(r.v(r.f("commentCount",e,t,0))),r.b("</div>"),r.b("\n"+n),r.b("</div>"),r.b("\n"+n),r.b("<header>"),r.b("\n"+n),r.s(r.f("hideTitle",e,t,1),e,t,1,0,0,"")||(r.b("  <p class='title'>"),r.b("\n"+n),r.s(r.f("status",e,t,1),e,t,0,646,744,"{{ }}")&&(r.rs(e,t,function(e,t,r){r.b("    <span class='thread-status thread-status-small "),r.b(r.v(r.d("status.color",e,t,0))),r.b("'>"),r.b(r.v(r.d("status.value",e,t,0))),r.b("</span>"),r.b("\n"+n)}),e.pop()),r.s(r.f("hideHeadline",e,t,1),e,t,1,0,0,"")||r.b(r.rp("<headline3",e,t,"    ")),r.b("  </p>"),r.b("\n"+n)),r.b(r.rp("<excerpt4",e,t,"  ")),r.s(r.f("metaInExcerpt",e,t,1),e,t,1,0,0,"")||r.b(r.rp("<itemMeta5",e,t,"  ")),r.b("</header>"),r.b("\n"),r.fl()},partials:{
"<editTagsSVGIcon0":{name:"editTagsSVGIcon",partials:{},subs:{}},"<emojiReactionSymbolSVGIcon1":{name:"emojiReactionSymbolSVGIcon",partials:{},subs:{}},"<menuIcon2":{name:"menuIcon",partials:{},subs:{}},"<headline3":{name:"headline",partials:{},subs:{}},"<excerpt4":{name:"excerpt",partials:{},subs:{}},"<itemMeta5":{name:"itemMeta",partials:{},subs:{}}},subs:{}},"<menu class='message-actions clean'>\n  {{^emptied}}\n  <li>\n    <a class='edit-tags'>\n      {{> editTagsSVGIcon}}\n    </a>\n  </li>\n  <li>\n    <a class='emoji-reaction-button' title='Add emoji reaction.'>\n      {{> emojiReactionSymbolSVGIcon}}\n    </a>\n  </li>\n  {{/emptied}}\n  <li class='dropdown sw'>\n    <a class='more dropdown-toggle'>\n      <span class='fa-stack'>\n        {{> menuIcon}}\n      </span>\n    </a>\n    <menu class='dropdown-menu capitalize'></menu>\n  </li>\n</menu>\n<div class='avatar' title='{{author.name}}'>\n  <div class='comment-count'>{{commentCount}}</div>\n</div>\n<header>\n  {{^hideTitle}}\n  <p class='title'>\n    {{#status}}\n    <span class='thread-status thread-status-small {{status.color}}'>{{status.value}}</span>\n    {{/status}}\n    {{^hideHeadline}}\n    {{> headline}}\n    {{/hideHeadline}}\n  </p>\n  {{/hideTitle}}\n  {{> excerpt}}\n  {{^metaInExcerpt}}\n  {{> itemMeta}}\n  {{/metaInExcerpt}}\n</header>\n",r);
},{"hogan.js":586}],259:[function(e,t,n){var r=e("hogan.js");t.exports=new r.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.s(r.d("presenter.actions",e,t,1),e,t,0,22,291,"{{ }}")&&(r.rs(e,t,function(e,t,r){r.b("<li>"),r.b("\n"+n),r.b("  <a href='"),r.b(r.v(r.f("link",e,t,0))),r.b("' target='_blank' rel='noopener noreferrer'>"),r.b("\n"+n),r.s(r.f("className",e,t,1),e,t,0,110,166,"{{ }}")&&(r.rs(e,t,function(e,t,r){r.b("    <i class='fa fa-fw fa-"),r.b(r.v(r.f("className",e,t,0))),r.b(" icon'></i>"),r.b("\n"+n)}),e.pop()),r.s(r.f("className",e,t,1),e,t,1,0,0,"")||(r.b("    <i class='fa fa-fw fa-"),r.b(r.v(r.f("text",e,t,0))),r.b(" icon'></i>"),r.b("\n"+n)),r.b("    "),r.b(r.v(r.f("text",e,t,0))),r.b("\n"+n),r.b("  </a>"),r.b("\n"+n),r.b("</li>"),r.b("\n"+n)}),e.pop()),r.s(r.f("hasContext",e,t,1),e,t,0,329,433,"{{ }}")&&(r.rs(e,t,function(e,t,r){r.b("<li>"),r.b("\n"+n),r.b("  <a class='context'>"),r.b("\n"+n),r.b("    <i class='icon fa fa-fw fa-comments'></i>"),r.b("\n"+n),r.b("    Show in Chat"),
r.b("\n"+n),r.b("  </a>"),r.b("\n"+n),r.b("</li>"),r.b("\n"+n)}),e.pop()),r.s(r.f("mainLink",e,t,1),e,t,0,462,646,"{{ }}")&&(r.rs(e,t,function(e,t,r){r.b("<li>"),r.b("\n"+n),r.b("  <a class='original' href='"),r.b(r.v(r.f("mainLink",e,t,0))),r.b("' target='_blank' rel='noopener noreferrer'>"),r.b("\n"+n),r.b("    <i class='icon fa fa-fw fa-external-link-square'></i>"),r.b("\n"+n),r.b("    "),r.b(r.v(r.f("mainLinkTitle",e,t,0))),r.b("\n"+n),r.b("  </a>"),r.b("\n"+n),r.b("</li>"),r.b("\n"+n)}),e.pop()),r.s(r.f("removable",e,t,1),e,t,0,674,770,"{{ }}")&&(r.rs(e,t,function(e,t,r){r.b("<li>"),r.b("\n"+n),r.b("  <a class='delete'>"),r.b("\n"+n),r.b("    <i class='icon fa fa-fw fa-trash-o'></i>"),r.b("\n"+n),r.b("    Delete"),r.b("\n"+n),r.b("  </a>"),r.b("\n"+n),r.b("</li>"),r.b("\n"+n)}),e.pop()),r.b("<li class='permalink-item' data-close-delay='250'>"),r.b("\n"+n),r.b("  <a class='permalink' data-clipboard-text='"),r.b(r.v(r.f("url",e,t,0))),r.b("'>"),r.b("\n"+n),r.b("    <i class='icon fa fa-fw fa-link'></i>"),r.b("\n"+n),
r.b("    Copy Link"),r.b("\n"+n),r.b("  </a>"),r.b("\n"+n),r.b("</li>"),r.b("\n"),r.fl()},partials:{},subs:{}},"{{#presenter.actions}}\n<li>\n  <a href='{{link}}' target='_blank' rel='noopener noreferrer'>\n    {{#className}}\n    <i class='fa fa-fw fa-{{className}} icon'></i>\n    {{/className}}\n    {{^className}}\n    <i class='fa fa-fw fa-{{text}} icon'></i>\n    {{/className}}\n    {{text}}\n  </a>\n</li>\n{{/presenter.actions}}\n{{#hasContext}}\n<li>\n  <a class='context'>\n    <i class='icon fa fa-fw fa-comments'></i>\n    Show in Chat\n  </a>\n</li>\n{{/hasContext}}\n{{#mainLink}}\n<li>\n  <a class='original' href='{{mainLink}}' target='_blank' rel='noopener noreferrer'>\n    <i class='icon fa fa-fw fa-external-link-square'></i>\n    {{mainLinkTitle}}\n  </a>\n</li>\n{{/mainLink}}\n{{#removable}}\n<li>\n  <a class='delete'>\n    <i class='icon fa fa-fw fa-trash-o'></i>\n    Delete\n  </a>\n</li>\n{{/removable}}\n<li class='permalink-item' data-close-delay='250'>\n  <a class='permalink' data-clipboard-text='{{url}}'>\n    <i class='icon fa fa-fw fa-link'></i>\n    Copy Link\n  </a>\n</li>\n",r);
},{"hogan.js":586}],260:[function(e,t,n){var r=e("hogan.js");t.exports=new r.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.s(r.f("hasAuthor",e,t,1),e,t,0,14,295,"{{ }}")&&(r.rs(e,t,function(e,t,r){r.s(r.d("author.partial",e,t,1),e,t,0,34,56,"{{ }}")&&(r.rs(e,t,function(e,t,r){r.b(r.t(r.d("author.partial",e,t,0))),r.b("\n"+n)}),e.pop()),r.s(r.d("author.partial",e,t,1),e,t,1,0,0,"")||(r.s(r.f("linkify_author",e,t,1),e,t,0,115,162,"{{ }}")&&(r.rs(e,t,function(e,t,r){r.b("<a href='"),r.b(r.v(r.d("author.link",e,t,0))),r.b("'>"),r.b(r.v(r.d("author.name",e,t,0))),r.b("</a>"),r.b("\n"+n)}),e.pop()),r.s(r.f("linkify_author",e,t,1),e,t,1,0,0,"")||(r.b("<strong class='author-name'>"),r.b(r.v(r.d("author.name",e,t,0))),r.b("</strong>"),r.b("\n"+n)))}),e.pop()),r.fl()},partials:{},subs:{}},"{{#hasAuthor}}\n{{#author.partial}}\n{{& author.partial}}\n{{/author.partial}}\n{{^author.partial}}\n{{#linkify_author}}\n<a href='{{author.link}}'>{{author.name}}</a>\n{{/linkify_author}}\n{{^linkify_author}}\n<strong class='author-name'>{{author.name}}</strong>\n{{/linkify_author}}\n{{/author.partial}}\n{{/hasAuthor}}\n",r);
},{"hogan.js":586}],261:[function(e,t,n){var r=e("hogan.js");t.exports=new r.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.s(r.d("excerpt.html",e,t,1),e,t,0,17,162,"{{ }}")&&(r.rs(e,t,function(e,t,r){r.b("<div class='excerpt'>"),r.b("\n"+n),r.b("  "),r.b(r.t(r.d("excerpt.html",e,t,0))),r.b(" "),r.s(r.f("editTime",e,t,1),e,t,0,74,88,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b(n.t(n.f("editTime",e,t,0)))}),e.pop()),r.b("\n"+n),r.s(r.f("metaInExcerpt",e,t,1),e,t,0,122,136,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b(n.rp("<itemMeta0",e,t,""))}),e.pop()),r.b("</div>"),r.b("\n"+n)}),e.pop()),r.s(r.d("excerpt.html",e,t,1),e,t,1,0,0,"")||(r.s(r.f("emptied",e,t,1),e,t,0,210,281,"{{ }}")&&(r.rs(e,t,function(e,t,r){r.b("<div class='excerpt'>This message was deleted at "),r.b(r.t(r.f("editTime",e,t,0))),r.b("</div>"),r.b("\n"+n)}),e.pop()),r.s(r.f("emptied",e,t,1),e,t,1,0,0,"")||r.s(r.f("excerpt",e,t,1),e,t,0,319,402,"{{ }}")&&(r.rs(e,t,function(e,t,r){r.b("<p class='excerpt'>"),r.b("\n"+n),r.b("  "),r.b(r.v(r.f("excerpt",e,t,0))),
r.b("\n"+n),r.b("  "),r.s(r.f("editTime",e,t,1),e,t,0,369,383,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b(n.t(n.f("editTime",e,t,0)))}),e.pop()),r.b("\n"+n),r.b("</p>"),r.b("\n"+n)}),e.pop())),r.fl()},partials:{"<itemMeta0":{name:"itemMeta",partials:{},subs:{}}},subs:{}},"{{#excerpt.html}}\n<div class='excerpt'>\n  {{& excerpt.html}} {{#editTime}}{{& editTime}}{{/editTime}}\n  {{#metaInExcerpt}}{{> itemMeta}}{{/metaInExcerpt}}\n</div>\n{{/excerpt.html}}\n{{^excerpt.html}}\n{{#emptied}}\n<div class='excerpt'>This message was deleted at {{& editTime}}</div>\n{{/emptied}}\n{{^emptied}}\n{{#excerpt}}\n<p class='excerpt'>\n  {{excerpt}}\n  {{#editTime}}{{& editTime}}{{/editTime}}\n</p>\n{{/excerpt}}\n{{/emptied}}\n{{/excerpt.html}}\n",r)},{"hogan.js":586}],262:[function(e,t,n){var r=e("hogan.js");t.exports=new r.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.s(r.f("emptiedAt",e,t,1),e,t,0,14,109,"{{ }}")&&(r.rs(e,t,function(e,t,r){r.b("<span class='detailed message-delete-time'>This message was deleted at</span>"),
r.b("\n"+n),r.b(r.t(r.f("emptiedAt",e,t,0))),r.b("\n"+n)}),e.pop()),r.s(r.f("emptiedAt",e,t,1),e,t,1,0,0,"")||(r.s(r.f("htmlHeadline",e,t,1),e,t,0,156,206,"{{ }}")&&(r.rs(e,t,function(e,t,r){r.b("<span class='headline'>"),r.b(r.t(r.f("htmlHeadline",e,t,0))),r.b("</span>"),r.b("\n"+n)}),e.pop()),r.s(r.f("htmlHeadline",e,t,1),e,t,1,0,0,"")||(r.s(r.f("headlineLink",e,t,1),e,t,0,259,417,"{{ }}")&&(r.rs(e,t,function(e,t,r){r.b("<a href='"),r.b(r.v(r.f("headlineLink",e,t,0))),r.b("'>"),r.b("\n"+n),r.b("  <span class='action'>"),r.b(r.v(r.f("action",e,t,0))),r.b("</span>"),r.b("\n"+n),r.b("  <span class='headline'>"),r.b(r.v(r.f("headline",e,t,0))),r.b("</span>"),r.b("\n"+n),r.b("  <i class='fa fa-external-link'></i>"),r.b("\n"+n),r.b("</a>"),r.b("\n"+n)}),e.pop()),r.s(r.f("headlineLink",e,t,1),e,t,1,0,0,"")||(r.b("<span class='action'>"),r.b(r.v(r.f("action",e,t,0))),r.b("</span>"),r.b("\n"+n),r.b("<span class='headline'>"),r.b(r.v(r.f("headline",e,t,0))),r.b("</span>"),r.b("\n"+n)))),r.fl()},partials:{},subs:{}},"{{#emptiedAt}}\n<span class='detailed message-delete-time'>This message was deleted at</span>\n{{& emptiedAt}}\n{{/emptiedAt}}\n{{^emptiedAt}}\n{{#htmlHeadline}}\n<span class='headline'>{{& htmlHeadline}}</span>\n{{/htmlHeadline}}\n{{^htmlHeadline}}\n{{#headlineLink}}\n<a href='{{headlineLink}}'>\n  <span class='action'>{{action}}</span>\n  <span class='headline'>{{headline}}</span>\n  <i class='fa fa-external-link'></i>\n</a>\n{{/headlineLink}}\n{{^headlineLink}}\n<span class='action'>{{action}}</span>\n<span class='headline'>{{headline}}</span>\n{{/headlineLink}}\n{{/htmlHeadline}}\n{{/emptiedAt}}\n",r);
},{"hogan.js":586}],263:[function(e,t,n){var r=e("hogan.js");t.exports=new r.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.b("<div class='meta'>"),r.b("\n"+n),r.b("  <ul class='items clean'>"),r.b("\n"+n),r.b("    <li class='item'>"),r.b("\n"+n),r.b("      <div class='type-icon "),r.b(r.v(r.f("iconType",e,t,0))),r.b("'></div>"),r.b("\n"+n),r.b("    </li>"),r.b("\n"+n),r.b("    <li class='item'>"),r.b("\n"+n),r.b(r.rp("<author0",e,t,"      ")),r.b("      "),r.b(r.t(r.f("timestamp",e,t,0))),r.b("\n"+n),r.b("    </li>"),r.b("\n"+n),r.s(r.f("meta",e,t,1),e,t,0,213,227,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b(n.rp("<metaItem1",e,t,""))}),e.pop()),r.s(r.f("mainLink",e,t,1),e,t,0,254,450,"{{ }}")&&(r.rs(e,t,function(e,t,r){r.b("    <li class='item main-link'>"),r.b("\n"+n),r.b("      <a href='"),r.b(r.v(r.f("mainLink",e,t,0))),r.b("'>"),r.b("\n"+n),r.b("        <span class='main-link-text'>"),r.b(r.v(r.f("actionLinkTitle",e,t,0))),r.b("</span>"),r.b("\n"+n),r.b("        <i class='fa fa-external-link'></i>"),
r.b("\n"+n),r.b("      </a>"),r.b("\n"+n),r.b("    </li>"),r.b("\n"+n)}),e.pop()),r.b("  </ul>"),r.b("\n"+n),r.b("  <ul class='tags clean'></ul>"),r.b("\n"+n),r.b("  <ul class='emoji-reactions'>"),r.b("\n"+n),r.b("</div>"),r.b("\n"),r.fl()},partials:{"<author0":{name:"author",partials:{},subs:{}},"<metaItem1":{name:"metaItem",partials:{},subs:{}}},subs:{}},"<div class='meta'>\n  <ul class='items clean'>\n    <li class='item'>\n      <div class='type-icon {{iconType}}'></div>\n    </li>\n    <li class='item'>\n      {{> author}}\n      {{& timestamp}}\n    </li>\n    {{#meta}}{{> metaItem}}{{/meta}}\n    {{#mainLink}}\n    <li class='item main-link'>\n      <a href='{{mainLink}}'>\n        <span class='main-link-text'>{{actionLinkTitle}}</span>\n        <i class='fa fa-external-link'></i>\n      </a>\n    </li>\n    {{/mainLink}}\n  </ul>\n  <ul class='tags clean'></ul>\n  <ul class='emoji-reactions'>\n</div>\n",r)},{"hogan.js":586}],264:[function(e,t,n){var r=e("hogan.js");t.exports=new r.Template({code:function(e,t,n){
var r=this;return r.b(n=n||""),r.b("<li class='item'>"),r.b("\n"+n),r.s(r.f("linkify_meta",e,t,1),e,t,0,37,74,"{{ }}")&&(r.rs(e,t,function(e,t,r){r.b("  <a href='"),r.b(r.v(r.f("link",e,t,0))),r.b("'>"),r.b(r.v(r.f("text",e,t,0))),r.b("</a>"),r.b("\n"+n)}),e.pop()),r.s(r.f("linkify_meta",e,t,1),e,t,1,0,0,"")||(r.b("  <span>"),r.b(r.v(r.f("text",e,t,0))),r.b("</span>"),r.b("\n"+n)),r.b("</li>"),r.b("\n"),r.fl()},partials:{},subs:{}},"<li class='item'>\n  {{#linkify_meta}}\n  <a href='{{link}}'>{{text}}</a>\n  {{/linkify_meta}}\n  {{^linkify_meta}}\n  <span>{{text}}</span>\n  {{/linkify_meta}}\n</li>\n",r)},{"hogan.js":586}],265:[function(e,t,n){var r=e("hogan.js");t.exports=new r.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.b("<div class='sub-menu-wrapper pull-down'>"),r.b("\n"+n),r.b("  <menu class='dropdown-menu s sub-menu'>"),r.b("\n"+n),r.b("    <ul class='dropdown-actions'>"),r.b("\n"+n),r.b("      <li>"),r.b("\n"+n),r.b("        <input class='permalink-input dropdown-input' readonly type='text' value='"),
r.b(r.v(r.f("permalink",e,t,0))),r.b("'>"),r.b("\n"+n),r.b("      </li>"),r.b("\n"+n),r.b("    </ul>"),r.b("\n"+n),r.b("  </menu>"),r.b("\n"+n),r.b("</div>"),r.b("\n"),r.fl()},partials:{},subs:{}},"<div class='sub-menu-wrapper pull-down'>\n  <menu class='dropdown-menu s sub-menu'>\n    <ul class='dropdown-actions'>\n      <li>\n        <input class='permalink-input dropdown-input' readonly type='text' value='{{permalink}}'>\n      </li>\n    </ul>\n  </menu>\n</div>\n",r)},{"hogan.js":586}],266:[function(e,t,n){var r=e("hogan.js");t.exports=new r.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.b("<a class='thread-close-button'></a>"),r.b("\n"+n),r.b("<header class='floating-header'></header>"),r.b("\n"+n),r.b("<section class='single-view-content'>"),r.b("\n"+n),r.b("  <div class='single-view-content-wrap'>"),r.b("\n"+n),r.b("    <div class='single-view-body'>"),r.b("\n"+n),r.b("      <header class='static-header'></header>"),r.b("\n"+n),r.b("    </div>"),r.b("\n"+n),r.b("  </div>"),r.b("\n"+n),
r.b("</section>"),r.b("\n"+n),r.b(r.rp("<spinner0",e,t,"")),r.fl()},partials:{"<spinner0":{name:"spinner",partials:{},subs:{}}},subs:{}},"<a class='thread-close-button'></a>\n<header class='floating-header'></header>\n<section class='single-view-content'>\n  <div class='single-view-content-wrap'>\n    <div class='single-view-body'>\n      <header class='static-header'></header>\n    </div>\n  </div>\n</section>\n{{> spinner}}\n",r)},{"hogan.js":586}],267:[function(e,t,n){var r=e("hogan.js");t.exports=new r.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.b("<span class='close-icon' title='Try closing with ESC-ESC'>"),r.b("\n"+n),r.b(r.rp("<closeIcon0",e,t,"  ")),r.b("</span>"),r.b("\n"),r.fl()},partials:{"<closeIcon0":{name:"closeIcon",partials:{},subs:{}}},subs:{}},"<span class='close-icon' title='Try closing with ESC-ESC'>\n  {{>closeIcon}}\n</span>\n",r)},{"hogan.js":586}],268:[function(e,t,n){var r=e("hogan.js");t.exports=new r.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.b("<header class='floating-header'></header>"),
r.b("\n"+n),r.b("<section class='single-view-content'>"),r.b("\n"+n),r.b("  <div class='single-view-content-wrap'>"),r.b("\n"+n),r.b("    <div class='single-view-body'>"),r.b("\n"+n),r.b("      <header class='static-header'></header>"),r.b("\n"+n),r.s(r.f("report",e,t,1),e,t,0,219,321,"{{ }}")&&(r.rs(e,t,function(e,t,r){r.b("      <div class='report center'>"),r.b("\n"+n),r.b("        <a class='report-link'>Report error</a>"),r.b("\n"+n),r.b("      </div>"),r.b("\n"+n)}),e.pop()),r.b("    </div>"),r.b("\n"+n),r.b("  </div>"),r.b("\n"+n),r.b("</section>"),r.b("\n"+n),r.b(r.rp("<spinner0",e,t,"")),r.fl()},partials:{"<spinner0":{name:"spinner",partials:{},subs:{}}},subs:{}},"<header class='floating-header'></header>\n<section class='single-view-content'>\n  <div class='single-view-content-wrap'>\n    <div class='single-view-body'>\n      <header class='static-header'></header>\n      {{#report}}\n      <div class='report center'>\n        <a class='report-link'>Report error</a>\n      </div>\n      {{/report}}\n    </div>\n  </div>\n</section>\n{{> spinner}}\n",r);
},{"hogan.js":586}],269:[function(e,t,n){var r=e("hogan.js");t.exports=new r.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.s(r.f("showMeta",e,t,1),e,t,0,13,203,"{{ }}")&&(r.rs(e,t,function(e,t,r){r.b("<div class='single-message-meta'>"),r.b("\n"+n),r.b(r.rp("<meta0",e,t,"  ")),r.b("</div>"),r.b("\n"+n),r.b("<div class='single-message-tags'>"),r.b("\n"+n),r.b("  <a class='tag-edit-link'><i class=\"fa fa-pencil\"></i> Edit tags</a>"),r.b("\n"+n),r.b("  <ul class='tags'></ul>"),r.b("\n"+n),r.b("</div>"),r.b("\n"+n)}),e.pop()),r.s(r.f("deprecated",e,t,1),e,t,0,232,423,"{{ }}")&&(r.rs(e,t,function(e,t,r){r.b("<br>"),r.b("\n"+n),r.b("<div class='warning-green'>"),r.b("\n"+n),r.b("  <i class='fa fa-fw fa-warning'></i>"),r.b("\n"+n),r.b('  A new version of this integration is available. <a class="upgrade-integration">Upgrade</a> to start using it!'),r.b("\n"+n),r.b("</div>"),r.b("\n"+n)}),e.pop()),r.b("<section class='single-message-body body'>"),r.s(r.f("body",e,t,1),e,t,0,490,500,"{{ }}")&&(r.rs(e,t,function(e,t,n){
n.b(n.t(n.f("body",e,t,0)))}),e.pop()),r.b("</section>"),r.b("\n"+n),r.s(r.f("hasAttachments",e,t,1),e,t,0,539,607,"{{ }}")&&(r.rs(e,t,function(e,t,r){r.b("<section class='single-message-attachments attachments'></section>"),r.b("\n"+n)}),e.pop()),r.fl()},partials:{"<meta0":{name:"meta",partials:{},subs:{}}},subs:{}},"{{#showMeta}}\n<div class='single-message-meta'>\n  {{>meta}}\n</div>\n<div class='single-message-tags'>\n  <a class='tag-edit-link'><i class=\"fa fa-pencil\"></i> Edit tags</a>\n  <ul class='tags'></ul>\n</div>\n{{/showMeta}}\n{{#deprecated}}\n<br>\n<div class='warning-green'>\n  <i class='fa fa-fw fa-warning'></i>\n  A new version of this integration is available. <a class=\"upgrade-integration\">Upgrade</a> to start using it!\n</div>\n{{/deprecated}}\n<section class='single-message-body body'>{{#body}}{{& body}}{{/body}}</section>\n{{#hasAttachments}}\n<section class='single-message-attachments attachments'></section>\n{{/hasAttachments}}\n",r)},{"hogan.js":586}],270:[function(e,t,n){var r=e("hogan.js");
t.exports=new r.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.s(r.f("avatar",e,t,1),e,t,0,11,96,"{{ }}")&&(r.rs(e,t,function(e,t,r){r.b("<div class='single-message-avatar' style='background-image: url("),r.b(r.v(r.f("avatar",e,t,0))),r.b(")'></div>"),r.b("\n"+n)}),e.pop()),r.b("<div class='meta-content'>"),r.b("\n"+n),r.b("  <span class='single-message-author'>"),r.b(r.rp("<author0",e,t,"")),r.b("</span>"),r.b("\n"+n),r.b("  "),r.b(r.t(r.f("timestamp",e,t,0))),r.b("\n"+n),r.b("  <ul class='items'>"),r.b("\n"+n),r.s(r.f("meta",e,t,1),e,t,0,245,412,"{{ }}")&&(r.rs(e,t,function(e,t,r){r.b("    <li class='item'>"),r.b("\n"+n),r.s(r.f("link",e,t,1),e,t,0,283,328,"{{ }}")&&(r.rs(e,t,function(e,t,r){r.b("      <a href='"),r.b(r.v(r.f("link",e,t,0))),r.b("'>"),r.b(r.v(r.f("text",e,t,0))),r.b("</a>"),r.b("\n"+n)}),e.pop()),r.s(r.f("link",e,t,1),e,t,1,0,0,"")||(r.b("      <span>"),r.b(r.v(r.f("text",e,t,0))),r.b("</span>"),r.b("\n"+n)),r.b("    </li>"),r.b("\n"+n)}),e.pop()),r.b("  </ul>"),r.b("\n"+n),
r.b("</div>"),r.b("\n"),r.fl()},partials:{"<author0":{name:"author",partials:{},subs:{}}},subs:{}},"{{#avatar}}\n<div class='single-message-avatar' style='background-image: url({{avatar}})'></div>\n{{/avatar}}\n<div class='meta-content'>\n  <span class='single-message-author'>{{> author}}</span>\n  {{& timestamp}}\n  <ul class='items'>\n    {{#meta}}\n    <li class='item'>\n      {{#link}}\n      <a href='{{link}}'>{{text}}</a>\n      {{/link}}\n      {{^link}}\n      <span>{{text}}</span>\n      {{/link}}\n    </li>\n    {{/meta}}\n  </ul>\n</div>\n",r)},{"hogan.js":586}],271:[function(e,t,n){var r=e("hogan.js");t.exports=new r.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.b('<div class="thread-indicator" '),r.s(r.f("threadColor",e,t,1),e,t,0,46,130,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b('style="border-color: '),n.b(n.v(n.f("threadColor",e,t,0))),n.b("; color: "),n.b(n.v(n.f("threadColor",e,t,0))),n.b("; fill: "),n.b(n.v(n.f("threadColor",e,t,0))),n.b('"')}),e.pop()),r.b(' title="Commenting on a thread">'),
r.b("\n"+n),r.b(r.rp("<commentsIcon0",e,t,"  ")),r.b("</div>"),r.b("\n"),r.fl()},partials:{"<commentsIcon0":{name:"commentsIcon",partials:{},subs:{}}},subs:{}},'<div class="thread-indicator" {{#threadColor}}style="border-color: {{threadColor}}; color: {{threadColor}}; fill: {{threadColor}}"{{/threadColor}} title="Commenting on a thread">\n  {{> commentsIcon}}\n</div>\n',r)},{"hogan.js":586}],272:[function(e,t,n){var r=e("hogan.js");t.exports=new r.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.b("<svg enable-background='new 0 0 50 50' id='Layer_1' version='1.1' viewBox='0 0 50 50' xml:space='preserve' xmlns:xlink='http://www.w3.org/1999/xlink' xmlns='http://www.w3.org/2000/svg'>"),r.b("\n"+n),r.b("  <path d='M36.796,13.204c3.019,3.019,4.886,7.19,4.886,11.796c0,9.214-7.469,16.684-16.682,16.684S8.318,34.214,8.318,25&#x000A;	c0-4.606,1.867-8.777,4.886-11.796L7.322,7.323C2.798,11.847,0,18.097,0,25c0,13.807,11.192,25,25,25c13.807,0,25-11.193,25-25&#x000A;	c0-6.903-2.798-13.153-7.323-17.677L36.796,13.204z'>"),
r.b("\n"+n),r.b("</svg>"),r.b("\n"),r.fl()},partials:{},subs:{}},"<svg enable-background='new 0 0 50 50' id='Layer_1' version='1.1' viewBox='0 0 50 50' xml:space='preserve' xmlns:xlink='http://www.w3.org/1999/xlink' xmlns='http://www.w3.org/2000/svg'>\n  <path d='M36.796,13.204c3.019,3.019,4.886,7.19,4.886,11.796c0,9.214-7.469,16.684-16.682,16.684S8.318,34.214,8.318,25&#x000A;	c0-4.606,1.867-8.777,4.886-11.796L7.322,7.323C2.798,11.847,0,18.097,0,25c0,13.807,11.192,25,25,25c13.807,0,25-11.193,25-25&#x000A;	c0-6.903-2.798-13.153-7.323-17.677L36.796,13.204z'>\n</svg>\n",r)},{"hogan.js":586}],273:[function(e,t,n){var r=e("hogan.js");t.exports=new r.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.b(r.rp("<messageHeader0",e,t,"")),r.b("<div class='content'>"),r.b("\n"+n),r.b(r.rp("<attachment1",e,t,"  ")),r.b("  <ul class='tags'>"),r.b("\n"+n),r.s(r.f("tags",e,t,1),e,t,0,94,118,"{{ }}")&&(r.rs(e,t,function(e,t,r){r.b("    <li>"),r.b(r.v(r.d(".",e,t,0))),r.b("</li>"),r.b("\n"+n)}),e.pop()),r.b("  </ul>"),
r.b("\n"+n),r.b("  <ul class='emoji-reactions'>"),r.b("\n"+n),r.b("</div>"),r.b("\n"),r.fl()},partials:{"<messageHeader0":{name:"messageHeader",partials:{},subs:{}},"<attachment1":{name:"attachment",partials:{},subs:{}}},subs:{}},"{{> messageHeader}}\n<div class='content'>\n  {{> attachment}}\n  <ul class='tags'>\n    {{#tags}}\n    <li>{{.}}</li>\n    {{/tags}}\n  </ul>\n  <ul class='emoji-reactions'>\n</div>\n",r)},{"hogan.js":586}],274:[function(e,t,n){var r=e("hogan.js");t.exports=new r.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.b(r.rp("<messageHeader0",e,t,"")),r.b("<div class='content'>"),r.b("\n"+n),r.b("  <progress max='100'>0%</progress>"),r.b("\n"+n),r.b("  <p class='status'>"),r.b("\n"+n),r.b("    <span class='state'>Uploading</span>"),r.b("\n"+n),r.b("    <span class='filename'>"),r.b(r.v(r.f("fileName",e,t,0))),r.b("</span>"),r.b("\n"+n),r.b("    <span class='uploaded'>(0%)</span>"),r.b("\n"+n),r.b("  </p>"),r.b("\n"+n),r.b("  <p class='error'>Upload failed, please try again.</p>"),
r.b("\n"+n),r.b("</div>"),r.b("\n"),r.fl()},partials:{"<messageHeader0":{name:"messageHeader",partials:{},subs:{}}},subs:{}},"{{> messageHeader}}\n<div class='content'>\n  <progress max='100'>0%</progress>\n  <p class='status'>\n    <span class='state'>Uploading</span>\n    <span class='filename'>{{fileName}}</span>\n    <span class='uploaded'>(0%)</span>\n  </p>\n  <p class='error'>Upload failed, please try again.</p>\n</div>\n",r)},{"hogan.js":586}],275:[function(e,t,n){var r=e("hogan.js");t.exports=new r.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.b(r.rp("<messageHeader0",e,t,"")),r.b("<div class='content' dir='auto'>"),r.b("\n"+n),r.s(r.f("emptied",e,t,1),e,t,0,67,146,"{{ }}")&&(r.rs(e,t,function(e,t,r){r.b("  <span class='deleted'>This message was deleted at</span>"),r.b("\n"+n),r.b("  "),r.b(r.t(r.f("editTime",e,t,0))),r.b("\n"+n)}),e.pop()),r.s(r.f("emptied",e,t,1),e,t,1,0,0,"")||(r.b("  <div class='msg-body'>"),r.b(r.t(r.f("content",e,t,0))),r.b("</div>"),r.b("\n"+n),r.b(r.rp("<messageFooter1",e,t,"  "))),
r.b("</div>"),r.b("\n"),r.fl()},partials:{"<messageHeader0":{name:"messageHeader",partials:{},subs:{}},"<messageFooter1":{name:"messageFooter",partials:{},subs:{}}},subs:{}},"{{> messageHeader}}\n<div class='content' dir='auto'>\n  {{#emptied}}\n  <span class='deleted'>This message was deleted at</span>\n  {{& editTime}}\n  {{/emptied}}\n  {{^emptied}}\n  <div class='msg-body'>{{& content}}</div>\n  {{> messageFooter}}\n  {{/emptied}}\n</div>\n",r)},{"hogan.js":586}],276:[function(e,t,n){var r=e("hogan.js");t.exports=new r.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.b("<a class='save-message' title=\"Click to save. Press 'Esc' to cancel.\">"),r.b("\n"+n),r.b(r.rp("<checkSVGIcon0",e,t,"  ")),r.b("</a>"),r.b("\n"),r.fl()},partials:{"<checkSVGIcon0":{name:"checkSVGIcon",partials:{},subs:{}}},subs:{}},"<a class='save-message' title=\"Click to save. Press 'Esc' to cancel.\">\n  {{> checkSVGIcon}}\n</a>\n",r)},{"hogan.js":586}],277:[function(e,t,n){var r=e("hogan.js");t.exports=new r.Template({code:function(e,t,n){
var r=this;return r.b(n=n||""),r.b("<menu class='dropdown-menu open'>"),r.b("\n"+n),r.b("  <ul class='dropdown-actions'>"),r.b("\n"+n),r.b("    <li>"),r.b("\n"+n),r.b("      <a class='show-users'>"),r.b("\n"+n),r.b("        <i class='icon fa-fw'>"),r.b(r.rp("<usersIcon0",e,t,"")),r.b("</i>"),r.b("\n"+n),r.b("        Flow Members"),r.b("\n"+n),r.b("      </a>"),r.b("\n"+n),r.b("    </li>"),r.b("\n"+n),r.b("    <li>"),r.b("\n"+n),r.b("      <a class='show-sources'><i class=\"icon fa fa-fw fa-inbox\"></i> Integrations</a>"),r.b("\n"+n),r.b("    </li>"),r.b("\n"+n),r.b("    <li>"),r.b("\n"+n),r.b("      <a class='show-settings'><i class=\"icon fa fa-fw fa-list\"></i> Settings</a>"),r.b("\n"+n),r.b("    </li>"),r.b("\n"+n),r.b("  </ul>"),r.b("\n"+n),r.b("  <ul class='dropdown-actions'>"),r.b("\n"+n),r.b("    <li>"),r.b("\n"+n),r.b("      <a class='toggle-ignore-team'>"),r.b(r.rp("<toggleTeam1",e,t,"")),r.b("</a>"),r.b("\n"+n),r.b("    </li>"),r.b("\n"+n),r.b("  </ul>"),r.b("\n"+n),r.b("  <ul class='dropdown-actions'>"),
r.b("\n"+n),r.b("    <li>"),r.b("\n"+n),r.b("      <a class='close'><i class=\"icon fa fa-fw fa-times\"></i> Close</a>"),r.b("\n"+n),r.b("    </li>"),r.b("\n"+n),r.b("  </ul>"),r.b("\n"+n),r.b("</menu>"),r.b("\n"),r.fl()},partials:{"<usersIcon0":{name:"usersIcon",partials:{},subs:{}},"<toggleTeam1":{name:"toggleTeam",partials:{},subs:{}}},subs:{}},"<menu class='dropdown-menu open'>\n  <ul class='dropdown-actions'>\n    <li>\n      <a class='show-users'>\n        <i class='icon fa-fw'>{{> usersIcon}}</i>\n        Flow Members\n      </a>\n    </li>\n    <li>\n      <a class='show-sources'><i class=\"icon fa fa-fw fa-inbox\"></i> Integrations</a>\n    </li>\n    <li>\n      <a class='show-settings'><i class=\"icon fa fa-fw fa-list\"></i> Settings</a>\n    </li>\n  </ul>\n  <ul class='dropdown-actions'>\n    <li>\n      <a class='toggle-ignore-team'>{{> toggleTeam }}</a>\n    </li>\n  </ul>\n  <ul class='dropdown-actions'>\n    <li>\n      <a class='close'><i class=\"icon fa fa-fw fa-times\"></i> Close</a>\n    </li>\n  </ul>\n</menu>\n",r);
},{"hogan.js":586}],278:[function(e,t,n){var r=e("hogan.js");t.exports=new r.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.b("<div class='org-link'>"),r.b("\n"+n),r.b("  <span class='org-name'>"),r.b(r.v(r.f("title",e,t,0))),r.b("</span>"),r.b("\n"+n),r.s(r.f("url",e,t,1),e,t,0,75,238,"{{ }}")&&(r.rs(e,t,function(e,t,r){r.b("  <a class='external-link' href='"),r.b(r.v(r.f("url",e,t,0))),r.b("' target='_blank' rel='noopener noreferrer' title='Manage organization'>"),r.b("\n"+n),r.b("    <i class='fa fa-external-link'></i>"),r.b("\n"+n),r.b("  </a>"),r.b("\n"+n)}),e.pop()),r.b("</div>"),r.b("\n"+n),r.b("<ol class='org-flows'></ol>"),r.b("\n"),r.fl()},partials:{},subs:{}},"<div class='org-link'>\n  <span class='org-name'>{{title}}</span>\n  {{#url}}\n  <a class='external-link' href='{{url}}' target='_blank' rel='noopener noreferrer' title='Manage organization'>\n    <i class='fa fa-external-link'></i>\n  </a>\n  {{/url}}\n</div>\n<ol class='org-flows'></ol>\n",r)},{"hogan.js":586}],279:[function(e,t,n){
var r=e("hogan.js");t.exports=new r.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.b('<div class="ignore-confirm-content">'),r.b("\n"+n),r.s(r.f("success",e,t,1),e,t,1,0,0,"")||(r.b("  Would you like to turn off @team notifications in the "),r.b(r.v(r.f("flowName",e,t,0))),r.b(" flow?"),r.b("\n"+n),r.b('  <ul class="inline-list">'),r.b("\n"+n),r.b('    <li><a class="primary-button mini-button confirm">Mute @team in '),r.b(r.v(r.f("flowName",e,t,0))),r.b("</a></li>"),r.b("\n"+n),r.b('    <li><a class="button mini-button cancel">Cancel</a></li>'),r.b("\n"+n),r.b("  </ul>"),r.b("\n"+n)),r.s(r.f("success",e,t,1),e,t,0,342,438,"{{ }}")&&(r.rs(e,t,function(e,t,r){r.b("  You will no longer be notified of @team messages in "),r.b(r.v(r.f("flowName",e,t,0))),r.b('. <a class="undo">Undo</a>'),r.b("\n"+n)}),e.pop()),r.b("</div>"),r.fl()},partials:{},subs:{}},'<div class="ignore-confirm-content">\n  {{^success}}\n  Would you like to turn off @team notifications in the {{flowName}} flow?\n  <ul class="inline-list">\n    <li><a class="primary-button mini-button confirm">Mute @team in {{flowName}}</a></li>\n    <li><a class="button mini-button cancel">Cancel</a></li>\n  </ul>\n  {{/success}}\n  {{#success}}\n  You will no longer be notified of @team messages in {{flowName}}. <a class="undo">Undo</a>\n  {{/success}}\n</div>',r);
},{"hogan.js":586}],280:[function(e,t,n){var r=e("hogan.js");t.exports=new r.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.b("<header class='nav-header'>"),r.b("\n"+n),r.b("  <div class='dropdown' id='user-menu-toggle'></div>"),r.b("\n"+n),r.b("</header>"),r.b("\n"+n),r.b("<div class='nav-content'></div>"),r.b("\n"+n),r.b("<footer class='nav-footer'>"),r.b("\n"+n),r.b("  <ul class='nav-footer-actions'>"),r.b("\n"+n),r.b("    <li>"),r.b("\n"+n),r.b("      <a class='search-tab' data-tipsy-title='More flows and people'>"),r.b("\n"+n),r.b("        <i class='fa fa-fw fa-plus'></i>"),r.b("\n"+n),r.b("        <span class='label'>More flows and people</span>"),r.b("\n"+n),r.b("      </a>"),r.b("\n"+n),r.b("    </li>"),r.b("\n"+n),r.b("    <li class='minimized-only'>"),r.b("\n"+n),r.b("      <a class='open-sidebar' title='Expand'>"),r.b("\n"+n),r.b("        <i class='fa fa-fw fa-caret-square-o-right'></i>"),r.b("\n"+n),r.b("      </a>"),r.b("\n"+n),r.b("    </li>"),r.b("\n"+n),r.b("    <li class='expanded-only'>"),
r.b("\n"+n),r.b("      <a class='close-sidebar' data-tipsy-title='Collapse'>"),r.b("\n"+n),r.b("        <i class='fa fa-fw fa-caret-square-o-left'></i>"),r.b("\n"+n),r.b("      </a>"),r.b("\n"+n),r.b("    </li>"),r.b("\n"+n),r.b("  </ul>"),r.b("\n"+n),r.b("</footer>"),r.b("\n"),r.fl()},partials:{},subs:{}},"<header class='nav-header'>\n  <div class='dropdown' id='user-menu-toggle'></div>\n</header>\n<div class='nav-content'></div>\n<footer class='nav-footer'>\n  <ul class='nav-footer-actions'>\n    <li>\n      <a class='search-tab' data-tipsy-title='More flows and people'>\n        <i class='fa fa-fw fa-plus'></i>\n        <span class='label'>More flows and people</span>\n      </a>\n    </li>\n    <li class='minimized-only'>\n      <a class='open-sidebar' title='Expand'>\n        <i class='fa fa-fw fa-caret-square-o-right'></i>\n      </a>\n    </li>\n    <li class='expanded-only'>\n      <a class='close-sidebar' data-tipsy-title='Collapse'>\n        <i class='fa fa-fw fa-caret-square-o-left'></i>\n      </a>\n    </li>\n  </ul>\n</footer>\n",r);
},{"hogan.js":586}],281:[function(e,t,n){var r=e("hogan.js");t.exports=new r.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.b("<div class='notification-avatar' style='background-image: url("),r.b(r.v(r.f("avatar",e,t,0))),r.b(");'></div>"),r.b("\n"+n),r.b("<div class='notification-header'>"),r.b("\n"+n),r.s(r.f("iconType",e,t,1),e,t,0,132,194,"{{ }}")&&(r.rs(e,t,function(e,t,r){r.b("  <span class='icon-"),r.b(r.v(r.f("iconType",e,t,0))),r.b(" inline-type-icon'></span>"),r.b("\n"+n)}),e.pop()),r.s(r.f("iconType",e,t,1),e,t,1,0,0,"")||(r.b("  <span class='notification-author'>"),r.b(r.v(r.d("user.name",e,t,0))),r.b("</span>"),r.b("\n"+n)),r.s(r.f("isPrivate",e,t,1),e,t,1,0,0,"")||(r.b("  <span class='notification-flow'>in "),r.b(r.v(r.d("flow.name",e,t,0))),r.b("</span>"),r.b("\n"+n)),r.s(r.f("isPrivate",e,t,1),e,t,0,405,523,"{{ }}")&&(r.rs(e,t,function(e,t,r){r.s(r.f("moreUnreadMessages",e,t,1),e,t,0,431,497,"{{ }}")&&(r.rs(e,t,function(e,t,r){r.b("  <span class='unread-count'>and "),r.b(r.v(r.f("moreUnreadMessages",e,t,0))),
r.b("</span>"),r.b("\n"+n)}),e.pop())}),e.pop()),r.b("</div>"),r.b("\n"+n),r.b("<div class='notification-content msg-body'>"),r.b(r.t(r.f("message",e,t,0))),r.b("</div>"),r.b("\n"),r.b("\n"+n),r.b('<div class="notification-actions">'),r.b("\n"+n),r.b("  "),r.b(r.t(r.f("timestamp",e,t,0))),r.b("\n"+n),r.s(r.f("unread",e,t,1),e,t,0,676,795,"{{ }}")&&(r.rs(e,t,function(e,t,r){r.b("  <a class='notification-action mark-as-read' title='Mark as read'>"),r.b("\n"+n),r.b("    <i class='fa fa-check-circle-o'></i>"),r.b("\n"+n),r.b("  </a>"),r.b("\n"+n)}),e.pop()),r.s(r.f("canIgnore",e,t,1),e,t,0,823,964,"{{ }}")&&(r.rs(e,t,function(e,t,r){r.b('  <a class="notification-action ignore-team" title="Stop @team notifications from this flow">'),r.b("\n"+n),r.b('    <i class="fa fa-bell-slash"></i>'),r.b("\n"+n),r.b("  </a>"),r.b("\n"+n)}),e.pop()),r.b("</div>"),r.b("\n"+n),r.b("<div class='notification-overflow'></div>"),r.b("\n"),r.fl()},partials:{},subs:{}},"<div class='notification-avatar' style='background-image: url({{avatar}});'></div>\n<div class='notification-header'>\n  {{#iconType}}\n  <span class='icon-{{iconType}} inline-type-icon'></span>\n  {{/iconType}}\n  {{^iconType}}\n  <span class='notification-author'>{{user.name}}</span>\n  {{/iconType}}\n  {{^isPrivate}}\n  <span class='notification-flow'>in {{flow.name}}</span>\n  {{/isPrivate}}\n  {{#isPrivate}}\n  {{#moreUnreadMessages}}\n  <span class='unread-count'>and {{moreUnreadMessages}}</span>\n  {{/moreUnreadMessages}}\n  {{/isPrivate}}\n</div>\n<div class='notification-content msg-body'>{{& message}}</div>\n\n<div class=\"notification-actions\">\n  {{& timestamp }}\n  {{#unread}}\n  <a class='notification-action mark-as-read' title='Mark as read'>\n    <i class='fa fa-check-circle-o'></i>\n  </a>\n  {{/unread}}\n  {{#canIgnore}}\n  <a class=\"notification-action ignore-team\" title=\"Stop @team notifications from this flow\">\n    <i class=\"fa fa-bell-slash\"></i>\n  </a>\n  {{/canIgnore}}\n</div>\n<div class='notification-overflow'></div>\n",r);
},{"hogan.js":586}],282:[function(e,t,n){var r=e("hogan.js");t.exports=new r.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.b("<a class='dropdown-toggle' id='notification-center-toggle' title='"),r.b(r.v(r.f("toolTip",e,t,0))),r.b("'>"),r.b("\n"+n),r.b("  <div class='notification-container'>"),r.b("\n"+n),r.b("    <i class='fa fa-bell'></i>"),r.b("\n"+n),r.b("    <div class='notification-badge'>"),r.b(r.v(r.f("count",e,t,0))),r.b("</div>"),r.b("\n"+n),r.b("  </div>"),r.b("\n"+n),r.b("</a>"),r.b("\n"+n),r.b("<div class='dropdown-menu' id='notification-menu'>"),r.b("\n"+n),r.b("  <header>"),r.b("\n"+n),r.b("    <a class='mark-all-read'><i class=\"fa fa-check-circle-o\"></i> Mark all read</a>"),r.b("\n"+n),r.b("    <ul class='notification-center-filters'>"),r.b("\n"+n),r.b("      <li>"),r.b("\n"+n),r.b("        <a class='all notification-center-filter link-grey selected' title='Show all notifications'>All notifications<span class='allMentions' style='display: none'></span></a>"),r.b("\n"+n),r.b("      </li>"),
r.b("\n"+n),r.b("      <li>"),r.b("\n"+n),r.b("        <a class='for-me notification-center-filter link-grey unselected' title='Show only notifications that mention me by name'>"),r.b("\n"+n),r.b("          Only for me"),r.b("\n"+n),r.b("          <span class='atMentions' style='display: none'></span>"),r.b("\n"+n),r.b("        </a>"),r.b("\n"+n),r.b("      </li>"),r.b("\n"+n),r.b("    </ul>"),r.b("\n"+n),r.b("  </header>"),r.b("\n"+n),r.b("  <ul id='notification-list' class='touch-scrollable'></ul>"),r.b("\n"+n),r.b("</div>"),r.b("\n"),r.fl()},partials:{},subs:{}},"<a class='dropdown-toggle' id='notification-center-toggle' title='{{toolTip}}'>\n  <div class='notification-container'>\n    <i class='fa fa-bell'></i>\n    <div class='notification-badge'>{{count}}</div>\n  </div>\n</a>\n<div class='dropdown-menu' id='notification-menu'>\n  <header>\n    <a class='mark-all-read'><i class=\"fa fa-check-circle-o\"></i> Mark all read</a>\n    <ul class='notification-center-filters'>\n      <li>\n        <a class='all notification-center-filter link-grey selected' title='Show all notifications'>All notifications<span class='allMentions' style='display: none'></span></a>\n      </li>\n      <li>\n        <a class='for-me notification-center-filter link-grey unselected' title='Show only notifications that mention me by name'>\n          Only for me\n          <span class='atMentions' style='display: none'></span>\n        </a>\n      </li>\n    </ul>\n  </header>\n  <ul id='notification-list' class='touch-scrollable'></ul>\n</div>\n",r);
},{"hogan.js":586}],283:[function(e,t,n){var r=e("hogan.js");t.exports=new r.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.b("<li class='list-empty-message'>"),r.b("\n"+n),r.b("  You'll see notifications here when someone mentions <strong>@"),r.b(r.v(r.f("nick",e,t,0))),r.b("</strong> or <strong>@everyone</strong> in one of your flows or sends you a 1-to-1 message."),r.b("\n"+n),r.b("</li>"),r.b("\n"),r.fl()},partials:{},subs:{}},"<li class='list-empty-message'>\n  You'll see notifications here when someone mentions <strong>@{{nick}}</strong> or <strong>@everyone</strong> in one of your flows or sends you a 1-to-1 message.\n</li>\n",r)},{"hogan.js":586}],284:[function(e,t,n){var r=e("hogan.js");t.exports=new r.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.b("<li class='no-more'>"),r.b("\n"+n),r.b("  No more notifications."),r.b("\n"+n),r.b("</li>"),r.b("\n"),r.fl()},partials:{},subs:{}},"<li class='no-more'>\n  No more notifications.\n</li>\n",r)},{"hogan.js":586}],285:[function(e,t,n){
var r=e("hogan.js");t.exports=new r.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.b("<div class='spotlight-search' id='spotlight-search' title='Search for flows and users'>"),r.b("\n"+n),r.b("     <input type='text' id='spot-search' class='spotlight-input' placeholder='GoTo...'>"),r.b("\n"+n),r.b("     <i class='fa fa-search fa-lg'></i>"),r.b("\n"+n),r.b("</div>"),r.fl()},partials:{},subs:{}},"<div class='spotlight-search' id='spotlight-search' title='Search for flows and users'>\n     <input type='text' id='spot-search' class='spotlight-input' placeholder='GoTo...'>\n     <i class='fa fa-search fa-lg'></i>\n</div>",r)},{"hogan.js":586}],286:[function(e,t,n){var r=e("hogan.js");t.exports=new r.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.b("<a class='tab-link' href='"),r.b(r.v(r.f("link",e,t,0))),r.b("'>"),r.b("\n"+n),r.b(r.rp("<avatar0",e,t,"  ")),r.b("  <span class='tab-name'>"),r.b(r.v(r.f("name",e,t,0))),r.b("</span>"),r.b("\n"+n),r.b("  <i class='activity-indicator'>"),
r.b(r.v(r.f("count",e,t,0))),r.b("</i>"),r.b("\n"+n),r.b("</a>"),r.b("\n"),r.fl()},partials:{"<avatar0":{name:"avatar",partials:{},subs:{}}},subs:{}},"<a class='tab-link' href='{{link}}'>\n  {{> avatar}}\n  <span class='tab-name'>{{name}}</span>\n  <i class='activity-indicator'>{{count}}</i>\n</a>\n",r)},{"hogan.js":586}],287:[function(e,t,n){var r=e("hogan.js");t.exports=new r.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.s(r.f("isPrivate",e,t,1),e,t,1,0,0,"")||(r.b("<div class='tab-avatar-container'>"),r.b("\n"+n),r.b("  <div class='tab-avatar'>"),r.b("\n"+n),r.b("    "),r.s(r.f("initials",e,t,1),e,t,0,94,132,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b("<span class='tab-initial'>"),n.b(n.v(n.d(".",e,t,0))),n.b("</span>")}),e.pop()),r.b("\n"+n),r.b("  </div>"),r.b("\n"+n),r.b("</div>"),r.b("\n"+n)),r.s(r.f("isPrivate",e,t,1),e,t,0,191,307,"{{ }}")&&(r.rs(e,t,function(e,t,r){r.b('<div class="rounded-avatar">'),r.b("\n"+n),r.b("  <div class='tab-avatar' style='background-image: url("),r.b(r.v(r.f("avatar",e,t,0))),
r.b(");'>"),r.b("\n"+n),r.b("  </div>"),r.b("\n"+n),r.b("</div>"),r.b("\n"+n)}),e.pop()),r.fl()},partials:{},subs:{}},"{{^isPrivate}}\n<div class='tab-avatar-container'>\n  <div class='tab-avatar'>\n    {{#initials}}<span class='tab-initial'>{{.}}</span>{{/initials}}\n  </div>\n</div>\n{{/isPrivate}}\n{{#isPrivate}}\n<div class=\"rounded-avatar\">\n  <div class='tab-avatar' style='background-image: url({{avatar}});'>\n  </div>\n</div>\n{{/isPrivate}}\n",r)},{"hogan.js":586}],288:[function(e,t,n){var r=e("hogan.js");t.exports=new r.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.b("<i class='icon fa fa-fw fa-bell'></i>"),r.b("\n"+n),r.b("Mute @team"),r.b("\n"+n),r.s(r.f("toggledOn",e,t,1),e,t,0,63,115,"{{ }}")&&(r.rs(e,t,function(e,t,r){r.b("<i class='fa fa-fw fa-check icon icon-active'></i>"),r.b("\n"+n)}),e.pop()),r.fl()},partials:{},subs:{}},"<i class='icon fa fa-fw fa-bell'></i>\nMute @team\n{{#toggledOn}}\n<i class='fa fa-fw fa-check icon icon-active'></i>\n{{/toggledOn}}\n",r)},{"hogan.js":586
}],289:[function(e,t,n){var r=e("hogan.js");t.exports=new r.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.b("<a class='user-menu-toggle dropdown-toggle'>"),r.b("\n"+n),r.b("  <span class='user-menu-name'></span>"),r.b("\n"+n),r.b("  <i class='icon fa fa-fw fa-caret-down'></i>"),r.b("\n"+n),r.b("</a>"),r.b("\n"+n),r.b("<menu class='dropdown-menu touch-scrollable'>"),r.b("\n"+n),r.b("  <ul class='dropdown-actions'>"),r.b("\n"+n),r.b("    <li>"),r.b("\n"+n),r.b("      <a class='preferences'>"),r.b("\n"+n),r.b("        <i class='icon fa fa-fw fa-sliders'></i>"),r.b("\n"+n),r.b("        Preferences&hellip;"),r.b("\n"+n),r.b("      </a>"),r.b("\n"+n),r.b("    </li>"),r.b("\n"+n),r.b("    <li>"),r.b("\n"+n),r.b("      <a class='community' href='https://communities.ca.com/community/ca-agile-central/ca-flowdock'> "),r.b("\n"+n),r.b("        <i class='icon fa fa-fw fa-bullhorn'></i>"),r.b("\n"+n),r.b("        Community&hellip;"),r.b("\n"+n),r.b("      </a>"),r.b("\n"+n),r.b("    </li>"),r.b("\n"+n),r.b("    <li class='e mute' data-close-delay='250' title='Turn off audio- and desktop notifications'>"),
r.b("\n"+n),r.b("      <a>"),r.b("\n"+n),r.b("        <i class='icon fa fa-fw fa-volume-off'></i>"),r.b("\n"+n),r.b("        Do Not Disturb"),r.b("\n"+n),r.b("      </a>"),r.b("\n"+n),r.b("      <menu class='dropdown-menu sub-menu pull-right'>"),r.b("\n"+n),r.b("        <ul class='dropdown-actions'>"),r.b("\n"+n),r.b("          <li>"),r.b("\n"+n),r.b("            <a data-mute='30'>"),r.b("\n"+n),r.b("              30 Minutes"),r.b("\n"+n),r.b("            </a>"),r.b("\n"+n),r.b("          </li>"),r.b("\n"+n),r.b("          <li>"),r.b("\n"+n),r.b("            <a data-mute='60'>"),r.b("\n"+n),r.b("              1 Hour"),r.b("\n"+n),r.b("            </a>"),r.b("\n"+n),r.b("          </li>"),r.b("\n"+n),r.b("          <li>"),r.b("\n"+n),r.b("            <a data-mute='480'>"),r.b("\n"+n),r.b("              8 Hours"),r.b("\n"+n),r.b("            </a>"),r.b("\n"+n),r.b("          </li>"),r.b("\n"+n),r.b("        </ul>"),r.b("\n"+n),r.b("      </menu>"),r.b("\n"+n),r.b("    </li>"),r.b("\n"+n),r.b("  </ul>"),r.b("\n"+n),
r.b("  <ul class='dropdown-actions'>"),r.b("\n"+n),r.b("    <li class='unmute' style='display:none' title='Turn off Do Not Disturb'>"),r.b("\n"+n),r.b("      <a>"),r.b("\n"+n),r.b("        <i class='icon fa fa-fw fa-volume-off'></i>"),r.b("\n"+n),r.b("        Do Not Disturb"),r.b("\n"+n),r.b("        <i class='fa fa-fw fa-check icon icon-active'></i>"),r.b("\n"+n),r.b("      </a>"),r.b("\n"+n),r.b("    </li>"),r.b("\n"+n),r.b("    <li>"),r.b("\n"+n),r.b("      <a class='account' href='/account' target='_blank' rel='noopener noreferrer'>"),r.b("\n"+n),r.b("        <i class='icon fa fa-fw'>"),r.b("\n"+n),r.b(r.rp("<userSVGIcon0",e,t,"          ")),r.b("        </i>"),r.b("\n"+n),r.b("        Account"),r.b("\n"+n),r.b("      </a>"),r.b("\n"+n),r.b("    </li>"),r.b("\n"+n),r.b("    <li>"),r.b("\n"+n),r.b("      <a class='help' href='/help' target='_blank' rel='noopener noreferrer'>"),r.b("\n"+n),r.b("        <i class='icon fa fa-fw fa-question'></i>"),r.b("\n"+n),r.b("        Help"),r.b("\n"+n),r.b("      </a>"),r.b("\n"+n),
r.b("    </li>"),r.b("\n"+n),r.b("    <li>"),r.b("\n"+n),r.b("      <a id='logout'>"),r.b("\n"+n),r.b("        <i class='icon fa fa-fw fa-sign-out'></i>"),r.b("\n"+n),r.b("        Sign Out"),r.b("\n"+n),r.b("      </a>"),r.b("\n"+n),r.b("    </li>"),r.b("\n"+n),r.b("  </ul>"),r.b("\n"+n),r.b("</menu>"),r.b("\n"),r.fl()},partials:{"<userSVGIcon0":{name:"userSVGIcon",partials:{},subs:{}}},subs:{}},"<a class='user-menu-toggle dropdown-toggle'>\n  <span class='user-menu-name'></span>\n  <i class='icon fa fa-fw fa-caret-down'></i>\n</a>\n<menu class='dropdown-menu touch-scrollable'>\n  <ul class='dropdown-actions'>\n    <li>\n      <a class='preferences'>\n        <i class='icon fa fa-fw fa-sliders'></i>\n        Preferences&hellip;\n      </a>\n    </li>\n    <li>\n      <a class='community' href='https://communities.ca.com/community/ca-agile-central/ca-flowdock'> \n        <i class='icon fa fa-fw fa-bullhorn'></i>\n        Community&hellip;\n      </a>\n    </li>\n    <li class='e mute' data-close-delay='250' title='Turn off audio- and desktop notifications'>\n      <a>\n        <i class='icon fa fa-fw fa-volume-off'></i>\n        Do Not Disturb\n      </a>\n      <menu class='dropdown-menu sub-menu pull-right'>\n        <ul class='dropdown-actions'>\n          <li>\n            <a data-mute='30'>\n              30 Minutes\n            </a>\n          </li>\n          <li>\n            <a data-mute='60'>\n              1 Hour\n            </a>\n          </li>\n          <li>\n            <a data-mute='480'>\n              8 Hours\n            </a>\n          </li>\n        </ul>\n      </menu>\n    </li>\n  </ul>\n  <ul class='dropdown-actions'>\n    <li class='unmute' style='display:none' title='Turn off Do Not Disturb'>\n      <a>\n        <i class='icon fa fa-fw fa-volume-off'></i>\n        Do Not Disturb\n        <i class='fa fa-fw fa-check icon icon-active'></i>\n      </a>\n    </li>\n    <li>\n      <a class='account' href='/account' target='_blank' rel='noopener noreferrer'>\n        <i class='icon fa fa-fw'>\n          {{> userSVGIcon}}\n        </i>\n        Account\n      </a>\n    </li>\n    <li>\n      <a class='help' href='/help' target='_blank' rel='noopener noreferrer'>\n        <i class='icon fa fa-fw fa-question'></i>\n        Help\n      </a>\n    </li>\n    <li>\n      <a id='logout'>\n        <i class='icon fa fa-fw fa-sign-out'></i>\n        Sign Out\n      </a>\n    </li>\n  </ul>\n</menu>\n",r);
},{"hogan.js":586}],290:[function(e,t,n){var r=e("hogan.js");t.exports=new r.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.b("<div class='overlay-container'>"),r.b("\n"+n),r.b("  <article class='stripe'>"),r.b("\n"+n),r.b("    <div class='content center'>"),r.b("\n"+n),r.b("      <h2 class='promo-title'>Open in Flowdock for Android</h2>"),r.b("\n"+n),r.b("      <p class='promo-description'>"),r.b("\n"+n),r.b("        If you have Flowdock for Android installed, you can open this flow in the app. No extra log-in required."),r.b("\n"+n),r.b("      </p>"),r.b("\n"+n),r.b("      <ul class='promo-button-list'>"),r.b("\n"+n),r.b("        <li>"),r.b("\n"+n),r.b("          <a class='button close'>No thanks</a>"),r.b("\n"+n),r.b("        </li>"),r.b("\n"+n),r.b("        <li>"),r.b("\n"+n),r.b("          <a class='primary-button promotion-link' href='"),r.b(r.v(r.f("content",e,t,0))),r.b("'>Open in Flowdock for Android</a>"),r.b("\n"+n),r.b("        </li>"),r.b("\n"+n),r.b("      </ul>"),r.b("\n"+n),r.b("    </div>"),
r.b("\n"+n),r.b("  </article>"),r.b("\n"+n),r.b("</div>"),r.b("\n"),r.fl()},partials:{},subs:{}},"<div class='overlay-container'>\n  <article class='stripe'>\n    <div class='content center'>\n      <h2 class='promo-title'>Open in Flowdock for Android</h2>\n      <p class='promo-description'>\n        If you have Flowdock for Android installed, you can open this flow in the app. No extra log-in required.\n      </p>\n      <ul class='promo-button-list'>\n        <li>\n          <a class='button close'>No thanks</a>\n        </li>\n        <li>\n          <a class='primary-button promotion-link' href='{{content}}'>Open in Flowdock for Android</a>\n        </li>\n      </ul>\n    </div>\n  </article>\n</div>\n",r)},{"hogan.js":586}],291:[function(e,t,n){var r=e("hogan.js");t.exports=new r.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.b("<a class='close-overlay' title='Close this view.'>"),r.b("\n"+n),r.b("  <span class='fa-stack fa-2x'>"),r.b("\n"+n),r.b("    <i class='fa fa-circle fa-stack-2x'></i>"),
r.b("\n"+n),r.b("    <i class='fa fa-times fa-stack-1x fa-inverse'></i>"),r.b("\n"+n),r.b("  </span>"),r.b("\n"+n),r.b("</a>"),r.b("\n"),r.fl()},partials:{},subs:{}},"<a class='close-overlay' title='Close this view.'>\n  <span class='fa-stack fa-2x'>\n    <i class='fa fa-circle fa-stack-2x'></i>\n    <i class='fa fa-times fa-stack-1x fa-inverse'></i>\n  </span>\n</a>\n",r)},{"hogan.js":586}],292:[function(e,t,n){var r=e("hogan.js");t.exports=new r.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.b("<section class='content clearfix'>"),r.b("\n"+n),r.b("  <div class='image not-found'></div>"),r.b("\n"+n),r.b("  <h3 class='stripe-title'>"),r.b("\n"+n),r.b("    Welcome to "),r.b(r.v(r.f("flowName",e,t,0))),r.b("\n"+n),r.b("  </h3>"),r.b("\n"+n),r.s(r.f("description",e,t,1),e,t,0,155,191,"{{ }}")&&(r.rs(e,t,function(e,t,r){r.b("  <p>"),r.b("\n"+n),r.b("    "),r.b(r.v(r.f("description",e,t,0))),r.b("\n"+n),r.b("  </p>"),r.b("\n"+n)}),e.pop()),r.b("  <p>"),r.b("\n"+n),r.b("    This flow has "),r.b(r.v(r.f("flowMembersCount",e,t,0))),
r.b(" members. "),r.b(r.v(r.f("accessModeCopy",e,t,0))),r.b("\n"+n),r.b("  </p>"),r.b("\n"+n),r.b('  <p class="avatar-strip">'),r.b("\n"+n),r.b("  </p>"),r.b("\n"+n),r.b("  <hr>"),r.b("\n"+n),r.b("  <p />"),r.b("\n"+n),r.b("  <h5 class='stripe-title'>"),r.b("\n"+n),r.b("    Do you want to receive @team notifications in this flow?"),r.b("\n"+n),r.b("  </h5>"),r.b("\n"+n),r.b("  <a class='button primary-button join-team'>Yes, I'm part of @team</a>"),r.b("\n"+n),r.b("  <a class='button hang-around'>No thanks, I'm just spectating</a>"),r.b("\n"+n),r.b("</section>"),r.b("\n"),r.fl()},partials:{},subs:{}},"<section class='content clearfix'>\n  <div class='image not-found'></div>\n  <h3 class='stripe-title'>\n    Welcome to {{flowName}}\n  </h3>\n  {{#description}}\n  <p>\n    {{description}}\n  </p>\n  {{/description}}\n  <p>\n    This flow has {{flowMembersCount}} members. {{accessModeCopy}}\n  </p>\n  <p class=\"avatar-strip\">\n  </p>\n  <hr>\n  <p />\n  <h5 class='stripe-title'>\n    Do you want to receive @team notifications in this flow?\n  </h5>\n  <a class='button primary-button join-team'>Yes, I'm part of @team</a>\n  <a class='button hang-around'>No thanks, I'm just spectating</a>\n</section>\n",r);
},{"hogan.js":586}],293:[function(e,t,n){var r=e("hogan.js");t.exports=new r.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.b("<div class='center' id='not-enabled-notice'>"),r.b("\n"+n),r.b("  <strong>Keyboard shortcuts are disabled.</strong>"),r.b("\n"+n),r.b("  <a id='enable-kbs-btn'>Enable keyboard shortcuts</a>"),r.b("\n"+n),r.b("</div>"),r.b("\n"+n),r.b("<section class='content clearfix'>"),r.b("\n"+n),r.b("  <h3 class='stripe-title'>"),r.b("\n"+n),r.b("    Keyboard Shortcuts"),r.b("\n"+n),r.b("  </h3>"),r.b("\n"+n),r.b("  <hr>"),r.b("\n"+n),r.b("  <dl class='help-list shortcut-list left disabled'>"),r.b("\n"+n),r.b("    <dt>"),r.b(r.t(r.f("unfocus",e,t,0))),r.b("</dt>"),r.b("\n"+n),r.b("    <dd>Unfocus text field</dd>"),r.b("\n"+n),r.b("    <dt>"),r.b(r.t(r.f("nTab",e,t,0))),r.b("</dt>"),r.b("\n"+n),r.b("    <dd>Switch to Nth tab.</dd>"),r.b("\n"+n),r.b("    <dt>"),r.b(r.t(r.f("prevNextTab",e,t,0))),r.b("</dt>"),r.b("\n"+n),r.b("    <dd>Go to previous/next tab.</dd>"),r.b("\n"+n),r.b("    <dt>"),
r.b(r.t(r.f("firstUnread",e,t,0))),r.b("</dt>"),r.b("\n"+n),r.b("    <dd>Go to first tab with unread activity</dd>"),r.b("\n"+n),r.b("    <dt>"),r.b(r.t(r.f("closeTab",e,t,0))),r.b("</dt>"),r.b("\n"+n),r.b("    <dd>Close tab</dd>"),r.b("\n"+n),r.b("    <dt>"),r.b(r.t(r.f("newTab",e,t,0))),r.b("</dt>"),r.b("\n"+n),r.b("    <dd>Open new tab</dd>"),r.b("\n"+n),r.b("    <dt>"),r.b(r.t(r.f("preferences",e,t,0))),r.b("</dt>"),r.b("\n"+n),r.b("    <dd>Open preferences</dd>"),r.b("\n"+n),r.b("    <dt>"),r.b(r.t(r.f("toggleUsers",e,t,0))),r.b("</dt>"),r.b("\n"+n),r.b("    <dd>Show or hide flow users</dd>"),r.b("\n"+n),r.b("    <dt>"),r.b(r.t(r.f("setDND",e,t,0))),r.b("</dt>"),r.b("\n"+n),r.b("    <dd>Do Not Disturb on for 30 minutes</dd>"),r.b("\n"+n),r.b("    <dt>"),r.b(r.t(r.f("focusSearch",e,t,0))),r.b("</dt>"),r.b("\n"+n),r.b("    <dd>Focus search</dd>"),r.b("\n"+n),r.b("    <dt>"),r.b(r.t(r.f("focusChat",e,t,0))),r.b("</dt>"),r.b("\n"+n),r.b("    <dd>Focus chat</dd>"),r.b("\n"+n),r.b("    <dt>"),r.b(r.t(r.f("toggleThread",e,t,0))),
r.b("</dt>"),r.b("\n"+n),r.b("    <dd>Toggle thread</dd>"),r.b("\n"+n),r.b("    <dt>"),r.b(r.t(r.f("toggleSpotlight",e,t,0))),r.b("</dt>"),r.b("\n"+n),r.b("    <dd>Open Quick Flows/1-1s Finder</dd>"),r.b("\n"+n),r.b("  </dl>"),r.b("\n"+n),r.b("  <dl class='help-list shortcut-list'>"),r.b("\n"+n),r.b("    <dt>"),r.b(r.t(r.f("refocus",e,t,0))),r.b("</dt>"),r.b("\n"+n),r.b("    <dd>Refocus last focused field</dd>"),r.b("\n"+n),r.b("    <dt>"),r.b(r.t(r.f("goBack",e,t,0))),r.b("</dt>"),r.b("\n"+n),r.b("    <dd>Go back</dd>"),r.b("\n"+n),r.b("    <dt>"),r.b(r.t(r.f("help",e,t,0))),r.b("</dt>"),r.b("\n"+n),r.b("    <dd>Show this dialog</dd>"),r.b("\n"+n),r.b("    <h5>With chat or comment input focused:</h5>"),r.b("\n"+n),r.b("    <dt>"),r.b(r.t(r.f("editMessage",e,t,0))),r.b("</dt>"),r.b("\n"+n),r.b("    <dd>Edit your latest message</dd>"),r.b("\n"+n),r.b("    <dt>"),r.b(r.t(r.f("prevNextThread",e,t,0))),r.b("</dt>"),r.b("\n"+n),r.b("    <dd>Open previous/next thread</dd>"),r.b("\n"+n),r.b("    <h5>With open thread</h5>"),
r.b("\n"+n),r.b("    <dt>"),r.b(r.t(r.f("flipThread",e,t,0))),r.b("</dt>"),r.b("\n"+n),r.b("    <dd>Flip thread to right or left side</dd>"),r.b("\n"+n),r.b("  </dl>"),r.b("\n"+n),r.b("</section>"),r.b("\n"),r.fl()},partials:{},subs:{}},"<div class='center' id='not-enabled-notice'>\n  <strong>Keyboard shortcuts are disabled.</strong>\n  <a id='enable-kbs-btn'>Enable keyboard shortcuts</a>\n</div>\n<section class='content clearfix'>\n  <h3 class='stripe-title'>\n    Keyboard Shortcuts\n  </h3>\n  <hr>\n  <dl class='help-list shortcut-list left disabled'>\n    <dt>{{& unfocus }}</dt>\n    <dd>Unfocus text field</dd>\n    <dt>{{& nTab }}</dt>\n    <dd>Switch to Nth tab.</dd>\n    <dt>{{& prevNextTab }}</dt>\n    <dd>Go to previous/next tab.</dd>\n    <dt>{{& firstUnread }}</dt>\n    <dd>Go to first tab with unread activity</dd>\n    <dt>{{& closeTab }}</dt>\n    <dd>Close tab</dd>\n    <dt>{{& newTab }}</dt>\n    <dd>Open new tab</dd>\n    <dt>{{& preferences }}</dt>\n    <dd>Open preferences</dd>\n    <dt>{{& toggleUsers }}</dt>\n    <dd>Show or hide flow users</dd>\n    <dt>{{& setDND }}</dt>\n    <dd>Do Not Disturb on for 30 minutes</dd>\n    <dt>{{& focusSearch }}</dt>\n    <dd>Focus search</dd>\n    <dt>{{& focusChat }}</dt>\n    <dd>Focus chat</dd>\n    <dt>{{& toggleThread }}</dt>\n    <dd>Toggle thread</dd>\n    <dt>{{& toggleSpotlight }}</dt>\n    <dd>Open Quick Flows/1-1s Finder</dd>\n  </dl>\n  <dl class='help-list shortcut-list'>\n    <dt>{{& refocus }}</dt>\n    <dd>Refocus last focused field</dd>\n    <dt>{{& goBack }}</dt>\n    <dd>Go back</dd>\n    <dt>{{& help }}</dt>\n    <dd>Show this dialog</dd>\n    <h5>With chat or comment input focused:</h5>\n    <dt>{{& editMessage }}</dt>\n    <dd>Edit your latest message</dd>\n    <dt>{{& prevNextThread }}</dt>\n    <dd>Open previous/next thread</dd>\n    <h5>With open thread</h5>\n    <dt>{{& flipThread }}</dt>\n    <dd>Flip thread to right or left side</dd>\n  </dl>\n</section>\n",r);
},{"hogan.js":586}],294:[function(e,t,n){var r=e("hogan.js");t.exports=new r.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.b("<section class='content clearfix'>"),r.b("\n"+n),r.b("  <h3 class='stripe-title'>Meme Help</h3>"),r.b("\n"+n),r.b("  <hr>"),r.b("\n"+n),r.b("  <p>All Meme commands begin with /meme</p>"),r.b("\n"+n),r.b("  <p>An example usage: /meme /oprah /You get a meme /And you get a meme"),r.b("\n"+n),r.b("  <dl class='help-list command-list meme-commands'>"),r.b("\n"+n),r.b("    <dt>/meme OR /meme help</dt>"),r.b("\n"+n),r.b("    <br /><dd>Display this help.</dd>"),r.b("\n"+n),r.b("    <dt>/meme templates</dt>"),r.b("\n"+n),r.b("    <br /><dd>Show the list of all available meme image templates.</dd>"),r.b("\n"+n),r.b("    <dt>/meme /[template]</dt>"),r.b("\n"+n),r.b("    <br /><dd>Display the meme image specified by [template].</dd>"),r.b("\n"+n),r.b("    <dt>/meme /[template] /[top line text]</dt>"),r.b("\n"+n),r.b("    <br /><dd>Display the meme image specified by [template] with text on the top of the image specified by [top line text].</dd>"),
r.b("\n"+n),r.b("    <dt>/meme /[template] /[top line text] /[bottom line text]</dt>"),r.b("\n"+n),r.b("    <br /><dd>Display the meme image specified by [template] with text on the top of the image specified by [top line text] and text on the bottom specified by [bottom line text].</dd>"),r.b("\n"+n),r.b("  </dl>"),r.b("\n"+n),r.b("</section>"),r.b("\n"),r.fl()},partials:{},subs:{}},"<section class='content clearfix'>\n  <h3 class='stripe-title'>Meme Help</h3>\n  <hr>\n  <p>All Meme commands begin with /meme</p>\n  <p>An example usage: /meme /oprah /You get a meme /And you get a meme\n  <dl class='help-list command-list meme-commands'>\n    <dt>/meme OR /meme help</dt>\n    <br /><dd>Display this help.</dd>\n    <dt>/meme templates</dt>\n    <br /><dd>Show the list of all available meme image templates.</dd>\n    <dt>/meme /[template]</dt>\n    <br /><dd>Display the meme image specified by [template].</dd>\n    <dt>/meme /[template] /[top line text]</dt>\n    <br /><dd>Display the meme image specified by [template] with text on the top of the image specified by [top line text].</dd>\n    <dt>/meme /[template] /[top line text] /[bottom line text]</dt>\n    <br /><dd>Display the meme image specified by [template] with text on the top of the image specified by [top line text] and text on the bottom specified by [bottom line text].</dd>\n  </dl>\n</section>\n",r);
},{"hogan.js":586}],295:[function(e,t,n){var r=e("hogan.js");t.exports=new r.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.b("<section class='content clearfix'>"),r.b("\n"+n),r.b("  <h3 class='stripe-title'>Available Meme Templates</h3>"),r.b("\n"+n),r.b("  <hr>"),r.b("\n"+n),r.b("  <p>Here are the templates available for meme images:</p>"),r.b("\n"+n),r.b("  <dl class='help-list command-list meme-templates'>"),r.b("\n"+n),r.b("    <dt>tenguy</dt><dd>10 Guy</dd>"),r.b("\n"+n),r.b("    <dt>afraid</dt><dd>Afraid to Ask Andy</dd>"),r.b("\n"+n),r.b("    <dt>older</dt><dd>An Older Code Sir, But It Checks Out</dd>"),r.b("\n"+n),r.b("    <dt>aag</dt><dd>Ancient Aliens Guy</dd>"),r.b("\n"+n),r.b("    <dt>tried</dt><dd>At Least You Tried</dd>"),r.b("\n"+n),r.b("    <dt>biw</dt><dd>Baby Insanity Wolf</dd> "),r.b("\n"+n),r.b("    <dt>blb</dt><dd>Bad Luck Brian</dd> "),r.b("\n"+n),r.b("    <dt>kermit</dt><dd>But That's None of My Business</dd>"),r.b("\n"+n),r.b("    <dt>ch</dt><dd>Captain Hindsight</dd>"),
r.b("\n"+n),r.b("    <dt>cbg</dt><dd>Comic Book Guy</dd> "),r.b("\n"+n),r.b("    <dt>wonka</dt><dd>Condescending Wonka</dd> "),r.b("\n"+n),r.b("    <dt>keanu</dt><dd>Conspiracy Keanu</dd> "),r.b("\n"+n),r.b("    <dt>dsm</dt><dd>Dating Site Murderer</dd> "),r.b("\n"+n),r.b("    <dt>live</dt><dd>Do It Live!</dd> "),r.b("\n"+n),r.b("    <dt>ants</dt><dd>Do You Want Ants?</dd> "),r.b("\n"+n),r.b("    <dt>doge</dt><dd>Doge</dd> "),r.b("\n"+n),r.b("    <dt>alwaysonbeat</dt><dd>Drake Always On Beat</dd> "),r.b("\n"+n),r.b("    <dt>ermg</dt><dd>Ermahgerd</dd> "),r.b("\n"+n),r.b("    <dt>fwp</dt><dd>First World Problems</dd> "),r.b("\n"+n),r.b("    <dt>fa</dt><dd>Forever Alone</dd> "),r.b("\n"+n),r.b("    <dt>fry</dt><dd>Futurama Fry</dd> "),r.b("\n"+n),r.b("    <dt>ggg</dt><dd>Good Guy Greg</dd> "),r.b("\n"+n),r.b("    <dt>hipster</dt><dd>Hipster Barista</dd> "),r.b("\n"+n),r.b("    <dt>icanhas</dt><dd>I Can Has Cheezburger?</dd> "),r.b("\n"+n),r.b("    <dt>crazypills</dt><dd>I Feel Like I'm Taking Crazy Pills</dd> "),
r.b("\n"+n),r.b("    <dt>regret</dt><dd>I Immediately Regret This Decision!</dd> "),r.b("\n"+n),r.b("    <dt>boat</dt><dd>I Should Buy a Boat Cat</dd> "),r.b("\n"+n),r.b("    <dt>sohappy</dt><dd>I Would Be So Happy</dd> "),r.b("\n"+n),r.b("    <dt>captain</dt><dd>I am the Captain Now</dd> "),r.b("\n"+n),r.b("    <dt>inigo</dt><dd>Inigo Montoya</dd> "),r.b("\n"+n),r.b("    <dt>iw</dt><dd>Insanity Wolf</dd> "),r.b("\n"+n),r.b("    <dt>joker</dt><dd>It's Simple, Kill the Batman</dd> "),r.b("\n"+n),r.b("    <dt>ive</dt><dd>Jony Ive Redesigns Things</dd> "),r.b("\n"+n),r.b("    <dt>ll</dt><dd>Laughing Lizard</dd> "),r.b("\n"+n),r.b("    <dt>morpheus</dt><dd>Matrix Morpheus</dd> "),r.b("\n"+n),r.b("    <dt>badchoice</dt><dd>Milk Was a Bad Choice</dd> "),r.b("\n"+n),r.b("    <dt>mmm</dt><dd>Minor Mistake Marvin</dd> "),r.b("\n"+n),r.b("    <dt>jetpack</dt><dd>Nothing To Do Here</dd> "),r.b("\n"+n),r.b("    <dt>red</dt><dd>Oh, Is That What We're Going to Do Today?</dd> "),r.b("\n"+n),r.b("    <dt>mordor</dt><dd>One Does Not Simply Walk into Mordor</dd> "),
r.b("\n"+n),r.b("    <dt>oprah</dt><dd>Oprah You Get a Car</dd> "),r.b("\n"+n),r.b("    <dt>remembers</dt><dd>Pepperidge Farm Remembers</dd> "),r.b("\n"+n),r.b("    <dt>philosoraptor</dt><dd>Philosoraptor</dd> "),r.b("\n"+n),r.b("    <dt>jw</dt><dd>Probably Not a Good Idea</dd> "),r.b("\n"+n),r.b("    <dt>sad-obama</dt><dd>Sad Barack Obama</dd> "),r.b("\n"+n),r.b("    <dt>sadfrog</dt><dd>Sad Frog / Feels Bad Man</dd> "),r.b("\n"+n),r.b("    <dt>sad-bush</dt><dd>Sad George Bush</dd> "),r.b("\n"+n),r.b("    <dt>sad-biden</dt><dd>Sad Joe Biden</dd> "),r.b("\n"+n),r.b("    <dt>sarcasticbear</dt><dd>Sarcastic Bear</dd> "),r.b("\n"+n),r.b("    <dt>dwight</dt><dd>Schrute Facts</dd> "),r.b("\n"+n),r.b("    <dt>sb</dt><dd>Scumbag Brain</dd> "),r.b("\n"+n),r.b("    <dt>ss</dt><dd>Scumbag Steve</dd> "),r.b("\n"+n),r.b("    <dt>sf</dt><dd>Sealed Fate</dd> "),r.b("\n"+n),r.b("    <dt>sohot</dt><dd>So Hot Right Now</dd> "),r.b("\n"+n),r.b("    <dt>awesome-awkward</dt><dd>Socially Awesome Awkward Penguin</dd> "),r.b("\n"+n),
r.b("    <dt>awesome</dt><dd>Socially Awesome Penguin</dd> "),r.b("\n"+n),r.b("    <dt>awkward-awesome</dt><dd>Socially Awkward Awesome Penguin</dd> "),r.b("\n"+n),r.b("    <dt>awkward</dt><dd>Socially Awkward Penguin</dd> "),r.b("\n"+n),r.b("    <dt>fetch</dt><dd>Stop Trying to Make Fetch Happen</dd> "),r.b("\n"+n),r.b("    <dt>success</dt><dd>Success Kid</dd> "),r.b("\n"+n),r.b("    <dt>ski</dt><dd>Super Cool Ski Instructor</dd> "),r.b("\n"+n),r.b("    <dt>officespace</dt><dd>That Would Be Great</dd> "),r.b("\n"+n),r.b("    <dt>interesting</dt><dd>The Most Interesting Man in the World</dd> "),r.b("\n"+n),r.b("    <dt>toohigh</dt><dd>The Rent Is Too Damn High</dd> "),r.b("\n"+n),r.b("    <dt>bs</dt><dd>This is Bull, Shark</dd> "),r.b("\n"+n),r.b("    <dt>both</dt><dd>Why Not Both?</dd> "),r.b("\n"+n),r.b("    <dt>xy</dt><dd>X all the Y</dd> "),r.b("\n"+n),r.b("    <dt>buzz</dt><dd>X, X Everywhere</dd> "),r.b("\n"+n),r.b("    <dt>yodawg</dt><dd>Xzibit Yo Dawg</dd> "),r.b("\n"+n),r.b("    <dt>yuno</dt><dd>Y U NO Guy</dd> "),
r.b("\n"+n),r.b("    <dt>yallgot</dt><dd>Y'all Got Any More of Them</dd> "),r.b("\n"+n),r.b("    <dt>bad</dt><dd>You Should Feel Bad</dd> "),r.b("\n"+n),r.b("    <dt>elf</dt><dd>You Sit on a Throne of Lies</dd> "),r.b("\n"+n),r.b("    <dt>chosen</dt><dd>You Were the Chosen One!</dd> "),r.b("\n"+n),r.b("  </dl>"),r.b("\n"+n),r.b("</section>"),r.b("\n"),r.fl()},partials:{},subs:{}},"<section class='content clearfix'>\n  <h3 class='stripe-title'>Available Meme Templates</h3>\n  <hr>\n  <p>Here are the templates available for meme images:</p>\n  <dl class='help-list command-list meme-templates'>\n    <dt>tenguy</dt><dd>10 Guy</dd>\n    <dt>afraid</dt><dd>Afraid to Ask Andy</dd>\n    <dt>older</dt><dd>An Older Code Sir, But It Checks Out</dd>\n    <dt>aag</dt><dd>Ancient Aliens Guy</dd>\n    <dt>tried</dt><dd>At Least You Tried</dd>\n    <dt>biw</dt><dd>Baby Insanity Wolf</dd> \n    <dt>blb</dt><dd>Bad Luck Brian</dd> \n    <dt>kermit</dt><dd>But That's None of My Business</dd>\n    <dt>ch</dt><dd>Captain Hindsight</dd>\n    <dt>cbg</dt><dd>Comic Book Guy</dd> \n    <dt>wonka</dt><dd>Condescending Wonka</dd> \n    <dt>keanu</dt><dd>Conspiracy Keanu</dd> \n    <dt>dsm</dt><dd>Dating Site Murderer</dd> \n    <dt>live</dt><dd>Do It Live!</dd> \n    <dt>ants</dt><dd>Do You Want Ants?</dd> \n    <dt>doge</dt><dd>Doge</dd> \n    <dt>alwaysonbeat</dt><dd>Drake Always On Beat</dd> \n    <dt>ermg</dt><dd>Ermahgerd</dd> \n    <dt>fwp</dt><dd>First World Problems</dd> \n    <dt>fa</dt><dd>Forever Alone</dd> \n    <dt>fry</dt><dd>Futurama Fry</dd> \n    <dt>ggg</dt><dd>Good Guy Greg</dd> \n    <dt>hipster</dt><dd>Hipster Barista</dd> \n    <dt>icanhas</dt><dd>I Can Has Cheezburger?</dd> \n    <dt>crazypills</dt><dd>I Feel Like I'm Taking Crazy Pills</dd> \n    <dt>regret</dt><dd>I Immediately Regret This Decision!</dd> \n    <dt>boat</dt><dd>I Should Buy a Boat Cat</dd> \n    <dt>sohappy</dt><dd>I Would Be So Happy</dd> \n    <dt>captain</dt><dd>I am the Captain Now</dd> \n    <dt>inigo</dt><dd>Inigo Montoya</dd> \n    <dt>iw</dt><dd>Insanity Wolf</dd> \n    <dt>joker</dt><dd>It's Simple, Kill the Batman</dd> \n    <dt>ive</dt><dd>Jony Ive Redesigns Things</dd> \n    <dt>ll</dt><dd>Laughing Lizard</dd> \n    <dt>morpheus</dt><dd>Matrix Morpheus</dd> \n    <dt>badchoice</dt><dd>Milk Was a Bad Choice</dd> \n    <dt>mmm</dt><dd>Minor Mistake Marvin</dd> \n    <dt>jetpack</dt><dd>Nothing To Do Here</dd> \n    <dt>red</dt><dd>Oh, Is That What We're Going to Do Today?</dd> \n    <dt>mordor</dt><dd>One Does Not Simply Walk into Mordor</dd> \n    <dt>oprah</dt><dd>Oprah You Get a Car</dd> \n    <dt>remembers</dt><dd>Pepperidge Farm Remembers</dd> \n    <dt>philosoraptor</dt><dd>Philosoraptor</dd> \n    <dt>jw</dt><dd>Probably Not a Good Idea</dd> \n    <dt>sad-obama</dt><dd>Sad Barack Obama</dd> \n    <dt>sadfrog</dt><dd>Sad Frog / Feels Bad Man</dd> \n    <dt>sad-bush</dt><dd>Sad George Bush</dd> \n    <dt>sad-biden</dt><dd>Sad Joe Biden</dd> \n    <dt>sarcasticbear</dt><dd>Sarcastic Bear</dd> \n    <dt>dwight</dt><dd>Schrute Facts</dd> \n    <dt>sb</dt><dd>Scumbag Brain</dd> \n    <dt>ss</dt><dd>Scumbag Steve</dd> \n    <dt>sf</dt><dd>Sealed Fate</dd> \n    <dt>sohot</dt><dd>So Hot Right Now</dd> \n    <dt>awesome-awkward</dt><dd>Socially Awesome Awkward Penguin</dd> \n    <dt>awesome</dt><dd>Socially Awesome Penguin</dd> \n    <dt>awkward-awesome</dt><dd>Socially Awkward Awesome Penguin</dd> \n    <dt>awkward</dt><dd>Socially Awkward Penguin</dd> \n    <dt>fetch</dt><dd>Stop Trying to Make Fetch Happen</dd> \n    <dt>success</dt><dd>Success Kid</dd> \n    <dt>ski</dt><dd>Super Cool Ski Instructor</dd> \n    <dt>officespace</dt><dd>That Would Be Great</dd> \n    <dt>interesting</dt><dd>The Most Interesting Man in the World</dd> \n    <dt>toohigh</dt><dd>The Rent Is Too Damn High</dd> \n    <dt>bs</dt><dd>This is Bull, Shark</dd> \n    <dt>both</dt><dd>Why Not Both?</dd> \n    <dt>xy</dt><dd>X all the Y</dd> \n    <dt>buzz</dt><dd>X, X Everywhere</dd> \n    <dt>yodawg</dt><dd>Xzibit Yo Dawg</dd> \n    <dt>yuno</dt><dd>Y U NO Guy</dd> \n    <dt>yallgot</dt><dd>Y'all Got Any More of Them</dd> \n    <dt>bad</dt><dd>You Should Feel Bad</dd> \n    <dt>elf</dt><dd>You Sit on a Throne of Lies</dd> \n    <dt>chosen</dt><dd>You Were the Chosen One!</dd> \n  </dl>\n</section>\n",r);
},{"hogan.js":586}],296:[function(e,t,n){var r=e("hogan.js");t.exports=new r.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.b("<section class='content clearfix'>"),r.b("\n"+n),r.b("  <div class='image not-found'></div>"),r.b("\n"+n),r.b("  <h3 class='stripe-title'>"),r.b("\n"+n),r.b("    <span class='fa fa-copy'></span>"),r.b("\n"+n),r.b("    Whoa! Identical display names detected"),r.b("\n"+n),r.b("  </h3>"),r.b("\n"+n),r.b("  <hr>"),r.b("\n"+n),r.b("  <p>"),r.b("\n"+n),r.b("    Looks like another person in this flow ("),r.b(r.v(r.f("name",e,t,0))),r.b(") has the same display name as you. This might"),r.b("\n"+n),r.b("    lead to some confusion within the flow."),r.b("\n"+n),r.b("  </p>"),r.b("\n"+n),r.b("  <p>"),r.b("\n"+n),r.b("    There are two ways to resolve this. You can either change your own display name by editing your"),r.b("\n"+n),r.b("    profile, or you can discuss it with "),r.b(r.v(r.f("name",e,t,0))),r.b(" to figure out who should change their display name."),r.b("\n"+n),r.b("  </p>"),
r.b("\n"+n),r.b("  <a class='button primary-button close' href='/account/edit' target='_blank' rel='noopener noreferrer'>Edit your profile</a>"),r.b("\n"+n),r.b("  <a class='button open-private'>Start a 1-to-1 chat with "),r.b(r.v(r.f("name",e,t,0))),r.b("</a>"),r.b("\n"+n),r.b("</section>"),r.b("\n"),r.fl()},partials:{},subs:{}},"<section class='content clearfix'>\n  <div class='image not-found'></div>\n  <h3 class='stripe-title'>\n    <span class='fa fa-copy'></span>\n    Whoa! Identical display names detected\n  </h3>\n  <hr>\n  <p>\n    Looks like another person in this flow ({{name}}) has the same display name as you. This might\n    lead to some confusion within the flow.\n  </p>\n  <p>\n    There are two ways to resolve this. You can either change your own display name by editing your\n    profile, or you can discuss it with {{name}} to figure out who should change their display name.\n  </p>\n  <a class='button primary-button close' href='/account/edit' target='_blank' rel='noopener noreferrer'>Edit your profile</a>\n  <a class='button open-private'>Start a 1-to-1 chat with {{name}}</a>\n</section>\n",r);
},{"hogan.js":586}],297:[function(e,t,n){var r=e("hogan.js");t.exports=new r.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.b("<section class='content clearfix'>"),r.b("\n"+n),r.b("  <h3 class='stripe-title'>Initiating Screenhero call with "),r.b(r.v(r.f("toUser",e,t,0))),r.b("</h3>"),r.b("\n"+n),r.b("  <hr class='short'>"),r.b("\n"+n),r.b("  <p class='screenhero-message'>"),r.s(r.f("message",e,t,1),e,t,0,175,189,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b(n.t(n.f("message",e,t,0)))}),e.pop()),r.b("</p>"),r.b("\n"+n),r.b("  <form>"),r.b("\n"+n),r.b("    <ul class='buttons right'>"),r.b("\n"+n),r.s(r.f("callSucceeded",e,t,1),e,t,1,0,0,"")||(r.b("      <li>"),r.b("\n"+n),r.b("        <button class='button close'>Cancel</button>"),r.b("\n"+n),r.b("      </li>"),r.b("\n"+n)),r.b("      <li>"),r.b("\n"+n),r.s(r.f("callSucceeded",e,t,1),e,t,0,409,496,"{{ }}")&&(r.rs(e,t,function(e,t,r){r.b("        <button class='primary-button' id='make-call'>Return to flow</button>"),r.b("\n"+n)}),e.pop()),r.s(r.f("callSucceeded",e,t,1),e,t,1,0,0,"")||(r.s(r.f("isCalling",e,t,1),e,t,0,564,656,"{{ }}")&&(r.rs(e,t,function(e,t,r){
r.b("        <button class='primary-button' disabled id='make-call'>Calling...</button>"),r.b("\n"+n)}),e.pop()),r.s(r.f("isCalling",e,t,1),e,t,1,0,0,"")||(r.b("        <button class='primary-button' id='make-call'>Retry</button>"),r.b("\n"+n))),r.b("      </li>"),r.b("\n"+n),r.b("    </ul>"),r.b("\n"+n),r.b("  </form>"),r.b("\n"+n),r.b("</section>"),r.b("\n"),r.fl()},partials:{},subs:{}},"<section class='content clearfix'>\n  <h3 class='stripe-title'>Initiating Screenhero call with {{toUser}}</h3>\n  <hr class='short'>\n  <p class='screenhero-message'>{{#message}}{{& message }}{{/message}}</p>\n  <form>\n    <ul class='buttons right'>\n      {{^callSucceeded}}\n      <li>\n        <button class='button close'>Cancel</button>\n      </li>\n      {{/callSucceeded}}\n      <li>\n        {{#callSucceeded}}\n        <button class='primary-button' id='make-call'>Return to flow</button>\n        {{/callSucceeded}}\n        {{^callSucceeded}}\n        {{#isCalling}}\n        <button class='primary-button' disabled id='make-call'>Calling...</button>\n        {{/isCalling}}\n        {{^isCalling}}\n        <button class='primary-button' id='make-call'>Retry</button>\n        {{/isCalling}}\n        {{/callSucceeded}}\n      </li>\n    </ul>\n  </form>\n</section>\n",r);
},{"hogan.js":586}],298:[function(e,t,n){var r=e("hogan.js");t.exports=new r.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.b("<section class='content clearfix'>"),r.b("\n"+n),r.b("  <h3 class='stripe-title'>Flowdock chat /commands</h3>"),r.b("\n"+n),r.b("  <hr>"),r.b("\n"+n),r.b("  <p>These commands can be typed into any chat or comment input in Flowdock.</p>"),r.b("\n"+n),r.b("  <dl class='help-list command-list'>"),r.b("\n"+n),r.b("    <dt>/help OR /?</dt>"),r.b("\n"+n),r.b("    <dd>Display this help.</dd>"),r.b("\n"+n),r.b("    <dt>/status [message] OR /away [message]</dt>"),r.b("\n"+n),r.b("    <dd>Send status message or clear status if no message is given.</dd>"),r.b("\n"+n),r.b("    <dt>/me message</dt>"),r.b("\n"+n),r.b("    <dd>Send an action message that does not change your status.</dd>"),r.b("\n"+n),r.b("    <dt>/appear [room name] OR /appear</dt>"),r.b("\n"+n),r.b("    <dd>Start a new appear.in video call with your flow. If you don't pass in a room name, one will be generated for you.</dd>"),
r.b("\n"+n),r.b("    <dt>/query @Nick</dt>"),r.b("\n"+n),r.b("    <dd>Start a 1-to-1 conversation with Nick.</dd>"),r.b("\n"+n),r.b("    <dt>/slap Nick</dt>"),r.b("\n"+n),r.b("    <dd>Slap Nick with a fish.</dd>"),r.b("\n"+n),r.b("    <dt>/giphy [search terms]</dt>"),r.b("\n"+n),r.b("    <dd>Show an animated image from Giphy that matches the search terms.</dd>"),r.b("\n"+n),r.b("    <dt>/meme help</dt>"),r.b("\n"+n),r.b("    <dd>Show detailed help for the /meme command.</dd>"),r.b("\n"+n),r.b("    <dt>/ /text</dt>"),r.b("\n"+n),r.b("    <dd>Send a normal message that starts with /text.</dd>"),r.b("\n"+n),r.b("  </dl>"),r.b("\n"+n),r.b("</section>"),r.b("\n"),r.fl()},partials:{},subs:{}},"<section class='content clearfix'>\n  <h3 class='stripe-title'>Flowdock chat /commands</h3>\n  <hr>\n  <p>These commands can be typed into any chat or comment input in Flowdock.</p>\n  <dl class='help-list command-list'>\n    <dt>/help OR /?</dt>\n    <dd>Display this help.</dd>\n    <dt>/status [message] OR /away [message]</dt>\n    <dd>Send status message or clear status if no message is given.</dd>\n    <dt>/me message</dt>\n    <dd>Send an action message that does not change your status.</dd>\n    <dt>/appear [room name] OR /appear</dt>\n    <dd>Start a new appear.in video call with your flow. If you don't pass in a room name, one will be generated for you.</dd>\n    <dt>/query @Nick</dt>\n    <dd>Start a 1-to-1 conversation with Nick.</dd>\n    <dt>/slap Nick</dt>\n    <dd>Slap Nick with a fish.</dd>\n    <dt>/giphy [search terms]</dt>\n    <dd>Show an animated image from Giphy that matches the search terms.</dd>\n    <dt>/meme help</dt>\n    <dd>Show detailed help for the /meme command.</dd>\n    <dt>/ /text</dt>\n    <dd>Send a normal message that starts with /text.</dd>\n  </dl>\n</section>\n",r);
},{"hogan.js":586}],299:[function(e,t,n){var r=e("hogan.js");t.exports=new r.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.b("<h3>Drop files to "),r.b(r.v(r.f("targetName",e,t,0))),r.b("</h3>"),r.b("\n"+n),r.b("<p>Single file size is limited to 200MB.</p>"),r.b("\n"),r.fl()},partials:{},subs:{}},"<h3>Drop files to {{targetName}}</h3>\n<p>Single file size is limited to 200MB.</p>\n",r)},{"hogan.js":586}],300:[function(e,t,n){var r=e("hogan.js");t.exports=new r.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.b("<h3>Upload "),r.b(r.v(r.f("fileCount",e,t,0))),r.b(" files to "),r.b(r.v(r.f("targetName",e,t,0))),r.b("?</h3>"),r.b("\n"+n),r.b('<button class="primary-button" data-confirm-upload>Continue</button>'),r.b("\n"+n),r.b('<button class="secondary-button" data-cancel-upload>Cancel</button>'),r.b("\n"),r.fl()},partials:{},subs:{}},'<h3>Upload {{fileCount}} files to {{targetName}}?</h3>\n<button class="primary-button" data-confirm-upload>Continue</button>\n<button class="secondary-button" data-cancel-upload>Cancel</button>\n',r);
},{"hogan.js":586}],301:[function(e,t,n){var r=e("hogan.js");t.exports=new r.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.b("<a class='external' href='"),r.b(r.v(r.d("file.path",e,t,0))),r.b("' target='_blank' rel='noopener noreferrer'>"),r.b("\n"+n),r.b("  <div class='icon "),r.b(r.v(r.d("file.type",e,t,0))),r.b("'></div>"),r.b("\n"+n),r.b("  <span class='file-properties'>"),r.b("\n"+n),r.s(r.f("meta",e,t,1),e,t,0,171,189,"{{ }}")&&(r.rs(e,t,function(e,t,r){r.b("    "),r.b(r.v(r.f("text",e,t,0))),r.b("\n"+n)}),e.pop()),r.b("  </span>"),r.b("\n"+n),r.b("</a>"),r.b("\n"),r.fl()},partials:{},subs:{}},"<a class='external' href='{{file.path}}' target='_blank' rel='noopener noreferrer'>\n  <div class='icon {{file.type}}'></div>\n  <span class='file-properties'>\n    {{#meta}}\n    {{text}}\n    {{/meta}}\n  </span>\n</a>\n",r)},{"hogan.js":586}],302:[function(e,t,n){var r=e("hogan.js");t.exports=new r.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.b("<a class='document-preview-link' href='"),
r.b(r.v(r.f("url",e,t,0))),r.b("'>"),r.b("\n"+n),r.b("  <span class='icon "),r.b(r.v(r.f("type",e,t,0))),r.b("'></span>"),r.b("\n"+n),r.b("  "),r.b(r.v(r.f("url",e,t,0))),r.b("\n"+n),r.b("  <i class='fa fa-external-link'></i>"),r.b("\n"+n),r.b("</a>"),r.fl()},partials:{},subs:{}},"<a class='document-preview-link' href='{{url}}'>\n  <span class='icon {{type}}'></span>\n  {{url}}\n  <i class='fa fa-external-link'></i>\n</a>",r)},{"hogan.js":586}],303:[function(e,t,n){var r=e("hogan.js");t.exports=new r.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.b("<ul class='emoji-groups'>"),r.b("\n"+n),r.b('  <li><a class="open-help" target="_blank" rel="noopener noreferrer" href="/help/chat_input"><i class=\'fa fa-question-circle\'></i></a></li>'),r.b("\n"+n),r.b("</ul>"),r.b("\n"+n),r.b('<div class="emoji-content">'),r.b("\n"+n),r.b('  <div class="filter">'),r.b("\n"+n),r.b('    <input class="emoji-filter" type="text" placeholder="Search..." required>'),r.b("\n"+n),r.b('    <a class="clear fa fa-times"></a>'),
r.b("\n"+n),r.b('    <ul class="results" data-emoji-group="Results"></ul>'),r.b("\n"+n),r.b("  </div>"),r.b("\n"+n),r.b('  <div class="emojis"></div>'),r.b("\n"+n),r.b('  <a href="'),r.b(r.v(r.f("preferencesUrl",e,t,0))),r.b('" target="_blank" rel="noopener noreferrer" class="add-custom-emoji">'),r.b("\n"+n),r.b('    <i class="fa fa-plus"></i> Add your own emoji...</a>'),r.b("\n"+n),r.b("</div>"),r.fl()},partials:{},subs:{}},'<ul class=\'emoji-groups\'>\n  <li><a class="open-help" target="_blank" rel="noopener noreferrer" href="/help/chat_input"><i class=\'fa fa-question-circle\'></i></a></li>\n</ul>\n<div class="emoji-content">\n  <div class="filter">\n    <input class="emoji-filter" type="text" placeholder="Search..." required>\n    <a class="clear fa fa-times"></a>\n    <ul class="results" data-emoji-group="Results"></ul>\n  </div>\n  <div class="emojis"></div>\n  <a href="{{preferencesUrl}}" target="_blank" rel="noopener noreferrer" class="add-custom-emoji">\n    <i class="fa fa-plus"></i> Add your own emoji...</a>\n</div>',r);
},{"hogan.js":586}],304:[function(e,t,n){var r=e("hogan.js");t.exports=new r.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.b("<div class='coach-tooltip-content'><div class='coach-tooltip-title'>Do you want to alert "),r.b(r.v(r.f("userCount",e,t,0))),r.b(" people?</div><div class='coach-tooltip-description'><span class=\"tag mention highlight\">"),r.b(r.v(r.f("usedTag",e,t,0))),r.b("</span> will notify all the people in the <em>"),r.b(r.v(r.f("flowName",e,t,0))),r.b('</em> flow. <span class="tag highlight mention">@team</span> will only alert the people who want to be notified. Consider using it instead.</div></div>'),r.b("\n"+n),r.b("<div class='coach-tooltip-footer'>"),r.b("\n"+n),r.b("  <a class='coach-tooltip-next'>Send anyway <span class=\"keycode-small\">&crarr;</span></a>"),r.b("\n"+n),r.b("  <a class='coach-tooltip-stop'>Edit message <span class=\"keycode\">ESC</span></a>"),r.b("\n"+n),r.b("</div>"),r.b("\n"),r.fl()},partials:{},subs:{}},"<div class='coach-tooltip-content'><div class='coach-tooltip-title'>Do you want to alert {{userCount}} people?</div><div class='coach-tooltip-description'><span class=\"tag mention highlight\">{{usedTag}}</span> will notify all the people in the <em>{{flowName}}</em> flow. <span class=\"tag highlight mention\">@team</span> will only alert the people who want to be notified. Consider using it instead.</div></div>\n<div class='coach-tooltip-footer'>\n  <a class='coach-tooltip-next'>Send anyway <span class=\"keycode-small\">&crarr;</span></a>\n  <a class='coach-tooltip-stop'>Edit message <span class=\"keycode\">ESC</span></a>\n</div>\n",r);
},{"hogan.js":586}],305:[function(e,t,n){var r=e("hogan.js");t.exports=new r.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.b('<pre><span class="copy"></span><br></pre>'),r.b("\n"+n),r.b("<textarea class='message-input' data-input-id='"),r.b(r.v(r.f("persistId",e,t,0))),r.b("' dir='auto' maxlength='"),r.b(r.v(r.f("maxlength",e,t,0))),r.b("' placeholder='"),r.b(r.v(r.f("placeholder",e,t,0))),r.b("' rows='1'></textarea>"),r.b("\n"),r.fl()},partials:{},subs:{}},"<pre><span class=\"copy\"></span><br></pre>\n<textarea class='message-input' data-input-id='{{persistId}}' dir='auto' maxlength='{{maxlength}}' placeholder='{{placeholder}}' rows='1'></textarea>\n",r)},{"hogan.js":586}],306:[function(e,t,n){var r=e("hogan.js");t.exports=new r.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.b("<input id='fileupload' name='"),r.b(r.v(r.f("paramName",e,t,0))),r.b("' type='file'>"),r.b("\n"+n),r.b("<input name='event' type='hidden' value='file'>"),r.b("\n"+n),r.b("<input name='uuid' type='hidden' value=''>"),
r.b("\n"+n),r.b("<input name='tags' type='hidden' value=''>"),r.b("\n"),r.fl()},partials:{},subs:{}},"<input id='fileupload' name='{{paramName}}' type='file'>\n<input name='event' type='hidden' value='file'>\n<input name='uuid' type='hidden' value=''>\n<input name='tags' type='hidden' value=''>\n",r)},{"hogan.js":586}],307:[function(e,t,n){var r=e("hogan.js");t.exports=new r.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.b("<div class='jump-to-current below'>"),r.b("\n"+n),r.b("  <i class='fa fa-arrow-down'></i>"),r.b("\n"+n),r.b("  <span>Jump to present</span>"),r.b("\n"+n),r.b("</div>"),r.b("\n"),r.fl()},partials:{},subs:{}},"<div class='jump-to-current below'>\n  <i class='fa fa-arrow-down'></i>\n  <span>Jump to present</span>\n</div>\n",r)},{"hogan.js":586}],308:[function(e,t,n){var r=e("hogan.js");t.exports=new r.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.b("<div class='jump-to-marker above icon-arrow-up-3'>"),r.b("\n"+n),r.b("  <span data-marker-jump>Jump to last read message</span>"),
r.b("\n"+n),r.b("  <i class='fa fa-times remove-marker' data-marker-remove></i>"),r.b("\n"+n),r.b("</div>"),r.b("\n"),r.fl()},partials:{},subs:{}},"<div class='jump-to-marker above icon-arrow-up-3'>\n  <span data-marker-jump>Jump to last read message</span>\n  <i class='fa fa-times remove-marker' data-marker-remove></i>\n</div>\n",r)},{"hogan.js":586}],309:[function(e,t,n){var r=e("hogan.js");t.exports=new r.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.b("<footer class='msg-footer'>"),r.b("\n"+n),r.b("  "),r.s(r.f("editTime",e,t,1),e,t,0,43,57,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b(n.t(n.f("editTime",e,t,0)))}),e.pop()),r.b("\n"+n),r.b("  <ul class='tags'>"),r.b("\n"+n),r.s(r.f("tags",e,t,1),e,t,0,104,140,"{{ }}")&&(r.rs(e,t,function(e,t,r){r.b("    <li class='tag'>"),r.b(r.v(r.d(".",e,t,0))),r.b("</li>"),r.b("\n"+n)}),e.pop()),r.b("  </ul>"),r.b("\n"+n),r.b("  <ul class='emoji-reactions'>"),r.b("\n"+n),r.b("  </ul>"),r.b("\n"+n),r.b("</footer>"),r.b("\n"),r.fl()},partials:{},subs:{}},"<footer class='msg-footer'>\n  {{#editTime}}{{& editTime}}{{/editTime}}\n  <ul class='tags'>\n    {{#tags}}\n    <li class='tag'>{{.}}</li>\n    {{/tags}}\n  </ul>\n  <ul class='emoji-reactions'>\n  </ul>\n</footer>\n",r);
},{"hogan.js":586}],310:[function(e,t,n){var r=e("hogan.js");t.exports=new r.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.b("<div class='textarea-autocompleter-area'></div>"),r.b("\n"+n),r.b("<fieldset>"),r.b("\n"+n),r.b("  <ol>"),r.b("\n"+n),r.b("    <li class='left'>"),r.b("\n"+n),r.b(r.rp("<before0",e,t,"      ")),r.b("    </li>"),r.b("\n"+n),r.s(r.f("mobile",e,t,1),e,t,0,132,412,"{{ }}")&&(r.rs(e,t,function(e,t,r){r.b("      <li class='send right'>"),r.b("\n"+n),r.b("        <a class='input-button send-button' type='submit'>Send</a>"),r.b("\n"+n),r.b("        <a class='input-button tipsy-tooltip upload-button enabled' data-tipsy-gravity='s' title='Upload a file'>"),r.b("\n"+n),r.b("          <i class='fa fa-upload'></i>"),r.b("\n"+n),r.b("        </a>"),r.b("\n"+n),r.b("      </li>"),r.b("\n"+n)}),e.pop()),r.b("    <li class='textarea no-overflow'>"),r.b("\n"+n),r.b("      <div class='expanding-input'></div>"),r.b("\n"+n),r.b("    </li>"),r.b("\n"+n),r.b("  </ol>"),r.b("\n"+n),r.b("</fieldset>"),
r.b("\n"+n),r.s(r.f("mobile",e,t,1),e,t,1,0,0,"")||(r.b('  <a class="upload-button-web message-building-button" title="Upload attachments">'),r.b("\n"+n),r.b('    <div class="multi-button-wrapper">'),r.b("\n"+n),r.b(r.rp("<paperclipSVGIcon1",e,t,"      ")),r.b("    </div>"),r.b("\n"+n),r.b("  </a>"),r.b("\n"+n),r.b('  <a class="slash-commands-toggle message-building-button" title="Command menu">'),r.b("\n"+n),r.b('    <div class="multi-button-wrapper">'),r.b("\n"+n),r.b(r.rp("<slashSVGIcon2",e,t,"      ")),r.b("    </div>"),r.b("\n"+n),r.b("  </a>"),r.b("\n"+n),r.b('  <a class="emoji-picker-toggle message-building-button" title="Emoji menu"><i class="fa fa-smile-o"></i></a>'),r.b("\n"+n)),r.fl()},partials:{"<before0":{name:"before",partials:{},subs:{}},"<paperclipSVGIcon1":{name:"paperclipSVGIcon",partials:{},subs:{}},"<slashSVGIcon2":{name:"slashSVGIcon",partials:{},subs:{}}},subs:{}},"<div class='textarea-autocompleter-area'></div>\n<fieldset>\n  <ol>\n    <li class='left'>\n      {{> before}}\n    </li>\n    {{#mobile}}\n      <li class='send right'>\n        <a class='input-button send-button' type='submit'>Send</a>\n        <a class='input-button tipsy-tooltip upload-button enabled' data-tipsy-gravity='s' title='Upload a file'>\n          <i class='fa fa-upload'></i>\n        </a>\n      </li>\n    {{/mobile}}\n    <li class='textarea no-overflow'>\n      <div class='expanding-input'></div>\n    </li>\n  </ol>\n</fieldset>\n{{^mobile}}\n  <a class=\"upload-button-web message-building-button\" title=\"Upload attachments\">\n    <div class=\"multi-button-wrapper\">\n      {{> paperclipSVGIcon}}\n    </div>\n  </a>\n  <a class=\"slash-commands-toggle message-building-button\" title=\"Command menu\">\n    <div class=\"multi-button-wrapper\">\n      {{> slashSVGIcon}}\n    </div>\n  </a>\n  <a class=\"emoji-picker-toggle message-building-button\" title=\"Emoji menu\"><i class=\"fa fa-smile-o\"></i></a>\n{{/mobile}}\n",r);
},{"hogan.js":586}],311:[function(e,t,n){var r=e("hogan.js");t.exports=new r.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.b("<span class='"),r.b(r.v(r.f("iconClass",e,t,0))),r.b("'></span>"),r.b("\n"+n),r.s(r.f("count",e,t,1),e,t,0,46,97,"{{ }}")&&(r.rs(e,t,function(e,t,r){r.b("<span>"),r.b(r.v(r.f("count",e,t,0))),r.b(" new messages "),r.b(r.v(r.f("direction",e,t,0))),r.b("</span>"),r.b("\n"+n)}),e.pop()),r.s(r.f("count",e,t,1),e,t,1,0,0,"")||(r.b("<span>1 new message "),r.b(r.v(r.f("direction",e,t,0))),r.b("</span>"),r.b("\n"+n)),r.fl()},partials:{},subs:{}},"<span class='{{iconClass}}'></span>\n{{#count}}\n<span>{{count}} new messages {{direction}}</span>\n{{/count}}\n{{^count}}\n<span>1 new message {{direction}}</span>\n{{/count}}\n",r)},{"hogan.js":586}],312:[function(e,t,n){var r=e("hogan.js");t.exports=new r.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.b("<li class='overlay-tab' rel='"),r.b(r.v(r.f("rel",e,t,0))),r.b("'>"),r.b("\n"+n),r.b(r.rp("<icon0",e,t,"  ")),r.b("  "),
r.b(r.v(r.f("title",e,t,0))),r.b("\n"+n),r.b("</li>"),r.b("\n"),r.fl()},partials:{"<icon0":{name:"icon",partials:{},subs:{}}},subs:{}},"<li class='overlay-tab' rel='{{rel}}'>\n  {{> icon}}\n  {{title}}\n</li>\n",r)},{"hogan.js":586}],313:[function(e,t,n){var r=e("hogan.js");t.exports=new r.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.b("<div class='coach-tooltip-content'><div class='coach-tooltip-title'>Are you sure you want to share this with Rally?</div></div>"),r.b("\n"+n),r.b("<div class='coach-tooltip-footer'>"),r.b("\n"+n),r.b("  <a class='coach-tooltip-next'>Yes</a>"),r.b("\n"+n),r.b("  <a class='coach-tooltip-stop'>No</a>"),r.b("\n"+n),r.b("</div>"),r.b("\n"),r.fl()},partials:{},subs:{}},"<div class='coach-tooltip-content'><div class='coach-tooltip-title'>Are you sure you want to share this with Rally?</div></div>\n<div class='coach-tooltip-footer'>\n  <a class='coach-tooltip-next'>Yes</a>\n  <a class='coach-tooltip-stop'>No</a>\n</div>\n",r)},{"hogan.js":586}],314:[function(e,t,n){var r=e("hogan.js");
t.exports=new r.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.b('<div class="commands-content">'),r.b("\n"+n),r.b('  <p class="commands-menu-header">Commands</p>'),r.b("\n"+n),r.b("</div>"),r.b("\n"),r.fl()},partials:{},subs:{}},'<div class="commands-content">\n  <p class="commands-menu-header">Commands</p>\n</div>\n',r)},{"hogan.js":586}],315:[function(e,t,n){var r=e("hogan.js");t.exports=new r.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.b("<div class='coach-tooltip-content'><div class='coach-tooltip-title replace-plain-text-with-command-warning'>Are you sure you want to replace text input with this command?</div></div>"),r.b("\n"+n),r.b("<div class='coach-tooltip-footer'>"),r.b("\n"+n),r.b("  <a class='coach-tooltip-next replace-plain-text-with-command-yes'>Yes</a>"),r.b("\n"+n),r.b("  <a class='coach-tooltip-stop replace-plain-text-with-command-no'>No</a>"),r.b("\n"+n),r.b("</div>"),r.fl()},partials:{},subs:{}},"<div class='coach-tooltip-content'><div class='coach-tooltip-title replace-plain-text-with-command-warning'>Are you sure you want to replace text input with this command?</div></div>\n<div class='coach-tooltip-footer'>\n  <a class='coach-tooltip-next replace-plain-text-with-command-yes'>Yes</a>\n  <a class='coach-tooltip-stop replace-plain-text-with-command-no'>No</a>\n</div>",r);
},{"hogan.js":586}],316:[function(e,t,n){var r=e("hogan.js");t.exports=new r.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.b("<div class='coach-tooltip-content'>"),r.b("\n"+n),r.b("  <div class='coach-tooltip-title'>"),r.b(r.v(r.f("tag",e,t,0))),r.b("</div>"),r.b("\n"+n),r.b("  <div class='coach-tooltip-description'>"),r.b("\n"+n),r.b("    "),r.b(r.t(r.f("childPillsHTML",e,t,0))),r.b("\n"+n),r.s(r.f("noMembers",e,t,1),e,t,0,170,228,"{{ }}")&&(r.rs(e,t,function(e,t,r){r.b("      <div>There are no members in this group.</div>"),r.b("\n"+n)}),e.pop()),r.b("  </div>"),r.b("\n"+n),r.b("</div>"),r.b("\n"+n),r.b("<div class='coach-tooltip-footer'>"),r.b("\n"+n),r.s(r.f("isGroup",e,t,1),e,t,0,308,366,"{{ }}")&&(r.rs(e,t,function(e,t,r){r.b("    <a class='coach-tooltip-next group'>Edit Group</a>"),r.b("\n"+n)}),e.pop()),r.s(r.f("isTeam",e,t,1),e,t,0,392,470,"{{ }}")&&(r.rs(e,t,function(e,t,r){r.b("    <a class='coach-tooltip-next team'>"),r.b(r.v(r.f("muteVerb",e,t,0))),r.b(" @team in this flow</a>"),
r.b("\n"+n)}),e.pop()),r.b("  <a class='coach-tooltip-stop'>Close</a>"),r.b("\n"+n),r.b("</div>"),r.b("\n"),r.fl()},partials:{},subs:{}},"<div class='coach-tooltip-content'>\n  <div class='coach-tooltip-title'>{{tag}}</div>\n  <div class='coach-tooltip-description'>\n    {{{childPillsHTML}}}\n    {{#noMembers}}\n      <div>There are no members in this group.</div>\n    {{/noMembers}}\n  </div>\n</div>\n<div class='coach-tooltip-footer'>\n  {{#isGroup}}\n    <a class='coach-tooltip-next group'>Edit Group</a>\n  {{/isGroup}}\n  {{#isTeam}}\n    <a class='coach-tooltip-next team'>{{muteVerb}} @team in this flow</a>\n  {{/isTeam}}\n  <a class='coach-tooltip-stop'>Close</a>\n</div>\n",r)},{"hogan.js":586}],317:[function(e,t,n){var r=e("hogan.js");t.exports=new r.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.b(r.rp("<icon0",e,t,"")),r.b("<div class='title-body'>"),r.b("\n"+n),r.b("  "),r.b(r.t(r.f("body",e,t,0))),r.b("\n"+n),r.b("</div>"),r.b("\n"),r.fl()},partials:{"<icon0":{name:"icon",partials:{},
subs:{}}},subs:{}},"{{> icon}}\n<div class='title-body'>\n  {{& body }}\n</div>\n",r)},{"hogan.js":586}],318:[function(e,t,n){var r=e("hogan.js");t.exports=new r.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.b("<a class='"),r.b(r.v(r.f("class",e,t,0))),r.b("' href='"),r.b(r.v(r.f("link",e,t,0))),r.b("' target='_blank' rel='noopener noreferrer' title='"),r.b(r.v(r.f("text",e,t,0))),r.b("'>"),r.b("\n"+n),r.b("  "),r.b(r.v(r.f("text",e,t,0))),r.b("\n"+n),r.s(r.f("icon",e,t,1),e,t,0,119,152,"{{ }}")&&(r.rs(e,t,function(e,t,r){r.b("  <i class='fa "),r.b(r.v(r.f("icon",e,t,0))),r.b("'></i>"),r.b("\n"+n)}),e.pop()),r.b("  <i class='fa fa-fw fa-spin fa-circle-o-notch title-action-spinner'></i>"),r.b("\n"+n),r.b("  <i class='fa fa-fw fa-check title-action-check'></i>"),r.b("\n"+n),r.b("  <i class='fa fa-fw fa-warning title-action-warning'></i>"),r.b("\n"+n),r.b("</a>"),r.b("\n"),r.fl()},partials:{},subs:{}},"<a class='{{class}}' href='{{link}}' target='_blank' rel='noopener noreferrer' title='{{text}}'>\n  {{text}}\n  {{#icon}}\n  <i class='fa {{icon}}'></i>\n  {{/icon}}\n  <i class='fa fa-fw fa-spin fa-circle-o-notch title-action-spinner'></i>\n  <i class='fa fa-fw fa-check title-action-check'></i>\n  <i class='fa fa-fw fa-warning title-action-warning'></i>\n</a>\n",r);
},{"hogan.js":586}],319:[function(e,t,n){var r=e("hogan.js");t.exports=new r.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.b("<a class='thread-actions-toggle dropdown-toggle'>"),r.b("\n"+n),r.b(r.rp("<menuIcon0",e,t,"  ")),r.b("</a>"),r.b("\n"+n),r.b("<menu class='dropdown-menu dropdown-offset'>"),r.b("\n"+n),r.b("  <ul class='thread-action-list dropdown-actions capitalize'></ul>"),r.b("\n"+n),r.b("  <ul class='item-action-list dropdown-actions capitalize'></ul>"),r.b("\n"+n),r.b("</menu>"),r.b("\n"),r.fl()},partials:{"<menuIcon0":{name:"menuIcon",partials:{},subs:{}}},subs:{}},"<a class='thread-actions-toggle dropdown-toggle'>\n  {{> menuIcon}}\n</a>\n<menu class='dropdown-menu dropdown-offset'>\n  <ul class='thread-action-list dropdown-actions capitalize'></ul>\n  <ul class='item-action-list dropdown-actions capitalize'></ul>\n</menu>\n",r)},{"hogan.js":586}],320:[function(e,t,n){var r=e("hogan.js");t.exports=new r.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.s(r.f("iconAttributes",e,t,1),e,t,0,19,78,"{{ }}")&&(r.rs(e,t,function(e,t,r){
r.b("<div class='thread-source-icon "),r.b(r.v(r.f("iconAttributes",e,t,0))),r.b("'></div>"),r.b("\n"+n)}),e.pop()),r.fl()},partials:{},subs:{}},"{{#iconAttributes}}\n<div class='thread-source-icon {{iconAttributes}}'></div>\n{{/iconAttributes}}\n",r)},{"hogan.js":586}],321:[function(e,t,n){var r=e("hogan.js");t.exports=new r.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.b("<div class='loader'>"),r.b("\n"+n),r.b("  <div class='box1'></div>"),r.b("\n"+n),r.b("  <div class='box2'></div>"),r.b("\n"+n),r.b("  <div class='box3'></div>"),r.b("\n"+n),r.b("  <div class='box4'></div>"),r.b("\n"+n),r.b("  <div class='box5'></div>"),r.b("\n"+n),r.b("</div>"),r.b("\n"),r.fl()},partials:{},subs:{}},"<div class='loader'>\n  <div class='box1'></div>\n  <div class='box2'></div>\n  <div class='box3'></div>\n  <div class='box4'></div>\n  <div class='box5'></div>\n</div>\n",r)},{"hogan.js":586}],322:[function(e,t,n){var r=e("hogan.js");t.exports=new r.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),
r.b("<menu class='message-actions clean'>"),r.b("\n"+n),r.s(r.f("removable",e,t,1),e,t,0,53,152,"{{ }}")&&(r.rs(e,t,function(e,t,r){r.b("  <li>"),r.b("\n"+n),r.b("    <a class='delete' title='Delete message'>"),r.b("\n"+n),r.b(r.rp("<deleteSVGIcon0",e,t,"      ")),r.b("    </a>"),r.b("\n"+n),r.b("  </li>"),r.b("\n"+n)}),e.pop()),r.s(r.f("editable",e,t,1),e,t,0,182,289,"{{ }}")&&(r.rs(e,t,function(e,t,r){r.b("  <li>"),r.b("\n"+n),r.b("    <a class='edit-message' title='Edit this message.'>"),r.b("\n"+n),r.b(r.rp("<editSVGIcon1",e,t,"      ")),r.b("    </a>"),r.b("\n"+n),r.b("  </li>"),r.b("\n"+n)}),e.pop()),r.s(r.f("emptied",e,t,1),e,t,1,0,0,"")||(r.b("  <li>"),r.b("\n"+n),r.b("    <a class='edit-tags' title='Edit message tags.'>"),r.b("\n"+n),r.b(r.rp("<editTagsSVGIcon2",e,t,"      ")),r.b("    </a>"),r.b("\n"+n),r.b("  </li>"),r.b("\n"+n),r.b("  <li>"),r.b("\n"+n),r.b("    <a class='emoji-reaction-button' title='Add emoji reaction.'>"),r.b("\n"+n),r.b(r.rp("<emojiReactionSymbolSVGIcon3",e,t,"      ")),r.b("    </a>"),
r.b("\n"+n),r.b("  </li>"),r.b("\n"+n)),r.b("</menu>"),r.b("\n"+n),r.s(r.f("renderSource",e,t,1),e,t,0,592,718,"{{ }}")&&(r.rs(e,t,function(e,t,r){r.b("<div class='thread-source-indicator'>"),r.b("\n"+n),r.b("  <img class='thread-action-source-icon' src='"),r.b(r.v(r.d("source.application.icon_url",e,t,0))),r.b("'>"),r.b("\n"+n),r.b("</div>"),r.b("\n"+n)}),e.pop()),r.b("<img alt='"),r.b(r.v(r.f("author",e,t,0))),r.b("' class='thread-avatar thread-action-avatar' src='"),r.b(r.v(r.f("avatar",e,t,0))),r.b("'>"),r.b("\n"+n),r.b("<div class='thread-action-body'>"),r.b("\n"+n),r.b("  <span class='thread-author'>"),r.b(r.v(r.f("author",e,t,0))),r.b("</span>"),r.b("\n"+n),r.b("  <span class='thread-action'>"),r.b("\n"+n),r.b("    "),r.b(r.t(r.f("title",e,t,0))),r.b("\n"+n),r.b("    <date class='timestamp' datetime='"),r.b(r.v(r.f("datetime",e,t,0))),r.b("' title='"),r.b(r.v(r.f("longTime",e,t,0))),r.b("'>"),r.b("\n"+n),r.b("      "),r.b(r.v(r.f("timeFromNow",e,t,0))),r.b("\n"+n),r.b("    </date>"),r.b("\n"+n),r.b("  </span>"),
r.b("\n"+n),r.s(r.f("body",e,t,1),e,t,0,1077,1172,"{{ }}")&&(r.rs(e,t,function(e,t,r){r.b("  <div class='thread-comment content'>"),r.b("\n"+n),r.b("    <div class='msg-body'>"),r.b(r.t(r.f("body",e,t,0))),r.b("</div>"),r.b("\n"+n),r.b("  </div>"),r.b("\n"+n)}),e.pop()),r.b(r.rp("<messageFooter4",e,t,"  ")),r.s(r.f("hasAttachments",e,t,1),e,t,0,1225,1351,"{{ }}")&&(r.rs(e,t,function(e,t,r){r.b("  <hr class='thread-activity-attachments-separator'>"),r.b("\n"+n),r.b("  <section class='thread-activity-attachments attachments'></section>"),r.b("\n"+n)}),e.pop()),r.b("</div>"),r.b("\n"),r.fl()},partials:{"<deleteSVGIcon0":{name:"deleteSVGIcon",partials:{},subs:{}},"<editSVGIcon1":{name:"editSVGIcon",partials:{},subs:{}},"<editTagsSVGIcon2":{name:"editTagsSVGIcon",partials:{},subs:{}},"<emojiReactionSymbolSVGIcon3":{name:"emojiReactionSymbolSVGIcon",partials:{},subs:{}},"<messageFooter4":{name:"messageFooter",partials:{},subs:{}}},subs:{}},"<menu class='message-actions clean'>\n  {{#removable}}\n  <li>\n    <a class='delete' title='Delete message'>\n      {{> deleteSVGIcon}}\n    </a>\n  </li>\n  {{/removable}}\n  {{#editable}}\n  <li>\n    <a class='edit-message' title='Edit this message.'>\n      {{> editSVGIcon}}\n    </a>\n  </li>\n  {{/editable}}\n  {{^emptied}}\n  <li>\n    <a class='edit-tags' title='Edit message tags.'>\n      {{> editTagsSVGIcon}}\n    </a>\n  </li>\n  <li>\n    <a class='emoji-reaction-button' title='Add emoji reaction.'>\n      {{> emojiReactionSymbolSVGIcon}}\n    </a>\n  </li>\n  {{/emptied}}\n</menu>\n{{#renderSource}}\n<div class='thread-source-indicator'>\n  <img class='thread-action-source-icon' src='{{source.application.icon_url}}'>\n</div>\n{{/renderSource}}\n<img alt='{{author}}' class='thread-avatar thread-action-avatar' src='{{avatar}}'>\n<div class='thread-action-body'>\n  <span class='thread-author'>{{author}}</span>\n  <span class='thread-action'>\n    {{& title }}\n    <date class='timestamp' datetime='{{datetime}}' title='{{longTime}}'>\n      {{timeFromNow}}\n    </date>\n  </span>\n  {{#body}}\n  <div class='thread-comment content'>\n    <div class='msg-body'>{{& body }}</div>\n  </div>\n  {{/body}}\n  {{> messageFooter}}\n  {{#hasAttachments}}\n  <hr class='thread-activity-attachments-separator'>\n  <section class='thread-activity-attachments attachments'></section>\n  {{/hasAttachments}}\n</div>\n",r);
},{"hogan.js":586}],323:[function(e,t,n){var r=e("hogan.js");t.exports=new r.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.b(r.rp("<messageMenu0",e,t,"")),r.s(r.f("renderSource",e,t,1),e,t,0,36,168,"{{ }}")&&(r.rs(e,t,function(e,t,r){r.b("  <div class='thread-source-indicator'>"),r.b("\n"+n),r.b("    <img class='thread-action-source-icon' src='"),r.b(r.v(r.d("source.application.icon_url",e,t,0))),r.b("'>"),r.b("\n"+n),r.b("  </div>"),r.b("\n"+n)}),e.pop()),r.b("\n"+n),r.s(r.f("bubble",e,t,1),e,t,0,198,240,"{{ }}")&&(r.rs(e,t,function(e,t,r){r.b("    <div class='bubble-container'></div>"),r.b("\n"+n)}),e.pop()),r.b("<img alt='"),r.b(r.v(r.f("author",e,t,0))),r.b("' class='thread-avatar thread-comment-avatar' src='"),r.b(r.v(r.f("avatar",e,t,0))),r.b("'>"),r.b("\n"+n),r.s(r.f("displayableUserCard",e,t,1),e,t,0,360,433,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b("<span class='message-author' data-user='"),n.b(n.v(n.d("user.id",e,t,0))),n.b("'>"),n.b(n.v(n.d("user.nick",e,t,0))),n.b("</span>")}),e.pop()),
r.b("\n"+n),r.s(r.f("displayableUserCard",e,t,1),e,t,1,0,0,"")||(r.b("<span class='thread-author'>"),r.b(r.v(r.f("author",e,t,0))),r.b("</span>")),r.b("\n"+n),r.b("<span class='thread-action' dir='auto'>"),r.b(r.t(r.f("title",e,t,0))),r.b("\n"+n),r.s(r.f("renderSource",e,t,1),e,t,0,621,653,"{{ }}")&&(r.rs(e,t,function(e,t,r){r.b("on"),r.b("\n"+n),r.b(r.v(r.d("source.application.name",e,t,0))),r.b("\n"+n)}),e.pop()),r.s(r.f("emptied",e,t,1),e,t,1,0,0,"")||(r.b("<a class='timestamp-link' href='"),r.b(r.v(r.f("permalink",e,t,0))),r.b("'><date class='timestamp' datetime='"),r.b(r.v(r.f("datetime",e,t,0))),r.b("' title='"),r.b(r.v(r.f("longTime",e,t,0))),r.b("'>"),r.b(r.v(r.f("timeFromNow",e,t,0))),r.b("</date></a>")),r.b("</span>"),r.b("\n"),r.b("\n"+n),r.b("<div class='thread-comment content' dir='auto'>"),r.b("\n"+n),r.s(r.f("emptied",e,t,1),e,t,0,908,971,"{{ }}")&&(r.rs(e,t,function(e,t,r){r.b("  <span>This message was deleted at</span>"),r.b("\n"+n),r.b("  "),r.b(r.t(r.f("editTime",e,t,0))),r.b("\n"+n)}),e.pop()),
r.s(r.f("emptied",e,t,1),e,t,1,0,0,"")||(r.s(r.f("body",e,t,1),e,t,0,1010,1055,"{{ }}")&&(r.rs(e,t,function(e,t,r){r.b("  <div class='msg-body'>"),r.b(r.t(r.f("body",e,t,0))),r.b("</div>"),r.b("\n"+n)}),e.pop()),r.b(r.rp("<messageFooter1",e,t,"  ")),r.s(r.f("hasAttachments",e,t,1),e,t,0,1108,1234,"{{ }}")&&(r.rs(e,t,function(e,t,r){r.b("  <hr class='thread-activity-attachments-separator'>"),r.b("\n"+n),r.b("  <section class='thread-activity-attachments attachments'></section>"),r.b("\n"+n)}),e.pop())),r.b("</div>"),r.b("\n"),r.fl()},partials:{"<messageMenu0":{name:"messageMenu",partials:{},subs:{}},"<messageFooter1":{name:"messageFooter",partials:{},subs:{}}},subs:{}},"{{> messageMenu }}\n{{#renderSource}}\n  <div class='thread-source-indicator'>\n    <img class='thread-action-source-icon' src='{{source.application.icon_url}}'>\n  </div>\n{{/renderSource}}\n\n{{#bubble}}\n    <div class='bubble-container'></div>\n{{/bubble}}\n<img alt='{{author}}' class='thread-avatar thread-comment-avatar' src='{{avatar}}'>\n{{#displayableUserCard}}<span class='message-author' data-user='{{user.id}}'>{{user.nick}}</span>{{/displayableUserCard}}\n{{^displayableUserCard}}<span class='thread-author'>{{author}}</span>{{/displayableUserCard}}\n<span class='thread-action' dir='auto'>{{& title }}\n{{#renderSource}}\non\n{{source.application.name}}\n{{/renderSource}}\n{{^emptied}}<a class='timestamp-link' href='{{permalink}}'><date class='timestamp' datetime='{{datetime}}' title='{{longTime}}'>{{timeFromNow}}</date></a>{{/emptied}}</span>\n\n<div class='thread-comment content' dir='auto'>\n  {{#emptied}}\n  <span>This message was deleted at</span>\n  {{& editTime}}\n  {{/emptied}}\n  {{^emptied}}\n  {{#body}}\n  <div class='msg-body'>{{& body }}</div>\n  {{/body}}\n  {{> messageFooter}}\n  {{#hasAttachments}}\n  <hr class='thread-activity-attachments-separator'>\n  <section class='thread-activity-attachments attachments'></section>\n  {{/hasAttachments}}\n  {{/emptied}}\n</div>\n",r);
},{"hogan.js":586}],324:[function(e,t,n){var r=e("hogan.js");t.exports=new r.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.b("<div class='thread-comment-unexcerpt' dir='auto'>"),r.b("\n"+n),r.s(r.f("bubble",e,t,1),e,t,0,63,109,"{{ }}")&&(r.rs(e,t,function(e,t,r){r.b("      <div class='bubble-container'></div>"),r.b("\n"+n)}),e.pop()),r.b(r.rp("<messageMenu0",e,t,"  ")),r.b("  "),r.b(r.t(r.f("full_body",e,t,0))),r.b("\n"+n),r.b(r.rp("<messageFooter1",e,t,"  ")),r.s(r.f("hasAttachments",e,t,1),e,t,0,204,334,"{{ }}")&&(r.rs(e,t,function(e,t,r){r.b("    <hr class='thread-activity-attachments-separator'>"),r.b("\n"+n),r.b("    <section class='thread-activity-attachments attachments'></section>"),r.b("\n"+n)}),e.pop()),r.b("</div>"),r.b("\n"),r.fl()},partials:{"<messageMenu0":{name:"messageMenu",partials:{},subs:{}},"<messageFooter1":{name:"messageFooter",partials:{},subs:{}}},subs:{}},"<div class='thread-comment-unexcerpt' dir='auto'>\n  {{#bubble}}\n      <div class='bubble-container'></div>\n  {{/bubble}}\n  {{> messageMenu }}\n  {{& full_body }}\n  {{> messageFooter}}\n  {{#hasAttachments}}\n    <hr class='thread-activity-attachments-separator'>\n    <section class='thread-activity-attachments attachments'></section>\n  {{/hasAttachments}}\n</div>\n",r);
},{"hogan.js":586}],325:[function(e,t,n){var r=e("hogan.js");t.exports=new r.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.b("<div class='thread-actions dropdown sw'></div>"),r.b("\n"+n),r.b("<div class='thread-title'></div>"),r.b("\n"),r.fl()},partials:{},subs:{}},"<div class='thread-actions dropdown sw'></div>\n<div class='thread-title'></div>\n",r)},{"hogan.js":586}],326:[function(e,t,n){var r=e("hogan.js");t.exports=new r.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.b("<menu class='message-actions clean'>"),r.b("\n"+n),r.s(r.f("removable",e,t,1),e,t,0,53,152,"{{ }}")&&(r.rs(e,t,function(e,t,r){r.b("  <li>"),r.b("\n"+n),r.b("    <a class='delete' title='Delete message'>"),r.b("\n"+n),r.b(r.rp("<deleteSVGIcon0",e,t,"      ")),r.b("    </a>"),r.b("\n"+n),r.b("  </li>"),r.b("\n"+n)}),e.pop()),r.s(r.f("editable",e,t,1),e,t,0,182,289,"{{ }}")&&(r.rs(e,t,function(e,t,r){r.b("  <li>"),r.b("\n"+n),r.b("    <a class='edit-message' title='Edit this message.'>"),r.b("\n"+n),r.b(r.rp("<editSVGIcon1",e,t,"      ")),
r.b("    </a>"),r.b("\n"+n),r.b("  </li>"),r.b("\n"+n)}),e.pop()),r.s(r.f("sendableToRally",e,t,1),e,t,0,325,436,"{{ }}")&&(r.rs(e,t,function(e,t,r){r.b("  <li>"),r.b("\n"+n),r.b("    <a class='share-with-rally' title='Share with Rally.'>"),r.b("\n"+n),r.b(r.rp("<shareSVGIcon2",e,t,"      ")),r.b("    </a>"),r.b("\n"+n),r.b("  </li>"),r.b("\n"+n)}),e.pop()),r.s(r.f("emptied",e,t,1),e,t,1,0,0,"")||(r.b("  <li>"),r.b("\n"+n),r.b("    <a class='edit-tags' title='Edit message tags.'>"),r.b("\n"+n),r.b(r.rp("<editTagsSVGIcon3",e,t,"      ")),r.b("    </a>"),r.b("\n"+n),r.b("  </li>"),r.b("\n"+n),r.b("  <li>"),r.b("\n"+n),r.b("    <a class='emoji-reaction-button' title='Add emoji reaction.'>"),r.b("\n"+n),r.b(r.rp("<emojiReactionSymbolSVGIcon4",e,t,"      ")),r.b("    </a>"),r.b("\n"+n),r.b("  </li>"),r.b("\n"+n)),r.b("</menu>"),r.b("\n"),r.fl()},partials:{"<deleteSVGIcon0":{name:"deleteSVGIcon",partials:{},subs:{}},"<editSVGIcon1":{name:"editSVGIcon",partials:{},subs:{}},"<shareSVGIcon2":{name:"shareSVGIcon",partials:{},
subs:{}},"<editTagsSVGIcon3":{name:"editTagsSVGIcon",partials:{},subs:{}},"<emojiReactionSymbolSVGIcon4":{name:"emojiReactionSymbolSVGIcon",partials:{},subs:{}}},subs:{}},"<menu class='message-actions clean'>\n  {{#removable}}\n  <li>\n    <a class='delete' title='Delete message'>\n      {{> deleteSVGIcon}}\n    </a>\n  </li>\n  {{/removable}}\n  {{#editable}}\n  <li>\n    <a class='edit-message' title='Edit this message.'>\n      {{> editSVGIcon}}\n    </a>\n  </li>\n  {{/editable}}\n  {{#sendableToRally}}\n  <li>\n    <a class='share-with-rally' title='Share with Rally.'>\n      {{> shareSVGIcon}}\n    </a>\n  </li>\n  {{/sendableToRally}}\n  {{^emptied}}\n  <li>\n    <a class='edit-tags' title='Edit message tags.'>\n      {{> editTagsSVGIcon}}\n    </a>\n  </li>\n  <li>\n    <a class='emoji-reaction-button' title='Add emoji reaction.'>\n      {{> emojiReactionSymbolSVGIcon}}\n    </a>\n  </li>\n  {{/emptied}}\n</menu>\n",r)},{"hogan.js":586}],327:[function(e,t,n){var r=e("hogan.js");t.exports=new r.Template({
code:function(e,t,n){var r=this;return r.b(n=n||""),r.s(r.f("fields",e,t,1),e,t,0,11,99,"{{ }}")&&(r.rs(e,t,function(e,t,r){r.b("<tr>"),r.b("\n"+n),r.b("  <td class='label'>"),r.b(r.t(r.f("label",e,t,0))),r.b("</td>"),r.b("\n"+n),r.b("  <td class='value'>"),r.b(r.t(r.f("value",e,t,0))),r.b("</td>"),r.b("\n"+n),r.b("</tr>"),r.b("\n"+n)}),e.pop()),r.fl()},partials:{},subs:{}},"{{#fields}}\n<tr>\n  <td class='label'>{{& label }}</td>\n  <td class='value'>{{& value }}</td>\n</tr>\n{{/fields}}\n",r)},{"hogan.js":586}],328:[function(e,t,n){var r=e("hogan.js");t.exports=new r.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.b("<a class='thread-close-button'></a>"),r.b("\n"+n),r.b("<header class='floating-header'></header>"),r.b("\n"+n),r.b("<section class='thread-content scrollable'>"),r.b("\n"+n),r.b("  <div class='thread-content-wrap'>"),r.b("\n"+n),r.b("    <section class='thread-message'></section>"),r.b("\n"+n),r.b("    <header class='static-header'></header>"),r.b("\n"+n),r.b("    <div class='thread-body'>"),
r.b(r.t(r.f("body",e,t,0))),r.b("</div>"),r.b("\n"+n),r.b("    <div class='updated-fields truncate-wrap'>"),r.b("\n"+n),r.b("      <table class='thread-properties'>"),r.b(r.rp("<propertyList0",e,t,"")),r.b("</table>"),r.b("\n"+n),r.b("    </div>"),r.b("\n"+n),r.b("    <ul class='thread-activities'></ul>"),r.b("\n"+n),r.b(r.rp("<spinner1",e,t,"    ")),r.b("    <footer class='thread-footer'></footer>"),r.b("\n"+n),r.b("  </div>"),r.b("\n"+n),r.b("</section>"),r.b("\n"),r.fl()},partials:{"<propertyList0":{name:"propertyList",partials:{},subs:{}},"<spinner1":{name:"spinner",partials:{},subs:{}}},subs:{}},"<a class='thread-close-button'></a>\n<header class='floating-header'></header>\n<section class='thread-content scrollable'>\n  <div class='thread-content-wrap'>\n    <section class='thread-message'></section>\n    <header class='static-header'></header>\n    <div class='thread-body'>{{& body }}</div>\n    <div class='updated-fields truncate-wrap'>\n      <table class='thread-properties'>{{> propertyList}}</table>\n    </div>\n    <ul class='thread-activities'></ul>\n    {{> spinner}}\n    <footer class='thread-footer'></footer>\n  </div>\n</section>\n",r);
},{"hogan.js":586}],329:[function(e,t,n){var r=e("hogan.js");t.exports=new r.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.s(r.f("status",e,t,1),e,t,0,11,67,"{{ }}")&&(r.rs(e,t,function(e,t,r){r.b("<span class='thread-status "),r.b(r.v(r.f("color",e,t,0))),r.b("'>"),r.b(r.v(r.f("value",e,t,0))),r.b("</span>"),r.b("\n"+n)}),e.pop()),r.s(r.f("link",e,t,1),e,t,0,88,151,"{{ }}")&&(r.rs(e,t,function(e,t,r){r.b("<a class='thread-title-link' href='"),r.b(r.v(r.f("link",e,t,0))),r.b("'>"),r.b(r.t(r.f("title",e,t,0))),r.b("</a>"),r.b("\n"+n)}),e.pop()),r.s(r.f("link",e,t,1),e,t,1,0,0,"")||(r.b(r.t(r.f("title",e,t,0))),r.b("\n"+n)),r.fl()},partials:{},subs:{}},"{{#status}}\n<span class='thread-status {{color}}'>{{value}}</span>\n{{/status}}\n{{#link}}\n<a class='thread-title-link' href='{{link}}'>{{& title }}</a>\n{{/link}}\n{{^link}}\n{{& title }}\n{{/link}}\n",r)},{"hogan.js":586}],330:[function(e,t,n){var r=e("hogan.js");t.exports=new r.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.s(r.f("iconAttributes",e,t,1),e,t,0,19,78,"{{ }}")&&(r.rs(e,t,function(e,t,r){
r.b("<img class='thread-source-icon' src='"),r.b(r.v(r.f("iconAttributes",e,t,0))),r.b("'>"),r.b("\n"+n)}),e.pop()),r.fl()},partials:{},subs:{}},"{{#iconAttributes}}\n<img class='thread-source-icon' src='{{iconAttributes}}'>\n{{/iconAttributes}}\n",r)},{"hogan.js":586}],331:[function(e,t,n){var r=e("hogan.js");t.exports=new r.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.b("<ul class='left-item-group'>"),r.b("\n"+n),r.b("  <li class='sidebar-toggle-item'>"),r.b("\n"+n),r.b("    <a class='toolbar-link' id='sidebar-button'>"),r.b("\n"+n),r.b("      <i class='fa fa-fw fa-lg fa-reorder'></i>"),r.b("\n"+n),r.b("    </a>"),r.b("\n"+n),r.b("  </li>"),r.b("\n"+n),r.b("  <li>"),r.b("\n"+n),r.b("    <div class='private-user'></div>"),r.b("\n"+n),r.b("  </li>"),r.b("\n"+n),r.b("</ul>"),r.b("\n"+n),r.b("<ul class='right-item-group'>"),r.b("\n"+n),r.b("  <li id='private-search-form-item' class="),r.b(r.v(r.f("searchFormInlineStyle",e,t,0))),r.b("></li>"),r.b("\n"+n),r.b("</ul>"),r.fl()},partials:{},subs:{}
},"<ul class='left-item-group'>\n  <li class='sidebar-toggle-item'>\n    <a class='toolbar-link' id='sidebar-button'>\n      <i class='fa fa-fw fa-lg fa-reorder'></i>\n    </a>\n  </li>\n  <li>\n    <div class='private-user'></div>\n  </li>\n</ul>\n<ul class='right-item-group'>\n  <li id='private-search-form-item' class={{searchFormInlineStyle}}></li>\n</ul>",r)},{"hogan.js":586}],332:[function(e,t,n){var r=e("hogan.js");t.exports=new r.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.b("<a class='toolbar-link' id='search-toggle' title='Search and filter messages'>"),r.b("\n"+n),r.b("  <i class='fa fa-search fa-lg'></i>"),r.b("\n"+n),r.b("  <i class='fa fa-caret-down'></i>"),r.b("\n"+n),r.b("</a>"),r.b("\n"+n),r.b("<form id='search-form'>"),r.b("\n"+n),r.b("  <a class='toolbar-link' id='filter-reset'>"),r.b("\n"+n),r.b("    <i class='fa fa-times fa-fw'></i>"),r.b("\n"+n),r.b("  </a>"),r.b("\n"+n),r.b("  <div class='tokenist' id='search-input'></div>"),r.b("\n"+n),r.b("  <div class='full-text'></div>"),
r.b("\n"+n),r.b("  <ul class='autocompleter'></ul>"),r.b("\n"+n),r.b("</form>"),r.b("\n"),r.fl()},partials:{},subs:{}},"<a class='toolbar-link' id='search-toggle' title='Search and filter messages'>\n  <i class='fa fa-search fa-lg'></i>\n  <i class='fa fa-caret-down'></i>\n</a>\n<form id='search-form'>\n  <a class='toolbar-link' id='filter-reset'>\n    <i class='fa fa-times fa-fw'></i>\n  </a>\n  <div class='tokenist' id='search-input'></div>\n  <div class='full-text'></div>\n  <ul class='autocompleter'></ul>\n</form>\n",r)},{"hogan.js":586}],333:[function(e,t,n){var r=e("hogan.js");t.exports=new r.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.b("<ul class='left-item-group'>"),r.b("\n"+n),r.b("  <li class='sidebar-toggle-item'>"),r.b("\n"+n),r.b("    <a class='toolbar-link' id='sidebar-button'>"),r.b("\n"+n),r.b("      <i class='fa fa-fw fa-lg fa-reorder'></i>"),r.b("\n"+n),r.b("    </a>"),r.b("\n"+n),r.b("  </li>"),r.b("\n"+n),r.b("  <li class='user-counter-item'>"),r.b("\n"+n),r.b("    <a class='toolbar-link' id='user-counter'></a>"),
r.b("\n"+n),r.b("  </li>"),r.b("\n"+n),r.b("  <li class='avatar-list-item'></li>"),r.b("\n"+n),r.b("  <li class='user-add-item' id='user-add-item'>"),r.b("\n"+n),r.b("    <a class='toolbar-link' id='user-add'>"),r.b("\n"+n),r.b("      <span class='toolbar-toggle'>"),r.b("\n"+n),r.b("        <i class='fa fa-plus'></i>"),r.b("\n"+n),r.b("        Add people"),r.b("\n"+n),r.b("      </span>"),r.b("\n"+n),r.b("    </a>"),r.b("\n"+n),r.b("  </li>"),r.b("\n"+n),r.b("</ul>"),r.b("\n"+n),r.b("<ul class='right-item-group'>"),r.b("\n"+n),r.b("  <li id='inbox-toggle-item'>"),r.b("\n"+n),r.b("    <a class='toolbar-link active' id='inbox-toggle'>"),r.b("\n"+n),r.b("      <span class='toolbar-toggle'>"),r.b("\n"+n),r.b("        <span class='fa-stack inbox-notification-container'>"),r.b("\n"+n),r.b("          <i class='fa fa-stack-2x fa-inbox'></i>"),r.b("\n"+n),r.b("          <i class='fa fa-stack-1x fa-arrow-down inbox-notification-arrow'></i>"),r.b("\n"+n),r.b("        </span>"),r.b("\n"+n),r.b("        Inbox"),r.b("\n"+n),
r.b("      </span>"),r.b("\n"+n),r.b("    </a>"),r.b("\n"+n),r.b("  </li>"),r.b("\n"+n),r.b("  <li id='search-form-item' class="),r.b(r.v(r.f("searchFormInlineStyle",e,t,0))),r.b("></li>"),r.b("\n"+n),r.b("</ul>"),r.b("\n"),r.fl()},partials:{},subs:{}},"<ul class='left-item-group'>\n  <li class='sidebar-toggle-item'>\n    <a class='toolbar-link' id='sidebar-button'>\n      <i class='fa fa-fw fa-lg fa-reorder'></i>\n    </a>\n  </li>\n  <li class='user-counter-item'>\n    <a class='toolbar-link' id='user-counter'></a>\n  </li>\n  <li class='avatar-list-item'></li>\n  <li class='user-add-item' id='user-add-item'>\n    <a class='toolbar-link' id='user-add'>\n      <span class='toolbar-toggle'>\n        <i class='fa fa-plus'></i>\n        Add people\n      </span>\n    </a>\n  </li>\n</ul>\n<ul class='right-item-group'>\n  <li id='inbox-toggle-item'>\n    <a class='toolbar-link active' id='inbox-toggle'>\n      <span class='toolbar-toggle'>\n        <span class='fa-stack inbox-notification-container'>\n          <i class='fa fa-stack-2x fa-inbox'></i>\n          <i class='fa fa-stack-1x fa-arrow-down inbox-notification-arrow'></i>\n        </span>\n        Inbox\n      </span>\n    </a>\n  </li>\n  <li id='search-form-item' class={{searchFormInlineStyle}}></li>\n</ul>\n",r);
},{"hogan.js":586}],334:[function(e,t,n){var r=e("hogan.js");t.exports=new r.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.b("<span class='toolbar-toggle'>"),r.b("\n"+n),r.b(r.rp("<icon0",e,t,"  ")),r.b("  <i class='fa fa-lock'></i>"),r.b("\n"+n),r.b("  <span class='count'><span class='count-online'>0</span><span class='count-rest'>/<span class='count-total'>0</span></span>"),r.b("\n"+n),r.b("  <span class='count-description'>online</span></span>"),r.b("\n"+n),r.b("</span>"),r.b("\n"),r.fl()},partials:{"<icon0":{name:"icon",partials:{},subs:{}}},subs:{}},"<span class='toolbar-toggle'>\n  {{> icon}}\n  <i class='fa fa-lock'></i>\n  <span class='count'><span class='count-online'>0</span><span class='count-rest'>/<span class='count-total'>0</span></span>\n  <span class='count-description'>online</span></span>\n</span>\n",r)},{"hogan.js":586}],335:[function(e,t,n){var r=e("hogan.js");t.exports=new r.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.b("<div class='invitation-avatar'></div>"),
r.b("\n"+n),r.b("<div class='user-info'>"),r.b("\n"+n),r.b("  <div class='invitation-email' title='"),r.b(r.v(r.f("email",e,t,0))),r.b("'>"),r.b(r.v(r.f("email",e,t,0))),r.b("</div>"),r.b("\n"+n),r.b("  <div class='invitation-class'>Invited</div>"),r.b("\n"+n),r.b("</div>"),r.b("\n"),r.fl()},partials:{},subs:{}},"<div class='invitation-avatar'></div>\n<div class='user-info'>\n  <div class='invitation-email' title='{{email}}'>{{email}}</div>\n  <div class='invitation-class'>Invited</div>\n</div>\n",r)},{"hogan.js":586}],336:[function(e,t,n){var r=e("hogan.js");t.exports=new r.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.b("<div class='user-info'>"),r.b("\n"+n),r.b("  <div class='user-name'>"),r.b(r.v(r.f("name",e,t,0))),r.b(" ("),r.b(r.v(r.f("nick",e,t,0))),r.b(")</div>"),r.b("\n"+n),r.b("  <div class='user-activity'>"),r.b("\n"+n),r.b("    <span class='activity'>"),r.b(r.t(r.f("activity",e,t,0))),r.b("</span>"),r.b("\n"+n),r.b("  </div>"),r.b("\n"+n),r.b("  <ul class='user-actions'>"),r.b("\n"+n),
r.b("    <li>"),r.b("\n"+n),r.b('      <span class="user-in-team" title="They will be notified of @team mentions">team</span>'),r.b("\n"+n),r.b("    </li>"),r.b("\n"+n),r.s(r.f("linkToPrivate",e,t,1),e,t,0,326,468,"{{ }}")&&(r.rs(e,t,function(e,t,r){r.b("    <li>"),r.b("\n"+n),r.b("      <a class='text-button chat' href='"),r.b(r.v(r.f("privateUrl",e,t,0))),r.b("'>"),r.b("\n"+n),r.b("        <i class='fa fa-user'></i>"),r.b("\n"+n),r.b("        1-To-1"),r.b("\n"+n),r.b("      </a>"),r.b("\n"+n),r.b("    </li>"),r.b("\n"+n)}),e.pop()),r.b("    <li>"),r.b("\n"+n),r.b("      <a class='text-button mail' href='mailto:"),r.b(r.v(r.f("email",e,t,0))),r.b("'>"),r.b("\n"+n),r.b("        <i class='fa fa-envelope'></i>"),r.b("\n"+n),r.b("        Mail"),r.b("\n"+n),r.b("      </a>"),r.b("\n"+n),r.b("    </li>"),r.b("\n"+n),r.b("  </ul>"),r.b("\n"+n),r.b("</div>"),r.b("\n"),r.fl()},partials:{},subs:{}},"<div class='user-info'>\n  <div class='user-name'>{{name}} ({{nick}})</div>\n  <div class='user-activity'>\n    <span class='activity'>{{& activity }}</span>\n  </div>\n  <ul class='user-actions'>\n    <li>\n      <span class=\"user-in-team\" title=\"They will be notified of @team mentions\">team</span>\n    </li>\n    {{#linkToPrivate}}\n    <li>\n      <a class='text-button chat' href='{{privateUrl}}'>\n        <i class='fa fa-user'></i>\n        1-To-1\n      </a>\n    </li>\n    {{/linkToPrivate}}\n    <li>\n      <a class='text-button mail' href='mailto:{{email}}'>\n        <i class='fa fa-envelope'></i>\n        Mail\n      </a>\n    </li>\n  </ul>\n</div>\n",r);
},{"hogan.js":586}],337:[function(e,t,n){var r=e("hogan.js");t.exports=new r.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.b("<div class='user-card-wrapper'>"),r.b("\n"+n),r.b("  <div class='user-card-avatar' style='background-image: url("),r.b(r.v(r.f("avatar",e,t,0))),r.b("160);'></div>"),r.b("\n"+n),r.b("  <div class='user-card-content'>"),r.b("\n"+n),r.b("    <div class='user-card-name'>"),r.b(r.v(r.f("nick",e,t,0))),r.b(" ("),r.b(r.v(r.f("name",e,t,0))),r.b(")</div>"),r.b("\n"+n),r.b("    <div class='user-card-activity'></div>"),r.b("\n"+n),r.b("    <a class='private-chat-link'>"),r.b("\n"+n),r.b("      <i class='fa fa-user'></i>"),r.b("\n"+n),r.b("      Start 1-to-1"),r.b("\n"+n),r.b("    </a>"),r.b("\n"+n),r.b("    <a class='email-link' href='mailto:"),r.b(r.v(r.f("email",e,t,0))),r.b("'>"),r.b("\n"+n),r.b("      <i class='fa fa-envelope'></i>"),r.b("\n"+n),r.b("      Mail"),r.b("\n"+n),r.b("    </a>"),r.b("\n"+n),r.s(r.f("website",e,t,1),e,t,0,471,619,"{{ }}")&&(r.rs(e,t,function(e,t,r){
r.b("    <a class='profile-link' href='"),r.b(r.v(r.f("website",e,t,0))),r.b("' target='_blank' rel='noopener noreferrer'>"),r.b("\n"+n),r.b("      <i class='fa fa-globe'></i>"),r.b("\n"+n),r.b("      Web"),r.b("\n"+n),r.b("    </a>"),r.b("\n"+n)}),e.pop()),r.s(r.f("isYou",e,t,1),e,t,0,646,780,"{{ }}")&&(r.rs(e,t,function(e,t,r){r.b("    <a class='account' href='/account' target='_blank' rel='noopener noreferrer'>"),r.b("\n"+n),r.b(r.rp("<userSVGIcon0",e,t,"      ")),r.b("      Account"),r.b("\n"+n),r.b("    </a>"),r.b("\n"+n)}),e.pop()),r.b("  </div>"),r.b("\n"+n),r.b("</div>"),r.b("\n"),r.fl()},partials:{"<userSVGIcon0":{name:"userSVGIcon",partials:{},subs:{}}},subs:{}},"<div class='user-card-wrapper'>\n  <div class='user-card-avatar' style='background-image: url({{avatar}}160);'></div>\n  <div class='user-card-content'>\n    <div class='user-card-name'>{{nick}} ({{name}})</div>\n    <div class='user-card-activity'></div>\n    <a class='private-chat-link'>\n      <i class='fa fa-user'></i>\n      Start 1-to-1\n    </a>\n    <a class='email-link' href='mailto:{{email}}'>\n      <i class='fa fa-envelope'></i>\n      Mail\n    </a>\n    {{#website}}\n    <a class='profile-link' href='{{website}}' target='_blank' rel='noopener noreferrer'>\n      <i class='fa fa-globe'></i>\n      Web\n    </a>\n    {{/website}}\n    {{#isYou}}\n    <a class='account' href='/account' target='_blank' rel='noopener noreferrer'>\n      {{> userSVGIcon}}\n      Account\n    </a>\n    {{/isYou}}\n  </div>\n</div>\n",r);
},{"hogan.js":586}],338:[function(e,t,n){var r,o=function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},i={}.hasOwnProperty,s=[].indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(t in this&&this[t]===e)return t;return-1};r=e("./shared/file_uploader"),Views.Chat=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return o(t,e),t.prototype.id="chat",t.prototype.events={"click .jump-to-current":"jumpToCurrent"},t.prototype.keyboardEvents={toggleSingleView:"jumpLastOpenThread"},t.prototype.initialize=function(e){return this.bindKeyboardEvents(),this.options=_.extend({placeholder:this.buildInputPlaceholder()},e),this.viewModel=e.viewModel,this.input=this.subview(new Views.Chat.Input(this.options)),this.$indicators=$("<div>").addClass("indicators"),this.messageList=this.buildMessageList(this.model,this.options),this.typing=this.subview(new Views.Shared.TypingUsers({users:this.model.typingUsers(this.input.key())
})),this.lastReadMarker=new Flowdock.LastReadMarker({name:"chat",listDirection:"down",messageList:this.messageList,jumpIndicator:function(e){return function(t){return e.$el.append(t)}}(this),jumpToMessage:function(e){return function(t){return e.jumpToMessage(t)}}(this)}),this.listenTo(this.input.textarea,"scale",function(){return this.messageList.resize(this.input.$el.outerHeight()),this.$indicators.css("bottom",this.input.$el.outerHeight())}),this.listenTo(this.input.textarea,"input",function(){return this.messageList.setScrollLocation()}),this.listenTo(this.input,"edit-last-message",this.editLastMessage),this.options.fileUpload?this.fileupload=this.buildFileupload(this.input):void 0},t.prototype.findMessage=function(e){return this.messageList.collection.get(e)},t.prototype.findLastMessage=function(){return this.messageList.collection.last()},t.prototype.resize=function(){return this.messageList.resize(),this.input.triggerAttach()},t.prototype.render=function(){var e;return this.$el.empty().append(this.messageList.render().$el,this.$indicators,this.input.render().$el,null!=(e=this.fileupload)?e.render().$el:void 0),
this.$indicators.append(this.typing.render().el),this},t.prototype.destructor=function(){return this.messageList.collection.cleanup(),this.lastReadMarker.cleanup(),t.__super__.destructor.apply(this,arguments),this.input=this.messageList=this.fileupload=this.lastReadMarker=this.$indicators=this.typing=null},t.prototype.buildFileupload=function(e){var t;return t=this.subview(new r({model:this.model,target:this.$el,targetName:this.model.get("name")})),this.listenTo(t,"new_upload",function(e){return this.messageList.collection.add(e)}),this.listenTo(e,"upload",function(){return t.prompt()}),t},t.prototype.buildInputPlaceholder=function(){return this.model.isFlow()?"Type to start a new thread...":"Type to chat with "+this.model.get("name").replace("@","")+"\u2026"},t.prototype.buildMessageList=function(e,t){var n;return n=this.subview(Views.Chat.MessageList.build(e,t)),this.listenTo(n,"indication",function(e){return this.$indicators.prepend(e)}),e.fullyLoaded.done(function(){return n.renderMessages()}),n},t.prototype.swapMessageList=function(e){
return this.messageList.collection.cleanup(),$.contains($("body")[0],this.el)&&this.messageList.triggerDetach(),this.removeSubview(this.messageList),this.messageList=e,this.$el.prepend(this.messageList.render().$el),this.lastReadMarker.setupMessageList(this.messageList),$.contains($("body")[0],this.el)&&this.messageList.triggerAttach(),this.input.triggerAttach()},t.prototype.editLastMessage=function(e,t){var n,r;return(n=this.messageList.lastMessageOf(this.model.me()))?(r=n.asProperty("id").filter(function(e){return null!=e}).take(1),0!==arguments.length?r.onValue(function(){return n.searchReplaceContent(e,t)}):s.call(this.messageList.collection.slice(-10),n)>=0?r.onValue(function(e){return function(){var t;return(t=_.last(e.messageList.findSubviews(n)))?(t.openEditor(),t.once("completed",function(){return _.defer(function(){return e.input.focus()})})):void 0}}(this)):void 0):void 0},t.prototype.jumpToMessage=function(e){return this.messageList.hasMessage(e)?this.messageList.jumpToMessage(e):this.swapMessageList(this.buildMessageList(this.model,_.extend({
startAt:e},this.options)))},t.prototype.jumpToCurrent=function(){return this.swapMessageList(this.buildMessageList(this.model,this.options))},t.prototype.jumpLastOpenThread=function(){return this.trigger("jump-last-open-thread")},t.prototype.focusInput=function(){return this.input.focus()},t}(Flowdock.HierarchicalView),_.extend(Views.Chat.prototype,Flowdock.KeyboardEvents)},{"./shared/file_uploader":437}],339:[function(e,t,n){var r=function(e,t){function n(){this.constructor=e}for(var r in t)o.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},o={}.hasOwnProperty;Views.Chat.CommentMessage=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return r(t,e),t.prototype.className="chat-message comment-message",t}(Views.Chat.Message)},{}],340:[function(e,t,n){var r=function(e,t){function n(){this.constructor=e}for(var r in t)o.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},o={}.hasOwnProperty;
Views.Chat.FileMessage=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return r(n,t),n.prototype.className="chat-message file-message",n.prototype.events=function(){return _.extend(n.__super__.events.apply(this,arguments),{"click menu.message-actions a.discard":"discard"})},n.prototype.modelEvents=_.extend({},Views.Chat.Message.prototype.modelEvents,{"change:content":"render"}),n.prototype.initialize=function(e){return n.__super__.initialize.call(this,e),null!=this.tId?clearTimeout(this.tId):void 0},n.prototype.renderContent=function(){return this.model.upload?this.renderUploading():this.preserveScrolling(function(e){return function(){return e.renderCompleteUpload()}}(this))},n.prototype.renderCompleteUpload=function(){var t,n;return t=this.subview(new Views.Shared.Attachment({attachment:this.model.get("content"),model:this.model,parent:this})),n=!this.isPrivateMessage()||Flowdock.app.features.F18656_search_1To1,this.$el.html(Helpers.renderTemplate(e("../../templates/messages/file_message.mustache"))({
noLeftSideMessageComponents:this.isPrivateMessage(),"private":n,removable:this.model.myMessage(),rethreadable:this.model.isRethreadable(),timestamp:this.messageTimestamp(),user:this.model.user().toJSON()},{messageHeader:e("../../templates/chat/message_header.mustache")})),this.$el.find(".content").prepend(t.render().el),this.finished&&t.load(),this.toggleClasses()},n.prototype.discard=function(){return this.model.collection?this.model.collection.remove(this.model):void 0},n.prototype.renderUploadedAmount=function(){var e;if(null!=this.model.upload)return e=this.model.upload.get("uploaded"),this.$("progress").prop({value:e}),this.$(".uploaded,progress").text("("+e+"%)"),e>=100?(this.$(".state").text("Processing"),this.$(".uploaded").hide()):void 0},n.prototype.renderRemoveButton=function(){return this.$el.removeClass("hide-actions"),this.$("menu.message-actions li a.delete").addClass("discard").removeClass("delete")},n.prototype.renderUploadResult=function(){var e;if(!this.finished&&null!=this.model.upload&&"uploading"!==this.model.upload.get("state"))return this.finished="failed"===(e=this.model.upload.get("state"))||"finished"===e,
"failed"===this.model.upload.get("state")&&(this.$el.addClass("failed"),this.$("a.edit-tags").toggle(!1),this.renderRemoveButton()),this.stopListening(this.model.upload)},n.prototype.renderUploading=function(){var t;return t={fileName:this.model.upload.get("fileName"),noLeftSideMessageComponents:!0,removable:!0,timestamp:this.messageTimestamp(),user:this.model.user().toJSON()},this.$el.html(Helpers.renderTemplate(e("../../templates/messages/file_uploading_message.mustache"))(t,{messageHeader:e("../../templates/chat/message_header.mustache")})),this.renderUploadedAmount(),this.listenTo(this.model.upload,"change:state",this.renderUploadResult),this.listenTo(this.model.upload,"change:uploaded",this.renderUploadedAmount)},n}(Views.Chat.Message)},{"../../templates/chat/message_header.mustache":201,"../../templates/messages/file_message.mustache":273,"../../templates/messages/file_uploading_message.mustache":274}],341:[function(e,t,n){var r=function(e,t){function n(){this.constructor=e}for(var r in t)o.call(t,r)&&(e[r]=t[r]);
return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},o={}.hasOwnProperty;Views.Chat.Input=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return r(n,t),n.prototype.id="chat-form",n.prototype.partials=function(){return this.model.isFlow()?{before:e("../../templates/inbox/thread_indicator.mustache"),commentsIcon:e("../../templates/icons/post_bubble.mustache")}:{}},n.prototype.events=_.extend({},Views.Shared.MessageInput.prototype.events,{"focus textarea":function(){return window.lastFocusedInput="chat"}}),n.prototype.keyboardEvents={focusChat:"focus",returnFocusToChat:"focus"},n.prototype.key=function(){var e;return e=this.model.isPrivate()?this.model.users.map(function(e){return e.id}).sort().join("-"):this.model.id,e+"-chat-input"},n.prototype.createMessage=function(e){var t;return t=this.model.buildMessage(e,Models.ChatMessage),t.isValid()?(t.isThreadStarter()?Flowdock.analytics.trackHighVolume(Flowdock.ANALYTICS_EVENT_TYPES.messages_add_chat):Flowdock.analytics.trackHighVolume(Flowdock.ANALYTICS_EVENT_TYPES.messages_reply_chat),
t.save(),this.textarea.reset(),this.focus(),this.trigger("send")):void 0},n.prototype.flow=function(){return this.model},n}(Views.Shared.MessageInput)},{"../../templates/icons/post_bubble.mustache":247,"../../templates/inbox/thread_indicator.mustache":271}],342:[function(e,t,n){var r,o,i=function(e,t){function n(){this.constructor=e}for(var r in t)s.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},s={}.hasOwnProperty;r=React.createFactory(e("components/chat/avatar")),o=React.createFactory(e("components/chat/bubble")),Views.Chat.Message=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return i(n,t),n.prototype.tagName="li",n.prototype.className="chat-message",n.prototype.events=function(){return _.defaults({"click .edit-tags":"openTagInput","click .delete":"delete","click .edit-message":"openEditor","click .save-message":"saveMessage","blur .expanding-input textarea":"saveMessage","keydown .expanding-input textarea":"saveMessage","click [data-user]":"toggleUserCard",
"change:id":"updateParent","click .resend":"resendMessage","click .rethread-message":"rethreadMessage",dragstart:"onDragStart",dragend:"onDragEnd"},n.__super__.events.apply(this,arguments))},n.prototype.initialize=function(e){var t,r;return r=e.inbox,t=e.inCommentList,this.viewModel=e.viewModel,n.__super__.initialize.apply(this,arguments),r===!1&&(this.disableInbox=!0),this.inCommentList=t||!1,this.listenTo(this.model.user(),"change:nick change:avatar",this.updateUser),this.listenTo(this.model,"change",this._renderThreadComponents),this.viewModel?this.listenTo(this.viewModel,"change:selected_message",this._updateSelectedMessage):void 0},n.prototype.threadId=function(){return this.model.parent()||this.model.get("thread_id")||this.model.id},n.prototype.renderTags=function(){return this.disableTagRendering?void 0:(n.__super__.renderTags.apply(this,arguments),this._setParent(this.threadId()))},n.prototype.onTagChange=function(e,t,r){var o;return null==r&&(r={}),n.__super__.onTagChange.apply(this,arguments),r.user&&r.user!==this.model.flow().me().id?(o=this.model.flow().users.get(r.user),
this.flashMessage(Helpers.TagHelper.textualizeChange(e,e.previousTags(),o))):void 0},n.prototype.onThreadChange=function(){return n.__super__.onThreadChange.apply(this,arguments),this.model.isThread()?(this._updateSelectedMessage(),this._setParent(this.model.threadId())):void 0},n.prototype.onSent=function(){return n.__super__.onSent.apply(this,arguments),this._setParent(this.threadId())},n.prototype._setParent=function(e){return this.$el.attr("data-parent",e),this.$el.data("parent",e),this.$("a.timestamp-link").attr("href",Helpers.absoluteUrlFor({flow:this.model.flow(),message:this.model}))},n.prototype._link=function(){var e;return this.isPrivateMessage()?void 0:(e={flow:this.model.flow()},this.model.isThread()&&(e.thread=this.model.threadId()),this.model.isThread()||(e.message=this.model.threadId()),Helpers.urlFor(e))},n.prototype.render=function(){var e;return this.destroyComponents(),e=n.__super__.render.apply(this,arguments),this._renderThreadComponents(),this.truncateWrap(".content"),e},n.prototype._renderThreadComponents=function(){
var e,t;return this.$el.toggleClass("not-rethreadable",!this.model.isRethreadable()),(e=this.$(".bubble-container")[0])?(t={color:this.model.isInConversation()&&this.model.threadColor(),isInformational:this.model.isInformational(),isThreadStarter:this.model.isThreadStarter(),onClick:this.openSingleView.bind(this),title:this.model.replyTitle()},this.inCommentList||(t.link=this._link()),this.component(e,o(t)),this.component(this.$(".avatar-container")[0],r({alt:this.author().name,src:this.author().avatar||Flowdock.icons.defaultAvatar}))):void 0},n.prototype.renderContent=function(){var t,n,r,o,i,s,a;return i=this.model.presenter(),a=this.model.user(),t=i.body(),r=this.model.get("edited"),o=null!=r&&0===(null!=t?t.length:void 0),n=Helpers.TimeHelper.editTime(r,o),s=!this.isPrivateMessage()||Flowdock.app.features.F18656_search_1To1,this.$el.html(Helpers.renderTemplate(e("../../templates/messages/message.mustache"))({content:t,editable:this.model.myMessage()&&this.model.editable(),editTime:n,emptied:o,noLeftSideMessageComponents:this.isPrivateMessage(),
"private":s,rethreadable:this.model.isRethreadable(),sendableToRally:this.model.sendableToRally(),tags:this.disableTagRendering?void 0:this.model.humanTags(),timestamp:this.messageTimestamp(),user:a.toJSON(),withoutNick:!a.has("nick")},{messageHeader:e("../../templates/chat/message_header.mustache"),messageFooter:e("../../templates/shared/message_footer.mustache")})),this._updateSelectedMessage(),this.$el.toggleClass("deleted",o),this.toggleClasses(),this.$(".content a.embeddable").filter(function(){return"CODE"!==$(this).parent()[0].nodeName}).each(function(e){return function(t,n){return e.preview($(n))}}(this))},n.prototype.toggleClasses=function(){var e;return e=this.model.user(),this.$el.toggleClass("external",e.external()),this.$el.toggleClass("me",this.model.myMessage())},n.prototype.preview=function(e){var t,n,r;return r=e.prop("href"),t=Views.Embed.match(r),null!=t?(n=e.wrap('<div class="embed">').parent(),this.subview(new t({url:r,el:n,parent:this,message:this.model}).render())):void 0},n.prototype.flashMessage=function(e){
var t,n;if(e)return n=this.$el.find(".timestamp"),t=$("<span>").addClass("message-edit-message").text(e),this.inCommentList?n.append(t):n.prepend(t),setTimeout(function(){return t.remove()},1e3)},n.prototype.destructor=function(){return n.__super__.destructor.apply(this,arguments),jQuery.removeData(this.$el),clearTimeout(this.tId),clearInterval(this.ellipsisAnimation),null!=this.viewModel?this.viewModel=null:void 0},n.prototype.openSingleView=function(e){var t,n;if(!e.metaKey&&!e.ctrlKey&&(e.preventDefault(),!this.disableInbox&&this.model.get("id")))return this.$el.is(".selected-message")?Flowdock.app.router.navigateToFlow(this.model.flow(),{message:null,thread:null}):this.model.get("thread_id")?(Flowdock.app.router.navigateToFlow(this.model.flow(),{thread:this.model.threadId()}),null!=(t=Flowdock.app.manager.currentView)&&t.jumpTo(this.model.id)):(Flowdock.app.router.navigateToFlow(this.model.flow(),{message:this.model.threadId()}),null!=(n=Flowdock.app.manager.currentView)&&n.jumpTo(this.model.id)),$(".message-form .message-input").focus();
},n.prototype._updateSelectedMessage=function(){return this.viewModel?this.$el.toggleClass("selected-message",""+this.viewModel.get("selected_message")==""+this.model.threadId()):void 0},n.prototype.updateUser=function(){var e;return e=this.model.user(),this.$(".message-author").text(e.get("nick")),this.$(".avatar").css({"background-image":"url('"+e.avatar(80)+"')"})},n.prototype.onDragStart=function(t){var n,r,o;return n=this.$el,this.$el.addClass("dragging"),"function"==typeof(r=t.originalEvent.dataTransfer).setDragImage&&r.setDragImage(this.el,10,10),t.originalEvent.dataTransfer.setData("Text",""+this.model.id),o=e(this.model.isRethreadable()?"../../templates/chat/drag/enabled.mustache":"../../templates/chat/drag/disabled.mustache"),_.defer(function(){return n.append(Helpers.renderTemplate(o)())})},n.prototype.onDragEnd=function(){var e;return e=this.$(".instructions-overlay"),this.$el.removeClass("dragging"),e.addClass("out").one(Helpers.animationend(),function(){return e.remove()})},n}(Views.Shared.Message);
},{"../../templates/chat/drag/disabled.mustache":198,"../../templates/chat/drag/enabled.mustache":199,"../../templates/chat/message_header.mustache":201,"../../templates/messages/message.mustache":275,"../../templates/shared/message_footer.mustache":309,"components/chat/avatar":36,"components/chat/bubble":37}],343:[function(e,t,n){var r,o,i,s,a,u,l=function(e,t){function n(){this.constructor=e}for(var r in t)c.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},c={}.hasOwnProperty,p=[].indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(t in this&&this[t]===e)return t;return-1};r=React.createFactory(e("components/chat/header")),a=function(e){return($(e.target).parents("li").get(0)||e.target)===e.currentTarget},u=function(e){return $(e.currentTarget)},o=function(e){return e.is("[data-parent]")},i=function(e){return e.attr("data-parent")},s=function(e,t){return e.get(t.originalEvent.dataTransfer.getData("Text")).isRethreadable()},Views.Chat.MessageList=function(e){
function t(){return t.__super__.constructor.apply(this,arguments)}return l(t,e),t.prototype.className="chat-message-list",t.prototype.events={resize:"resize"},t.prototype.collectionEvents=_.extend({},Views.Shared.MessageList.prototype.collectionEvents,{historyComplete:"onHistoryComplete","change:event":"updateMessageType"}),t.prototype.listName="chat",t.build=function(e,t){var n;return null==t&&(t={}),n=new Collections.ChatMessages([],{flow:e,startAt:t.startAt}),n.consume(e.stream),new Views.Chat.MessageList(_.extend(t,{collection:n,model:e}))},t.prototype.initialize=function(e){var n,r;return this.viewModel=e.viewModel,t.__super__.initialize.apply(this,arguments),n=this.attachedProperty("after","before"),r=Flowdock.resize.window.move.merge(this.viewModel.asEventStream("change:rhs")),this.addStream(this.viewModel.asEventStream("beforechange").onValue(this,"setScrollLocation")),this.addStream(r.filter(n).onValue(this,"resize")),this.addStream(this.unreadMessageStream().onValue(this,"toggleMessageSeen")),this.currentItemTimeout=null,
this.setupMessagePurging(700,100)},t.prototype.resize=function(e){return null!=e&&(this.inputHeight=e),null!=this.inputHeight&&this.$el.css("bottom",this.inputHeight),this.scrollLocation(this.state.scrollLocation)},t.prototype.render=function(){return t.__super__.render.apply(this,arguments),this.stopListening(Flowdock.app.preferences,"change:emphasize_own_nick",this.toggleEmphasis),this.toggleEmphasis(),this.listenTo(Flowdock.app.preferences,"change:emphasize_own_nick",this.toggleEmphasis)},t.prototype.onAttach=function(){var e,t;if(!this.model.isPrivate())return t=this.hoverElementStream(),e=this.asEventStream("view:detach:before"),t.takeUntil(e).onValue(this,"highLightCommentGroup"),this.trackDrags(e)},t.prototype.onDetach=function(){return this.$(".comment-group-hover").removeClass("comment-group-hover")},t.prototype.trackDrags=function(e){var t;return t=this.untilEnd(this.$el.asEventStream("dragstart",">li").takeUntil(e)),t.filter(s,this.collection).onValue(function(e){return function(){var t,n,r,s,l,c,p,d,h,f,m,g;
return t=e.untilEnd(e.$el.asEventStream("dragend",">li").take(1)),n=e.$el.asEventStream("dragenter",">li"),l=e.$el.asEventStream("dragover",">li").takeUntil(t),s=e.$el.asEventStream("dragleave",">li"),c=e.$el.asEventStream("drop",">li").takeUntil(t),h=n.filter(a).takeUntil(t),f=s.filter(a).takeUntil(t),p=$("body").asEventStream("dragenter").takeUntil(t),d=p.filter(function(t){return $(t.target).parents("."+e.className).length>0}),m=p.filter(function(t){return 0===$(t.target).parents("."+e.className).length}),g=d.map(!0).merge(m.map(!1)).skipDuplicates().toProperty(),h.doAction(".preventDefault"),l.onValue(e.stopEvent),f.doAction(".preventDefault"),c.onValue(e,"onDrop"),r=h.map(u).filter(o).map(i).merge(g.changes().filter(function(e){return!e}).map(null)).skipDuplicates(),r.onValue(e,"highlightDropGroup"),r.onEnd(e,"dimDropGroup")}}(this))},t.prototype.updateMessageType=function(e){var t;return t=this.findSubviews(e)[0],t.$el.replaceWith(this.renderOne(e)),this.removeSubview(t)},t.prototype.unreadMessageStream=function(){
var e;return this.model.isPrivate()?(e=function(e){return!e.get("tags").length&&parseInt(e.get("user"))===Flowdock.app.user.id},this.collection.asEventStream("change:tags").filter(e).merge(this.collection.asEventStream("add").filter(function(e){return e.get("user")!==Flowdock.app.user.id})).merge(this.collection.asEventStream("historyAdd").take(1).filter(".length").map(function(t){return parseInt(_.last(t).get("user"))!==Flowdock.app.user.id?_.last(t):_.find(t.slice(0).reverse(),e)}))):Bacon.never()},t.prototype.toggleMessageSeen=function(e){var t;return this.collection.indexOf(e)>this.collection.indexOf(this.lastSeenMessage)&&(t=this.findSubviews(e)[0],this.lastSeenMessage=e,t)?this.applyMessageSeen(e,t.$el):void 0},t.prototype.applyMessageSeen=function(e,t){return this.$el.find(".message-seen").removeClass("message-seen").removeAttr("title"),$(t).addClass("message-seen").attr("title",e.flow().otherParty().nick()+" has seen this message.")},t.prototype.stopEvent=function(e){return e.preventDefault(),e.stopPropagation();
},t.prototype.onDrop=function(e){var t,n;return n=$(e.currentTarget).data("parent"),t=this.collection.get(e.originalEvent.dataTransfer.getData("Text")),t.isDroppableTo(n)&&!this.collection.get(n)?(t.rethread(n,Flowdock.ANALYTICS_EVENT_TYPES.rethread_dnd),this.$("[data-parent="+n+"]").removeClass("drop-group-hover")):void 0},t.prototype.hoverElementStream=function(){var e,t,n;return e=this.untilEnd(this.$el.asEventStream("mouseenter","li.message")).map(function(e){return{mouseOver:!0,$el:$(e.currentTarget)}}),t=this.untilEnd(this.$el.asEventStream("mouseleave","li.message")).map(function(e){return{mouseOver:!1,$el:$(e.currentTarget)}}),n=this.scrollState.map(function(e){return!e}),e.filter(n).merge(t).merge(e.merge(t).toProperty().sampledBy(n.filter(_.identity)).filter(function(e){return e.mouseOver}).skipDuplicates().changes())},t.prototype.toggleEmphasis=function(){return this.$el.toggleClass("emphasize-me",Flowdock.app.preferences.get("emphasize_own_nick"))},t.prototype.highLightCommentGroup=function(e){var t;
return(t=e.$el.attr("data-parent"))?this.highlightGroupCallback=window.requestAnimationFrame(function(n){return function(){var r,o;return r=$(function(){var e,n,r,i;for(r=this.subviews,i=[],e=0,n=r.length;n>e;e++)o=r[e],("function"==typeof o.threadId?o.threadId():void 0)+""===t&&i.push(o.el);return i}.call(n)),e.mouseOver?(r.addClass("comment-group-hover"),n.cancelAnimationFrame()):r.removeClass("comment-group-hover")}}(this)):void 0},t.prototype.highlightDropGroup=function(e){var t;return this.dimDropGroup(),null!==e?(t=this.$("[data-parent="+e+"]"),t.addClass("drop-group-hover")):void 0},t.prototype.dimDropGroup=function(){return this.$(".drop-group-hover").removeClass("drop-group-hover")},t.prototype.renderGroup=function(e,n){var r,o,i;return null==n&&(n={}),o=t.__super__.renderGroup.call(this,e,_.extend(n,{reverse:!n.reverse})),"backward"===n.direction&&(r=this.collection.at(this.collection.indexOf(_.last(e))+1),null!=r&&(i=this.findSubviews(r)[0],this.applySeparators(r,i.$el))),o},t.prototype.applySeparators=function(e,t){
var n,r,o,i,s,a;return o=function(e,t){return(null!=e?e.get("external_user_name"):void 0)||(null!=t?t.get("external_user_name"):void 0)?(null!=e?e.get("external_user_name"):void 0)===(null!=t?t.get("external_user_name"):void 0):String(null!=e?e.get("user"):void 0)===String(null!=t?t.get("user"):void 0)},n=function(e,t){var n,r,o;return n=["message","comment"],r=null!=e?e.get("event"):void 0,p.call(n,r)>=0&&(o=null!=t?t.get("event"):void 0,p.call(n,o)>=0)},r=this.collection.indexOf(e),r>=1&&(s=this.collection.at(r-1),i=e.get("sent")||(new Date).getTime(),a=null!=s?s.get("sent"):void 0,null!=s&&moment(a).format("L")!==moment(i).format("L")&&$(t).attr("data-timestamp",moment(i).format("dddd, MMMM D")).addClass("date-separator")),t},t.prototype.onAdd=function(e){return t.__super__.onAdd.apply(this,arguments),this.scrollLocation()>this.scrollThreshold&&this.buildMoreMessagesIndicator({direction:"below"}),this.header&&1===this.collection.length?this.header.setProps({compact:!0}):void 0},t.prototype.renderBeginningMessage=function(){
var e,t;return t=$("<div>").addClass("chat-header-wrapper"),this.$el.prepend(t),e={compact:this.collection.length>0,flow:this.model},this.header=this.component(t[0],r(e)),this.scrollLocation(this.state.scrollLocation||0)},t.prototype.onHistoryComplete=function(e){return"forward"!==e?this.state.renderMessages?this.renderBeginningMessage():this.once("renderMessages",this.renderBeginningMessage,this):void 0},t.prototype.destructor=function(){return t.__super__.destructor.apply(this,arguments),this.cancelAnimationFrame(),this.viewModel=this.lastSeenMessage=null},t.prototype.cancelAnimationFrame=function(){return null!=this.highlightHoverCallback?window.cancelAnimationFrame(this.highlightHoverCallback):void 0},t.prototype.delegateEvents=function(){return this.addStream($(window).asEventStream("resize").debounce(75).onValue(this,"resize")),t.__super__.delegateEvents.apply(this,arguments)},t.prototype.renderOne=function(e){var t,n,r,o,i,s;try{return r=e.presenter().event,t=e.isInformational()?Views.Chat.Message:Views.Chat[r[0].toUpperCase()+r.substr(1)+"Message"]||Views.Chat.Message,
s=this.subview(new t({model:e,viewModel:this.viewModel,tags:this.options.tags,shareWithRally:function(e){return function(t){return e._showShareWarning(t)}}(this)})),i=s.render().el,this.applySeparators(e,i),e===this.lastSeenMessage&&this.applyMessageSeen(e,i),[s]}catch(a){return n=a,console.error(n.stack),console.log("MessageList renderOne error",n,e),o=this.subview(new Views.Shared.MessageError({app:"chat",model:e,error:n})),[o.render()]}},t}(Views.Shared.ReversedMessageList)},{"components/chat/header":38}],344:[function(e,t,n){var r=function(e,t){return function(){return e.apply(t,arguments)}},o=function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},i={}.hasOwnProperty,s=[].indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(t in this&&this[t]===e)return t;return-1};Views.Chat.PrivateToolbar=function(t){function n(){return this.toggleInbox=r(this.toggleInbox,this),n.__super__.constructor.apply(this,arguments);
}return o(n,t),n.prototype.template=e("../../templates/toolbar/private_toolbar.mustache"),n.prototype.id="toolbar",n.prototype.className="private-toolbar",n.prototype.events={"click #sidebar-button":"openSidebar"},n.prototype.initialize=function(e){this.viewModel=e.viewModel},n.prototype.onAfterRender=function(){return this.model.fullyLoaded.done(function(e){return function(){return e.userView=e.subview(new Views.Chat.User({model:e.model.otherParty(),size:72,className:"user-avatar",avatarOnly:!1})),e.userView.setElement(e.$(".private-user")),e.userView.render(),e.isSearchEnabled=Flowdock.app.features.F18656_search_1To1,e.isSearchEnabled?(e.privateSearch=e.subview(new Views.Toolbar.Search({model:e.model})),e.privateSearch.setElement(e.$("#private-search-form-item")),e.privateSearch.render(),e.untilEnd(e.viewModel.asProperty("rhs")).onValue(e.toggleInbox),e.untilEnd(e.viewModel.asProperty("lhs")).onValue(e.toggleInbox),e.listenTo(e.privateSearch,"search:change",function(t){return e.trigger("search:change",t)}),e.listenTo(e.privateSearch,"search:open",function(){
return e.$el.addClass("search-open")}),e.listenTo(e.privateSearch,"search:close",function(){return e.$el.removeClass("search-open")}),e.listenTo(e.privateSearch,"triggerPrivateSearchToggle",e.triggerToggle)):void 0}}(this))},n.prototype.onSearchChange=function(e){return this.privateSearch.onSearchChange(e),this.toggleFocus()},n.prototype.closePrivateSearch=function(){return this.privateSearch.clearFilter()},n.prototype.triggerToggle=function(){var e;return this.viewModel.setRhsToNull(),e=$(".right-panel").hasClass("inbox-panel"),e?Flowdock.analytics.track(Flowdock.ANALYTICS_EVENT_TYPES.inbox_toggle_on):Flowdock.analytics.track(Flowdock.ANALYTICS_EVENT_TYPES.inbox_toggle_off)},n.prototype.toggleFocus=function(){var e,t;return t=document.activeElement,e=s.call(this.$(".tokenist, input"),t)>=0,this.$el.toggleClass("search-open",e||!this.privateSearch.isEmpty())},n.prototype.toggleInbox=function(){var e;return e=this.viewModel.get("rhs")||"inbox"===this.viewModel.get("lhs"),this.$("#inbox-toggle").toggleClass("active",!!e);
},n.prototype.openSidebar=function(){return Flowdock.eventBus.trigger("mobile:show-navigation")},n.prototype.destructor=function(){return n.__super__.destructor.apply(this,arguments),this.userView=null},n}(Flowdock.ItemView)},{"../../templates/toolbar/private_toolbar.mustache":331}],345:[function(e,t,n){var r,o=function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},i={}.hasOwnProperty;r=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return o(n,t),n.prototype.id="team-notif-feedback",n.prototype.className="chat-notification",n.prototype.template=e("templates/chat/team_notifications_feedback.mustache"),n.prototype.events=function(){return{"click .undo":"onUndo","click .close":"onClose"}},n.prototype.serializeData=function(){return{flowName:this.props.flowName}},n.prototype.partials=function(){return{content:e(this.props.teamNotificationsOn?"templates/chat/team_notifications_feedback_on.mustache":"templates/chat/team_notifications_feedback_off.mustache")
}},n.prototype.initialize=function(e){this.props=e},n.prototype.onUndo=function(){return this.props.onUndo()},n.prototype.onClose=function(){return this.props.onClose()},n}(Flowdock.ItemView),t.exports=r},{"templates/chat/team_notifications_feedback.mustache":208,"templates/chat/team_notifications_feedback_off.mustache":209,"templates/chat/team_notifications_feedback_on.mustache":210}],346:[function(e,t,n){var r=function(e,t){function n(){this.constructor=e}for(var r in t)o.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},o={}.hasOwnProperty;Views.Chat.User=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return r(n,t),n.prototype.tagName="li",n.prototype.className="user clearfix tipsy-tooltip",n.prototype.modelEvents={change:"onChange"},n.prototype.initialize=function(e){return this.options=e,this.listenTo(this.model.presenceModel(),"change",function(e){return function(){return e.setPresenceClass(),e.setActivity()}}(this))},n.prototype.destructor=function(){
return n.__super__.destructor.apply(this,arguments),this.options=null},n.prototype.onChange=function(){var e;return e=_.keys(this.model.changedAttributes()),_.all(e,function(e){return"status"===e})?this.setStatus():this.renderData()},n.prototype.setActivity=function(){var e;return e=this.$(".activity"),e.html(this.activeTimeHtml()).toggle(!e.is(":empty"))},n.prototype.setPresenceClass=function(){return this.$el.removeClass("active offline idle").addClass(this.model.presence())},n.prototype.renderData=function(){var e;return this.setPresenceClass(),this.setStatus(),this.setActivity(),this.$(".mail").attr({href:"mailto:"+this.model.get("email"),title:this.model.get("email")}),this.$(".user-name").attr({title:this.model.get("name")}).text(this.model.get("nick")+" ("+this.model.get("name")+")"),e=this.model.avatar(72)||"",e&&this.$(".user-avatar").css("background-image","url("+e+")"),this.$(".user-in-team").add(this.$(".user-in-team").closest("li")).toggleClass("hidden",!this.model.get("team_notifications"))},n.prototype.setStatus=function(){
return this.model.get("status")?this.$el.attr("title",this.model.nick()+': "'+this.model.get("status")+'"'):void 0},n.prototype.render=function(){var t;return t=this.subview(new Views.Shared.Avatar({model:this.model,size:72,className:"user-avatar",avatarOnly:this.options.avatarOnly}).render()),this.$el.html(t.$el),this.options.avatarOnly||this.$el.append(Helpers.renderTemplate(e("../../templates/users/user.mustache"))({idle:this.activeTimeHtml(),privateUrl:Helpers.urlFor({"private":this.model}),linkToPrivate:this.model.get("id")!==Flowdock.app.user.id})),this.renderData(),this},n.prototype.activeTimeHtml=function(){return Helpers.TimeHelper.userPresence(this.model,{since:!0})},n}(Flowdock.HierarchicalView)},{"../../templates/users/user.mustache":336}],347:[function(e,t,n){var r,o,i=function(e,t){function n(){this.constructor=e}for(var r in t)s.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},s={}.hasOwnProperty;o=e("react"),r=o.createFactory(e("components/user_list/list")),
Views.Chat.UserList=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return i(t,e),t.prototype.collectionEvents={"change add remove":"render"},t.prototype._flowUser=function(){return Flowdock.app.user?this.collection.get(Flowdock.app.user.id):void 0},t.prototype.initialize=function(e){var t;return this.listenTo(this.flow,"change:team_notifications",this.render),this.listenTo(this.flow,"change:access_mode",this.render),t=Flowdock.app.user.id,this.flow.fullyLoaded.then(function(e){return function(){return e.render(),e.listenTo(e._flowUser(),"change",e.render)}}(this))},t.prototype.render=function(){var e,t;return(e=this._flowUser())&&(t=this.collection)&&this.component(this.$el[0],r({organization:this.flow.get("organization").name,inviteOnly:"invitation"===this.flow.get("access_mode"),onClose:function(e){return function(){return e.close()}}(this),onInvite:function(e){return function(){return e.openUserSettings()}}(this),saveStatus:function(e){return function(t){var n;return n=e.flow.buildMessage({
event:"status",content:t},Models.ChatMessage),n.save()}}(this),me:{status:e.get("status"),model:e,inTeam:this.flow.receivesTeamNotifications()},users:t,invitations:this.flow.invitations})),this},t.prototype.close=function(){return this.trigger("close:user:list")},t.prototype.openUserSettings=function(){return Flowdock.app.manager.openFlowSettings(this.flow,"preferences?add_people=true")},t}(Flowdock.HierarchicalView)},{"components/user_list/list":60,react:842}],348:[function(e,t,n){var r=function(e,t){function n(){this.constructor=e}for(var r in t)o.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},o={}.hasOwnProperty;Views.Content=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return r(t,e),t.prototype.events={"click #flow-overlay":"slideAsideOut"},t.prototype.initialize=function(){return this.instantiatedAt=new Date},t.prototype.onDetach=function(){return this.attached=!1,this.$el.detach()},t.prototype.onAttach=function(){return this.attached=!0;
},t.prototype.slideAsideOut=function(){var e;return e=$("body").hasClass("navigation-in"),Flowdock.eventBus.trigger(e?"mobile:hide-navigation":"mobile:hide:userlist")},t}(Flowdock.HierarchicalView)},{}],349:[function(e,t,n){Views.Embed={previewers:[],match:function(e){return Views.Embed.previewers.filter(function(t){return t.match(e)})[0]},register:function(e,t){var n;return null==t&&(t=-1),n=Views.Embed.previewers,-1===t?n.push(e):0>t?n.splice(t+1,0,e):n.splice(t,0,e)}}},{}],350:[function(e,t,n){var r=function(e,t){function n(){this.constructor=e}for(var r in t)o.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},o={}.hasOwnProperty;Views.Embed.Document=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return r(n,t),n.prototype.type="document",n.prototype.initialize=function(e){return n.__super__.initialize.apply(this,arguments),this.url=e.url,this.fileType=_.last(this.url.split(".")).split("?")[0].toLowerCase()},n.prototype.load=function(){
var t;if(this.shouldLoad())return t=Helpers.renderTemplate(e("../../templates/shared/embed/document.mustache"))({url:this.url,type:this.fileType}),this.embed($.parseHTML(t)),this.render()},n.match=function(e){return e.match(/^(?:https?:\/\/).*\.(?:pdf|ppt)(#|\?|$)/i)},n}(Views.Embed.Embeddable),Views.Embed.register(Views.Embed.Document)},{"../../templates/shared/embed/document.mustache":302}],351:[function(e,t,n){var r=function(e,t){return function(){return e.apply(t,arguments)}},o=function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},i={}.hasOwnProperty;Views.Embed.Embeddable=function(e){function t(){return this.deferredLoad=r(this.deferredLoad,this),this.onMuteChange=r(this.onMuteChange,this),t.__super__.constructor.apply(this,arguments)}return o(t,e),t.TIMEOUT=8e3,t.prototype.events={"click .embed-hide-btn":function(e){return e.preventDefault()}},t.prototype.initialize=function(e){return this.loaded=!1,
this.$el.append('<i class="embed-show-btn fa fa-eye fa-lg" title="Show preview"/>'),this.original=this.$el.html(),this.parent=e.parent,this._embedded=null,this.message=e.message,this.containedNSFWContent=!1,this.previewManuallyToggled=!1,null!=this.message&&this.listenTo(this.message,"change",this.messageChanged),this.muteUnsubscriber=Bacon.mergeAll([this.$el.asEventStream("click",".embed-hide-btn").map(!1),this.$el.asEventStream("click",".embed-show-btn").map(!0),Flowdock.app.preferences.asEventStream("change:link_previews").map(function(e){return e.linkPreviews()})]).onValue(this.onMuteChange),Flowdock.app.preferences.linkPreviews()?this.bindInview():void 0},t.prototype.embed=function(e){return void 0!==e&&(this._embedded=e),this._embedded},t.prototype.messageChanged=function(){return this.message.containsNSFWContent()&&!this.containedNSFWContent?(this.containedNSFWContent=!0,this.hideEmbed()):void 0},t.prototype.render=function(){return null!=this._embedded?this.renderPreview(Flowdock.app.preferences.linkPreviews()):this.$el.addClass("no-embed"),
this},t.prototype.renderPreview=function(e){return e?(this.$el.addClass((this.type||"embedded")+"-preview"),!this.previewManuallyToggled&&this.message.containsNSFWContent()?this.hideEmbed():this.showEmbed()):this.hideEmbed()},t.prototype.hideEmbed=function(){return this.parent.preserveScrolling(function(e){return function(){return e._isReactElement()&&e.destroyComponents(),e.$el.addClass("no-embed"),e.$el.html(e.original)}}(this))},t.prototype.showEmbed=function(){var e;return e=this.$("a").first().empty(),this.parent.preserveScrolling(function(t){return function(){var n,r;return t.$el.removeClass("no-embed"),t._isReactElement()?(t.destroyComponents(),t.component(e[0],t._embedded)):e.append(t._embedded),r=['<i class="fa fa-circle fa-stack-2x"></i>','<i class="fa fa-times fa-stack-1x fa-inverse" title="Hide preview"/>'],n='<span class="fa-stack">'+r.join()+"</span>",t.$("a.external").first().append('<div class="embed-hide-btn">'+n+"</div>")}}(this))},t.prototype.onMuteChange=function(e){return this.previewManuallyToggled=!0,
this._embedded?this.renderPreview(e):e?this.bindInview():this.$el.scrollableInview("destroy")},t.prototype.bindInview=function(){return this._embedded!==!1?_.defer(function(e){return function(){return e.addStream(e.parentScrollState().onValue(function(){})),e.$el.scrollableInview({fully:!1,scrollParent:e.scrollParent(),onInview:e.deferredLoad})}}(this)):void 0},t.prototype.scrollParent=function(){var e;return e=this.$el.closest("ul"),0===e.length&&(e=this.$el.closest("article")),e},t.prototype.parentScrollState=function(){return this._scrollState||(this._scrollState=this.scrollParent().asEventStream("scroll").debounceImmediate(500).flatMapLatest(function(){return Bacon.once(!0).merge(Bacon.once(!1).delay(550))}).skipDuplicates().toProperty(!1)),this._scrollState},t.prototype.deferredLoad=function(){return this.addStream(this.parentScrollState().filter(function(e){return!e}).take(1).onValue(function(e){return function(){return e.load()}}(this)))},t.prototype.destructor=function(){return t.__super__.destructor.apply(this,arguments),
this.muteUnsubscriber(),this.$el.scrollableInview("destroy"),this.original=this.parent=this._embedded=this.muteUnsubscriber=this._scrollState=this.message=null},t.prototype._isReactElement=function(){return React.isValidElement(this._embedded)},t.prototype.shouldLoad=function(){return Flowdock.app.preferences.linkPreviews()?this.firstLoad():!1},t.prototype.firstLoad=function(){return this.loaded?!1:(this.loaded=!0,!0)},t}(Flowdock.HierarchicalView),e("./document"),e("./gfycat"),e("./image"),e("./spotify"),e("./twitter"),e("./vimeo"),e("./youtube"),e("./gifv"),e("./github")},{"./document":350,"./gfycat":352,"./gifv":353,"./github":354,"./image":355,"./spotify":356,"./twitter":357,"./vimeo":358,"./youtube":359}],352:[function(e,t,n){var r,o=function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},i={}.hasOwnProperty;r=React.createFactory(e("components/embed/gifv")),Views.Embed.Gfycat=function(e){function t(){
return t.__super__.constructor.apply(this,arguments)}return o(t,e),t.prototype.type="gifv",t.prototype.initialize=function(e){return null==e&&(e={}),t.__super__.initialize.apply(this,arguments),this.hideable=null!=e.hideable?e.hideable:!0,this.url=e.url,this.skipTimeout=e.skipTimeout},t.prototype.load=function(){var e,t;if(this.shouldLoad())return this.hideable||this.$(".embed-hide-btn").hide(),t=this.getVideoInfo(),t.then(function(t){return function(n){return t.renderElement(null!=n?n.gfyItem:void 0),clearTimeout(e)}}(this),function(e){return function(){return e.destructor()}}(this)),this.skipTimeout?void 0:e=setTimeout(function(e){return function(){return e.destructor()}}(this),Views.Embed.Embeddable.TIMEOUT)},t.prototype.renderElement=function(e){var t;return t=[{key:"mp4",type:"video/mp4",src:e.mp4Url},{key:"webm",type:"video/webm",src:e.webmUrl}],this.embed(r({url:this.url,sources:t,onError:this.destructor.bind(this),parent:this.parent})),this.render()},t.prototype.getVideoInfo=function(){var e,n;return n=t.parseVideoId(this.url),
e="https://gfycat.com/cajax/get/"+n,$.ajax({url:e,method:"get",headers:null})},t.match=function(e){return t.parseVideoId(e)},t.parseVideoId=function(e){var t;return t=e.match(/https?:\/\/(?:\w+\.)?gfycat\.com\/([a-zA-Z]+)/),t?t[1]:null},t.prototype.destructor=function(){var e;return this.embed(e=!1),this.hideEmbed()},t}(Views.Embed.Embeddable),Views.Embed.register(Views.Embed.Gfycat)},{"components/embed/gifv":40}],353:[function(e,t,n){var r,o=function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},i={}.hasOwnProperty;r=React.createFactory(e("components/embed/gifv")),Views.Embed.Gifv=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return o(t,e),t.prototype.type="gifv",t.prototype.initialize=function(e){return null==e&&(e={}),t.__super__.initialize.apply(this,arguments),this.hideable=null!=e.hideable?e.hideable:!0,this.video=this.createElement(decodeURI(e.rotatedUrl||e.url))},t.prototype.load=function(){
return this.shouldLoad()?(this.renderVideo(),this.hideable?void 0:this.$(".embed-hide-btn").hide()):void 0},t.prototype.renderVideo=function(){return this.embed(this.video),this.render()},t.prototype.createElement=function(e){var t,n,o;if(o=null!=(t=e.match(/(https?\:\/\/(?:i\.)?imgur\.com\/\w+)\.(?:gifv|mp4|webm)$/))?t[1]:void 0)return n=[{key:"mp4",type:"video/mp4",src:o+".mp4"},{key:"webm",type:"video/webm",src:o+".webm"}],r({url:e,sources:n,onError:this.destructor.bind(this),parent:this.parent})},t.match=function(e){return e.match(/https?\:\/\/(?:i\.)?imgur\.com\/(\w+)\.(?:gifv|mp4|webm)$/)},t.prototype.destructor=function(){return this.hideEmbed(),this.video=null},t}(Views.Embed.Embeddable),Views.Embed.register(Views.Embed.Gifv)},{"components/embed/gifv":40}],354:[function(e,t,n){var r=function(e,t){function n(){this.constructor=e}for(var r in t)o.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},o={}.hasOwnProperty;Views.Embed.GitHub=function(t){function n(){
return n.__super__.constructor.apply(this,arguments)}return r(n,t),n.prototype.type="github",n.prototype.initialize=function(e){var t;return null==e&&(e={}),n.__super__.initialize.apply(this,arguments),this.url=e.url,this.skipTimeout=e.skipTimeout,t=n.parseGitHubUrlComponents(this.url),this.repoAuthor=t.author,this.repoName=t.repo,this.urlType=t.type,this.gitHubApiUrl=t.apiUrl},n.prototype.load=function(){var e,t;if(this.shouldLoad()&&this.gitHubApiUrl)return e=this.sendRequest(this.gitHubApiUrl),e.then(function(e){return function(n){return e.renderElement(n),clearTimeout(t)}}(this),function(e){return function(){return e.cancelLoading(),clearTimeout(t)}}(this)),this.skipTimeout?void 0:t=setTimeout(function(e){return function(){return e.cancelLoading()}}(this),Views.Embed.Embeddable.TIMEOUT)},n.prototype.renderElement=function(t){var n;switch(this.urlType){case"repos":n=Helpers.renderTemplate(e("../../templates/embed/github.repo.mustache"))({repoDescription:t.description,repoAuthor:t.owner.login,repoName:t.name
});break;case"pull":n=Helpers.renderTemplate(e("../../templates/embed/github.pull.mustache"))({author:t.user.login,number:t.number,title:t.title,repoAuthor:t.base.repo.owner.login,repoName:t.base.repo.name});break;case"issues":n=Helpers.renderTemplate(e("../../templates/embed/github.issue.mustache"))({author:t.user.login,number:t.number,title:t.title,repoAuthor:this.repoAuthor,repoName:this.repoName})}return this.embed($.parseHTML(n)),this.render()},n.prototype.cancelLoading=function(){return this.embed(!1)},n.prototype.sendRequest=function(e){return $.ajax({url:e,method:"get",headers:null})},n.match=function(e){return e.match(/^https?:\/\/(?:www\.)?github\.com\/[^\/]+\/[^\/]+(?:\.git)?(?:\/(?:pull|issues)\/(?:\d+)(?:\/(?:files|commits))?)?(?:\#[\w\d-_]*)?$/i)},n.parseGitHubUrlComponents=function(e){var t,n,r;return(n=e.match(/^https?:\/\/(?:www\.)?github\.com\/([^\/]+)\/([^\/]+)(?:\.git)?(?:\/(pull|issues)\/(\d+)(?:\/(?:files|commits))?)?(?:\#[\w\d-_]*)?$/i))&&(n[3]&&n[4]?(r=n[3],t="pull"===n[3]?"https://api.github.com/repos/"+n[1]+"/"+n[2]+"/pulls/"+n[4]:"https://api.github.com/repos/"+n[1]+"/"+n[2]+"/"+n[3]+"/"+n[4]):(r="repos",
t="https://api.github.com/repos/"+n[1]+"/"+n[2])),{author:(null!=n?n[1]:void 0)||null,repo:(null!=n?n[2]:void 0)||null,type:r||null,apiUrl:t||null}},n}(Views.Embed.Embeddable),Views.Embed.register(Views.Embed.GitHub)},{"../../templates/embed/github.issue.mustache":215,"../../templates/embed/github.pull.mustache":216,"../../templates/embed/github.repo.mustache":217}],355:[function(e,t,n){var r,o=function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},i={}.hasOwnProperty;r=React.createFactory(e("components/overlays/image_overlay")),Views.Embed.Image=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return o(t,e),t.prototype.type="image",t.prototype.events=_.extend({},Views.Embed.Embeddable.prototype.events,{"click img":"openOverlay"}),t.prototype.initialize=function(e){return null==e&&(e={}),t.__super__.initialize.apply(this,arguments),this.originalUrl=e.url,this.url=t.url(decodeURI(e.rotatedUrl||e.url)),
this.skipTimeout=e.skipTimeout,this.hideable=null!=e.hideable?e.hideable:!0},t.prototype.destructor=function(){var e;return this.loadTimeout&&clearTimeout(this.loadTimeout),null!=(e=this.$image)&&e.off("load"),this.loadTimeout=this.$image=null,t.__super__.destructor.apply(this,arguments)},t.prototype.load=function(){var e,n;if(this.shouldLoad())return e=new window.Image,this.$image=$(e),this.$image.one("load",function(t){return function(){return t.embed(e),t.renderPreview(!0),t.hideable||t.$(".embed-hide-btn").hide(),clearTimeout(t.loadTimeout)}}(this)),this.$image.one("error",function(t){return function(){return t.embed(e=!1)}}(this)),e.src=this.url,e.alt=this.url,t.isImageFileURL(this.url)?e.title=null!=(n=this.url.replace(/\?.*/,"").match(/([^\/]+)$/))?n[0]:void 0:e.title=this.originalUrl,this.skipTimeout?void 0:this.loadTimeout=setTimeout(function(t){return function(){return t.$image.off("load"),t.embed(e=!1)}}(this),Views.Embed.Embeddable.TIMEOUT)},t.isImageFileURL=function(e){return e.match(/(\.jpg|\.jpeg|\.png|\.gif)(#|\?|$)/i);
},t.url=function(e){var n,r,o,i,s,a,u,l;return e.match(/^https:\/\/www\.dropbox\.com\//i)?e.replace("www.dropbox.com","dl.dropboxusercontent.com"):t.isImageFileURL(e)?e:e.match(/^http:\/\/d\.pr\//i)&&"+"!==e[e.length-1]?e+"+":e.match(/^http:\/\/cl\.ly\//i)?e+"/src":e.match(/^https?:\/\/pbs\.twimg\.com\/media/i)?e.replace(/:\w+$/,""):e.match(/^https?:\/\/monosnap\.com\/image/i)?(n=null!=(r=e.match(/(\w+)\/?$/))?r[1]:void 0,"https://api.monosnap.com/image/download?id="+n):e.match(/^https?:\/\/infinit\.io\/_\/(\w+)$/i)?e+".png":(n=null!=(o=e.match(/^https?:\/\/inft\.ly\/(\w+)$/i))?o[1]:void 0)?"https://infinit.io/_/"+n+".png":(n=null!=(i=e.match(/^https?:\/\/(?:www\.)?instagram\.com\/(?:[^\/]+\/)?p\/([^\/]+)/i))?i[1]:void 0)?"https://instagram.com/p/"+n+"/media/?size=l":(n=null!=(s=e.match(/^https?:\/\/imgur\.com\/(\w+)(\/)?$/i))?s[1]:void 0)?"https://i.imgur.com/"+n+".gif":(n=null!=(a=e.match(/^https?:\/\/giphy\.com\/gifs\/(?:.+-)?([^-]+)$/i))?a[1]:void 0)?"http://i.giphy.com/"+n+".gif":(n=null!=(u=e.match(/^https:\/\/(?:docs|drive)\.google\.com\/(?:a\/.+?\/)?file\/d\/(.+?)(?:\/view|\/edit)?(?:\?[^?]*)?$/i))?u[1]:void 0)?"https://drive.google.com/uc?export=view&id="+n:(n=null!=(l=e.match(/^https?:\/\/drive\.google\.com\/open\?(?:\w+=[^&]*&)*id=([^&]+)/i))?l[1]:void 0)?"https://drive.google.com/uc?export=view&id="+n:e.match(/^https?:\/\/drive\.google\.com\/uc\?(?:export=\w+?&)?id=\w+/i)?e+"#":e;
},t.match=function(e){var n;if(!t.isImageFileURL(e)&&t.url(e)===e)return!1;try{return!!decodeURI(e)}catch(r){return n=r,!1}},t.prototype.openOverlay=function(e){var t;if(!((null!=e?e.ctrlKey:void 0)||(null!=e?e.metaKey:void 0))&&this._embedded)return null!=e&&e.preventDefault(),t=new Views.Shared.Overlay({target:$("body"),className:"image-overlay",id:"image-overlay",removeOnHide:!0}).attach(),t.component(t.el,r({url:this.url,original:this.originalUrl,onClose:t.close.bind(t)}))},t}(Views.Embed.Embeddable),Views.Embed.register(Views.Embed.Image)},{"components/overlays/image_overlay":56}],356:[function(e,t,n){var r=function(e,t){function n(){this.constructor=e}for(var r in t)o.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},o={}.hasOwnProperty;Views.Embed.Spotify=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return r(n,t),n.prototype.type="spotify",n.prototype.initialize=function(e){return null==e&&(e={}),n.__super__.initialize.apply(this,arguments),
this.url=e.url,this.spotifyUrl=n.parseSpotifyApiUrl(this.url),this.skipTimeout=e.skipTimeout},n.prototype.load=function(){var e,t;if(this.shouldLoad())return e=this.getMusicInfo(),e.then(function(e){return function(n){return e.renderElement(n),clearTimeout(t)}}(this),function(e){return function(){return e.cancelLoading(),clearTimeout(t)}}(this)),this.skipTimeout?void 0:t=setTimeout(function(e){return function(){return e.cancelLoading()}}(this),Views.Embed.Embeddable.TIMEOUT)},n.prototype.renderElement=function(t){var n,r;switch(t.type){case"track":r=Helpers.renderTemplate(e("../../templates/embed/spotify.track.mustache"))({icon:Flowdock.icons.spotify,track:t.name,album:t.album.name,artist:function(){var e,r,o,i;for(o=t.artists,i=[],e=0,r=o.length;r>e;e++)n=o[e],i.push(n.name);return i}().join(", ")});break;case"album":r=Helpers.renderTemplate(e("../../templates/embed/spotify.album.mustache"))({icon:Flowdock.icons.spotify,album:t.name,artist:function(){var e,r,o,i;for(o=t.artists,i=[],e=0,r=o.length;r>e;e++)n=o[e],
i.push(n.name);return i}().join(", ")});break;case"artist":r=Helpers.renderTemplate(e("../../templates/embed/spotify.artist.mustache"))({icon:Flowdock.icons.spotify,artist:t.name})}return this.embed($.parseHTML(r)),this.render()},n.prototype.cancelLoading=function(){return this.embed(!1)},n.prototype.getMusicInfo=function(){return $.ajax({url:this.spotifyUrl,method:"get",headers:null})},n.match=function(e){return n.parseSpotifyApiUrl(e)},n.parseSpotifyApiUrl=function(e){var t;return(t=e.match(/(?:open|play)\.spotify\.com\/(artist|album|track)\/(\w+)$/i))?"https://api.spotify.com/v1/"+t[1]+"s/"+t[2]:null},n}(Views.Embed.Embeddable),Views.Embed.register(Views.Embed.Spotify)},{"../../templates/embed/spotify.album.mustache":218,"../../templates/embed/spotify.artist.mustache":219,"../../templates/embed/spotify.track.mustache":220}],357:[function(e,t,n){var r=function(e,t){function n(){this.constructor=e}for(var r in t)o.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,
e},o={}.hasOwnProperty;Views.Embed.Twitter=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return r(n,t),n.regex=/^https?:\/\/twitter\.com\/[a-zA-Z0-9_-]+\/status\/([0-9]+)/,n.prototype.type="twitter",n.prototype.initialize=function(e){return null==e&&(e={}),n.__super__.initialize.apply(this,arguments),this.url=e.url,this.tweetId=n.parseTweetId(this.url)},n.prototype.load=function(){var e,t;if(this.shouldLoad())return e=setTimeout(function(e){return function(){return e.cancelLoading()}}(this),Views.Embed.Embeddable.TIMEOUT),t=this.getTweetInfo(),t.then(function(t){return function(n){return t.renderElement(n),clearTimeout(e)}}(this),function(t){return function(){return t.cancelLoading(),clearTimeout(e)}}(this))},n.prototype.renderElement=function(t){var n,r,o,i,s,a,u,l,c,p,d,h;try{if(n=$($.parseHTML(t.html)),h=n.children("p"),h=h.html(),d=n.children("a").first().clone().append(' <i class="fa fa-external-link" />')[0].outerHTML,!((null!=h?h.length:void 0)&&(null!=d?d.length:void 0)))return;
return c=null!=(a=n[0])&&null!=(u=a.childNodes[1])&&null!=(l=u.textContent)?l.trim():void 0,r=(null!=c?c.indexOf(t.author_name):void 0)<0,r&&(o=c.match(/^\u2014 (.*) \(@([^(]+?)\)$/))&&(s=o[2],i=o[1]),p=Helpers.renderTemplate(e("../../templates/embed/tweet.mustache"))({tweet:h,time:d,author:t.author_name,authorLink:t.author_url,isRetweet:r,originalAuthorName:i,originalAuthorUsername:s}),this.embed($.parseHTML(p)),this.render()}catch(f){return this.embed(!1)}},n.prototype.showEmbed=function(){return this.parent.preserveScrolling(function(e){return function(){return e.$el.removeClass("no-embed"),e.$("a[href='"+e.url+"']").first().replaceWith(e._embedded)}}(this))},n.prototype.cancelLoading=function(){return this.embed(!1)},n.prototype.getTweetInfo=function(){var e;return e="https://api.twitter.com/1/statuses/oembed.json?omit_script=true&id="+this.tweetId+"&callback=?",$.getJSON(e)},n.match=function(e){return Views.Embed.Twitter.regex.test(e)},n.parseTweetId=function(e){var t;return t=e.match(n.regex),null!=t?t[1]:void 0;
},n}(Views.Embed.Embeddable),Views.Embed.register(Views.Embed.Twitter)},{"../../templates/embed/tweet.mustache":221}],358:[function(e,t,n){var r=function(e,t){function n(){this.constructor=e}for(var r in t)o.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},o={}.hasOwnProperty;Views.Embed.Vimeo=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return r(n,t),n.prototype.type="vimeo",n.prototype.initialize=function(e){return null==e&&(e={}),n.__super__.initialize.apply(this,arguments),this.url=e.url,this.vimeoId=n.parseVideoId(this.url),this.skipTimeout=e.skipTimeout},n.prototype.load=function(){var e,t;if(this.shouldLoad())return t=this.getVideoInfo(),t.then(function(t){return function(n){return t.renderElement(_.first(n)),clearTimeout(e)}}(this),function(e){return function(){return e.cancelLoading()}}(this)),this.skipTimeout?void 0:e=setTimeout(function(e){return function(){return e.cancelLoading()}}(this),Views.Embed.Embeddable.TIMEOUT);
},n.prototype.renderVideoImage=function(){return this.$(".video-image img").one("load",function(e){return function(){return e.renderPreview(!0)}}(this))},n.prototype.renderElement=function(t){var n;return n=Helpers.renderTemplate(e("../../templates/embed/video.mustache"))({url:this.url,title:t.title,description:t.description,duration:Helpers.format.duration(t.duration),image:t.thumbnail_medium.replace(/^http\:/,"https:"),author:{name:t.user_name}}),this.renderVideoImage(),this.embed($.parseHTML(n)),this.render()},n.prototype.cancelLoading=function(){var e;return this.embed(e=!1)},n.prototype.getVideoInfo=function(){var e;return e="https://vimeo.com/api/v2/video/"+this.vimeoId+".json",$.ajax({url:e,method:"get",headers:null})},n.match=function(e){return n.parseVideoId(e)},n.parseVideoId=function(e){var t;return t=e.match(/https?:\/\/(?:www\.)?vimeo\.com\/(?:channels\/(?:\w+\/)?|groups\/([^\/]*)\/videos\/|album\/(\d+)\/video\/|)(\d+)(?:$|\/|\?)/),t?t[3]:null},n}(Views.Embed.Embeddable),Views.Embed.register(Views.Embed.Vimeo);
},{"../../templates/embed/video.mustache":222}],359:[function(e,t,n){var r=function(e,t){function n(){this.constructor=e}for(var r in t)o.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},o={}.hasOwnProperty;Views.Embed.Youtube=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return r(n,t),n.prototype.type="youtube",n.prototype.initialize=function(e){return null==e&&(e={}),n.__super__.initialize.apply(this,arguments),this.url=e.url,this.videoId=n.parseVideoId(this.url),this.skipTimeout=e.skipTimeout},n.prototype.load=function(){var e,t;if(this.shouldLoad())return e=this.skipTimeout?void 0:setTimeout(function(e){return function(){return e.cancelLoading()}}(this),Views.Embed.Embeddable.TIMEOUT),t=this.getVideoInfo(),t.then(function(t){return function(n){return t.renderElement(n),clearTimeout(e)}}(this),function(t){return function(){return t.cancelLoading(),clearTimeout(e)}}(this))},n.prototype.item=function(e){return _.findWhere(e.items,{
id:this.videoId})},n.prototype.duration=function(e){return moment.duration(e.contentDetails.duration,moment.ISO_8601).asSeconds()},n.prototype.renderVideoImage=function(){return this.$(".video-image img").one("load",function(e){return function(){return e.renderPreview(!0)}}(this))},n.prototype.renderElement=function(t){var n,r;return n=this.item(t),n&&(r=Helpers.renderTemplate(e("../../templates/embed/video.mustache"))({url:this.url,title:n.snippet.title,duration:Helpers.format.duration(this.duration(n)),image:this.thumbnailUrl(t),author:{name:n.snippet.author}}),this.embed($.parseHTML(r)),this.renderVideoImage()),this.render()},n.prototype.cancelLoading=function(){return this.embed(!1)},n.prototype.getVideoInfo=function(){var e;return e="https://www.googleapis.com/youtube/v3/videos?id="+this.videoId+("&key="+Flowdock.youtube.key+"&part=snippet,statistics,contentDetails"),$.getJSON(e)},n.prototype.thumbnailUrl=function(e){var t,n;return t=this.item(e).snippet.thumbnails,n=t["default"].url,n.replace(/^http\:/,"https:");
},n.match=function(e){return n.parseVideoId(e)},n.parseVideoId=function(e){var t;return t=e.match(/youtube\.com\/watch\?(?:.+&|)v=([\w-]+)|youtu\.be\/([\w-]+)(\?.+)?$/i),t?t[2]||t[1]:null},n}(Views.Embed.Embeddable),Views.Embed.register(Views.Embed.Youtube)},{"../../templates/embed/video.mustache":222}],360:[function(e,t,n){var r=function(e,t){function n(){this.constructor=e}for(var r in t)o.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},o={}.hasOwnProperty;Views.Errors.Alert=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return r(t,e),t.prototype.errorName="alert",t}(Views.Errors.Inline)},{}],361:[function(e,t,n){var r=function(e,t){function n(){this.constructor=e}for(var r in t)o.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},o={}.hasOwnProperty;Views.Errors.ConnectionClosed=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return r(t,e),t.prototype.errorName="connection-closed",
t}(Views.Errors.Inline)},{}],362:[function(e,t,n){var r=function(e,t){function n(){this.constructor=e}for(var r in t)o.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},o={}.hasOwnProperty;Views.Errors.Error=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return r(n,t),n.prototype.errorName="error",n.prototype.className="error",n.prototype.tagName="div",n.prototype.errorType="global",n.prototype.events={"click .reload":"reload","click .toast-continue":"triggerDetach","click .back":"navigateBack"},n.prototype.templates={alert:e("../../templates/errors/alert.mustache"),"connection-closed":e("../../templates/errors/connection_closed.mustache"),error:e("../../templates/errors/error.mustache"),"external-action-failed":e("../../templates/errors/external_action_failed.mustache"),"external-authentication-required":e("../../templates/errors/external_authentication_required.mustache"),"flow-not-found":e("../../templates/errors/flow_not_found.mustache"),
"flow-subscribe-failed":e("../../templates/errors/flow_subscribe_failed.mustache"),"handshake-failed":e("../../templates/errors/handshake_failed.mustache"),"new-flow-error":e("../../templates/errors/new_flow_error.mustache"),"private-not-found":e("../../templates/errors/private_not_found.mustache"),"private-subscribe-failed":e("../../templates/errors/private_subscribe_failed.mustache"),"routing-error":e("../../templates/errors/routing_error.mustache"),update:e("../../templates/errors/update.mustache"),"use-mac-app":e("../../templates/errors/use_mac_app.mustache")},n.prototype.render=function(){return this.$el.empty().append(this.templates[this.errorName].render(this.model)),this.animateEllipsis(),this.$el.addClass(this.errorType),this},n.prototype.onDetach=function(){return this.destructor()},n.prototype.triggerDetach=function(e){return null!=e&&"function"==typeof e.preventDefault&&e.preventDefault(),n.__super__.triggerDetach.apply(this,arguments)},n.prototype.navigateBack=function(e){return null!=e&&e.preventDefault(),
window.history.back()},n.prototype.destructor=function(){return this.ellipsisAnimation=clearInterval(this.ellipsisAnimation),n.__super__.destructor.apply(this,arguments)},n.prototype.animateEllipsis=function(){var e,t;return e=this.$el.find(".animate-ellipsis"),0!==e.length?(t="...",this.ellipsisAnimation=setInterval(function(){return"..."===t?t="":t+=".",e.text(t)},1e3)):void 0},n.prototype.reload=function(e){return null!=e&&e.preventDefault(),window.location.reload()},n}(Flowdock.HierarchicalView)},{"../../templates/errors/alert.mustache":223,"../../templates/errors/connection_closed.mustache":224,"../../templates/errors/error.mustache":225,"../../templates/errors/external_action_failed.mustache":226,"../../templates/errors/external_authentication_required.mustache":227,"../../templates/errors/flow_not_found.mustache":228,"../../templates/errors/flow_subscribe_failed.mustache":229,"../../templates/errors/handshake_failed.mustache":230,"../../templates/errors/new_flow_error.mustache":231,"../../templates/errors/private_not_found.mustache":232,
"../../templates/errors/private_subscribe_failed.mustache":233,"../../templates/errors/routing_error.mustache":234,"../../templates/errors/update.mustache":235,"../../templates/errors/use_mac_app.mustache":236}],363:[function(e,t,n){var r=function(e,t){function n(){this.constructor=e}for(var r in t)o.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},o={}.hasOwnProperty;Views.Errors.ExternalActionFailed=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return r(t,e),t.prototype.errorName="external-action-failed",t}(Views.Errors.Inline)},{}],364:[function(e,t,n){var r=function(e,t){function n(){this.constructor=e}for(var r in t)o.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},o={}.hasOwnProperty;e("./inline"),Views.Errors.ExternalAuthenticationRequired=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return r(t,e),t.prototype.errorName="external-authentication-required",
t.prototype.events=_.extend({},Views.Errors.Inline.prototype.events,{"click .authenticate":"onAuthenticationClick"}),t.prototype.initialize=function(){return this.popups=[]},t.prototype.destructor=function(){var e,n,r,o,i;for(t.__super__.destructor.apply(this,arguments),o=this.popups,i=[],e=0,n=o.length;n>e;e++)r=o[e],i.push(r.destructor());return i},t.prototype.onAuthenticationClick=function(){var e;return e=new Views.Shared.Popup(this.model.url,"external-wizard",{name:"Authentication wizard"}),this.popups.push(e),e.open(),this.remove(),!1},t}(Views.Errors.Inline)},{"./inline":370}],365:[function(e,t,n){var r=function(e,t){function n(){this.constructor=e}for(var r in t)o.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},o={}.hasOwnProperty;Views.Errors.Flow=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return r(t,e),t.prototype.errorType="flow",t}(Views.Errors.Error)},{}],366:[function(e,t,n){var r=function(e,t){function n(){this.constructor=e;
}for(var r in t)o.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},o={}.hasOwnProperty;Views.Errors.FlowNotFound=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return r(t,e),t.prototype.errorName="flow-not-found",t.prototype.render=function(){return this.showLoadingIndicator(),this.loadFlow().onValue(function(e){return function(t){return t.get("id")?(Flowdock.app.flows.add(t),Backbone.history.loadUrl()):Views.Errors.Error.prototype.render.call(e)}}(this)),this},t.prototype.showLoadingIndicator=function(){var e;return e=new Views.Shared.Progress({el:this.el}),e.render()},t.prototype.loadFlow=function(){var e;return e=new Models.Flow({url:"/flows/"+this.model.org+"/"+this.model.name}),this.untilEnd(Bacon.fromPromise(e.fetch(),!0)).map(e).mapError(e)},t}(Views.Errors.Error)},{}],367:[function(e,t,n){var r=function(e,t){function n(){this.constructor=e}for(var r in t)o.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,
e.__super__=t.prototype,e},o={}.hasOwnProperty;Views.Errors.FlowSubscribeFailed=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return r(t,e),t.prototype.errorName="flow-subscribe-failed",t}(Views.Errors.Flow)},{}],368:[function(e,t,n){var r=function(e,t){function n(){this.constructor=e}for(var r in t)o.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},o={}.hasOwnProperty;Views.Errors.HandshakeFailed=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return r(t,e),t.prototype.errorName="handshake-failed",t}(Views.Errors.Error)},{}],369:[function(e,t,n){Views.Errors={get:function(e,t){var n;return n=_.find(Views.Errors,function(n){return n.prototype.errorName===e&&n.prototype.errorType===t}),n||(n=Views.Errors.Modal),n}}},{}],370:[function(e,t,n){var r=function(e,t){function n(){this.constructor=e}for(var r in t)o.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,
e},o={}.hasOwnProperty;Views.Errors.Inline=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return r(t,e),t.prototype.className="toast-error",t.prototype.errorType="inline",t.prototype.remove=function(){return this.$el.on(Helpers.animationend(),function(e){return function(){return e.$el.off(),e.$el.remove()}}(this)),this.$el.addClass("hide"),this.ellipsisAnimation=clearInterval(this.ellipsisAnimation),this.stopListening()},t}(Views.Errors.Error)},{}],371:[function(e,t,n){var r=function(e,t){function n(){this.constructor=e}for(var r in t)o.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},o={}.hasOwnProperty;Views.Errors.Modal=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return r(t,e),t.prototype.className="overlay-mask error",t.prototype.errorType="modal",t}(Views.Errors.Error)},{}],372:[function(e,t,n){var r=function(e,t){function n(){this.constructor=e}for(var r in t)o.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,
e.prototype=new n,e.__super__=t.prototype,e},o={}.hasOwnProperty;Views.Errors.RoutingError=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return r(t,e),t.prototype.errorName="routing-error",t}(Views.Errors.Error)},{}],373:[function(e,t,n){var r=function(e,t){function n(){this.constructor=e}for(var r in t)o.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},o={}.hasOwnProperty;Views.Errors.PrivateNotFound=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return r(t,e),t.prototype.errorName="private-not-found",t}(Views.Errors.Error)},{}],374:[function(e,t,n){var r=function(e,t){function n(){this.constructor=e}for(var r in t)o.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},o={}.hasOwnProperty;Views.Errors.FlowSubscribeFailed=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return r(t,e),t.prototype.errorName="private-subscribe-failed",
t}(Views.Errors.Flow)},{}],375:[function(e,t,n){var r=function(e,t){function n(){this.constructor=e}for(var r in t)o.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},o={}.hasOwnProperty;Views.Errors.Update=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return r(t,e),t.prototype.errorName="update",t}(Views.Errors.Inline)},{}],376:[function(e,t,n){var r=function(e,t){function n(){this.constructor=e}for(var r in t)o.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},o={}.hasOwnProperty;Views.Errors.UseMacApp=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return r(t,e),t.prototype.errorName="use-mac-app",t}(Views.Errors.Inline)},{}],377:[function(e,t,n){var r,o,i=function(e,t){function n(){this.constructor=e}for(var r in t)s.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},s={}.hasOwnProperty;r=e("views/overlays/flow_welcome_overlay"),
o=e("views/chat/team_notifications_feedback"),Views.Flow=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return i(n,t),n.prototype.className="flow",n.prototype.events=_.extend({},Views.Content.prototype.events,{"jump-thread:up":"jumpPreviousThread","jump-thread:down":"jumpNextThread"}),n.prototype.template=e("../templates/flow.mustache"),n.prototype.modelEvents={"subscribe-failed":"onSubscribeFailed"},n.prototype.keyboardEvents={nextThread:"jumpNextThread",previousThread:"jumpPreviousThread"},n.prototype.initialize=function(e){var t,r,o;return this.viewModel=e.viewModel,n.__super__.initialize.apply(this,arguments),this.attached=!1,this.bindKeyboardEvents(),this.inbox=this.subview(new Views.Inbox({model:this.model,viewModel:this.viewModel})),this.chat=this.subview(new Views.Chat({model:this.model,viewModel:this.viewModel,fileUpload:!0,tags:!0,inbox:!0,expandable:!0,settings:!0})),this.listenTo(this.chat,"jump-last-open-thread",this.jumpLastOpenThread),o=this.viewModel.asEventStream("change").debounce(0).toProperty(this.viewModel),
t=this.attachedProperty("after","before").and(Flowdock.appFocus).skipDuplicates().combine(o,function(e,t){var n;return n=[],e&&(t.get("chat")&&n.push("chat"),t.get("inbox")&&"{}"===t.get("filter")&&n.push("inbox")),n}).flatMap(function(e){return Bacon.fromArray(e)}),this.untilEnd(this.viewModel.asEventStream("change:rhs").delay(0).filter(function(){var e,t,n,r;return!(null!=(e=Flowdock.app.manager)&&null!=(t=e.currentView)&&null!=(n=t.toolbar)&&null!=(r=n.search)?r.focused():void 0)})).onValue(this,"_focusLastMessageInput"),this.untilEnd(t).onValue(null!=(r=this.model)?r.unreadMessages:void 0,"clearUnread"),this.listenTo(this.viewModel,"change",function(){return this.updatePanes()}),this.toolbar=this.subview(Views.Toolbar.build({model:this.model,viewModel:this.viewModel})),this.listenTo(this.toolbar,"close:user-list",function(){return this._closeUserList()}),this.listenTo(this.toolbar,"open:user-list",function(){return this._openUserList()}),this.listenTo(this.toolbar,"search:change",function(e){return this.onSearchChange(e),
this.viewModel.setSearch(e)}),this.setupBackHighlights(),this._initThreadCache(),this._initFlowNotifications()},n.prototype.renderFlowWelcome=function(){var e,t,n;return e=this,n=function(n){return e.model.saveWithRetry({team_notifications:n},{patch:!0}),t.close()},t=this.subview(new r({target:$("body"),model:this.model,onJoinTeam:function(){return n(!0)},onHangAround:function(){return n(!1)}}).attach())},n.prototype.renderTeamFeedback=function(){var e,t,n,r,i;return n=this.model.receivesTeamNotifications(),r=null,e=null,t=this,i=function(){return t.removeSubview(e),clearTimeout(r)},r=setTimeout(i,5e3),e=this.subview(new o({flowName:this.model.get("name"),teamNotificationsOn:n,onUndo:function(){return t.model.saveWithRetry({team_notifications:!n},{patch:!0}),i()},onClose:i})),this.$(".flow-notifications").append(e.render().$el)},n.prototype._initThreadCache=function(){var e,t;return t=this._threadCache=new Cache.Threads({flow:this.model,preloadedCollections:[this.inbox.messageList.collection,this.chat.messageList.collection]
}),e=function(e){return _.flatten([e]).forEach(function(e){var n;return(n=e.get("thread_id"))?t.load(n):void 0})},this.listenTo(this.inbox.messageList.collection,"add historyAdd",e),this.listenTo(this.chat.messageList.collection,"add historyAdd",e)},n.prototype._jumpTo=function(e){return e&&e.get("id")?e.get("thread_id")?Flowdock.app.router.navigateToFlow(e.flow(),{thread:e.get("thread_id")}):Flowdock.app.router.navigateToFlow(e.flow(),{message:e.parent()||e}):void 0},n.prototype.jumpNextThread=function(e){var t,n;return null!=e&&e.stopPropagation(),t=this.single&&this.viewModel.singleOrThreadOpen()?null!=(n=this.chat)?n.messageList.collection.threadAfter(this.single.model.threadId()):void 0:null,t?this._jumpTo(t):this.single?this.single.returnToList():void 0},n.prototype.jumpPreviousThread=function(e){var t,n,r;return null!=e&&e.stopPropagation(),t=this.single&&this.viewModel.singleOrThreadOpen()?null!=(n=this.chat)?n.messageList.collection.threadBefore(this.single.model.threadId()):void 0:null!=(r=this.chat)?r.messageList.collection.last():void 0,
t?this._jumpTo(t):void 0},n.prototype.jumpLastOpenThread=function(){return this.single?this._jumpTo(this.single.model):void 0},n.prototype.destructor=function(){return n.__super__.destructor.apply(this,arguments),this._threadCache.cleanup(),this.inbox=this.chat=this.organizations=this.$inboxPanel=this.single=this.viewModel=this._threadCache=this.toolbar=this.expandedUserList=null},n.prototype.id=function(){return"flow-"+this.model.id},n.prototype.onSearchChange=function(e){return this.errorState?void 0:(this.inbox.onSearchChange(e),this.toolbar.onSearchChange(e))},n.prototype.findMessage=function(e){return this.inbox.findMessage(e)||this.chat.findMessage(e)},n.prototype.toggleAndDetach=function(e,t){var n;return this.$el.find("."+t).toggle(!!this.viewModel.get(e)),n=this.currentViewInPanel(this.$el.find("."+t)),null===this.viewModel.get(e)&&null!=n?n.detach():void 0},n.prototype.updatePanes=function(){return this.paneled("inbox",this.inbox,"inbox-panel"),this.paneled("chat",this.chat,"chat-panel"),this.paneled("single",this.getSingle(),"single-panel"),
this.paneled("users",this.getUsers(),"users-panel"),this.toggleAndDetach("lhs","left-panel"),this.toggleAndDetach("rhs","right-panel")},n.prototype.getSingle=function(){var e,t,n,r;if(!this.errorState)return"single"!==this.viewModel.get("lhs")&&"single"!==this.viewModel.get("rhs")?this.single:(e=this.viewModel.get("thread"))?this.getThread(e):(e=this.viewModel.get("single"))?(t=this.getMessage(e),"function"==typeof t.markAsRead&&t.markAsRead(),(null!=(n=this.single)?n.dirty:void 0)||""+(null!=(r=this.single)?r.model.threadId():void 0)!=""+e?this.renewSingleView(t,e):this.single||this.setSingleView(t,e),this.single):null},n.prototype.renewThreadView=function(e){return this._destroySingle(),this.setThreadView(e)},n.prototype.setThreadView=function(e){var t;return t=this._threadCache.find(e),this.single=this.subview(new Views.Thread({model:t,flow:this.model,viewModel:this.viewModel})),this.listenTo(this.single,"return-to-list",function(){return Flowdock.app.router.navigateToFlow(this.model,{thread:null})}),this.listenTo(this.single,"show-context",function(e){
return"single"===this.viewModel.get("lhs")&&this.single.returnToList(),this.chat.jumpToMessage(e)})},n.prototype.getThread=function(e){var t,n;if(!this.errorState)return(null!=(t=this.single)?t.model.threadId():void 0)===e&&(null!=(n=this.single)?!n.dirty:!0)&&this.single instanceof Views.Thread||this.renewThreadView(e),this.single},n.prototype.getMessage=function(e){return _.isString(e)&&(e=parseInt(e,10)),this.singleViewMessage(e)},n.prototype.renewSingleView=function(e,t){var n;return(n=e.parent())?void Flowdock.app.router.navigateToFlow(this.model,{message:n}):(this._destroySingle(),this.setSingleView(e,t))},n.prototype.setSingleView=function(e,t){return this.single=this.subview(new Views.Inbox.SingleView({model:e,flow:this.model,viewModel:this.viewModel})),this.listenTo(this.single,"return-to-list",function(){return Flowdock.app.router.navigateToFlow(this.model,{message:null})}),this.listenTo(this.single,"show-context",function(e){return"single"===this.viewModel.get("lhs")&&this.single.returnToList(),this.chat.jumpToMessage(e);
})},n.prototype.jumpTo=function(e){var t;return null!=(t=this.single)?t.scrollToMessage(e):void 0},n.prototype.getUsers=function(){return this.errorState?void 0:"users"!==this.viewModel.get("lhs")&&"users"!==this.viewModel.get("rhs")?(this.toolbar.toggleUserList(!1),this.expandedUserList):(this.toolbar.toggleUserList(!0),this.expandedUserList||(this.expandedUserList=this.subview(new Views.Chat.UserList({collection:this.model.users,flow:this.model})),this.listenTo(this.expandedUserList,"close:user:list",function(){return this._closeUserList()})),this.expandedUserList)},n.prototype._openUserList=function(){return Flowdock.app.router.navigateToFlow(this.model,{users:!0})},n.prototype._closeUserList=function(){return Flowdock.app.router.navigateToFlow(this.model,{users:!1,thread:this.viewModel.get("thread"),message:this.viewModel.get("single")})},n.prototype._destroySingle=function(){var e,t;if(this.single)return"function"==typeof(e=this.single.model).unlockCleanup&&e.unlockCleanup(),null==this.single.model.collection&&"function"==typeof(t=this.single.model).cleanup&&t.cleanup(),
this.single.detach(),this.removeSubview(this.single),this.single=void 0},n.prototype.render=function(){return this.errorState?void 0:(this.$el.empty().append(Helpers.renderTemplate(this.template)()),this.$el.append(this.toolbar.render().$el,$("<div id='flow-overlay'>"),$("<div class='flow-notifications'></div>")),this.showAlerts(),this.inbox.render(),this.chat.render(),this.updatePanes(),this.model.fullyLoaded.done(function(e){return function(){return e.checkForDuplicateNicks()}}(this)),this)},n.prototype.currentViewInPanel=function(e){return _.find(this.subviews,function(t){return t.$el.parent().is(e)})},n.prototype.renderInPanel=function(e,t,n){var r;return t.$el.children().length>0||t.render(),r=this.currentViewInPanel(e),r!==t?(null!=r&&r.detach(),e.addClass(n).append(t.$el),t.attach(this.attached)):void 0},n.prototype.paneled=function(e,t,n){return t?this.viewModel.get("rhs")===e?(this.renderInPanel(this.$el.children(".right-panel"),t,n),this.$el.children(".left-panel").removeClass(n)):this.viewModel.get("lhs")===e?(this.renderInPanel(this.$el.children(".left-panel"),t,n),
this.$el.children(".right-panel").removeClass(n)):this.$el.children("."+n).removeClass(n):void 0},n.prototype.error=function(e,t){var n,r;return this.errorState=!0,this.$el.children().hide(),n=Views.Errors.get(e,"flow"),r=new n({model:t}),this.$el.append(r.render().$el)},n.prototype.onSubscribeFailed=function(e){return this.error("flow-subscribe-failed",{flow:e})},n.prototype.singleViewMessage=function(e){var t,n;return n=function(e){return function(t){return t.comments.consume(e.model.stream),t.consume(e.model.stream),t}}(this),t=this.findMessage(e),(t||n(new Models.InboxMessage({id:e,flow:this.model}))).lockCleanup()},n.prototype.showAlerts=function(){var e,t,n,r,o;if(t=this.model.get("alerts"),null!=t?t.length:void 0){o=[];for(r in t)e=t[r],n=new Views.Errors.Alert({model:e}),this.$el.append(n.render().el),o.push(n.$el.css({"margin-bottom":110*r}));return o}},n.prototype.checkForDuplicateNicks=function(){var e,t;return t=Flowdock.app.user.get("nick").toLowerCase(),(e=this.model.users.find(function(e){var n;return!e.get("disabled")&&e.id!==Flowdock.app.user.id&&(null!=(n=e.get("nick"))?n.toLowerCase():void 0)===t;
}))?new Views.Overlays.NickConflict({target:$("body"),model:e}).attach():void 0},n.prototype.preserveScrolling=function(e){return this.chat.messageList.preserveScrolling({},function(t){return function(){return t.inbox.messageList.preserveScrolling({},e)}}(this))},n.prototype.setupBackHighlights=function(){var e;return e=this.attachedProperty(),e.changes().take(1).onValue(function(t){return function(){var n;return n=e.and(Flowdock.app.preferences.asProperty("fade_on_back")).and(t.viewModel.asProperty("single_view_in_inbox").not().or(t.viewModel.asProperty("narrow"))),t.untilEnd(Flowdock.app.router.routeProperty).changes().filter(n).slidingWindow(2).filter(function(e){var t,n,r;return n=e[0],t=e[1],n&&t&&"routeFlow"===t.route&&("viewSingleMessage"===(r=n.route)||"viewThread"===r)}).map(function(e){var t,n,r;return n=e[0],t=e[1],null!=(r=n.params)?r[2]:void 0}).onValue(function(e){return t.chat.messageList.highlightAccessed(e)})}}(this))},n.prototype._focusLastMessageInput=function(){var e;return this.viewModel.singleOrThreadOpen()?null!=(e=this.single)?e.focusCommentInput():void 0:this.chat.focusInput();
},n.prototype._initFlowNotifications=function(){return this.model.fullyLoaded.done(function(e){return function(){return e.model.isFlow()?e.listenTo(e.model,"change:team_notifications",function(t,n){return null!==n?e.renderTeamFeedback():void 0}):void 0}}(this))},n.prototype.onAttach=function(){var e;return n.__super__.onAttach.apply(this,arguments),null===this.model.get("team_notifications")?(e=this.model.users.notifiableByTeam().length-1,e>=10?this.renderFlowWelcome():this.model.save({team_notifications:!0},{silent:!0,patch:!0})):void 0},n}(Views.Content),_.extend(Views.Flow.prototype,Flowdock.KeyboardEvents)},{"../templates/flow.mustache":237,"views/chat/team_notifications_feedback":345,"views/overlays/flow_welcome_overlay":415}],378:[function(e,t,n){var r,o,i=function(e,t){return function(){return e.apply(t,arguments)}},s=function(e,t){function n(){this.constructor=e}for(var r in t)a.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},a={}.hasOwnProperty;r=e("views/overlays/new_tab"),
o=e("views/overlays/spot_search"),Views.FlowManager=function(t){function n(){return this.createWalkthrough=i(this.createWalkthrough,this),n.__super__.constructor.apply(this,arguments)}return s(n,t),n.prototype.events={"click a[href]":"followLink"},n.prototype.collectionEvents={add:"addFlow",remove:"removeFlow","change:open":"flowOpenChanged","change:url":"onFlowUrlChange"},n.prototype.keyboardEvents={openPreferences:function(){return setTimeout(function(e){return function(){return e.openPreferences("preferences")}}(this),50)},openHelp:"openShortcutOverlay",openChatCommandHelp:"openChatCommandOverlay",closeTab:"closeTab",switchSingleViewSide:"switchSingleViewSide",goBack:"goBack"},n.prototype.switchSingleViewSide=function(){var e;return e=this.currentView.viewModel,e.get("narrow")||!e.get("single")&&!e.get("thread")?void 0:this.app.preferences.flip("single_view_in_inbox")},n.prototype.initialize=function(e){var t,n,r,o,i;for(this.app=e.app,i=e.user,this.flowViews={},this.rendered={},o=this.collection.where({open:!0
}),n=0,r=o.length;r>n;n++)t=o[n],this.addFlow(t);return this.navigation=this.subview(Views.Navigation.build({collection:this.collection,manager:this,notifications:this.app.notificationItems,preferences:this.app.preferences,user:i})),setInterval(function(e){return function(){return e._clearCache()}}(this),6e4)},n.prototype.addFlow=function(e){return e.get("open")?this._initFlowView(e):void 0},n.prototype.removeFlow=function(e){return this._removeFlowView(e)},n.prototype.firstOpenFlow=function(){return this.collection.find(function(e){return e.get("open")&&!e.isPrivate()})},n.prototype.flowOpenChanged=function(e){return e.get("open")?this._initFlowView(e):this._removeFlowView(e)},n.prototype.buildFlowViewModel=function(e){var t;return t=new Views.FlowViewModel({},{resize:Flowdock.resize,preferences:this.app.preferences,flowPreferences:this.app.preferences.flowPreferences(e)}),this.listenTo(t,"navigate",function(){return this.currentFlow?this.app.router.navigateToFlow(this.currentFlow,{users:!1}):void 0}),this.listenTo(t,"change:rhs",this.rhsStyleToggle),
t},n.prototype.activate=function(e){var t,n,r,o,i,s;return(null!=(t=this.currentFlow)?t.id:void 0)===e.id?this:(this.walkthrough&&(i=this.walkthrough.unmount(),this.walkthrough=null),null!=(n=this.currentView)&&n.triggerDetach(),s=this.flowViews[e.id],this.append(s),this.currentFlow=e,this.currentView=s,null!=(r=this.currentView)&&r.viewModel.set({thread:null,single:null,users:!1}),this.rhsStyleToggle(),null!=(o=this.currentView)&&o.updatePanes(),this.trigger("change",this.currentView),this.bindKeyboardEvents(),this)},n.prototype.bindKeyboardEvents=function(){return this.untilEnd(Flowdock.app.shortcutStream).filter(function(e){return function(t){return null!=e.keyboardEvents[t.action]}}(this)).takeUntil(this.asEventStream("change")).onValue(function(e){return function(t){var n;return n=e.keyboardEvents[t.action],_.isFunction(n)||(n=e[e.keyboardEvents[t.action]]),null!=n?n.call(e,t):void 0}}(this))},n.prototype.filterInbox=function(e,t){var n,r;return null==t&&(t=!0),this.closeOverlay(),null!=(n=this.currentView)&&n.onSearchChange(e),
null!=(r=this.currentView)?r.viewModel.setSearch(e,t):void 0},n.prototype.openCreateFlow=function(e){var t,n,r;return t={collection:this.collection,model:new Models.Flow,organizations:Flowdock.app.getOrganizations(),target:$("body"),loader:!0,preselect:(null!=(n=this.currentFlow)?n.isPrivate():void 0)?void 0:e||(null!=(r=this.currentFlow)&&"function"==typeof r.organization?r.organization():void 0)},this.openOverlay(Views.NewFlow,t)},n.prototype.openFlowRename=function(e){return this.openOverlay(Views.Overlays.FlowName,{model:this.collection.get(e),target:$("body")})},n.prototype.openNewTab=function(){var e,t;return this.closeOverlay(),null!=(e=this.currentView)&&e.triggerDetach(),this.currentFlow=null,t=new r({collection:Flowdock.app.flows,privates:Flowdock.app.privates}),this.currentView=t,this.$el.append(t.el),t.render(),t.triggerAttach(),this.trigger("change",this.currentView),this.bindKeyboardEvents(),this},n.prototype.openSpotlightSearch=function(e){var t,n;if(!$("#spot-search-overlay").length)return t=this,
n=this.subview(new o({target:$("body"),model:this.model,isShortcutKeyUsed:e}).attach()),n.triggerAttach(),this.trigger("change",n)},n.prototype.openCreateOrganization=function(){return this.openOverlay(Views.NewOrganization,{model:new Models.Organization,collection:Flowdock.app.getOrganizations(),target:$("body"),loader:!0})},n.prototype.openNewPrivateDialog=function(){return this.openOverlay(Views.NewPrivateDialog,{target:$("body"),loader:!0})},n.prototype.openFlowSettings=function(e,t){var n,r;return null==t&&(t="preferences"),r=e.get("organization").parameterized_name,n=e.get("parameterized_name"),this.openPreferences(r+"/flows/"+n+"/"+t)},n.prototype.openPreferences=function(e){var t,n;return null==e&&(e="profile"),n=null!=window.macgap?window.open(location.origin+"/settings/"+e,"","width=1280,height=800"):(t="settings/"+e,window.open(location.origin+"/"+t,t)),n.focus()},n.prototype.openShortcutOverlay=function(){return this.openOverlay(Views.KeyboardShortcuts,{model:Flowdock.app.preferences,target:$("body"),
removeOnHide:!0})},n.prototype.openChatCommandOverlay=function(){var e;return e=this.openOverlay(Views.SlashCommands,{target:$("body"),removeOnHide:!0})},n.prototype.openOverlay=function(e,t){return null==this.overlay?(this.overlay=new e(t).attach(),this.overlay.triggerAttach(),this.listenToOnce(this.overlay,"close",function(){return this.overlay=null,this.trigger("overlay:close")}),this.overlay):void 0},n.prototype.closeOverlay=function(){return this.overlay?this.overlay.close():void 0},n.prototype.users=function(e){return this.closeOverlay(),this.currentView.viewModel.set({users:e})},n.prototype.single=function(e,t){var n;return null==e&&(e=null),null==t&&(t=null),this.closeOverlay(),null!=(n=this.currentView)?n.viewModel.single(e):void 0},n.prototype.thread=function(e,t){var n;return null==e&&(e=null),null==t&&(t=null),this.closeOverlay(),null!=(n=this.currentView)?n.viewModel.thread(e):void 0},n.prototype.closeTab=function(e){return this.overlay?(this.closeOverlay(),e.stopPropagation(),e.preventDefault()):this.currentView.constructor===r?Flowdock.app.router.activatePrevious():void 0;
},n.prototype.append=function(e){return this.renderOnce(e),this.$el.append(e.el),e.triggerAttach(),this},n.prototype.renderOnce=function(e){return this.rendered[e.model.id]||(e.render(),this.rendered[e.model.id]=!0),e},n.prototype.render=function(){return Flowdock.mobile&&this.$el.addClass("mobile"),this.$el.prepend(this.navigation.render().$el),this.navigation.triggerAttach(),this.rhsStyleToggle(),this},n.prototype.rhsStyleToggle=function(){var e;if(null!=(null!=(e=this.currentView)?e.viewModel:void 0))return this.$el.toggleClass("rhs-hidden",!this.currentView.viewModel.get("rhs"))},n.prototype.resetFlow=function(e){var t,n,r,o;if(e.get("open"))return n=this.currentFlow===e,o=null!=(r=this.flowViews[e.id])?r.viewModel:void 0,this._removeFlowView(e,{viewModel:!1}),t=this._viewClassFor(e),this.flowViews[e.id]=this.subview(new t({model:e,viewModel:o||this.buildFlowViewModel(e)})),n&&this.activate(e),this.flowViews[e.id]},n.prototype.followLink=function(e){var t,n,r,o,i,s;if(!e.isDefaultPrevented()&&(t="a"===e.target.tagName.toLowerCase()?e.target:e.currentTarget,
"_blank"!==$(t).attr("target")&&!$(t).hasClass("no-follow-link"))){if(o=Helpers.absoluteUrlFor(),0===t.href.indexOf(o)){if(e.metaKey||e.ctrlKey)return;return this.permanentError?void e.preventDefault():(null!=Flowdock.app.manager.currentFlow&&(n={},(i=$(t).data("tag-search"))?n.filter=new Models.Filter.All({tags:[i]}):(r=$(t).data("message"))?n.message=r:(s=$(t).data("thread"))&&(n.thread=s)),_.isEmpty(n)?Flowdock.app.router.navigate(t.href.replace(o,""),{trigger:!0}):Flowdock.app.manager.currentFlow.isFlow()?Flowdock.app.router.navigateToFlow(Flowdock.app.manager.currentFlow,n,{trigger:!0}):Flowdock.app.router.navigateToPrivate(Flowdock.app.manager.currentFlow,n,{trigger:!0}),e.preventDefault())}return"_blank"!==$(t).attr("target")?$(t).attr("target","_blank").attr("rel","noopener noreferrer"):void 0}},n.prototype.error=function(e,t,n){var r,o;return null==n&&(n={}),r=Views.Errors.get(e,"global"),null!=(o=this.currentView)&&o.triggerDetach(),this.currentFlow=null,this.currentView=new r({model:t}),this.$el.append(this.currentView.render().$el),
n.permanent&&(Flowdock.app.router.disableNavigation(),this.permanentError=!0),this.trigger("change",this.currentView)},n.prototype.toastError=function(e,t){var n,r;return n=Views.Errors.get(e,"inline"),r=new n({model:t}),this.$el.append(r.render().$el),function(){return r.triggerDetach()}},n.prototype.destructor=function(){var e,t,r;t=this.flowViews;for(e in t)r=t[e],this._removeFlowView(r.model);return this.stopListening(),n.__super__.destructor.apply(this,arguments)},n.prototype.remove=function(){return this.$el=this.el=null,this},n.prototype.onFlowUrlChange=function(e){return e===this.currentFlow?Flowdock.app.router.navigate(Helpers.pathFor({flow:e})):void 0},n.prototype.findMessage=function(e,t){var n,r;return n=this.collection.get(e),r=this.findSubviews(n)[0],null!=r?r.findMessage(t):void 0},n.prototype.preserveScrolling=function(e){return null!=("undefined"!=typeof currentView&&null!==currentView?currentView.preserveScrolling:void 0)?currentView.preserveScrolling(e):e()},n.prototype.createWalkthrough=function(e){
var t,n;if(null!=(n=this.currentFlow)?n.isFlow():void 0)return t=this.currentView.chat.messageList,this.currentView.chat.messageList.onceMessagesRendered(function(t){return function(){return t._initWalkthrough(e)}}(this))},n.prototype.restartWalkthrough=function(t){var n,r;return n=e("models/tutorial"),r=n.create(t),r.done(this.createWalkthrough),r},n.prototype._clearCache=function(){var e,t,n,r,o,i,s;r=this.flowViews,i=[];for(n in r)s=r[n],e=(new Date-s.instantiatedAt)/864e5,n!==(null!=(o=this.currentFlow)?o.id:void 0)&&e>1&&(t=s.model,this._removeFlowView(t),i.push(this._initFlowView(t)));return i},n.prototype._initFlowView=function(e){var t,n;return t=this._viewClassFor(e),n=this.subview(new t({model:e,viewModel:this.buildFlowViewModel(e)})),this.flowViews[e.id]=n},n.prototype._initWalkthrough=function(t){var n,r,o,i,s,a,u,l,c,p,d,h;return null!=(p=this.walkthrough)&&p.skip(),n=e("lib/flowdock/walkthrough"),this.walkthrough=new n({model:t},function(e){return function(){return delete e.walkthrough}}(this)),u=function(e){
return function(){var t;return t=e.navigation.userMenu.dropdown,t.asEventStream("open").map(1).merge(t.asEventStream("close").map(-1)).scan(0,function(e,t){return e+t})}}(this),s=function(e){return function(){var t;return t=e.currentView.viewModel.get("inbox")?1:0,e.currentView.viewModel.asEventStream("change:inbox").map(function(e){return e.get("inbox")?1:-1}).scan(t,function(e,t){return e+t})}}(this),l=function(e){return function(){var t;return t=e.currentView.model,t.stream.filter(function(e){return e.flow===t.id&&e.id})}}(this),a=function(e){return function(){return e.currentView.chat.input.textarea.textarea.asEventStream("focus blur").map(function(e){return"blur"===e.type}).toProperty()}}(this),r=function(e){return function(){return e.currentView.toolbar.$("#user-add").asEventStream("click")}}(this),c=function(e){return function(){return e.navigation.userMenu.$(".preferences").asEventStream("click")}}(this),i=function(e){return function(){var t;return t=e.currentView.viewModel,t.asEventStream("change:inbox").map(function(e){
return e.get("inbox")}).toProperty(t.get("inbox")).filter(function(e){return e===!0})}}(this),h=null,o=function(e,t){return t.complete()},d=function(e,t){return t.skip()},(h=this.walkthrough.model.getTaskMatching("inbox"))&&this.walkthrough.addStep({task:h,target:this.currentView.toolbar.$el,actionTarget:this.currentView.toolbar.$("#inbox-toggle"),success:i,autoContinue:!0,onSkip:d,onSuccess:function(e){return function(t,n){return o(t,n),e.currentView.inbox.messageList.onceMessagesRendered(function(){return t.positionAtNode($(".setup-sources-button")[0],"bottom")})}}(this)}),(h=this.walkthrough.model.getTaskMatching("menu"))&&this.walkthrough.addStep({task:h,target:this.navigation.$("#user-menu-toggle"),actionTarget:this.navigation.userMenu.$(".user-menu-toggle"),currentStep:function(){return u()},success:c,onSkip:d,onSuccess:o}),(h=this.walkthrough.model.getTaskMatching("invite"))&&this.walkthrough.addStep({task:h,target:this.currentView.toolbar.$("#user-add-item"),actionTarget:this.currentView.toolbar.$("#user-add"),
shouldSkip:function(e){return function(){var t;return!(null!=(t=e.currentFlow)?t.can("post","invitations"):void 0)}}(this),success:r,onSkip:d,onSuccess:o}),(h=this.walkthrough.model.getTaskMatching("chat"))&&this.walkthrough.addStep({task:h,target:this.currentView.chat.input.$el,success:function(e){return function(){return e._whenChatMessagePosted(l())}}(this),onSkip:d,onSuccess:o}),this._startWalkthrough()},n.prototype._removeFlowView=function(e,t){var n,r,o;return null==t&&(t={}),n=(null!=(r=this.currentFlow)?r.id:void 0)===e.id,(o=this.flowViews[e.id])?(n&&o.triggerDetach(),t.viewModel!==!1&&(o.viewModel.stopListening(),this.stopListening(o.viewModel)),this.removeSubview(o),n&&(this.currentView=this.currentFlow=void 0),this.rendered[e.id]=!1,delete this.flowViews[e.id]):void 0},n.prototype._startWalkthrough=function(){return this.walkthrough.start()},n.prototype._viewClassFor=function(e){return e.isFlow()?Views.Flow:Views.Private},n.prototype._whenChatMessagePosted=function(e){return e.filter(function(e){var t;
return("message"===(t=e.event)||"comment"===t||"file"===t)&&e.user===Flowdock.app.user.id}).take(1)},n.prototype.goBack=function(){var e,t,n;return t=-1===navigator.userAgent.search("Firefox"),n=-1===navigator.userAgent.search("MSIE")&&-1===navigator.userAgent.search(".NET"),e=-1===navigator.userAgent.search("Edge"),n&&t&&e?(window.history.go(-1),!1):!1},n}(Flowdock.HierarchicalView)},{"lib/flowdock/walkthrough":112,"models/tutorial":152,"views/overlays/new_tab":419,"views/overlays/spot_search":423}],379:[function(e,t,n){var r=function(e,t){function n(){this.constructor=e}for(var r in t)o.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},o={}.hasOwnProperty;Views.FlowViewModel=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return r(t,e),t.prototype.defaults={narrow:!1,thread:null,single:null,inbox:!1,chat:!0,users:!1,single_view_in_inbox:!1,rhs:null,lhs:null,selected_message:null,filter:JSON.stringify({})},t.prototype.initialize=function(e,t){
var n;return n=t.resize,this.preferences=t.preferences,this.flowPreferences=t.flowPreferences,null!=n&&n.moves.debounce(100).onValue(function(e){return function(){return e.set({narrow:e._narrow()})}}(this)),this.set({narrow:this._narrow()}),this.bindBeforechange(),this.listenTo(this,"change:search",function(){return this._searchUpdate()}),this.listenTo(this,"change:single change:thread change:rhs change:lhs",function(){return"single"===this.get("rhs")||"single"===this.get("lhs")?this.set({selected_message:this.get("single")||this.get("thread")}):this.set({selected_message:null})}),this.listenTo(this,"change:thread",function(){return this.get("thread")?this.set({single:null,users:!1}):void 0}),this.listenTo(this,"change:single",function(){return this.get("single")?this.set({thread:null,users:!1}):void 0}),this.listenTo(this.preferences,"change:single_view_in_inbox",function(){return this.set({single_view_in_inbox:this.preferences.get("single_view_in_inbox")})}),this.listenTo(this,"change:narrow change:thread change:single change:users change:single_view_in_inbox",this._update),
this.listenTo(this,"change:narrow",function(){return this.get("narrow")?void 0:this.preferences.set({inbox_only:!1})}),this.listenTo(this.flowPreferences,"change",this._update),this.listenTo(this.preferences,"change:inbox_only",this._update),this.set("single_view_in_inbox",this.preferences.get("single_view_in_inbox")),this._update()},t.prototype.bindBeforechange=function(){var e,t;return e=function(){var e,n,r,o;for(r=_.keys(this.defaults),o=[],e=0,n=r.length;n>e;e++)t=r[e],o.push("change:"+t);return o}.call(this).join(" "),this.listenTo(this,e,function(e,t){return e.trigger("beforechange",e,t)})},t.prototype.thread=function(e){return null!=e&&this.set({users:!1}),this.set({thread:e})},t.prototype.single=function(e){return null!=e&&this.set({users:!1}),this.set({single:e})},t.prototype.stateProperty=function(){return this.untilEnd(this.asEventStream("change")).map(this,"fullState").skipDuplicates(_.isEqual).toProperty(this.fullState())},t.prototype.fullState=function(){return{single:this._single(),inbox:this._inboxVisible(),
chat:this._chatVisible()}},t.prototype.showInbox=function(e){return null==e&&(e={}),this.get("narrow")?(this.set({lhs:"inbox"}),e.savePreference&&this.preferences.set({inbox_only:!0})):(this.set({rhs:"inbox"}),e.savePreference&&this.flowPreferences.set({inbox_visible:!0})),e.scroll?this.trigger("inbox-scroll-top"):void 0},t.prototype.setSearch=function(e,t){var n;return null==t&&(t=!0),n=JSON.stringify(e.asParams()),e instanceof Models.Filter.Inbox&&(n=JSON.stringify({})),this.get("filter")!==n?(this.set({filter:n}),e.isEmpty()||!t&&this.isSingleViewInFrontOfInbox()?this._update():this.showInbox()):void 0},t.prototype.rhsPreference=function(){return this.get("narrow")?void 0:this.flowPreferences.get("inbox_visible")},t.prototype.toggleRhs=function(){var e;return e=this._mustNavigateOnRhsToggle(),this.get("narrow")?"inbox"===this.get("lhs")?this.preferences.get("inbox_only")?this.preferences.set({inbox_only:!1}):this._update():(this.preferences.set({inbox_only:!0}),this.flowPreferences.set({inbox_visible:!0}),this.set({
lhs:"inbox"})):null===this.get("rhs")?(this.flowPreferences.set({inbox_visible:!0}),this.set({rhs:"inbox"})):(this.preferences.set({inbox_only:!1}),this.flowPreferences.set({inbox_visible:!1}),this.set({rhs:null})),e?this.trigger("navigate"):void 0},t.prototype.setRhsToNull=function(){return this.flowPreferences.set({inbox_visible:!1}),this.set({rhs:null})},t.prototype.singleOrThreadOpen=function(){return"single"===this.get("lhs")||"single"===this.get("rhs")},t.prototype.isSingleViewInFrontOfInbox=function(){return this.get("narrow")?"single"===this.get("lhs"):"single"===this.get("rhs")},t.prototype._rhs=function(){return this.get("narrow")?null:this._single()&&this.get("single_view_in_inbox")?"single":this.flowPreferences.get("inbox_visible")?"inbox":null},t.prototype._lhs=function(){return this.get("users")?"users":this.get("narrow")?this._single()?"single":this.preferences.get("inbox_only")?"inbox":"chat":this._single()&&!this.get("single_view_in_inbox")?"single":"chat"},t.prototype._mustNavigateOnRhsToggle=function(){
return this.get("narrow")?this.get("users"):"single"===this.get("rhs")},t.prototype._update=function(){return this.set({inbox:this._inboxVisible(),chat:this._chatVisible(),rhs:this._rhs(),lhs:this._lhs()})},t.prototype._single=function(){return this.get("thread")||this.get("single")},t.prototype._inboxVisible=function(){return this.get("narrow")?!(!this.preferences.get("inbox_only")||this._single()||this.get("users")):this.flowPreferences.get("inbox_visible")&&!(this.get("single_view_in_inbox")&&this._single())},t.prototype._chatVisible=function(){return this.get("narrow")?!(this.preferences.get("inbox_only")||this._single()||this.get("users")):!this.get("users")&&(this.get("single_view_in_inbox")||!this._single())},t.prototype._narrow=function(){return!window.matchMedia("only screen and (min-width: 833px)").matches},t}(Backbone.Model)},{}],380:[function(e,t,n){var r=function(e,t){function n(){this.constructor=e}for(var r in t)o.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,
e},o={}.hasOwnProperty;Views.Inbox=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return r(t,e),t.prototype.id="inbox",t.prototype.className="detailed",t.prototype.initialize=function(e){return this.viewModel=e.viewModel,this.filter=new Models.Filter.Inbox,this.filterInboxMessages(this.filter),this.$indicators=$("<div>").addClass("indicators")},t.prototype.onSearchChange=function(e){return 0!==e.tags.length||null!=e.application&&0!==e.application.length||"all"!==e.slug&&0!==e.event.length?0===this.currentTagCount&&1===e.tags.length&&"inbox"===e.slug&&(e.slug="all"):e=new Models.Filter.Inbox,this.filterInbox(e)},t.prototype.navigateToCurrentState=function(e,t){return Flowdock.app.router.navigateToFlow(this.model,{filter:e},t)},t.prototype.filterInbox=function(e){var t;return(e.notEqual(this.filter)||!(null!=(t=this.messageList)?t.populated():void 0))&&this.model.fullyLoaded.done(function(t){return function(){return t.filterInboxMessages(e)}}(this)),this.filter=e,this.currentTagCount=e.tags.length;
},t.prototype.onDetach=function(){var e;return this.scrollTop=null!=(e=this.messageList)?e.$el.scrollTop():void 0},t.prototype.onAttach=function(){var e;return this.scrollTop&&null!=(e=this.messageList)?e.$el.scrollTop(this.scrollTop):void 0},t.prototype.destructor=function(){return this.messageList.collection.cleanup(),this.lastReadMarker.cleanup(),t.__super__.destructor.apply(this,arguments),this.messageList=this.filter=this.filters=this.lastReadMarker=null},t.prototype.render=function(){var e,t;return this.listenTo(Flowdock.app.preferences,"change:link_previews",this.onMuteChange),this.$el.empty().append(this.$indicators,null!=(e=this.messageList)&&"function"==typeof e.render&&null!=(t=e.render())?t.$el:void 0),this},t.prototype.findMessage=function(e){return this.messageList.collection.get(e)},t.prototype.rendered=function(){return this.$el.children().length>0},t.prototype.filterInboxMessages=function(e){var t,n,r,o;return this.messageList&&(this.messageList.collection.cleanup(),this.messageList.triggerDetach(),
this.removeSubview(this.messageList)),t=!(null!=(o=e.query)?o.length:void 0)&&0===e.tags.length,r={flow:this.model,filter:e},n=new Collections.InboxMessages([],r),n.consume(this.model.stream),this.messageList=this.subview(new Views.Inbox.MessageList({collection:n,model:this.model,viewModel:this.viewModel,collapseThreads:t})),this.listenTo(this.messageList,"indication",function(e){return this.$indicators.append(e)}),this.listenTo(this.messageList,"closePrivateSearch",function(){return this.trigger("closePrivateSearch")}),this.scrollTop=null,this.lastReadMarker?this.lastReadMarker.setupMessageList(this.messageList):this.lastReadMarker=new Flowdock.LastReadMarker({name:"inbox",listDirection:"up",messageList:this.messageList}),this.model.fullyLoaded.done(function(e){return function(){return e.messageList.renderMessages()}}(this)),this.rendered()&&(this.messageList.render(),this.$el.append(this.messageList.$el),$.contains($("body")[0],this.el)&&this.messageList.triggerAttach()),this.messageList},t.prototype.onMuteChange=function(){
return this.rendered()?this.$el.find(".message.file").each(function(){return $(this).toggleClass("no-thumbnail",!Flowdock.app.preferences.linkPreviews())}):void 0},t}(Flowdock.HierarchicalView)},{}],381:[function(e,t,n){var r,o=function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},i={}.hasOwnProperty;r=e("lib/markdown"),Views.Inbox.CommentForm=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return o(n,t),n.prototype.disabledCommands=["appear","hangout","me","room","slap","status"],n.prototype.autofocus=!0,n.prototype.placeholder="Type to comment on this thread\u2026",n.prototype.partials={before:e("../../templates/inbox/thread_indicator.mustache"),commentsIcon:e("../../templates/icons/comments.mustache")},n.prototype.events=_.extend({},Views.Shared.MessageInput.prototype.events,{"focus textarea":function(){return window.lastFocusedInput="thread"}}),n.prototype.serializeData=function(){
return _.extend({},n.__super__.serializeData.call(this),{threadColor:Helpers.CommentHelper.color(this.model.flow().id,this.model.threadId())})},n.prototype.flow=function(){return this.model.flow()},n.prototype.key=function(){return this.flow().id+"-"+this.model.id+"-comment-form"},n.prototype.value=function(){return this.textarea.value()},n.prototype.parse=function(e){return null!=e.content&&(e=e.content),{content:{title:this.formatTitle(),text:r.replaceEmoji(e)},tags:this.parseTags(e),flow:this.model.get("flow")}},n.prototype.formatTitle=function(){var e,t,n;return n=this.model.presenter(),e=("function"==typeof n.action?n.action():void 0)?n.action()+" ":"",t=n.headline()||n.summary(),unescape(""+e+t)},n.prototype.tagThread=function(){return this.model.hasComments()?void 0:this.model.threadify()},n.prototype.createMessage=function(e){return e.tags||(e.tags=[]),e.tags=e.tags.concat(["influx:"+this.model.id]),e=this.flow().buildMessage(e,Models.CommentMessage),e.isValid()?(e.save(),this.tagThread(),this.textarea.reset(),
this.focus()):void 0},n.prototype.jumpThreadUp=function(){return this.$el.trigger("jump-thread:up",this.model)},n.prototype.jumpThreadDown=function(){return this.$el.trigger("jump-thread:down",this.model)},n.prototype.onKeydown=function(e){return KeyEvent.is("left")(e)&&0===$(e.target).val().length?this.trigger("back"):n.__super__.onKeydown.apply(this,arguments)},n}(Views.Shared.MessageInput)},{"../../templates/icons/comments.mustache":239,"../../templates/inbox/thread_indicator.mustache":271,"lib/markdown":122}],382:[function(e,t,n){var r=function(e,t){function n(){this.constructor=e}for(var r in t)o.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},o={}.hasOwnProperty,i=[].indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(t in this&&this[t]===e)return t;return-1};Views.Inbox.CommentList=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return r(n,t),n.prototype.template=e("../../templates/inbox/comment_list.mustache"),n.prototype.className="single-view-comments",
n.prototype.itemViewContainer=".comment-list",n.prototype.collectionEvents={add:"addComment",remove:"removeSubview","change:event":"updateMessageType"},n.prototype.initialize=function(){return n.__super__.initialize.apply(this,arguments),this.commentsLoaded=new $.Deferred,this.commentsLoaded.always(function(e){return function(){var t;return null!=(t=e.$spinner)?t.remove():void 0}}(this)).fail(function(e){return function(){return e.$(e.itemViewContainer).prepend('<li class="error">Failed loading comments</li>')}}(this)),this.collection.message.commentsFetched()?this.commentsLoaded.resolve(this.collection):this.fetchComments()},n.prototype.serializeData=function(){var e;return{hasContext:(e=this.model.get("event"),i.call(Models.Filter.Chat.prototype.event,e)>=0)}},n.prototype.addComment=function(e){var t;if("pending"!==this.collection.flow.fullyLoaded.state())return 1===this.collection.length&&this.removeEmptyMessage(),t=this.renderOne(e),this.$(this.itemViewContainer).append(t),this.trigger("commentRendered",e,t);
},n.prototype.lastMessageOf=function(e){return this.collection.lastMessageOf(e)},n.prototype.fetchComments=function(){var e;return e=this.untilEnd(Bacon.fromPromise(this.collection.fetchHistory({data:{limit:100}}),!0)),e.onValue(function(e){return function(t){return 100===t.length?e.fetchComments():e.commentsLoaded.resolve(e.collection)}}(this)),e.onError(function(e){return function(){return e.commentsLoaded.reject()}}(this))},n.prototype.renderOne=function(e){var t,n,r,o,i;try{return o="file"===e.get("event")?"FileMessage":"Message",t="file"===e.get("event")?"inbox-file-comment-message":"inbox-comment-message",i=this.subview(new Views.Chat[o]({className:"chat-message "+t,inCommentList:!0,model:e})),i.render(),this.isAttached()&&i.triggerAttach(),i.$el}catch(s){return n=s,console.error(n.stack),console.log("CommentList renderOne error",n,e),r=this.subview(new Views.Shared.MessageError({app:"chat",model:e,error:n})),r.render().$el}},n.prototype.renderGroup=function(e){return this.$(this.itemViewContainer).prepend(e.map(function(e){
return function(t){return e.renderOne(t)}}(this)))},n.prototype.onAfterRender=function(){return"pending"===this.commentsLoaded.state()&&(this.$spinner=$("<li/>").html(Helpers.renderTemplate(e("../../templates/spinner.mustache"))()),this.$(this.itemViewContainer).append(this.$spinner)),$.when(this.commentsLoaded,this.collection.flow.fullyLoaded).done(function(t){return function(n){var r,o;return t.renderGroup(n),o=t.model.get("event"),i.call(Models.Filter.Chat.prototype.event,o)>=0&&t.renderGroup([t.model]),t.trigger("addHistory"),t.collection.length>0?t.renderDefaultMessage():(t.$(".comment-list-header").hide(),r=e("../../templates/inbox/comment_list_empty.mustache"),t.$(".comment-list-footer").append(r.render()))}}(this)),this},n.prototype.destructor=function(){return n.__super__.destructor.apply(this,arguments),this.$el.empty(),this.$spinner=this.commentsLoaded=null},n.prototype.removeEmptyMessage=function(){return this.$(".comment-list-header").show(),this.$(".empty-message").remove(),this.renderDefaultMessage();
},n.prototype.renderDefaultMessage=function(){var t;return t=e("../../templates/inbox/comment_list_default.mustache"),this.$(".comment-list-footer").append(t.render({tip:Helpers.singleViewTip()}))},n.prototype.jumpToMessage=function(e){var t,n;return t=Number(e)===this.model.id?this.model:this.collection.get(Number(e)),t&&(n=this.findSubviews(t).pop())?(this.$(".message-history-highlight").removeClass("message-history-highlight"),n.$el.addClass("message-history-highlight"),this.asEventStream("view:attach:before").merge(this.$el.asEventStream(Helpers.animationend())).take(1).onValue(function(){return n.$el.removeClass("message-history-highlight")})):void 0},n.prototype.updateMessageType=function(e,t){return"comment"===e.get("event")?this.addComment(e):this.removeSubview(e)},n}(Flowdock.ItemView)},{"../../templates/inbox/comment_list.mustache":254,"../../templates/inbox/comment_list_default.mustache":255,"../../templates/inbox/comment_list_empty.mustache":256,"../../templates/spinner.mustache":321}],383:[function(e,t,n){
var r,o=function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},i={}.hasOwnProperty;r=e("views/shared/file_uploader"),Views.Inbox.FileUploader=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return o(t,e),t.prototype.endpointUrl=function(){return this.model.url()+("/messages/"+this.parent.id+"/comments")},t}(r)},{"views/shared/file_uploader":437}],384:[function(e,t,n){var r=function(e,t){function n(){this.constructor=e}for(var r in t)o.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},o={}.hasOwnProperty;Views.Inbox.FullText=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return r(n,t),n.prototype.template=e("../../templates/inbox/full_text.mustache"),n.prototype.tagName="fieldset",n.prototype.className="full-text",n.prototype.events={"click .submit":"submit","blur input":"closeOnEmpty","input input":"closeOnEmpty",
"keydown input":"onKey"},n.prototype.onAfterRender=function(){return this.$("input").val(this.query),this.query?this.$el.show():this.$el.hide(),this},n.prototype.focus=function(){return this.$("input").focus()},n.prototype.setQuery=function(e,t){var n;return this.query=e,this.$("input").val(e),n=this.$("input")[0]===document.activeElement,this.render(),t||n?this.focus():void 0},n.prototype.submit=function(e){var t;return null!=e&&e.preventDefault(),t=this.$("input").val(),t.length>=3?(this.setQuery(t,!0),this.trigger("search")):void 0},n.prototype.close=function(e){return null!=e&&e.preventDefault(),this.setQuery(""),this.trigger("close")},n.prototype.closeOnEmpty=function(){return this.$("input").val()?void 0:this.close()},n.prototype.onKey=function(e){return 13===e.which?this.submit(e):void 0},n}(Flowdock.ItemView)},{"../../templates/inbox/full_text.mustache":257}],385:[function(e,t,n){var r=function(e,t){function n(){this.constructor=e}for(var r in t)o.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,
e.__super__=t.prototype,e},o={}.hasOwnProperty;Views.Inbox.Header=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return r(t,e),t.prototype.initialize=function(e){var n;return this.closeButton=this.subview(new Views.Shared.Close),this.title=this.subview(new Views.Shared.Title({model:e.message,body:e.titleBody})),this.actions=this.subview(new Views.Shared.TitleActions({model:e.message,actions:null!=(n=e.message.presenter())?n.actions:void 0})),t.__super__.initialize.apply(this,arguments)},t.prototype.destructor=function(){return t.__super__.destructor.apply(this,arguments),this.closeButton=this.title=this.actions=null},t}(Views.Shared.Header)},{}],386:[function(e,t,n){var r=function(e,t){function n(){this.constructor=e}for(var r in t)o.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},o={}.hasOwnProperty,i=[].indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(t in this&&this[t]===e)return t;return-1};Views.Inbox.Item=function(t){
function n(){return n.__super__.constructor.apply(this,arguments)}return r(n,t),n.prototype.className="inbox-message",n.prototype.events={"click .delete":"delete","click .context":"showContext","click .dropdown-toggle":"toggleItemMenu","click .edit-tags":"openTagInput","click .emoji-reaction-button":"openEmojiPicker","click .emoji-reaction":"onEmojiReactionClicked","click .dropdown a":"preventOpen","click .dropdown-wrapper":"preventOpen",mouseleave:"hideMenu"},n.prototype.tagName="li",n.build=function(e){return e.model.get("thread")?new Views.Inbox.Thread(e):new Views.Inbox.Item(e)},n.prototype.contentClass="title",n.prototype.initialize=function(e){var t,r;if(t=e.alwaysHeadline,this.viewModel=e.viewModel,this.collapseThreads=e.collapseThreads,n.__super__.initialize.apply(this,arguments),this.selected=!1,this.alwaysHeadline=t||!1,this.lineLimit=2,r=this.model.get("event"),!this.$el)throw new Error("missing @$el");if(this.addStream(this.$el.asEventStream("click").onValue(this,"toggleOpen")),!this.model.comments)throw new Error("missing @model.comments");
if(this.untilEnd(this.model.comments.asEventStream("add")).onValue(this,"updateCommentCount"),("message"===r||"comment"===r||"line"===r||"action"===r)&&(this.contentClass="excerpt"),!this.viewModel)throw new Error("missing @viewModel");return this.untilEnd(this.viewModel.asEventStream("change")).onValue(this,"_handleSelection"),this},n.prototype._handleSelection=function(){return this._isSelected()?this._select():this._deselect()},n.prototype._isSelected=function(){return String(this.viewModel.get("selected_message"))===String(this.model.threadId())&&(this.viewModel.get("thread")||this.viewModel.get("single"))},n.prototype.commentCount=function(){return this.model.comments.length},n.prototype.commentCountVisible=function(){return this.commentCount()>0&&this.collapseThreads},n.prototype.hideTitle=function(){return!1},n.prototype.renderContent=function(){var t,n,r,o,s,a,u,l,c,p,d,h,f,m,g,v,b,y,_;if(m=this.model.presenter({collapseThreads:this.collapseThreads,lineLimit:this.lineLimit}),!m)throw new Error("No presenter found");
return n=m.author()||("function"==typeof(o=this.model).user?o.user():void 0),r=m.avatar(120)||(null!=n&&"function"==typeof n.avatar?n.avatar(120):void 0),t=("function"==typeof m.action?m.action():void 0)||"",d=this.model.humanTags(),l="function"==typeof m.excerpt?m.excerpt():void 0,a=this.model.editable()&&0===(null!=l&&null!=(g=l.html)?g.length:void 0),s=Helpers.TimeHelper.editTime(this.model.get("edited"),a),v=this.model.get("event"),c=i.call(Models.Filter.Chat.prototype.event,v)>=0,b=this.model.get("event"),p=i.call(Models.Filter.Chat.prototype.event,b)>=0&&!this.model.get("thread_id")||("function"==typeof m.hasCommits?m.hasCommits():void 0)&&("function"==typeof m.action?m.action().match(/updated/):void 0),f="file"===this.model.get("event"),this.$el.html(Helpers.renderTemplate(e("../../templates/inbox/item.mustache"))({presenter:m,hideTitle:this.hideTitle(),icon:m.icon(),avatar:r,author:n,status:null!=(y=this.model.get("thread"))?y.status:void 0,headline:m.headline(),htmlHeadline:"function"==typeof m.htmlHeadline?m.htmlHeadline():void 0,
meta:m.meta(),excerpt:l,emptied:a,editTime:s,timestamp:Helpers.TimeHelper.timestamp(this.model.get("sent"),{calendar:!0,preposition:!0,link:this.timestampLink(m)}),commentCount:this.commentCount(),removable:this.model.removable(),hideHeadline:p&&!this.alwaysHeadline,metaInExcerpt:f,hasContext:c,hasAuthor:!("function"==typeof m.grouped?m.grouped():void 0)&&(n.name||n.partial),tags:d,mainLink:"function"==typeof m.link?m.link():void 0,mainLinkTitle:"function"==typeof m.linkTitle?m.linkTitle():void 0,actionLinkTitle:Helpers.capitalizeFirst("function"==typeof m.linkTitle&&null!=(_=m.linkTitle())?_.replace(/^Open(?: in)? /,""):void 0),action:Helpers.capitalizeFirst(t),iconType:this.iconType()},{author:e("../../templates/inbox/item_author.mustache"),excerpt:e("../../templates/inbox/item_excerpt.mustache"),headline:e("../../templates/inbox/item_headline.mustache"),itemMeta:e("../../templates/inbox/item_meta.mustache"),menuIcon:e("../../templates/icons/menu_icon.mustache"),metaItem:e("../../templates/inbox/item_meta_item.mustache")
})),this.model.isPrivate()?this.$(".dropdown").hide():(h=new Views.Inbox.ItemActionList({model:this.model}),this.$(".dropdown-menu:not(.sub-menu)").append(h.$el),h.render()),(null!=l?l.html:void 0)&&this.$(".commit-details").each(function(e,t){return $(t).tipsy({title:function(){return"<ul class='commit-changes show'>"+$(t).next(".commit-changes").html()+"</ul>"},html:!0})}),Helpers.TimeHelper.updateTimestamps(this.$el),this.$el.toggleClass("deleted",a),this.$el.addClass("function"==typeof m.additionalClasses?m.additionalClasses():void 0),r&&this.$(".avatar").addClass("found").css("background-image","url("+r+")"),u=this.model.get("event"),u=["message","comment","action"].indexOf(u)>=0?"inbox-chat-message":u,this.$el.addClass(u),this.$el.toggleClass("no-thumbnail",!Flowdock.app.preferences.linkPreviews()&&"file"===this.model.get("event")),this.updateCommentCount(),this.menu=this.$("menu"),this.menuButton=this.$("button.more"),this._handleSelection(),this},n.prototype.updateCommentCount=function(){return this.$(".comment-count").text(this.commentCount()).toggle(this.commentCountVisible());
},n.prototype.toggleOpen=function(e){var t,n;if(this.model.flow().isPrivate())return this.showContext();if(n="inbox"!==this.model.collection.messageFilter.slug,n&&(t=this.model.collection.length-this.model.collection.indexOf(this.model),Flowdock.analytics.track(Flowdock.ANALYTICS_EVENT_TYPES.search_result_click,{position:t})),!(Helpers.textSelected()||$(e.target).attr("href")||$(e.target).closest("a[href]").length>0))return this.selected?this.close():this.open()},n.prototype.open=function(){var e;return this._select(),this.model.flow().isPrivate()?Flowdock.app.router.navigateToPrivate(this.model.flow()):(Flowdock.app.router.navigateToFlow(this.model.flow(),{message:this.model.threadId()}),null!=(e=Flowdock.app.manager.currentView)?e.jumpTo(this.model.id):void 0)},n.prototype.close=function(){return this._deselect(),Flowdock.app.router.navigateToFlow(this.model.flow(),{message:null,thread:null})},n.prototype.toggleItemMenu=function(e){return e.stopPropagation(),$(e.target).closest(".dropdown").toggleClass("open");
},n.prototype.hideMenu=function(e){return this.$el.removeClass("open"),this.$(".dropdown").removeClass("open")},n.prototype.preventOpen=function(e){return e.stopPropagation()},n.prototype.newTagInput=function(){return new Views.Shared.TagInput({model:this.model,optionalDirection:"w"})},n.prototype.openTagInput=function(e){return this.hideMenu(),n.__super__.openTagInput.apply(this,arguments)},n.prototype.destructor=function(){return n.__super__.destructor.apply(this,arguments),this.menu=this.menuButton=null},n.prototype.showContext=function(){var e,t,n;return null!=(e=Flowdock.app.manager.currentView)&&null!=(t=e.single)&&t.returnToList(),null!=(n=Flowdock.app.manager.currentView)?n.chat.jumpToMessage(this.model.id):void 0},n.prototype._deselect=function(){return this.selected&&this.$el.removeClass("selected"),this.selected=!1},n.prototype._select=function(){return this.selected||this.$el.addClass("selected"),this.selected=!0},n.prototype.renderTagBubbles=function(){},n}(Views.Shared.Message)},{"../../templates/icons/menu_icon.mustache":245,
"../../templates/inbox/item.mustache":258,"../../templates/inbox/item_author.mustache":260,"../../templates/inbox/item_excerpt.mustache":261,"../../templates/inbox/item_headline.mustache":262,"../../templates/inbox/item_meta.mustache":263,"../../templates/inbox/item_meta_item.mustache":264}],387:[function(e,t,n){var r,o=function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},i={}.hasOwnProperty;r=e("flowdock-clipboard"),Views.Inbox.ItemActionList=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return o(n,t),n.prototype.tagName="ul",n.prototype.className="item-actions dropdown-actions capitalize",n.prototype.template=e("../../templates/inbox/item_action_list.mustache"),n.prototype.events=function(){return{"click .permalink":"_copyPermalink","click .permalink-input":"_selectPermalink"}},n.prototype.onAfterRender=function(){var t;return("undefined"!=typeof macgap&&null!==macgap?macgap.clipboard:void 0)||("undefined"!=typeof windowsApp&&null!==windowsApp?windowsApp.clipboard:void 0)?void 0:(t=$(e("../../templates/inbox/permalink_fallback.mustache").render({
permalink:this.model.permalink()})),this.$(".permalink-item").append(t).delayedHover("open"))},n.prototype.serializeData=function(){var e,t,n,r;if(r=this.model.get("thread")?new Models.Thread(this.model.get("thread")):this.model,t={url:this.model.permalink(),hasContext:this.model.hasContext(),removable:r.removable()},!this.model.get("thread_id")){if(n="function"==typeof(e=this.model).presenter?e.presenter():void 0,!n)return t;_.extend(t,{mainLink:"function"==typeof n.link?n.link():void 0,mainLinkTitle:"function"==typeof n.linkTitle?n.linkTitle():void 0,presenter:n})}return t},n.prototype._copyPermalink=function(e){return r.copy(this.model.permalink())?this._showCopyFeedback():this._selectPermalink(e)},n.prototype._selectPermalink=function(e){return e.stopImmediatePropagation(),this.$(".permalink-input").select()},n.prototype._showCopyFeedback=function(){var e;return e=this.$el.closest(".dropdown"),e.tipsy({fade:!0,fallback:"Copied permalink to clipboard!",gravity:"e",delayIn:0,trigger:"manual"}),e.tipsy("show"),
setTimeout(function(){return e.tipsy("hide")},2e3)},n}(Flowdock.ItemView)},{"../../templates/inbox/item_action_list.mustache":259,"../../templates/inbox/permalink_fallback.mustache":265,"flowdock-clipboard":550}],388:[function(e,t,n){var r,o,i,s=function(e,t){return function(){return e.apply(t,arguments)}},a=function(e,t){function n(){this.constructor=e}for(var r in t)u.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},u={}.hasOwnProperty;i=React.DOM.a,o=React.createFactory(e("components/inbox/list_header")),r=React.createFactory(e("components/inbox/footer")),Views.Inbox.MessageList=function(e){function t(){return this._clearSearch=s(this._clearSearch,this),this._openInboxSettings=s(this._openInboxSettings,this),this.setSearchSortBy=s(this.setSearchSortBy,this),this.isSearching=s(this.isSearching,this),this.validNewTagSearch=s(this.validNewTagSearch,this),this.canPurgeMessages=s(this.canPurgeMessages,this),t.__super__.constructor.apply(this,arguments)}return a(t,e),
t.prototype.className="inbox-message-list",t.prototype.scrollThreshold=50,t.prototype.collectionEvents=_.extend({},Views.Shared.MessageList.prototype.collectionEvents,{historyComplete:"onHistoryComplete"}),t.prototype.listName="inbox",t.prototype.initialize=function(e){return this.viewModel=e.viewModel,this.collapseThreads=e.collapseThreads,this.parent=e.parent,t.__super__.initialize.apply(this,arguments),this.setupMessagePurging(500,50),this.listenTo(this.viewModel,"inbox-scroll-top",function(){return this.scrollLocation(0)})},t.prototype.canPurgeMessages=function(){return this.state.scrollLocation<this.scrollThreshold&&"more"===this.backwardLoader.current},t.prototype.validNewTagSearch=function(){var e;return e=function(e){return!e.includes(":")||e.includes(":user")||e.includes(":group")},!this.collection.messageFilter.slug&&this.collection.messageFilter.tags.length>0&&this.collection.messageFilter.tags.filter(e).length===this.collection.messageFilter.tags.length},t.prototype.isSearching=function(){var e,t;return e="files"===this.collection.messageFilter.slug,
t="links"===this.collection.messageFilter.slug,"search"===this.collection.messageFilter.slug||e||t||this.validNewTagSearch()},t.prototype.setSearchSortBy=function(e){return"loading"===this.backwardLoader.current?!1:(this.collection.reset(),this.collection.messageFilter.searchSortBy=e,this.clearMessages(),this.removeEndMessage(),this.backwardLoader.state("loading"),this.renderBackwardLoader(),this.collection.fetchMessages({data:{searchSortBy:e}},!0,!0,function(e){return function(t){return e.renderGroup(t,{history:!0}),e.backwardLoader.state("more"),e.renderBackwardLoader()}}(this)))},t.prototype.renderHeader=function(){var e,t,n,r;return e="files"===this.collection.messageFilter.slug,t="links"===this.collection.messageFilter.slug,!this.isSearching()||e||t?void 0:(n={setSortBy:this.setSearchSortBy},r=$("<div>").addClass("inbox-message-list-wrapper"),this.$el.append(r),this.header=this.component(r[0],o(n)))},t.prototype.removeEndMessage=function(){return this.$el.children(".inbox-footer-wrapper").remove()},t.prototype.renderEndMessage=function(){
var e,t,n,o,s,a;return a=$("<div>").addClass("inbox-footer-wrapper"),this.$el.append(a),t=this.collection.length>0,this.isSearching()&&t?(s="No more matching results.",o="Didn't find what you wanted? Try simpler search terms.",e=[i({className:"primary-button",onClick:this._clearSearch},"Clear search")]):this.isSearching()?(s="No messages matched the search.",o="Try simplifying or modifying your search terms.",e=[i({className:"primary-button",onClick:this._clearSearch},"Clear search")]):(s="You've reached the end of inbox.",o="Looking for more? Add another source.",this.isPrivate||(e=[i({className:"primary-button",onClick:this._openInboxSettings},"Set up more sources")])),n={flow:this.collection.flow,compact:this.collection.length>0||this.isSearching(),title:s,subtitle:o,actions:e},this.footer=this.component(a[0],r(n))},t.prototype.onHistoryComplete=function(e){var t;if("forward"!==e)return t=function(e){return function(){return e.$el.append(e.renderEndMessage())}}(this),this.onceMessagesRendered(t)},t.prototype.populated=function(){
return this.$el.children().length>0},t.prototype.renderOne=function(e){var t,n,r,o,i;try{return r=this.collection.indexOf(e),this.collapseThreads&&r>0&&(i=this.collection.at(r-1),i&&this.collection.threadGroupLeaderOf(i).get("id")===e.get("id")&&this.removeSubview(i)),!this.collapseThreads||this.collection.isThreadGroupLeader(e)?(o=this.subview(new Views.Inbox.Item.build({model:e,viewModel:this.viewModel,collapseThreads:this.collapseThreads})),t=o.render().el,this.isAttached()&&o.triggerAttach(),[t]):[]}catch(s){return n=s,console.error(n,n.message,n.stack),console.log("Error was caused by",e.get("event"),e),o=this.subview(new Views.Shared.MessageError({app:"inbox",model:e,error:n})),[o.render().el]}},t.prototype.onAdd=function(e){return t.__super__.onAdd.apply(this,arguments),this.scrollLocation()>this.scrollThreshold&&this.buildMoreMessagesIndicator({direction:"above"}),this.footer&&1===this.collection.length?this.footer.setProps({compact:!0}):void 0},t.prototype.onRemove=function(e,n,r){var o,i,s,a,u;return i=r.index,
(u=this.findSubviews(e)[0])&&(a=this.collection.at(i-1))&&a.threadId()===e.threadId()&&(s=this.subview(new Views.Inbox.Item.build({model:a,viewModel:this.viewModel})),o=s.render().el,u.$el.before(o),this.isAttached()&&s.triggerAttach()),t.__super__.onRemove.apply(this,arguments),this.footer&&0===this.collection.length?this.footer.setProps({compact:!1}):void 0},t.prototype.messageCount=function(){return this.$("li.inbox-message").length},t.prototype.destructor=function(){return t.__super__.destructor.apply(this,arguments),this.viewModel=null},t.prototype._openInboxSettings=function(){return Flowdock.app.manager.openFlowSettings(this.collection.flow,"integrations")},t.prototype._clearSearch=function(){return this.collection.flow.isFlow()?Flowdock.app.router.navigateTo({flow:this.collection.flow}):this.trigger("closePrivateSearch")},t}(Views.Shared.MessageList),_.extend(Views.Inbox.MessageList.prototype,Flowdock.LastReadMarker)},{"components/inbox/footer":44,"components/inbox/list_header":45}],389:[function(e,t,n){
var r=function(e,t){return function(){return e.apply(t,arguments)}},o=function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},i={}.hasOwnProperty,s=[].indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(t in this&&this[t]===e)return t;return-1};Views.Inbox.SearchAutocompleter=function(e){function t(){return this.loadMore=r(this.loadMore,this),this.isAtEnd=r(this.isAtEnd,this),t.__super__.constructor.apply(this,arguments)}return o(t,e),t.prototype.initialize=function(e){return null==e&&(e={}),t.__super__.initialize.apply(this,arguments),this.isPrivate=e.isPrivate,this.maxOptions=100,this.addStream(this.$el.asEventStream("scroll").throttle(50).filter(this.isAtEnd).onValue(this.loadMore))},t.prototype.completionKey=function(e){var t;return 9===(t=e.which)||13===t?(e.preventDefault(),this.chooseSelection()):void 0},t.prototype.excludeTokens=function(){return this.filter?this.filter.tags:[]},t.prototype.selectNext=function(){
return t.__super__.selectNext.apply(this,arguments),this.$el.children().length?(this.show(),this.scrollToSelection()):void 0},t.prototype.selectPrev=function(){return t.__super__.selectPrev.apply(this,arguments),this.$el.children().length?(this.show(),this.scrollToSelection()):void 0},t.prototype.inScrollTop=function(e){return e[0].offsetTop<this.$el.scrollTop()},t.prototype.inScrollBottom=function(e){return e[0].offsetTop+e.outerHeight()>this.$el.height()+this.$el.scrollTop()},t.prototype.isAtEnd=function(){return this.$el[0].scrollHeight-this.$el[0].scrollTop-this.$el.height()<100},t.prototype.loadMore=function(){var e;return e=this.$(".option.tag-choice, .option.user-choice").length,_.forEach(this.models(e,e+100),function(e){return function(t){return e.$(".option:last").after(e.renderOption(t))}}(this))},t.prototype.scrollToSelection=function(){return this.inScrollTop(this.selection)?this.$el.scrollTop(this.selection[0].offsetTop):this.inScrollBottom(this.selection)?this.$el.scrollTop(this.selection[0].offsetTop+this.selection.outerHeight()-this.$el.height()):void 0;
},t.prototype.models=function(e,t){var n;return n=this.excludeTokens(),this.collection.startingWith(this.query).filter(function(e){var t;return(0===e.id.indexOf(":")||e.get("count"))&&(t=e.id,s.call(n,t)<0)}).slice(e,t)},t.prototype.filterModels=function(){var e,n,r,o,i,s,a,u;return n=null!=(i=this.query)?i.length:void 0,r=null!=(s=this.filter)?s.tags.length:void 0,o=!(null!=(a=this.filter)?a.isCustom():void 0)||(null!=(u=this.filter)?u.isEqual(new Models.Filter.Inbox):void 0),e=t.__super__.filterModels.call(this,o),n||!o||this.isPrivate||e.push({count:0,type:function(){return"settings"},tag:"Add more sources...",toString:function(){return this.tag},query:this.query,icon:"fa fa-fw fa-plus"}),n>=3&&!r&&e.unshift({count:0,type:function(){return"full-text"},tag:"Full-text search for '"+this.query+"'",toString:function(){return this.tag},query:this.query}),e},t.prototype.chooseSelection=function(){var e;return this.selection&&this.selection.length&&"settings"===("function"==typeof(e=this.selection.data("token")).type?e.type():void 0)?void Flowdock.app.manager.openFlowSettings(this.flow,"integrations"):t.__super__.chooseSelection.apply(this,arguments);
},t}(Views.Shared.Autocompleter)},{}],390:[function(e,t,n){var r=function(e,t){return function(){return e.apply(t,arguments)}},o=function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},i={}.hasOwnProperty,s=[].indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(t in this&&this[t]===e)return t;return-1};Views.Inbox.SingleView=function(t){function n(){return this.floatTitleProperty=r(this.floatTitleProperty,this),this.titleBody=r(this.titleBody,this),n.__super__.constructor.apply(this,arguments)}var i,a,u;return o(n,t),i=10,u=60,a=150,n.prototype.id="single",n.prototype.className="touch-scrollable",n.prototype.events={"click .message-form textarea":"scrollToBottom","keypress .message-form textarea":"onCommentKeypress","click menu .delete":"delete","click menu .context":"showContext"},n.prototype.modelEvents={destroy:"onDestroy","change:thread_id":"indicateThreadMove"},n.prototype.keyboardEvents={returnFocusToThread:"focusCommentInput",
focusChat:"focusCommentInput"},n.prototype.indicateThreadMove=function(e){var t,n;return t=Flowdock.app.flows.get(e.get("flow")),n=e.get("thread_id"),_.defer(function(){var r;return Flowdock.app.router.navigateToFlow(t,{thread:n}),null!=(r=Flowdock.app.manager.currentView)?r.jumpTo(e.id):void 0})},n.prototype.initialize=function(e){var t;return t=e.flow,this.viewModel=e.viewModel,this.bindKeyboardEvents(),this.state={scrollLocation:0,jump:null},this.$indicators=$("<div>").addClass("indicators"),this.dirty=!1,this.staticHeader=this.subview(new Views.Inbox.Header({message:this.model,titleBody:this.titleBody})),this.floatingHeader=this.subview(new Views.Inbox.Header({message:this.model,titleBody:this.titleBody,belowTitleProperty:this.floatTitleProperty,fullyLoaded:this.model.flow().fullyLoaded})),this.floatingCloseButton=this.subview(new Views.Shared.Close),this.listenTo(this.staticHeader,"return-to-list",this.returnToList),this.listenTo(this.floatingHeader,"return-to-list",this.returnToList),this.listenTo(this.floatingCloseButton,"close",this.returnToList),
this.listenTo(this,"view:attach:before",function(){return this.scrollLocation(this.state.scrollLocation||0)}),this.listenTo(this,"view:detach:before",function(){return this.setScrollLocation()})},n.prototype.renderHeaders=function(){return this.staticHeader.setElement(this.$(".static-header")).render(),this.staticHeader.triggerAttach(),this.floatingHeader.setElement(this.$(".floating-header")).render(),this.floatingHeader.triggerAttach(),this.staticHeader.setCloseButton(this.$(".thread-close-button"))},n.prototype.renderComments=function(){return this.commentList=this.setupCommentList(),this.$(".single-view-body").append(this.commentList.render().$el)},n.prototype.renderCommentForm=function(e){return this.commentForm=this.setupCommentForm(e),this.listenTo(this.commentForm,"after:render",this.positionCommentForm),this.typing=this.setupTyping(),this.$el.append(this.commentForm.render().$el),this.$indicators.append(this.typing.render().$el),this.commentForm.triggerAttach(),this.positionCommentForm()},n.prototype.renderFileUpload=function(){
return this.$el.append(this.fileUpload.render().$el),this.fileUpload.triggerAttach()},n.prototype.renderContent=function(){return this.untilEnd(Bacon.fromPromise(this.model.flow().fullyLoaded)).onValue(function(e){return function(){var t,n,r,o;try{if(o="function"==typeof(t=e.model).presenter?t.presenter():void 0,!o)throw new Error("No presenter found");return e.fileUpload=e.setupFileUpload(),e.message=e.subview(new Views.Inbox.SingleViewMessage({model:e.model})),e.$(".loader").remove(),e.renderHeaders(),e.$(".single-view-body").append(e.message.render().$el),e.renderFileUpload(),e.$el.append(e.$indicators),"message"!==e.model.get("event")&&e.$el.addClass(e.model.get("event")),e.renderComments(),e.model.commentable()&&e.renderCommentForm(e.fileUpload),e.addStream($(window).asEventStream("resize").filter(!Modernizr.touchevents).merge($(window).asEventStream("orientationchange")).debounce(0).onValue(function(t){return e.positionCommentForm()})),e.whenAttached(function(){return this.hideTipsWhenScrollable(),this.model.comments.length>0?(this.restoreScrollPosition(),
this.positionCommentForm()):void 0}),_.defer(function(){var t;return null!=(t=e.model)?t.markAsRead(Flowdock.app.user):void 0})}catch(i){return n=i,r={content:"Sorry, this message could not be rendered"},e.model=e.buildErrorMessage(r,e.model,n),e.renderError({report:!0})}}}(this))},n.prototype.renderError=function(e){var t;return null==e&&(e={}),t=_.extend(e,{app:"inbox",model:this.model,error:this.model.get("error")}),this.$el.html(this.subview(new Views.Inbox.SingleViewError(t)).render().el),this.$(".loader").remove(),this.renderHeaders(),this.renderComments()},n.prototype.buildErrorMessage=function(e,t,n){var r,o;if(n)try{throw n}catch(i){r=i,console.log("Error was caused by",t.get("event"),t,"function"==typeof t.presenter?t.presenter():void 0),console.error(r,r.message,r.stack),n=r}return o=new Models.ErrorMessage(_.extend({},t.attributes,e,{event:"error-message",error:n,originalModel:t})),o.comments=t.comments,o},n.prototype.render=function(){return this.$el.html(Helpers.renderTemplate(e("../../templates/inbox/single_view.mustache"))({},{
spinner:e("../../templates/spinner.mustache")})),this.model.get("sent")?this.model.get("thread_id")?this.indicateThreadMove(this.model):this.renderContent():this.model.fetch({error:function(e){return function(t,n){return 404===n.status?(e.model=e.buildErrorMessage({content:"The message you are looking for does not exist or may have been deleted."},t),e.renderError({report:!1,actions:!1})):(console.error("An unexpected error occurred.",t),e.model=e.buildErrorMessage({content:"An unexpected error occurred."},t),e.renderError({report:!0,actions:!1}))}}(this),success:function(e){return function(){var t;return e.model.get("thread_id")?e.indicateThreadMove(e.model):(t=e.model.parent())?(e.setDirty(),Flowdock.app.router.navigateToFlow(e.model.flow(),{message:t})):e.model.get("sent")?e.renderContent():void 0}}(this)}),this},n.prototype.setDirty=function(){return this.dirty=!0},n.prototype.hideTipsWhenScrollable=function(){return this.$(".comment-list-footer").toggle(!this.scrollable())},n.prototype.setupFileUpload=function(){
var e;return e=this.subview(new Views.Inbox.FileUploader({model:this.model.flow(),parent:this.model,target:this.$el,targetName:"this thread"})),this.listenTo(e,"new_upload",this.onUpload),e},n.prototype.setupCommentForm=function(e){var t;return t=this.subview(new Views.Inbox.CommentForm({model:this.model})),this.listenTo(t,"upload",function(){return e.prompt()}),this.listenTo(t,"edit-last-message",this.editLastMessage),this.listenTo(t,"back",function(){return this.returnToList()}),this.listenTo(t.textarea,"scale",this.onCommentFormResize),t},n.prototype.setupTyping=function(){var e,t;return t=this.model.flow().typingUsers(this.commentForm.key()),e=this.subview(new Views.Shared.TypingUsers({users:t}))},n.prototype.setupCommentList=function(){var e;return e=this.subview(new Views.Inbox.CommentList({model:this.model,collection:this.model.comments})),this.listenTo(e,"commentRendered",this.onCommentRendered),this.listenTo(e,"addHistory",this.onAddHistory),this.listenTo(e,"commentRendered addHistory",this.updateThreadColor),
e},n.prototype.titleBody=function(){var t,n;return n=this.model.presenter(),t=this.model.isDeleted()?Helpers.TimeHelper.editTime(this.model.get("edited"),!0):!1,Helpers.renderTemplate(e("../../templates/inbox/item_headline.mustache"))({icon:null!=n?n.icon():void 0,action:Helpers.capitalizeFirst(null!=n&&"function"==typeof n.action?n.action():void 0),htmlHeadline:null!=n&&"function"==typeof n.singleViewHtmlHeadline?n.singleViewHtmlHeadline():void 0,headline:null!=n?n.headline():void 0,headlineLink:null!=n&&"function"==typeof n.link?n.link():void 0,emptiedAt:t})},n.prototype.floatTitleProperty=function(){return this.untilEnd(this.$(".single-view-content").asEventStream("scroll")).map(function(e){return function(){var t;return t=e.staticHeader.$el.outerHeight(),e.scrollLocation()>t-u}}(this)).skipDuplicates().toProperty(!1)},n.prototype.scrollLocation=function(e){var t;return t=this.$(".single-view-content"),null!=e&&t.scrollTop(e),t.scrollTop()},n.prototype.scrollToMessage=function(e){return this.state.jump=e,this.whenAttached(function(){
return this.restoreScrollPosition()})},n.prototype.setScrollLocation=function(){return $.contains($("body")[0],this.el)?this.state.scrollLocation=this.scrollLocation():void 0},n.prototype.onAttach=function(){return this.commentKeypress=!1,_.defer(function(e){return function(){var t;return null!=(t=e.commentForm)?t.focus():void 0}}(this))},n.prototype.positionCommentForm=function(){var e,t,n;if(this.commentForm)return e=null!=(t=this.commentForm)?t.focused():void 0,this.onCommentFormResize(),e&&null!=(n=this.commentForm)&&n.focus(),this.$el.parent().length?void 0:Bacon.noMore},n.prototype.scrollable=function(){var e,t;return e=this.$(".single-view-content-wrap"),t=this.$(".single-view-content"),t.outerHeight()<e[0].scrollHeight-1},n.prototype.onCommentRendered=function(e,t){return this.hideTipsWhenScrollable(),this.state.jump&&this.model.id!==this.state.jump?this.restoreScrollPosition():this.atBottom(null!=t?t.outerHeight():void 0)||e.get("user")===Flowdock.app.user.id?this.scrollToBottom(null,!0):this._buildMoreMessagesIndicator();
},n.prototype.editLastMessage=function(e,t){var n,r;return n=this.commentList.lastMessageOf(Flowdock.app.user),n||this.model.get("user").toString()!==Flowdock.app.user.id.toString()||(n=this.model),n?(r=n.asProperty("id").filter(function(e){return null!=e}).take(1),0!==arguments.length?r.onValue(function(){return n.searchReplaceContent(e,t)}):s.call(this.commentList.collection.slice(-10),n)>=0||n===this.model&&this.commentList.collection.length<10?r.onValue(function(e){return function(){var t;return(t=_.last(e.commentList.findSubviews(n)))?(t.openEditor(),t.once("completed",function(){return _.defer(function(){return e.commentForm.focus()})})):void 0}}(this)):void 0):void 0},n.prototype.onAddHistory=function(){return this.restoreScrollPosition(),this.whenAttached(function(){return this.positionCommentForm(),this.hideTipsWhenScrollable()})},n.prototype.atBottom=function(e){var t,n,r,o,i;return null==e&&(e=0),o=this.$(".single-view-content"),i=20,n=o[0].scrollHeight,r=o[0].scrollTop,t=o.outerHeight(),i>n-r-t-e},
n.prototype.scrollToBottom=function(e,t){return null==t&&(t=!1),this.scrollTo("bottom",t)},n.prototype.scrollTop=function(e){var t,n,r,o;return e.offset()?(r=this.$(".single-view-content"),o=(null!=(t=this.collapsetTitle)&&null!=(n=t.$el)&&"function"==typeof n.height?n.height():void 0)||0,r.scrollTop()-r.offset().top+e.offset().top-o):0},n.prototype.scrollTo=function(e,t){var n;return null==t&&(t=!1),n=this.$el.find(".single-view-content"),"bottom"===e&&(e=n[0].scrollHeight),"last-message"===e&&(e=this.scrollTop(n.find(".comment-list > li").last()-a)),t?n[0].scrollTop=e:n.animate({scrollTop:e},300)},n.prototype.onCommentKeypress=function(){return Modernizr.touchevents||this.commentKeyPress||(this.commentKeypress=!0,this.atBottom())?void 0:this.scrollToBottom()},n.prototype.onCommentFormResize=function(e){var t,n;return null==e&&(e=0),t=this.atBottom(e),n=this.commentForm.$el.outerHeight(),n>0&&(this.$(".single-view-content").css({bottom:n+"px"}),this.$indicators.css("bottom",n)),t?this.scrollToBottom(null,!0):void 0;
},n.prototype.onUpload=function(e){return this.commentForm.tagThread(),this.commentList.collection.add(e)},n.prototype["delete"]=function(){return Helpers.confirmDelete()?this.model.destroy({wait:!0}).fail(function(){return _.defer(function(){return alert("Failed deleting the message. Plase try again.")})}):void 0},n.prototype.destructor=function(){return n.__super__.destructor.apply(this,arguments),this.commentForm=this.commentList=this.$indicators=this.staticHeader=this.floatingHeader=this.floatingCloseButton=this.typing=this.moreMessages=this.actions=null},n.prototype.showContext=function(){return Flowdock.analytics.track(Flowdock.ANALYTICS_EVENT_TYPES.show_in_chat_click),this.trigger("show-context",this.model.id)},n.prototype.focusCommentInput=function(e){return null!=e&&e.preventDefault(),this.$("textarea").focus()},n.prototype.returnToList=function(){return this.trigger("return-to-list")},n.prototype.onDestroy=function(){return this.model=new Models.InboxMessage({id:this.model.id,flow:this.model.flow()}),
this.commentList.off("commentRendered"),this.render(),this.returnToList()},n.prototype._buildMoreMessagesIndicator=function(){var e;return this.moreMessages?void this.moreMessages.increment():(e={direction:"below",scrollable:this.$(".single-view-content"),removeWhen:function(e){return function(){return e.atBottom()}}(this),onRemoved:function(e){return function(){return e.scrollToBottom(),e.removeSubview(e.moreMessages),e.moreMessages=null}}(this)},this.moreMessages=this.subview(new Views.Shared.MoreMessages(e)),this.$indicators.prepend(this.moreMessages.render().$el))},n.prototype.updateThreadColor=function(){return this.commentList.collection.length>0?Helpers.CommentHelper.color(this.flow.id,this.model.threadId()):void 0},n.prototype.restoreScrollPosition=function(){var e,t,n;if(this.commentList)return t=this.state.jump,e="last-message"===t?this.$(".single-view-content").find(".comment-list > li").last():t?function(){var e,r,o,i,s;for(o=this.commentList.subviews,s=[],e=0,r=o.length;r>e;e++)n=o[e],String(null!=(i=n.model)?i.id:void 0)===String(t)&&s.push(n.$el);
return s}.call(this)[0]:void 0,e?(this.state.jump=null,"last-message"!==t&&this.commentList.jumpToMessage(Number(t)),this.scrollTo(this.scrollTop(e)-a,!0)):void 0},n.prototype.flipSide=function(){var e,t;return null!=(e=this.actions)&&null!=(t=e.dropdown)&&t.close(),Flowdock.app.preferences.flip("single_view_in_inbox")},n}(Flowdock.HierarchicalView),_.extend(Views.Inbox.SingleView.prototype,Flowdock.KeyboardEvents)},{"../../templates/inbox/item_headline.mustache":262,"../../templates/inbox/single_view.mustache":266,"../../templates/spinner.mustache":321}],391:[function(e,t,n){var r=function(e,t){function n(){this.constructor=e}for(var r in t)o.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},o={}.hasOwnProperty;Views.Inbox.SingleViewError=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return r(n,t),n.prototype.tagName="div",n.prototype.className="message-error",n.prototype.defaults={report:!0},n.prototype.initialize=function(e){return this.options=_.extend(this.defaults,e),
n.__super__.initialize.call(this,this.options)},n.prototype.render=function(){return this.$el.html(Helpers.renderTemplate(e("../../templates/inbox/single_view_error.mustache"))({title:this.model.get("title"),report:this.options.report})),this},n}(Views.Shared.MessageError)},{"../../templates/inbox/single_view_error.mustache":268}],392:[function(e,t,n){var r,o=function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},i={}.hasOwnProperty,s=[].indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(t in this&&this[t]===e)return t;return-1};r=e("../truncate"),Views.Inbox.SingleViewMessage=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}var i;return o(n,t),i=4,n.prototype.tagName="article",n.prototype.className="single-view-message single-message",n.prototype.events={"click a.tag-edit-link":"openTagInput","click a.upgrade-integration":"openInboxPreferences"},n.prototype.contentClass="headline",
n.prototype.initialize=function(){return n.__super__.initialize.apply(this,arguments),this.isChatMessage()?this.contentClass="excerpt":void 0},n.prototype.destructor=function(){var e;return null!=(e=this.dropdown)&&e.remove(),this.dropdown=null,n.__super__.destructor.apply(this,arguments),this.truncatedContent=null},n.prototype.isChatMessage=function(){var e;return e=this.model.get("event"),s.call(Models.Filter.Chat.prototype.event,e)>=0},n.prototype.renderContent=function(){var t,n,o,s,a,u,l,c,p,d,h,f,m,g,v,b;if(null!=(f=this.dropdown)&&f.remove(),h="function"==typeof(s=this.model).presenter?s.presenter({lineLimit:Math.pow(2,32)}):void 0,!h)throw new Error("No presenter found");for(a="function"==typeof h.body?h.body():void 0,o=h.author(),u=this.model.editable()&&0===("undefined"!=typeof excerpt&&null!==excerpt&&null!=(m=excerpt.html)?m.length:void 0),(a&&""===$.trim(a)||this.isChatMessage())&&(a=void 0),this.$el.html(Helpers.renderTemplate(e("../../templates/inbox/single_view_message.mustache"))({presenter:h,
avatar:h.avatar(40),author:o,action:Helpers.capitalizeFirst("function"==typeof h.action?h.action():void 0),emptied:u,body:a,meta:h.meta(),linkify_meta:!0,linkify_author:null!=(null!=o?o.link:void 0),timestamp:Helpers.TimeHelper.timestamp(this.model.get("sent"),{calendar:!0,link:this.timestampLink(h),before:"on"}),editTime:Helpers.TimeHelper.editTime(this.model.get("edited"),u),mainLink:"function"==typeof h.link?h.link():void 0,mainLinkTitle:"function"==typeof h.linkTitle?h.linkTitle():void 0,iconType:this.iconType(),commentCount:this.model.comments.length,showMeta:!this.isChatMessage(),hasAttachments:this.model.appendedAttachments().length>0&&!this.isChatMessage(),hasAuthor:!0,deprecated:this.model.isDeprecated()},{author:e("../../templates/inbox/item_author.mustache"),meta:e("../../templates/inbox/single_view_meta.mustache")})),null!=h.events&&this.delegateEvents(_.extend(this.events,h.events())),g=this.model.appendedAttachments(),c=0,d=g.length;d>c;c++)t=g[c],n=this.subview(new Views.Shared.Attachment({attachment:t,
model:this.model,parent:this,renderIfPreviewsHidden:"file"!==this.model.get("event")})),this.$(".attachments").append(n.render().$el);return this.$el.toggleClass("deleted",u),null==h.avatar()&&this.$(".meta-content").addClass("no-avatar"),l=this.$(".updated-fields"),("function"==typeof h.updatedFields?h.updatedFields().length:void 0)>i&&l.length>0&&(this.truncatedContent&&this.removeSubview(this.truncatedContent),b=null!=(v=this.truncatedContent)?v.truncated:void 0,this.truncatedContent=this.subview(new r({el:l,truncated:b})).render()),this.isChatMessage()&&this.previewImageLinks(),p=this.isChatMessage()?"single-chat-message":this.model.get("event"),this.$el.addClass(p),this},n.prototype.tagInputTarget=function(){return this.$(".tag-edit-link")},n.prototype.previewImageLinks=function(){return this.$(".body a.embeddable").filter(function(){return"CODE"!==$(this).parent()[0].nodeName}).each(function(e){return function(t,n){var r,o,i,s;return o=$(n),s=o.prop("href"),r=Views.Embed.match(s),r?(i=o.wrap('<div class="embed">').parent(),
e.subview(new r({url:s,el:i,parent:e,message:e.model}).render())):void 0}}(this))},n.prototype.newTagInput=function(){return new Views.Shared.TagInput({model:this.model,direction:"w"})},n.prototype.toggleCommitSummary=function(e){},n.prototype.openInboxPreferences=function(e){return Flowdock.app.manager.openFlowSettings(this.model.flow(),"integrations")},n}(Views.Shared.Message)},{"../../templates/inbox/item_author.mustache":260,"../../templates/inbox/single_view_message.mustache":269,"../../templates/inbox/single_view_meta.mustache":270,"../truncate":485}],393:[function(e,t,n){var r=function(e,t){function n(){this.constructor=e}for(var r in t)o.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},o={}.hasOwnProperty;Views.Inbox.Thread=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return r(t,e),t.prototype.initialize=function(e){return null==e&&(e={}),t.__super__.initialize.apply(this,arguments),this.listenTo(this.model,"change:thread",this.updateThread,this),
this.listenTo(this.model,"change:thread",this.render,this),this.thread=new Models.Thread(this.model.get("thread"))},t.prototype.commentCount=function(){return Number(this.model.get("thread").internal_comments||0)+Number(this.model.get("thread").external_comments||0)+Number(this.model.get("thread").activities||0)},t.prototype.commentCountVisible=function(){return this.collapseThreads&&this._visibleComments()},t.prototype._visibleComments=function(){return this.commentCount()>1||1===this.commentCount()&&1===!Number(this.model.get("thread").activities||0)},t.prototype.hideTitle=function(){var e;return(e=this.model.get("thread"))?!e.status&&null!=this.model.get("excerpt_title"):void 0},t.prototype.open=function(){var e;return Flowdock.app.router.navigateToFlow(this.model.flow(),{thread:this.model.get("thread_id")}),null!=(e=Flowdock.app.manager.currentView)?e.jumpTo(this.model.id):void 0},t.prototype.updateThread=function(){return this.thread.set(this.model.get("thread"))},t.prototype.renderContent=function(){return t.__super__.renderContent.apply(this,arguments),
this.threadActions&&this.removeSubview(this.threadActions),this.threadActions=this.subview(new Views.Thread.ThreadActionList({model:this.thread})),this.$(".dropdown-menu:not(.sub-menu)").prepend(this.threadActions.$el),this.threadActions.render()},t}(Views.Inbox.Item)},{}],394:[function(e,t,n){var r,o=function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},i={}.hasOwnProperty;r=e("views/overlays/new_tab"),Views.Navigation=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return o(t,e),t.prototype.id="tab-bar",t.prototype.tagName="nav",t.prototype.keyboardEvents={quickMute:"quickMute"},t.build=function(e){return Flowdock.mobile?new Views.Navigation.Mobile(e):new Views.Navigation.Desktop(e)},t.prototype.initialize=function(e){return this.userMenu=new Views.Navigation.UserMenu({model:e.user,manager:e.manager}),this.tabs=this.subview(new Views.Navigation.Tabs.build({collection:this.collection,
manager:e.manager})),this.notificationCenter=this.subview(new Views.Navigation.NotificationCenter({collection:e.notifications})),this.isSpotlightSearchEnabled=Flowdock.app.features.F18968_spotlight_search,this.isSpotlightSearchEnabled&&(this.spotlightSearch=new Views.Navigation.SpotlightSearch({manager:e.manager})),this.tabListShadowTop=$("<div>").addClass("tab-list-shadow").append($("<i>").addClass("fa fa-chevron-up activity-icon")),this.bindKeyboardEvents()},t.prototype.render=function(){var e,t;return this.$el.html(Helpers.renderTemplate(this.template)()),t=this.$(".nav-header"),e=this.$(".nav-content"),this.userMenu.setElement(this.$("#user-menu-toggle")),this.userMenu.render(),t.append(this.notificationCenter.render().$el),e.append(this.tabListShadowTop),this.isSpotlightSearchEnabled&&e.append(this.spotlightSearch.render().el),e.append(this.tabs.render().el),this},t.prototype.destructor=function(){var e;return null!=(e=this.userMenu)&&e.trigger("end"),t.__super__.destructor.apply(this,arguments),this.userMenuToggle=this.userMenu=this.tabs=this.notificationCenter=null;
},t.prototype.quickMute=function(){return this.userMenu.quickMute()},t}(Flowdock.HierarchicalView),_.extend(Views.Navigation.prototype,Flowdock.KeyboardEvents)},{"views/overlays/new_tab":419}],395:[function(e,t,n){var r=function(e,t){function n(){this.constructor=e}for(var r in t)o.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},o={}.hasOwnProperty;Views.Navigation.FlowDropdownMenu=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return r(n,t),n.prototype.template=e("../../templates/navigation/flow_dropdown_menu.mustache"),n.prototype.partials={usersIcon:e("../../templates/icons/users.mustache"),toggleTeam:e("../../templates/navigation/toggle_team.mustache")},n.prototype.serializeData=function(){return{toggledOn:!this.atTeamEnabled()}},n.prototype.onAfterRender=function(){return this.listenTo(this.model,"change:team_notifications",function(e){return function(){return e.renderTeamNotificationToggle()}}(this))},n.prototype.atTeamEnabled=function(){
return this.model.receivesTeamNotifications()},n.prototype.events=_.extend({"click .show-users":"openPeopleManager","click .show-sources":"openInboxSources","click .show-settings":"openFlowSettings","click .toggle-ignore-team":"toggleIgnoreTeam"},Views.Navigation.SidebarDropdownMenu.prototype.events),n.prototype.openPeopleManager=function(){return Flowdock.analytics.track(Flowdock.ANALYTICS_EVENT_TYPES.flow_menu_members_click),Flowdock.app.manager.openFlowSettings(this.model,"preferences")},n.prototype.openInboxSources=function(){return Flowdock.analytics.track(Flowdock.ANALYTICS_EVENT_TYPES.flow_menu_integrations_click),Flowdock.app.manager.openFlowSettings(this.model,"integrations")},n.prototype.openFlowSettings=function(){return Flowdock.analytics.track(Flowdock.ANALYTICS_EVENT_TYPES.flow_menu_settings_click),Flowdock.app.manager.openFlowSettings(this.model)},n.prototype.toggleIgnoreTeam=function(e){var t,n;return n=!this.model.receivesTeamNotifications(),n?Flowdock.analytics.track(Flowdock.ANALYTICS_EVENT_TYPES.flow_menu_unmute_team_click):Flowdock.analytics.track(Flowdock.ANALYTICS_EVENT_TYPES.flow_menu_mute_team_click),
e.preventDefault(),e.stopImmediatePropagation(),setTimeout(function(e){return function(){return e.$el.parent().click()}}(this),100),"function"==typeof(t=this.model).saveWithRetry?t.saveWithRetry({team_notifications:!this.model.receivesTeamNotifications()},{patch:!0}):void 0},n.prototype.renderTeamNotificationToggle=function(){return this.$el.find(".toggle-ignore-team").html(Helpers.renderTemplate(e("../../templates/navigation/toggle_team.mustache"))({toggledOn:!this.atTeamEnabled()}))},n}(Views.Navigation.SidebarDropdownMenu)},{"../../templates/icons/users.mustache":252,"../../templates/navigation/flow_dropdown_menu.mustache":277,"../../templates/navigation/toggle_team.mustache":288}],396:[function(e,t,n){var r=function(e,t){function n(){this.constructor=e}for(var r in t)o.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},o={}.hasOwnProperty;Views.Navigation.FlowList=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return r(n,t),n.prototype.template=e("../../templates/navigation/flow_list.mustache"),
n.prototype.itemViewContainer=".org-flows",n.prototype.className="flow-list",n.prototype.modelEvents={change:"onChange"},n.prototype.collectionEvents={add:"onAdd",remove:"onRemove"},n.prototype.initialize=function(e){return null==e&&(e={}),e.title&&(this.title=e.title),this.hideIfEmpty=e.hideIfEmpty,this.reorderable=e.reorderable,this.collection.each(this.handleLoaded,this)},n.prototype.prependOrAppendTab=function(e,t){var n;return n=t.isFlow()?"append":"prepend",this.$(this.itemViewContainer)[n](e.render().el)},n.prototype.onAdd=function(e){var t;return this.handleLoaded(e),t=this.renderOne(e),this.prependOrAppendTab(t,e),t.triggerAttach(),this.$el.show()},n.prototype.onRemove=function(e){var t,n,r,o;for(r=this.findSubviews(e),t=0,n=r.length;n>t;t++)o=r[t],this.removeSubview(o);return this.isVisible()?void 0:this.$el.hide()},n.prototype.onChange=function(){var e;return e=this.serializeData(),this.$(".org-name").text(e.title),e.url?this.$(".external-link").attr({href:e.url}):void 0},n.prototype.handleLoaded=function(e){
return e.isPrivate()?e.fullyLoaded.fail(function(t){return function(){return t.onRemove(e)}}(this)):this.model?this.model.set(e.get("organization")):void 0},n.prototype.serializeData=function(){return{title:this.title||this.model.get("name"),url:this.model?"/organizations/"+this.model.id:null}},n.prototype.isVisible=function(){return this.collection.length>0||!this.hideIfEmpty},n.prototype._findTabIndex=function(e){var t,n;return t=String(e.get("id")),n=this.initialTabOrder.indexOf(t),0>n?this.initialTabOrder.push(t):n},n.prototype._tabTypeOrder=function(e){var t,n;return t=e.isFlow()?"flows":"privates",null!=(n=Flowdock.app.tabOrder)?n[t][e.id]:void 0},n.prototype.render=function(){var e;return this.initialTabOrder=this.collection.sortBy(this._tabTypeOrder).map(function(e){return String(e.get("id"))}),this.$el.html(Helpers.renderTemplate(this.template)(this.serializeData())),e=this.collection.sortBy(this._findTabIndex,this).map(function(e){return function(t){return e.renderOne(t).render().el}}(this)),this.$(this.itemViewContainer).append(e),
this.$el.toggle(this.collection.length>0||!this.hideIfEmpty),this},n.prototype.renderOne=function(e){var t;return t=this.subview(new Views.Navigation.Tab({model:e})),t.consume(e.stream),t.on("closing",this.navigateIfActive,this),this.listenTo(t,"scroll",function(e){return function(t){return e.trigger("scroll",t)}}(this)),this.listenTo(t,"reorder",this.reorder),t},n.prototype.reorder=function(e,t){var n;return n=this._findTabIndex(t),n!==e?(this.initialTabOrder.splice(n,1),this.initialTabOrder.splice(e,0,String(t.get("id"))),t.saveWithRetry({group_tab_index:e},{patch:!0})):void 0},n.prototype.removeReorderable=function(){return this.$el.reorderable("destroy")},n.prototype.makeReorderable=function(){return this.reorderable?(this.removeReorderable(),this.$el.reorderable({className:"reorderable-flow-list",drop:function(e){return function(t){return e.trigger("reorder",t,e.model)}}(this)})):void 0},n.prototype.navigateIfActive=function(e){var t;return e.$el.hasClass("current")?(t=e.$el.index(".tab")+1,1===t?this.trigger("navigate",t+1):this.trigger("navigate",t-1)):void 0;
},n}(Flowdock.HierarchicalView)},{"../../templates/navigation/flow_list.mustache":278}],397:[function(e,t,n){var r,o=function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},i={}.hasOwnProperty;r=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return o(n,t),n.prototype.template=e("../../templates/navigation/ignore_confirm.mustache"),n.prototype.className="ignore-confirm",n.prototype.events={"click .confirm":"onConfirm","click .cancel":"onCancel","click .undo":"onUndo"},n.prototype.initialize=function(e){this.props=e},n.prototype.serializeData=function(){return{flowName:this.props.flowName,success:this.success}},n.prototype.onAfterRender=function(){return this.$el.toggleClass("success",null!=this.success)},n.prototype.onConfirm=function(e){return e.stopImmediatePropagation(),this.success=!0,this.render(),this.props.onConfirm()},n.prototype.onCancel=function(e){return e.stopImmediatePropagation(),
this.props.onCancel()},n.prototype.onUndo=function(e){return e.stopImmediatePropagation(),this.props.onUndo()},n}(Flowdock.ItemView),t.exports=r},{"../../templates/navigation/ignore_confirm.mustache":279}],398:[function(e,t,n){var r,o=function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},i={}.hasOwnProperty;r=e("views/overlays/new_tab"),Views.Navigation.Desktop=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return o(n,t),n.prototype.template=e("../../templates/navigation/navigation.mustache"),n.prototype.className="desktop",n.prototype.events={"click .open-sidebar, .close-sidebar":"toggleSidebar","click .search-tab":"toggleNewTab","mouseenter .close-sidebar, .search-tab":"showTooltip","mouseleave .close-sidebar, .search-tab":"removeTooltip"},n.prototype.initialize=function(e){return n.__super__.initialize.apply(this,arguments),this.listenTo(e.manager,"change",this.viewChange);
},n.prototype.render=function(){return this.$el.toggleClass("minimized",Flowdock.app.preferences.get("sidebar_collapsed")),_.defer(function(e){return function(){return e.$el.find(".search-tab").toggleClass("open",e.newTabActive)}}(this)),n.__super__.render.apply(this,arguments)},n.prototype.toggleSidebar=function(){var e,t;return e=!this.$el.hasClass("minimized"),t=e?Flowdock.ANALYTICS_EVENT_TYPES.sidebar_collapse:Flowdock.ANALYTICS_EVENT_TYPES.sidebar_expand,Flowdock.analytics.track(t),Flowdock.app.preferences.save({sidebar_collapsed:e}),Flowdock.app.manager.preserveScrolling(function(t){return function(){return t.removeTooltip(),t.$el.toggleClass("minimized",e),t.tabs.refreshScrollbar()}}(this))},n.prototype.toggleNewTab=function(e){return this.newTabActive?Flowdock.app.router.activatePrevious():Flowdock.app.router.showNewTab()},n.prototype.viewChange=function(e){return this.newTabActive=e instanceof r,this.$el.find(".search-tab").toggleClass("open",this.newTabActive)},n.prototype.showTooltip=function(e){var t;
if(!this.$el.hasClass("minimized"))return t=$("<div>").addClass("nav-footer-tooltip"),t.text($(e.currentTarget).data("tipsy-title")),this.$(".nav-footer").append(t)},n.prototype.removeTooltip=function(){return this.$el.hasClass("minimized")?void 0:this.$(".nav-footer-tooltip").remove()},n}(Views.Navigation)},{"../../templates/navigation/navigation.mustache":280,"views/overlays/new_tab":419}],399:[function(e,t,n){var r=function(e,t){function n(){this.constructor=e}for(var r in t)o.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},o={}.hasOwnProperty;Views.Navigation.Mobile=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return r(n,t),n.prototype.template=e("../../templates/navigation/navigation.mustache"),n.prototype.className="mobile",n.prototype.events={"click .search-tab":"openNewTab"},n.prototype.initialize=function(e){var t,r;return n.__super__.initialize.apply(this,arguments),this.listenTo(Flowdock.eventBus,"mobile:show-navigation",this.showNavigation),
this.listenTo(Flowdock.eventBus,"mobile:hide-navigation",this.hideNavigation),r=this.untilEnd(this.$el.asEventStream("click","#user-menu-toggle, #notification-center-toggle")),t=this.untilEnd($(document).asEventStream("click")).filter("isMenuOpen"),r.merge(t).onValue(function(e){return function(t){return $(t.target).closest(".dropdown-menu").length||e.closeOpenMenu(t),e.toggleMenuByEventTarget(t)}}(this))},n.prototype.isMenuOpen=function(){return this.$(".dropdown").hasClass("open")},n.prototype.showNavigation=function(){return $("body").addClass("navigation-in")},n.prototype.hideNavigation=function(){return $("body").removeClass("navigation-in")},n.prototype.closeOpenMenu=function(){return this.$(".dropdown.open").removeClass("open")},n.prototype.toggleMenuByEventTarget=function(e){return $(e.target).closest(".dropdown").toggleClass("open")},n.prototype.openNewTab=function(){return Flowdock.app.router.showNewTab()},n.prototype.destructor=function(){return this.stopListening(Flowdock.eventBus),n.__super__.destructor.apply(this,arguments);
},n}(Views.Navigation)},{"../../templates/navigation/navigation.mustache":280}],400:[function(e,t,n){var r=function(e,t){function n(){this.constructor=e}for(var r in t)o.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},o={}.hasOwnProperty,i=[].indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(t in this&&this[t]===e)return t;return-1};Views.Navigation.Notification=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return r(n,t),n.prototype.template=e("../../templates/navigation/notification.mustache"),n.prototype.tagName="li",n.prototype.className="notification",n.prototype.events={click:"goToFlow","click .mark-as-read":"markAsRead","click .ignore-team":"ignoreTeam"},n.prototype.modelEvents={"change:unread":"render","change:unreads":"render","change:message":"render"},n.prototype.initialize=function(e){var t;return n.__super__.initialize.apply(this,arguments),(t=this.model.message().user())&&this.listenTo(t,"change",this.render),
this.listenTo(this.model.message(),"change",this.render),this.onModelLoad(function(e){return function(){return e.listenTo(e.model.flow(),"change:team_notifications",e.render)}}(this)),this.onIgnore=e.onIgnore},n.prototype.serializeData=function(){var e,t,n,r,o;return r=this.model.message().presenter(),t=this.model.unreadCount(),n=this.model.message().hasTag(Models.Tag.userTagFor("team")),o=this.model.flow().get("team_notifications"),e=n&&o,{message:this.getMessageContent(r),timestamp:function(e){return function(){var n;return n={calendar:!0,before:e.model.isPrivateMessage()&&t>1?"latest":""},Helpers.TimeHelper.timestamp(e.model.message().get("sent"),n)()}}(this),flow:this.model.flow().toJSON(),avatar:r.avatar(80),user:r.author(),isPrivate:this.model.isPrivateMessage(),iconType:this.iconType(),moreUnreadMessages:t>1?this.additionalUnreadMessages(t-1):null,unread:this.model.isUnread(),canIgnore:e}},n.prototype.additionalUnreadMessages=function(e){return e+" earlier message"+(1===e?"":"s")},n.prototype.iconType=function(){
return this.isChatMessage()||this.isActivityMessage()?null:this.model.message().get("event")},n.prototype.isFileMessage=function(){return"file"===this.model.message().get("event")},n.prototype.isChatMessage=function(){var e;return e=this.model.message().get("event"),i.call(Models.Filter.Chat.prototype.event,e)>=0},n.prototype.isActivityMessage=function(){return"activity"===this.model.message().get("event")},n.prototype.getMessageContent=function(e){var t;return this.isFileMessage()?(t=e.body(),$("<span>").text(t).html()):this.isChatMessage()?e.body():this.isActivityMessage()?e.data.title||e.data.thread.title:e.summary()},n.prototype.onAfterRender=function(){return this.toggleUnread(),this.$el.addClass(this.model.isMention()?"mention":"everyone")},n.prototype.goToFlow=function(e){var t,n;return n=$(e.target),n.is(".mark-as-read")?void 0:(t=this.model.message(),this.trigger("navigate"),t.flow().isPrivate()?Flowdock.app.router.navigateToPrivate(t.flow()):Helpers.textSelected()||n.attr("href")||n.closest("a[href]").length>0?void 0:t.get("thread_id")?Flowdock.app.router.navigateToFlow(t.flow(),{
thread:t.threadId()}):Flowdock.app.router.navigateToFlow(t.flow(),{message:t.threadId()}))},n.prototype.markAsRead=function(e){return e.stopImmediatePropagation(),this.model.markAsRead()},n.prototype.ignoreTeam=function(e){return e.stopImmediatePropagation(),this.onIgnore(this.model.message().flow(),this.model)},n.prototype.toggleUnread=function(){return this.$el.toggleClass("unread",this.model.isUnread())},n.prototype.render=function(){return this.onModelLoad(function(e){return function(){return e.model.flow().get("open")?e.model.flow().fullyLoaded.done(function(){return n.__super__.render.call(e)}):n.__super__.render.apply(e,arguments)}}(this)),this},n.prototype.onModelLoad=function(e){return this.model.isFlowMessage()?Flowdock.app.flows.getOrFetch(this.model.message().get("flow")).done(e):e()},n}(Flowdock.ItemView)},{"../../templates/navigation/notification.mustache":281}],401:[function(e,t,n){var r=function(e,t){function n(){this.constructor=e}for(var r in t)o.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,
e.prototype=new n,e.__super__=t.prototype,e},o={}.hasOwnProperty;Views.Navigation.NotificationCenter=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return r(n,t),n.prototype.template=e("../../templates/navigation/notification_center.mustache"),n.prototype.id="notification-center",n.prototype.className="dropdown e",n.prototype.events={"click .mark-all-read":"markAllRead","click .notification-center-filter.unselected":"toggleSelection","click .notification-center-filter":function(e){return null!=e?e.stopPropagation():void 0}},n.prototype.initialize=function(){return this.untilEnd(this.collection.unreadProperty()).onValue(this,"updateCount"),n.__super__.initialize.apply(this,arguments)},n.prototype.onBeforeRender=function(){var e;return null!=(e=this.dropdown)&&e.remove(),this.removeSubview(this.notificationList)},n.prototype.onAfterRender=function(){return this.dropdown=new Flowdock.Dropdown({el:this.$el}),this.notificationList=this.subview(new Views.Navigation.NotificationList({el:this.$("#notification-list"),
collection:this.collection,users:this.users})),this.notificationList.render(),this.listenTo(this.notificationList,"navigate",function(){return this.dropdown.close()}),this.listenTo(this.dropdown,"open close",function(){return this.onToggle()}),this.toggleMarkAllLink(),this.$("#notification-center-toggle").tipsy(),this.notificationList.changeSelectionTo(this.currentListSelection())},n.prototype.onToggle=function(){var e;return e=this.$("#notification-menu"),e.removeClass("compact"),e[0].getBoundingClientRect().right>$(window).width()?e.addClass("compact"):void 0},n.prototype.toggleMarkAllLink=function(){return this.$(".mark-all-read").toggleClass("disabled",!this.collection.hasUnreads())},n.prototype.serializeData=function(){return{count:this.collection.unreadCount(),toolTip:this.toolTipText()}},n.prototype.destructor=function(){var e;return null!=(e=this.dropdown)&&e.remove(),n.__super__.destructor.apply(this,arguments),this.dropdown=this.notificationList=null},n.prototype.updateCount=function(e){var t;return this.$(".notification-badge").text(e),
this.$el.toggleClass("new-mentions",e>0),this.toggleMarkAllLink(),this.$("#notification-center-toggle").attr("title",this.toolTipText()),t=this.collection.unreadMentionCount(),this.$(".atMentions").text("("+t+")").toggle(t>0),this.$(".allMentions").text("("+e+")").toggle(e>0)},n.prototype.markAllRead=function(e){return Flowdock.analytics.track(Flowdock.ANALYTICS_EVENT_TYPES.mark_all_read),null!=e&&e.preventDefault(),null!=e&&e.stopImmediatePropagation(),this.collection.markAllRead()},n.prototype.toolTipText=function(){var e;return e=this.collection.unreadCount(),0===e?"No unread notifications":e>1?e+" unread notifications":e+" unread notification"},n.prototype.toggleSelection=function(e){return null!=e&&e.preventDefault(),null!=e&&e.stopPropagation(),this.$(".notification-center-filter").toggleClass("selected unselected"),this.notificationList.changeSelectionTo(this.currentListSelection())},n.prototype.currentListSelection=function(){return this.$(".notification-center-filter.selected").hasClass("all")?"all":"mentions";
},n}(Flowdock.ItemView)},{"../../templates/navigation/notification_center.mustache":282}],402:[function(e,t,n){var r,o=function(e,t){return function(){return e.apply(t,arguments)}},i=function(e,t){function n(){this.constructor=e}for(var r in t)s.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},s={}.hasOwnProperty;r=e("./ignore_confirm.coffee"),Views.Navigation.NotificationList=function(t){function n(){return this.onIgnore=o(this.onIgnore,this),n.__super__.constructor.apply(this,arguments)}return i(n,t),n.prototype.id="notification-list",n.prototype.tagName="ul",n.prototype.collectionEvents={add:"addItem",remove:"removeSubview",historyAdd:"addItems",reset:"onReset"},n.prototype.initialize=function(){return this.rendered=!1,this.messageLoader=new Views.Shared.MessageLoader({collection:this.collection,direction:"backward"}),n.__super__.initialize.apply(this,arguments)},n.prototype.render=function(){return this.rendered=!0,0===this.collection.length&&this.collection.historyComplete.backward?this.addEmptyMessage():(this.clearEmptyMessage(),
this.$el.append(this.renderItems(this.collection.models))),this.$el.append(this.messageLoader.render().el),this},n.prototype.renderItems=function(e){var t,n,r,o;for(o=[],t=0,n=e.length;n>t;t++)r=e[t],o.push(this.renderItem(r));return o},n.prototype.renderItem=function(e){var t;return t=this.subview(new Views.Navigation.Notification({model:e,onIgnore:this.onIgnore})),this.listenTo(t,"navigate",function(){return this.trigger("navigate")}),t.render().$el},n.prototype.addItem=function(e){return this.clearEmptyMessage(),this.$el.prepend(this.renderItem(e))},n.prototype.addItems=function(t){return this.rendered?(this.clearEmptyMessage(),this.messageLoader.$el.detach(),this.$el.append(this.renderItems(t)),this.collection.historyComplete.backward?(this.messageLoader.remove(),0===this.collection.length?this.addEmptyMessage():this.$el.append(Helpers.renderTemplate(e("../../templates/navigation/notification_list_no_more.mustache"))())):this.$el.append(this.messageLoader.el)):void 0},n.prototype.onReset=function(){var e,t,n,r;
for(n=this.subviews.slice(),e=0,t=n.length;t>e;e++)r=n[e],this.removeSubview(r);return this.render()},n.prototype.addEmptyMessage=function(){var t;return t=e("../../templates/navigation/notification_list_empty.mustache"),this.$empty=$(t.render({nick:Flowdock.app.user.get("nick")})),this.$el.html(this.$empty)},n.prototype.clearEmptyMessage=function(){var e;return null!=(e=this.$empty)&&e.remove(),this.$empty=null},n.prototype.destructor=function(){return n.__super__.destructor.apply(this,arguments),this.messageLoader=this.$empty=this.confirmation=null},n.prototype.changeSelectionTo=function(e){return this.$el.toggleClass("mentions-only","mentions"===e)},n.prototype.onIgnore=function(e,t){var n,o,i,s;return i=function(e){return function(){return e.removeSubview(e.confirmation)}}(this),s=function(t){return"function"==typeof e.saveWithRetry?e.saveWithRetry({team_notifications:t},{patch:!0}):void 0},this.confirmation&&i(),this.confirmation=this.subview(new r({flowName:e.get("name"),onConfirm:function(){return s(!1);
},onUndo:function(){return s(!0),i()},onCancel:i})),n=this.confirmation.render().$el,o=this.findSubviews(t)[0].$el,o.before(n),Helpers.transitionIn(n,"expand")},n}(Flowdock.HierarchicalView)},{"../../templates/navigation/notification_list_empty.mustache":283,"../../templates/navigation/notification_list_no_more.mustache":284,"./ignore_confirm.coffee":397}],403:[function(e,t,n){var r=function(e,t){function n(){this.constructor=e}for(var r in t)o.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},o={}.hasOwnProperty;Views.Navigation.Screenhero=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return r(n,t),n.prototype.id="screenhero-overlay",n.prototype.events={"click #make-call":"retryCall","click .close":"close"},n.prototype.initialize=function(e){return this.user=null!=e?e.user:void 0,this.useVoice=null!=e?e.useVoice:void 0,this.message="Calling\u2026",this.callSucceeded=!1,this.isCalling=!0,this.makeCall(),n.__super__.initialize.apply(this,arguments);
},n.prototype.render=function(){return this.$el.html(Helpers.renderTemplate(e("../../templates/overlays/screenhero.mustache"))({toUser:this.user.nick(),message:this.message,isCalling:this.isCalling,callSucceeded:this.callSucceeded})),this},n.prototype.makeCall=function(){var e;return this.request=$.post("/rest/screenhero",{user:null!=(e=this.user)?e.id:void 0,voice:this.useVoice}).fail(function(e){return function(t,n,r){var o;return null!=(null!=(o=t.responseJSON)?o.message:void 0)?e.failed(t.responseJSON.message):e.failed("Unable to initiate a Screenhero call: "+r)}}(this)).done(function(e){return function(){return e.succeeded()}}(this))},n.prototype.retryCall=function(e){return null!=e&&e.preventDefault(),this.callSucceeded?void this.close():(this.isCalling=!0,this.message="Calling\u2026",this.render(),this.makeCall())},n.prototype.succeeded=function(){return this.callSucceeded=!0,this.isCalling=!1,this.message="Connected!",this.render()},n.prototype.failed=function(e){return this.isCalling=!1,this.message=e,
this.render()},n.prototype.close=function(){var e;return null!=(e=this.request)&&e.abort(),n.__super__.close.apply(this,arguments),this.navigateToFlow()},n}(Views.Shared.Overlay)},{"../../templates/overlays/screenhero.mustache":297}],404:[function(e,t,n){var r=function(e,t){function n(){this.constructor=e}for(var r in t)o.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},o={}.hasOwnProperty;Views.Navigation.SidebarDropdown=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return r(n,t),n.prototype.className="tab-menu-link tab-menu-toggle dropdown-toggle",n.prototype.tagName="a",n.prototype.isOpen=!1,n.prototype.attributes={title:"Manage flow"},n.prototype.events={click:"toggle"},n.prototype.render=function(){return this.model.isFlow()?(this.$el.append($(Helpers.renderTemplate(e("../../templates/icons/menu_icon.mustache"))())),this.menu=this.subview(new Views.Navigation.FlowDropdownMenu({model:this.model})),this.listenTo(this.menu,"closing",function(){
return this.trigger("closing",this)}),this.menu.render(),this):void 0},n.prototype.toggle=function(e){return null!=e&&e.stopImmediatePropagation(),null!=e&&e.preventDefault(),this.isOpen?this.close():this.open(e)},n.prototype.open=function(e){return $("body").append(this.menu.$el),this.menu.nextTo(this.$el),this.$el.addClass("open"),this.menu.delegateEvents(),$(document).trigger("dropdown-open"),$(document).on("dropdown-open",{view:this},this.blur),$(document).on("click",{view:this},this.blur),this.isOpen=!0},n.prototype.close=function(){return null!=this.menu?(this.menu.$el.remove(),this.$el.removeClass("open"),$(document).off("click",this.blur),$(document).off("dropdown-open",this.blur),this.isOpen=!1):void 0},n.prototype.blur=function(e){var t,n,r;return r=null!=e&&null!=(t=e.data)?t.view:void 0,n=$(e.target),n.is("a")||!n.closest(".dropdown-menu").length?_.delay(function(){return r.close()}):void 0},n.prototype.destructor=function(){return this.close(),n.__super__.destructor.apply(this,arguments),this.menu=null;
},n}(Flowdock.HierarchicalView)},{"../../templates/icons/menu_icon.mustache":245}],405:[function(e,t,n){var r=function(e,t){function n(){this.constructor=e}for(var r in t)o.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},o={}.hasOwnProperty;Views.Navigation.SidebarDropdownMenu=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return r(t,e),t.prototype.className="dropdown float-dropdown open e",t.prototype.events={"click .close":"closeModel"},t.prototype.nextTo=function(e){var t,n,r,o,i,s,a,u;return s=5,this.$el.removeAttr("style"),o=this.$(".dropdown-menu").outerHeight(),a=e.offset(),u=$(window).innerHeight(),n=$("#chat-form").outerHeight(),r=a.left+e.width()+s,i=10,u<a.top+o+n?(this.$el.addClass("caret-left-bottom"),t=u-a.top+o+i,this.$el.css({left:r,bottom:this._menuBottom(t,e.height())})):(this.$el.removeClass("caret-left-bottom"),this.$el.css({left:r,top:this._menuTop(a.top)}))},t.prototype.closeModel=function(e){var t;return null!=e&&e.stopImmediatePropagation(),
null!=e&&e.preventDefault(),this.trigger("closing",this),"function"==typeof(t=this.model).saveWithRetry?t.saveWithRetry({open:!1},{patch:!0}):void 0},t.prototype._caretHeight=function(){return 12},t.prototype._menuTop=function(e){return Flowdock.app.preferences.get("sidebar_collapsed")?e+this._caretHeight()/2:e-this._caretHeight()/2},t.prototype._menuBottom=function(e,t){return Flowdock.app.preferences.get("sidebar_collapsed")?e-t:e-2*t},t}(Flowdock.ItemView)},{}],406:[function(e,t,n){var r,o=function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},i={}.hasOwnProperty;r=e("views/overlays/spot_search"),Views.Navigation.SpotlightSearch=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return o(n,t),n.prototype.events={"click .spotlight-search":"toggleSpotlight"},n.prototype.initialize=function(e){return n.__super__.initialize.apply(this,arguments),this.listenTo(e.manager,"change",this.viewChange);
},n.prototype.render=function(){return this.$el.html(Helpers.renderTemplate(e("../../templates/navigation/spotlight_search.mustache"))({})),this},n.prototype.toggleSpotlight=function(e){var t;return Flowdock.analytics.track(Flowdock.ANALYTICS_EVENT_TYPES.spotlight_search_click),t=!1,Flowdock.app.router.showSpotSearch(t)},n.prototype.viewChange=function(e){return this.spotSearchActive=e instanceof r,this.$el.find(".spotlight-search").toggleClass("open",this.spotSearchActive)},n}(Flowdock.ItemView),_.extend(Views.Navigation.SpotlightSearch.prototype)},{"../../templates/navigation/spotlight_search.mustache":285,"views/overlays/spot_search":423}],407:[function(e,t,n){var r=function(e,t){function n(){this.constructor=e}for(var r in t)o.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},o={}.hasOwnProperty;Views.Navigation.Tab=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return r(n,t),n.prototype.template=e("../../templates/navigation/tab.mustache"),
n.prototype.tagName="li",n.prototype.className="tab",n.prototype.events={"click .tab-link":"navigate","click .close-tab":"close","click .open-inbox-settings":"openInboxSettings"},n.prototype.modelEvents={activate:"onActivate",deactivate:"onDeactivate","change:name":"updateName","change:url":"render"},n.prototype.keyboardEvents={closeTab:"closeTab"},n.prototype.initialize=function(){var e;return n.__super__.initialize.apply(this,arguments),this.bindKeyboardEvents(),this.listenTo(Flowdock.app.preferences,"change:sidebar_collapsed",this.updateTitle),(e=this.model.sources)?this.listenTo(e,"change:error_message add remove reset",this.render):void 0},n.prototype.renderActivity=function(){return null!=Flowdock.app.flowActivities&&null!=this.model?this.untilEnd(Flowdock.app.flowActivities.activityFor(this.model)).debounce(400).onValue(this,"updateActivity"):void 0},n.prototype.renderOnlineState=function(){var e;if(this.model.isPrivate())return e=Flowdock.app.presence.user(this.model.otherParty().id),this.updateOnlineState(),
this.untilEnd(e.asProperty("state").toEventStream()).onValue(this,"updateOnlineState")},n.prototype.onActivate=function(){return this.$el.addClass("current"),this.trigger("scroll",this.$el)},n.prototype.onDeactivate=function(){return this.$el.removeClass("current")},n.prototype.consume=function(e){var t,n;return n=Flowdock.app.user,t=e.filter(function(e){return e.user!==n.id&&(_.include(Models.Filter.Chat.prototype.event,e.event)||new Models.Message(e).highlights(n))}),this.addStream(t.onValue(function(e){return function(){return e.$(".tab").hasClass("current")?void 0:e.blink()}}(this)))},n.prototype.blink=function(){return $("#tab-list").addClass("blink"),this.$(".activity-indicator").addClass("activity-indicator-blink").one(Helpers.animationend(),function(){return $(this).removeClass("activity-indicator-blink"),$("#tab-list").removeClass("blink")}),this},n.prototype.updateName=function(){var e;return e=this.serializeData(),this.$(".tab-name").text(e.name),this.$(".tab-avatar").replaceWith(this.partials().avatar.render(e)),
"flow"===this.tabType()&&this.renderColor(),this.render()},n.prototype.updateActivity=function(e){var t,n,r;return t=e.chat,n=e.inbox,r=e.mentions,this.$(".activity-indicator").toggleClass("activity-indicator-chat",t).toggleClass("activity-indicator-inbox",n).toggleClass("activity-indicator-mentions",r>0).attr("data-mention-count",r),this.$el.toggleClass("has-activity",t||r>0)},n.prototype.updateTitle=function(e,t){var n;return n=t?this.model.isPrivate()?this.model.otherParty().get("nick"):this.model.fullName():"",this.$(".tab-link").attr("title",n)},n.prototype.updateOnlineState=function(){var e,t,n,r;return this.$el.attr("data-presence",null!=(n=this.model)&&"function"==typeof n.otherParty&&"function"==typeof(e=n.otherParty()).presence?e.presence():void 0),this.$el.toggleClass("online",null!=(r=this.model)&&"function"==typeof r.otherParty&&"function"==typeof(t=r.otherParty()).isOnline?t.isOnline():void 0)},n.prototype.serializeData=function(){var e,t;return{avatar:"function"==typeof(e=this.model).otherParty?e.otherParty().avatar(40):void 0,
initials:this.model.initials(),isPrivate:this.model.isPrivate(),link:Helpers.urlFor(this.model.isFlow()?{flow:this.model}:{"private":this.model}),name:emojimoji("function"==typeof(t=this.model.collection).uniqueName?t.uniqueName(this.model):void 0)}},n.prototype.partials=function(){return{avatar:e("../../templates/navigation/tab_avatar.mustache")}},n.prototype.onBeforeRender=function(){var e;return null!=(e=this.dropdown)?e.remove():void 0},n.prototype.onAfterRender=function(){var e,t;return t=this.tabType(),this.$el.addClass(this.tabType()+"-tab"),this.model.id===(null!=(e=Flowdock.app.manager.currentFlow)?e.id:void 0)&&(this.$el.addClass("current"),this.listenToOnce(this,"view:attach:after",function(e){return function(){return e.trigger("scroll",e.$el)}}(this))),this.renderActivity(),this.renderOnlineState(),null!=this.$el.emojie(),"flow"===t&&this.renderColor(),this.$el.reorderable({className:"tab",drop:function(e){return function(t){return e.trigger("reorder",t,e.model)}}(this)}),this.updateTitle(null,Flowdock.app.preferences.get("sidebar_collapsed")),
this.renderErrorIndicator(),this.model.isFlow()&&this.renderSettingsButton(),(!this.model.isFlow()||Flowdock.mobile)&&this.renderCloseButton(),this},n.prototype.renderErrorIndicator=function(){var e,t,n;return(null!=(n=this.model.sources)?n.hasErrors():void 0)?(t=$("<span>").addClass("fa fa-warning small-icon"),e=$("<a>").addClass("tab-error-link open-inbox-settings").append(t),this.$el.addClass("error").append(e)):this.$el.removeClass("error")},n.prototype.renderSettingsButton=function(){var e,t;return Flowdock.mobile?(t=$("<span>").addClass("fa fa-cog small-icon"),e=$("<a>").addClass("tab-menu-link open-inbox-settings").append(t)):(this.dropdown=this.subview(new Views.Navigation.SidebarDropdown({model:this.model})),e=this.dropdown.render().$el,this.listenTo(this.dropdown,"closing",function(){return this.trigger("closing",this)}),this.addStream($(document).asEventStream("close-open-dropdowns").onValue(function(e){return function(){return e.dropdown.close()}}(this)))),this.$el.append(e)},n.prototype.renderCloseButton=function(){
var e,t;return t=$("<span>").addClass("fa fa-times small-icon"),e=$("<a>").addClass("tab-menu-link close-tab").append(t),this.$el.append(e)},n.prototype.close=function(e){var t;return null!=e&&e.stopImmediatePropagation(),null!=e&&e.preventDefault(),this.trigger("closing",this),"function"==typeof(t=this.model).saveWithRetry?t.saveWithRetry({open:!1},{patch:!0}):void 0},n.prototype.navigate=function(e){var t,n;if(!e.metaKey&&!e.ctrlKey)return e.preventDefault(),Flowdock.analytics.trackHighVolume(Flowdock.ANALYTICS_EVENT_TYPES.flows_change),this.model.isFlow()?null!=(t=Flowdock.app.router)?t.navigateBackToFlow(this.model,{closeSingleIfCurrentFlow:!0}):void 0:null!=(n=Flowdock.app.router)?n.navigateToPrivate(this.model):void 0},n.prototype.openInboxSettings=function(){return Flowdock.app.manager.openFlowSettings(this.model,"integrations")},n.prototype.destructor=function(){return n.__super__.destructor.apply(this,arguments),this.activityModel=this.dropdown=null},n.prototype.tabType=function(){return this.model.isFlow()?"flow":"private";
},n.prototype.renderColor=function(e){var t;return t=Helpers.stringToColor(this.model.collection.uniqueName(this.model)),t=t.length>7?t.substring(2):t.substring(1),this.$(".tab-avatar").css("background-color","#"+t)},n.prototype.closeTab=function(e){return(null!=e?e.isPropagationStopped():void 0)!==!0&&this.$el.hasClass("current")?this.close(e):void 0},n}(Flowdock.ItemView),_.extend(Views.Navigation.Tab.prototype,Flowdock.KeyboardEvents)},{"../../templates/navigation/tab.mustache":286,"../../templates/navigation/tab_avatar.mustache":287}],408:[function(e,t,n){var r=function(e,t){function n(){this.constructor=e}for(var r in t)o.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},o={}.hasOwnProperty;Views.Navigation.Tabs=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return r(t,e),t.DROPDOWN_DELAY=500,t.prototype.id="tab-list",t.prototype.events={"click .tab-list-shadow.activity":"scrollToActivity"},t.build=function(e){return Flowdock.mobile?new Views.Navigation.Tabs.Mobile(e):new Views.Navigation.Tabs.Desktop(e);
},t.prototype.initialize=function(){var e;return e=this.collection.getCollectionOfType(Collections.Flows),this.listenTo(e,"add change:open",this.flowOpenChanged),this.renderedOrganizations={},this.isSpotlightSearchEn=Flowdock.app.features.F18968_spotlight_search,this.$tabListContent=$("<div>").addClass("tab-list-content scroll-content touch-scrollable"),this.$tabListShadowTop=$("<div>").addClass("tab-list-shadow").append($("<i>").addClass("fa fa-chevron-up activity-icon")),this.$tabListShadowBottom=$("<div>").addClass("tab-list-shadow bottom").append($("<i>").addClass("fa fa-chevron-down activity-icon")),this.listenToOnce(this,"view:attach:after",function(e){return function(){var t;return t=e.$tabListContent.asEventStream("scroll"),e.tabListScrollStream=e.untilEnd(t.merge(Flowdock.resize.window.move))}}(this))},t.prototype.render=function(){var e,t,n,r,o,i,s,a,u,l,c;for(this.isSpotlightSearchEn||this.$el.addClass("spotlight-feature-toggle"),this.initialTabOrder=_.sortBy(_.keys(null!=(u=Flowdock.app.tabOrder)?u.organizations:void 0),function(e){
var t;return null!=(t=Flowdock.app.tabOrder)?t.organizations[e]:void 0}).map(function(e){return String(e)}),this.$el.empty(),this.$el.append(this.$tabListContent),this.scrollbar&&this.$tabListContent.append(this.scrollbar.render().$el),n=this.collection.getCollectionOfType(Collections.Flows),a=this.collection.getCollectionOfType(Collections.PrivateConversations),e=_.uniq(n.pluck("organization"),function(e){return e.id}),t=_.keys(null!=(l=Flowdock.app.tabOrder)?l.organizations:void 0).filter(function(t){return!_.any(e,function(e){return String(e.id)===String(t)})}).map(function(e){return{id:e}}),c=e.concat(t),r=0,o=c.length;o>r;r++)s=c[r],this.renderOrganization(s);return i=new BackboneProjections.Sorted(new BackboneProjections.Filtered(a,{filter:function(e){return e.get("open")}}),{comparator:function(e){return e.get("name")}}),this.privateList=this.subview(new Views.Navigation.FlowList({className:"privates-list",title:"1-to-1s",collection:i,reorderable:!1,hideIfEmpty:!0})),this.listenTo(this.privateList,"scroll",this.scrollTo,this),
this.listenTo(this.privateList,"navigate",this.navigateToNthTab,this),this.$tabListContent.append(this.privateList.render().$el),this.rendered=!0,this.sortOrganizations(),this.$el.append(this.$tabListShadowTop),this.$el.append(this.$tabListShadowBottom),this.toggleReorderables(),this},t.prototype._findTabIndex=function(e){var t;return t=this.initialTabOrder.indexOf(String(e)),0>t?this.initialTabOrder.push(String(e)):t},t.prototype.renderOrganization=function(e){var t,n,r;if(null==this.renderedOrganizations[e.id])return e=new Models.Organization(e),n=this.collection.getCollectionOfType(Collections.Flows),t=new Collections.OrganizationFlows(n,{organization:e.id,comparator:"name"}),r=this.subview(new Views.Navigation.FlowList({model:e,collection:t,hideIfEmpty:!0,reorderable:!0})),this.renderedOrganizations[e.id]={view:r,organization:e},this.listenTo(t,"add remove",this.toggleReorderables),this.listenTo(r,"scroll",this.scrollTo),this.listenTo(r,"navigate",this.navigateToNthTab),this.listenTo(r,"reorder",this.reorderOrganization),
this.$tabListContent.append(r.render().el)},t.prototype.reorderOrganization=function(e,t){var n,r,o;return n=String(t.get("id")),o=t.get("url"),r=this._findTabIndex(n),e!==r?(this.initialTabOrder.splice(r,1),this.initialTabOrder.splice(e,0,n),$.ajax({url:Helpers.apiUrl(o+"/reorder"),type:"POST",data:{tab_index:e}})):void 0},t.prototype.sortOrganizations=function(){var e;if(this.rendered)return e=_.sortBy(_.keys(this.renderedOrganizations),this._findTabIndex,this),this.$tabListContent.prepend(e.map(function(e){return function(t){return e.renderedOrganizations[t].view.el}}(this))),this.$tabListContent.append(this.privateList.el)},t.prototype.toggleReorderables=function(){var e,t,n,r,o,i,s;if(t=_.filter(this.renderedOrganizations,function(e,t){return e.view.isVisible()}).length,1===t){n=this.renderedOrganizations,o=[];for(e in n)s=n[e],o.push(s.view.removeReorderable());return o}r=this.renderedOrganizations,i=[];for(e in r)s=r[e],i.push(s.view.makeReorderable());return i},t.prototype.toggleShadow=function(){var e,t,n,r,o;
return t=e=r=n=!1,o=this.$tabListContent[0].getBoundingClientRect(),this.$(".activity-indicator-chat, .activity-indicator-mentions").each(function(){var i,s;return i=this.getBoundingClientRect(),s=$(this).hasClass("activity-indicator-mentions"),i.bottom<o.top&&(t=!0,s&&(r=!0)),i.bottom>o.bottom&&(e=!0,s)?n=!0:void 0}),this.$tabListShadowBottom.toggle(!this._isContentAtBottom()),this.$tabListShadowBottom.toggleClass("activity",e),this.$tabListShadowBottom.toggleClass("mention",n),this.$tabListShadowTop.toggle(t),this.$tabListShadowTop.toggleClass("activity",t),this.$tabListShadowTop.toggleClass("mention",r)},t.prototype.scrollToActivity=function(e){var t;return t=this.$(".has-activity a.tab-link"),$(e.target).hasClass("top")?this.scrollTo(t.first()):this.scrollTo(t.last())},t.prototype.flowOpenChanged=function(e){return this.rendered&&e.get("open")?(this.renderOrganization(e.get("organization")),this.sortOrganizations()):void 0},t.prototype.scrollTo=function(e){var t,n,r;return n=e[0].getBoundingClientRect(),r=this.$tabListContent[0].getBoundingClientRect(),
t=n.top>r.top&&n.bottom-10<r.bottom,t?void 0:this.$tabListContent.animate({scrollTop:e[0].parentNode.offsetTop+e[0].offsetTop},300)},t.prototype.navigateToNthTab=function(e){var t,n;return null!=e?(_.isNumber(e)?t=e:("function"==typeof e.preventDefault&&e.preventDefault(),t=Number(String.fromCharCode(this._normalizedNumberKeyCode(e))),0===t&&(t=10)),n=this.$(".tab").eq(t-1),0!==n.length?n.find("a.tab-link").click():Flowdock.app.router.navigateTo({showNewTab:!0,trigger:!0})):void 0},t.prototype._normalizedNumberKeyCode=function(e){var t,n;return t=57,n=48,e.originalEvent.which>t?e.originalEvent.which-n:e.originalEvent.which},t.prototype._isContentAtBottom=function(){return this.$tabListContent.scrollTop()+this.$tabListContent.innerHeight()>=this.$tabListContent[0].scrollHeight},t.prototype.destructor=function(){return t.__super__.destructor.apply(this,arguments),this.$tabListContent=this.$tabListShadowTop=this.$tabListShadowBottom=this.renderedOrganizations=this.initialTabOrder=this.privateList=null},t}(Flowdock.HierarchicalView),
_.extend(Views.Navigation.Tabs.prototype,Flowdock.KeyboardEvents)},{}],409:[function(e,t,n){var r=function(e,t){function n(){this.constructor=e}for(var r in t)o.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},o={}.hasOwnProperty;Views.Navigation.Tabs.Desktop=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return r(t,e),t.ACTIVE_CLASS="active",t.prototype.className="desktop clean",t.prototype.keyboardEvents={nextTab:"navigateToNextTab",previousTab:"navigateToPreviousTab",navigateToNthTab:"navigateToNthTab",newTab:"navigateToNewTab",unreadTab:"navigateToUnreadTab",toggleSpotlight:"toggleSpotlight"},t.prototype.initialize=function(e){return t.__super__.initialize.apply(this,arguments),this.bindKeyboardEvents(),this.$el.delayedHover(Views.Navigation.Tabs.Desktop.ACTIVE_CLASS,".dropdown")},t.prototype.navigateToNextTab=function(e){var t;return null!=e&&e.preventDefault(),null!=e&&e.stopPropagation(),t=this._currentIndex(),t<this._tabCount()?this.navigateToNthTab(t+1):this.navigateToNthTab(1);
},t.prototype.toggleSpotlight=function(e){var t;return Flowdock.analytics.track(Flowdock.ANALYTICS_EVENT_TYPES.spotlight_search_click),t=!0,Flowdock.app.router.showSpotSearch(t)},t.prototype.navigateToPreviousTab=function(e){var t;return null!=e&&e.preventDefault(),null!=e&&e.stopPropagation(),t=this._currentIndex(),t>1?this.navigateToNthTab(t-1):this.navigateToNthTab(this._tabCount())},t.prototype.navigateToUnreadTab=function(e){var t;return null!=e&&e.preventDefault(),null!=e&&e.stopPropagation(),t=this.$(".tab .activity-indicator-mentions").not(".current").first().closest("a.tab-link"),0!==t.length?t.click():this.$(".tab .activity-indicator-chat").first().closest("a.tab-link").click()},t.prototype.onAttach=function(){return this.$tabListContent.wrap("<div class='scroll-wrapper'></div>").parent().nanoScroller({contentClass:"tab-list-content",iOSNativeScrolling:!0})},t.prototype.flowOpenChanged=function(){return t.__super__.flowOpenChanged.apply(this,arguments),_.defer(function(e){return function(){return e.refreshScrollbar();
}}(this))},t.prototype.refreshScrollbar=function(){return this.$(".scroll-wrapper").nanoScroller()},t.prototype.navigateToNewTab=function(){return Flowdock.app.router.navigateTo({showNewTab:!0})},t.prototype._currentIndex=function(){return this.$(".current").index(".tab")+1},t.prototype._tabCount=function(){return this.$(".tab").length},t}(Views.Navigation.Tabs),_.extend(Views.Navigation.Tabs.Desktop.prototype,Flowdock.KeyboardEvents)},{}],410:[function(e,t,n){var r=function(e,t){function n(){this.constructor=e}for(var r in t)o.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},o={}.hasOwnProperty;Views.Navigation.Tabs.Mobile=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return r(t,e),t.prototype.className="mobile clean",t.prototype.events={"click .tab-link":"hideNavigation"},t.prototype.hideNavigation=function(e){return $(e.target).is(".cog")?void 0:Flowdock.eventBus.trigger("mobile:hide-navigation")},t}(Views.Navigation.Tabs)},{}],
411:[function(e,t,n){var r=function(e,t){function n(){this.constructor=e}for(var r in t)o.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},o={}.hasOwnProperty;Views.Navigation.UserMenu=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return r(n,t),n.prototype.events={"click #logout":"logout","click .preferences":"openPreferences","click .flow-members":"openPeopleManager","click .inbox-sources":"openInboxSources","click .flow-settings":"openFlowSettings","click .mute a[data-mute]":"mute","click .unmute":"unmute"},n.prototype.modelEvents={"change:nick":"renderName"},n.prototype.initialize=function(e){return this.flowManager=e.manager},n.prototype.render=function(){return this.$el.html(Helpers.renderTemplate(e("../../templates/navigation/user_menu.mustache"))({})),this.renderName(),this.renderAvatar(),this.dropdown=new Flowdock.Dropdown({el:this.$el}),this.initMute(),this},n.prototype.initMute=function(){var e,t;return this.$(".mute").delayedHover("open"),
t=new Bacon.Bus,e=Bacon.interval(6e4,1).merge(t),this.addStream(Flowdock.app.preferences.asProperty("muted").sampledBy(e).map(Number).map(this.userReadable).assign(this.$(".dropdown-toggle"),"attr","title")),this.addStream(Flowdock.app.preferences.mute().onValue(function(e){return function(n){return e.muted=n,t.push(1),e.$(".user-menu-name").toggleClass("icon-mute",n),e.$(".unmute").toggle(n),e.$(".mute").toggle(!n)}}(this)))},n.prototype.mute=function(e){var t;return this.muted?this.unmute():(t=$(e.target).data("mute"))?("0"===t?Flowdock.analytics.track(Flowdock.ANALYTICS_EVENT_TYPES.user_menu_unmute_click):Flowdock.analytics.track(Flowdock.ANALYTICS_EVENT_TYPES.user_menu_mute_click),this.muteFor(1e3*t*60)):void 0},n.prototype.unmute=function(){return Flowdock.app.preferences.set("muted","0"),Flowdock.app.preferences.save()},n.prototype.quickMute=function(){return this.muted?this.unmute():this.muteFor(18e5)},n.prototype.muteFor=function(e){return Flowdock.app.preferences.set("muted",String(e+Date.now())),Flowdock.app.preferences.save();
},n.prototype.openPreferences=function(){return Flowdock.analytics.track(Flowdock.ANALYTICS_EVENT_TYPES.user_menu_preferences_click),Flowdock.app.manager.openPreferences("preferences")},n.prototype.renderName=function(){return this.$(".user-menu-name").text(this.model.get("nick"))},n.prototype.renderAvatar=function(){var e;return e=this.subview(new Views.Shared.Avatar({model:this.model,size:80,className:"user-menu-avatar"})),this.$(".dropdown-toggle").prepend("<div class='rounded-avatar'>"),this.$(".rounded-avatar").append(e.render().$el)},n.prototype.userReadable=function(e){var t;return t=(e-Date.now())/1e3/60,t=Math.ceil(Math.max(t,0)),0===t?"":1===t?"Muted for one more minute":"Muted for "+t+" more minutes"},n.prototype.logout=function(e){return Flowdock.analytics.track(Flowdock.ANALYTICS_EVENT_TYPES.user_menu_logout_click),e.preventDefault(),Helpers.postBrowser("/session","delete")},n.prototype.destructor=function(){var e;return null!=(e=this.dropdown)&&e.remove(),this.dropdown=this.flowManager=null,n.__super__.destructor.apply(this,arguments);
},n}(Flowdock.ItemView),_.extend(Views.Navigation.UserMenu.prototype,Flowdock.KeyboardEvents)},{"../../templates/navigation/user_menu.mustache":289}],412:[function(e,t,n){var r=function(e,t){return function(){return e.apply(t,arguments)}},o=function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},i={}.hasOwnProperty;Views.NewFlow=function(t){function n(){return this.showError=r(this.showError,this),this.saveSuccess=r(this.saveSuccess,this),n.__super__.constructor.apply(this,arguments)}return o(n,t),n.prototype.id="new-flow",n.prototype.events={"submit form":"createFlow","click #new-organization-link":"redirectToOrganizationCreate","click .close":"close"},n.prototype.initialize=function(e){return null==e&&(e={}),this.organizations=e.organizations,this.preselect=e.preselect,n.__super__.initialize.apply(this,arguments)},n.prototype.destructor=function(){return this.model.id||this.model.destroy(),n.__super__.destructor.apply(this,arguments),
this.organizations=this.spinner=null},n.prototype.render=function(){return this.organizations.ready.done(function(t){return function(){var n;return n=0===t.collection.where({open:!0}).length,t.loader&&t.removeLoader(),0===t.organizations.active().length?(t.close(),void Flowdock.app.router.routingError()):(t.$el.addClass("hidden").html(Helpers.renderTemplate(e("../templates/dialogs/new_flow.mustache"))({organizations:_.map(t.organizations.active(),function(e){return e.toJSON()}),noFlows:n})),t.$name=t.$("[name=name]"),t.$description=t.$("[name=description]"),setTimeout(function(){return t.$name.focus()},1e3),t.$el.removeClass("hidden"),n&&t.disableDialogDismissal(),t.preselect&&t.$("select option[value="+t.preselect+"]").prop("selected",!0),t.$("select[name=organization]").asEventStream("change").map(t,"selectedOrganization").toProperty(t.selectedOrganization()).onValue(function(e){e||t.redirectToOrganizationCreate()}))}}(this)),this.organizations.ready.fail(function(t){return function(){return t.$el.empty().append(Helpers.renderTemplate(e("../templates/errors/new_flow_error.mustache"))());
}}(this)),this},n.prototype.close=function(e){return n.__super__.close.call(this,e),Flowdock.app.router.activatePrevious()},n.prototype.createFlow=function(e){var t,n,r,o,i;return null!=e&&e.preventDefault(),r=$.trim(this.$name.val()),n=$.trim(this.$description.val()),o=this.selectedOrganization(),t=this.$("#new-flow-open").prop("checked")?"organization":"invitation",""!==r&&o?(this.spin(),i={name:r,description:n,organization_subdomain:o.get("parameterized_name"),open:!0,organization:o.get("name"),access_mode:t},this.model.save(i,{success:this.saveSuccess,error:this.showError,wait:!0}),this):void 0},n.prototype.selectedOrganization=function(){return this.organizations.get(this.$("select[name=organization]").val())},n.prototype.saveSuccess=function(e,t){return Flowdock.analytics.track(Flowdock.ANALYTICS_EVENT_TYPES.flows_add),Flowdock.app.allFlows().add(new Models.Flow(e.attributes,{embedded:!1})),this.unspin(),this.collection.add(e),this.close(),Flowdock.app.router.navigateTo({flow:e})},n.prototype.showError=function(e,t){
var n,r,o,i,s,a,u,l,c,p,d,h;this.unspin();try{l=JSON.parse(t.responseText)}catch(f){n=f}if(400===t.status&&l){for(r=$("<p/>").addClass("error save-completed"),i=[],d=["name","parameterized_name"],a=0,c=d.length;c>a;a++)if(s=d[a],l.errors[s])for(h=l.errors[s],u=0,p=h.length;p>u;u++)o=h[u],i.push(o);return r.text("Name "+i.join(", ")),this.$("form ol > li:last-child").append(r)}return l?this.$("form ol > li:last-child").append($("<p>").addClass("save-completed error").text(l.message)):this.$("form ol > li:last-child").append($("<p>").addClass("save-completed error").text("Something went wrong."))},n.prototype.spin=function(){return this.$("#createFlow").prop("disabled",!0).addClass("disabled"),this.$(".error").remove(),this.spinner=new Views.Shared.Progress,this.$("form ol > li:last-child").append(this.spinner.render().el)},n.prototype.unspin=function(){var e;return this.$("#createFlow").prop("disabled",!1).removeClass("disabled"),null!=(e=this.spinner)&&e.remove(),delete this.spinner},n.prototype.redirectToOrganizationCreate=function(){
return this.close(),Flowdock.app.router.navigateTo({createOrganization:!0})},n}(Views.Shared.Overlay)},{"../templates/dialogs/new_flow.mustache":211,"../templates/errors/new_flow_error.mustache":231}],413:[function(e,t,n){var r=function(e,t){return function(){return e.apply(t,arguments)}},o=function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},i={}.hasOwnProperty;Views.NewOrganization=function(t){function n(){return this.onError=r(this.onError,this),this.onSuccess=r(this.onSuccess,this),n.__super__.constructor.apply(this,arguments)}return o(n,t),n.prototype.id="new-organization",n.prototype.events={"click .edit-subdomain":"showEditSubdomain","click .close":"close","click .switch-accounts":"logout"},n.prototype.render=function(){return this.collection.ready.done(function(t){return function(){var n;return n=0!==t.collection.active().length,t.loader&&t.removeLoader(),t.$el.html(Helpers.renderTemplate(e("../templates/dialogs/new_organization_dialog.mustache"))({
host:"flowdock.com",user:Flowdock.app.user.toJSON(),noOrganizations:0===t.collection.length,canBeDismissed:n,expiredOrganizations:_.map(t.collection.where({active:!1}),function(e){var t;return t=e.get("subscription").trial?"Your trial has expired":e.get("subscription").error||"Your payments have been canceled",_.extend(e.toJSON(),{reason:t})})},{noEnabledOrganizations:e("../templates/dialogs/no_enabled_organizations.mustache")})),t.eventHandlers(),n?void 0:t.disableDialogDismissal()}}(this)),this},n.prototype.destructor=function(){var e,t;return n.__super__.destructor.apply(this,arguments),(null!=(e=this.model)?e.get("id"):void 0)?void 0:null!=(t=this.model)?t.destroy():void 0},n.prototype.showEditSubdomain=function(e){return null!=e&&e.preventDefault(),this.$(".subdomain").addClass("editing"),this.$("input[name=subdomain-name]").focus()},n.prototype.eventHandlers=function(){var e,t,n,r,o,i;return o=this.valueFrom(this.$("input[name=subdomain-name]")),i=this.$("form").asEventStream("submit").doAction(".preventDefault"),
e=this.valueFrom(this.$("input[name=organization-name]")),r=e.map(this.nameToSubdomain).takeUntil(o),t=Bacon.combineTemplate({name:e,subdomain:r.merge(o)}),n=t.sampledBy(i).map(this.newOrganization).flatMapLatest(function(e){return function(t){var n;return e.model=t,e.model.set({"g-recaptcha-response":e.$("#g-recaptcha-response").val()},{silent:!0}),n=e.model.save(),n?(e.spin(),Bacon.fromPromise(n)):Bacon.once(new Bacon.Error(e.model.validationError))}}(this)),this.addStream(r.assign(this.$(".email-example .organization-part"),"text")),this.addStream(r.assign(this.$("input[name=subdomain-name]"),"val")),this.addStream(n.onValue(this.onSuccess)),this.addStream(n.onError(this.onError))},n.prototype.newOrganization=function(e){return new Models.Organization(e)},n.prototype.onSuccess=function(){return Flowdock.analytics.track(Flowdock.ANALYTICS_EVENT_TYPES.organizations_add),this.collection.add(this.model),this.close()},n.prototype.onError=function(t){var n;return n=t.responseText?JSON.parse(t.responseText):t,this.$(".validation-errors").html(Helpers.renderTemplate(e("../templates/dialogs/new_organization_dialog_errors.mustache"))(this.errors(n))),
this.unspin()},n.prototype.errors=function(e){var t;return t=function(t){var n,r,o,i,s;n=[];for(o in t)if(s=t[o],s.length>0)for(r=0,i=s.length;i>r;r++)e=s[r],n.push({message:Helpers.capitalize(o)+" "+e});return n},{message:e.message,errors:t(e.errors)}},n.prototype.valueFrom=function(e){return e.asEventStream("input").map(function(){return e.val()})},n.prototype.nameToSubdomain=function(e){return e=e.toLowerCase().trim().replace(/[^a-z0-9]/g,"-"),e.replace(/^-{1,}/,"").replace(/-{1,}/g,"-")},n.prototype.spin=function(){return this.$(".create-organization").prop("disabled",!0),this.spinner=new Views.Shared.Progress,this.$("form").append(this.spinner.render().el)},n.prototype.unspin=function(){var e;return this.$(".create-organization").prop("disabled",!1),null!=(e=this.spinner)&&e.remove(),delete this.spinner},n.prototype.logout=function(e){return e.preventDefault(),Helpers.postBrowser("/session","delete")},n.prototype.close=function(e){var t,r;return t=this.model,n.__super__.close.apply(this,arguments),null!=(null!=t?t.id:void 0)?(r={
createFlow:!0,organization:t.get("id")},Flowdock.app.router.navigateTo(r)):this.navigateToFlow()},n}(Views.Shared.Overlay)},{"../templates/dialogs/new_organization_dialog.mustache":212,"../templates/dialogs/new_organization_dialog_errors.mustache":213,"../templates/dialogs/no_enabled_organizations.mustache":214}],414:[function(e,t,n){Views.Overlays||(Views.Overlays={})},{}],415:[function(e,t,n){var r,o,i=function(e,t){function n(){this.constructor=e}for(var r in t)s.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},s={}.hasOwnProperty;r=React.createFactory(e("components/users/avatar_list")),o=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return i(n,t),n.prototype.id="flow-welcome",n.prototype.classsName="flow-welcome-overlay",n.prototype.events={"click a.join-team":"onJoinTeam","click a.hang-around":"onHangAround"},n.prototype.initialize=function(e){return this.options=e,n.__super__.initialize.call(this,this.options)},n.prototype.render=function(){
var t;return this.$el.html(Helpers.renderTemplate(e("templates/overlays/flow_welcome_overlay.mustache"))({description:this.model.get("description"),flowName:this.model.get("name"),flowMembersCount:this.model.users.length,accessModeCopy:this.generateAccessModeCopy()})),t=new Collections.Users(_.sample(this.model.users.models,15)),this.component(this.$(".avatar-strip")[0],r({collection:t})),this},n.prototype.close=function(){return null===this.model.get("team_notifications")&&this.model.saveWithRetry({team_notifications:!0},{patch:!0}),n.__super__.close.call(this)},n.prototype.onJoinTeam=function(){return this.options.onJoinTeam()},n.prototype.onHangAround=function(){return this.options.onHangAround()},n.prototype.generateAccessModeCopy=function(){return"organization"===this.model.get("access_mode")?"Anyone in "+this.model.get("organization").name+" can join.":"Only for invited members."},n}(Views.Shared.Overlay),t.exports=o},{"components/users/avatar_list":63,"templates/overlays/flow_welcome_overlay.mustache":292
}],416:[function(e,t,n){var r=function(e,t){function n(){this.constructor=e}for(var r in t)o.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},o={}.hasOwnProperty;Views.KeyboardShortcuts=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return r(n,t),n.prototype.events={"click #enable-kbs-btn":"enableShortcuts"},n.prototype.render=function(){return this.$el.html(Helpers.renderTemplate(e("../../templates/overlays/keyboard_shortcuts.mustache"))(this.shortcuts())),this.model.get("keyboard_shortcuts")&&this.$("#not-enabled-notice").hide(),this},n.prototype.enableShortcuts=function(){return this.model.save({keyboard_shortcuts:!0}),this.$("#not-enabled-notice").hide(),this.$(".shortcut-list").show()},n.prototype.shortcuts=function(e){var t,n;return n={unfocus:"ESC",nTab:"ESC [n]",prevNextTab:'ESC <i class="fa fa-arrow-up"></i>/<i class="fa fa-arrow-down"></i>',firstUnread:"ESC A",closeTab:"ESC W",newTab:"ESC N or T",preferences:"ESC ,",toggleUsers:"ESC U",
setDND:"ESC D",focusSearch:"ESC F",focusChat:"ESC I",toggleThread:"ESC ESC",refocus:"TAB",goBack:"BACKSPACE",help:"?",editMessage:'<i class="fa fa-arrow-up"/>',prevNextThread:/(windows)/.test(null!=(t=window.navigator.userAgent)?t.toLowerCase():void 0)?'Shift+<i class="fa fa-arrow-up"/>/<i class="fa fa-arrow-down"/>':'\u21e7<i class="fa fa-arrow-up"/> / <i class="fa fa-arrow-down"/>',flipThread:"ESC S",toggleSpotlight:"ESC G"},"undefined"!=typeof macgap&&null!==macgap?_.extend(n,{nTab:"\u2318[n]",prevNextTab:'\u2325\u2318<i class="fa fa-arrow-up"></i>/<i class="fa fa-arrow-down"></i>',prevNextThread:'\u2303\u2318<i class="fa fa-arrow-up"></i> / <i class="fa fa-arrow-down"></i>',closeTab:"\u2318W",newTab:"\u2318T",preferences:"\u2318,",toggleSpotlight:"ESC G"}):"undefined"!=typeof windowsApp&&null!==windowsApp?_.extend(n,{nTab:"Ctrl+[n]",prevNextTab:"Ctrl+Tab",focusSearch:"Ctrl+F",newTab:"Ctrl+N/T",toggleSpotlight:"ESC G"}):n},n}(Views.Shared.Overlay)},{"../../templates/overlays/keyboard_shortcuts.mustache":293
}],417:[function(e,t,n){var r=function(e,t){function n(){this.constructor=e}for(var r in t)o.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},o={}.hasOwnProperty;Views.MemeCommands=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return r(n,t),n.prototype.render=function(){return this.$el.html(Helpers.renderTemplate(e("../../templates/overlays/meme_commands.mustache"))()),this},n}(Views.Shared.Overlay)},{"../../templates/overlays/meme_commands.mustache":294}],418:[function(e,t,n){var r=function(e,t){function n(){this.constructor=e}for(var r in t)o.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},o={}.hasOwnProperty;Views.MemeTemplates=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return r(n,t),n.prototype.render=function(){return this.$el.html(Helpers.renderTemplate(e("../../templates/overlays/meme_templates.mustache"))()),this},n}(Views.Shared.Overlay);
},{"../../templates/overlays/meme_templates.mustache":295}],419:[function(e,t,n){var r,o,i,s=function(e,t){function n(){this.constructor=e}for(var r in t)a.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},a={}.hasOwnProperty;o=React.createFactory(e("components/new_tab/new_tab_form")),i=React.createFactory(e("components/new_tab/new_tab_header")),r=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return s(t,e),t.prototype.className="flow new-tab",t.prototype.initialize=function(e){return this.options=e,t.__super__.initialize.apply(this,arguments),this.untilEnd($(document).asEventStream("keydown")).filter(KeyEvent.is("esc")).onValue(function(){return Flowdock.app.router.activatePrevious()})},t.prototype.onDetach=function(){return this.destructor(),this.remove()},t.prototype.unmount=function(){return this.destroyComponents()},t.prototype.destructor=function(e){var n,r;return t.__super__.destructor.call(this,e),null!=(n=this.users)&&n.cleanup(),
null!=(r=this.flows)&&r.cleanup(),this.flows=this.users},t.prototype.onAttach=function(){var e,t,n;return e=new Models.TabSearch(Flowdock.app.allFlows(),{threshold:.15,fields:["name","description","organization.name"]}),n=new Models.TabSearch(new Collections.Users,{threshold:.2,fields:["email","name","nick"]}),t=o({privates:this.options.privates,flows:e,users:n,header:i,shouldShowTabs:!0}),this.component(this.el,t),n.fetch(),e.fetch({embedded:!1})},t}(Flowdock.HierarchicalView),t.exports=r},{"components/new_tab/new_tab_form":50,"components/new_tab/new_tab_header":51}],420:[function(e,t,n){var r=function(e,t){function n(){this.constructor=e}for(var r in t)o.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},o={}.hasOwnProperty;Views.Overlays.NickConflict=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return r(n,t),n.prototype.id="nick-conflict",n.prototype.classsName="nick-conflict",n.prototype.events={"click .open-private":"openPrivate",
"click a.button":"close"},n.prototype.render=function(){return this.$el.html(e("../../templates/overlays/nick_conflict.mustache").render({name:this.model.get("name")})),this},n.prototype.openPrivate=function(){return Flowdock.app.router.navigateTo({"private":this.model})},n.prototype.close=function(){return n.__super__.close.call(this)},n}(Views.Shared.Overlay)},{"../../templates/overlays/nick_conflict.mustache":296}],421:[function(e,t,n){var r=function(e,t){function n(){this.constructor=e}for(var r in t)o.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},o={}.hasOwnProperty;Views.Overlays.PromotionBanner=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return r(n,t),n.prototype.className="overlay-mask",n.prototype.id="promotion-banner",n.prototype.initialize=function(e){return null==e&&(e={}),this.content=e.content},n.prototype.events={"click .close":"close"},n.prototype.render=function(){return this.$el.html(Helpers.renderTemplate(e("../../templates/overlays/android_promotion_banner.mustache"))({
content:this.content})),this},n.prototype.close=function(){return localStorage.setItem("promotion-banner-closed",!0),this.remove()},n.prototype.closedPermanently=function(){return localStorage.getItem("promotion-banner-closed")},n}(Flowdock.HierarchicalView)},{"../../templates/overlays/android_promotion_banner.mustache":290}],422:[function(e,t,n){var r=function(e,t){function n(){this.constructor=e}for(var r in t)o.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},o={}.hasOwnProperty;Views.SlashCommands=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return r(n,t),n.prototype.render=function(){return this.$el.html(Helpers.renderTemplate(e("../../templates/overlays/slash_commands.mustache"))()),this},n}(Views.Shared.Overlay)},{"../../templates/overlays/slash_commands.mustache":298}],423:[function(e,t,n){var r,o,i,s=function(e,t){function n(){this.constructor=e}for(var r in t)a.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,
e.__super__=t.prototype,e},a={}.hasOwnProperty;r=React.createFactory(e("components/new_tab/new_tab_form")),i=React.createFactory(e("components/spotlight_search/spotlight_search_header")),o=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return s(t,e),t.prototype.id="spot-search-overlay",t.prototype.className="spot-search-overlay",t.prototype.events={"click .close":"close"},t.prototype.initialize=function(e){return this.options=e,t.__super__.initialize.call(this,_.extend(this.options,{topAligned:!0}))},t.prototype.onDetach=function(){return this.destructor(),this.remove()},t.prototype.unmount=function(){return this.destroyComponents()},t.prototype.destructor=function(e){var n,r;return t.__super__.destructor.call(this,e),null!=(n=this.users)&&n.cleanup(),null!=(r=this.flows)&&r.cleanup(),this.flows=this.users},t.prototype.onAttach=function(){var e,t,n;return e=new Models.TabSearch(Flowdock.app.allFlows(),{threshold:.15,fields:["name","description","organization.name"]}),n=new Models.TabSearch(new Collections.Users,{
threshold:.2,fields:["email","name","nick"]}),t=r({privates:Flowdock.app.privates,flows:e,users:n,header:i,isShortcutKeyUsed:this.options.isShortcutKeyUsed,shouldShowTabs:!1,onResultClick:function(e){return function(){return e.close(null,!0)}}(this)}),this.component(this.el,t),n.fetch(),e.fetch({embedded:!1})},t.prototype.close=function(e,n){return null==n&&(n=!1),t.__super__.close.call(this,e),n?void 0:Flowdock.app.router.activatePrevious()},t}(Views.Shared.Overlay),t.exports=o},{"components/new_tab/new_tab_form":50,"components/spotlight_search/spotlight_search_header":58}],424:[function(e,t,n){var r=function(e,t){function n(){this.constructor=e}for(var r in t)o.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},o={}.hasOwnProperty;Views.Overlays.Upload=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return r(n,t),n.prototype.id="upload-dialog",n.prototype.initialize=function(e){return null==e&&(e={}),n.__super__.initialize.apply(this,arguments),
this.flow=e.flow,this.targetName=e.targetName},n.prototype.render=function(){return this.$el.append(Helpers.renderTemplate(e("../../templates/overlays/upload.mustache"))({targetName:this.targetName})),this},n}(Views.Shared.Overlay)},{"../../templates/overlays/upload.mustache":299}],425:[function(e,t,n){var r,o=function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},i={}.hasOwnProperty;r=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return o(n,t),n.prototype.id="upload-confirm-dialog",n.prototype.events={"click button[data-confirm-upload]":"confirmClick","click button[data-cancel-upload]":"cancelClick"},n.prototype.initialize=function(e){return null==e&&(e={}),n.__super__.initialize.apply(this,arguments),this.confirmCallback=e.confirmCallback,this.cancelCallback=e.cancelCallback,this.targetName=e.targetName,this.fileCount=e.fileCount},n.prototype.confirmClick=function(){return this.confirmCallback(),
this.close(!0)},n.prototype.cancelClick=function(){return this.close()},n.prototype.close=function(e){return e||this.cancelCallback(),n.__super__.close.apply(this,arguments)},n.prototype.render=function(){return this.$el.append(Helpers.renderTemplate(e("../../templates/overlays/upload_confirm.mustache"))({fileCount:this.fileCount,targetName:this.targetName})),this},n}(Views.Shared.Overlay),t.exports=r},{"../../templates/overlays/upload_confirm.mustache":300}],426:[function(e,t,n){var r=function(e,t){return function(){return e.apply(t,arguments)}},o=function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},i={}.hasOwnProperty;Views.Private=function(t){function n(){return this.error=r(this.error,this),n.__super__.constructor.apply(this,arguments)}return o(n,t),n.prototype.className="flow private",n.prototype.events=_.extend({},Views.Content.prototype.events,{"click #flow-overlay":"slideAsideOut"}),n.prototype.id=function(){
return"private-"+this.model.id},n.prototype.template=e("../templates/flow.mustache"),n.prototype.initialize=function(e){return this.viewModel=e.viewModel,n.__super__.initialize.apply(this,arguments),this.isPrivateSearchEnabled=Flowdock.app.features.F18656_search_1To1,this.chat=this.subview(new Views.Chat({fileUpload:!0,model:this.model,tags:this.isPrivateSearchEnabled,inbox:!1,expandable:!1,settings:!1,viewModel:this.viewModel})),this.toolbar=this.subview(new Views.Chat.PrivateToolbar({model:this.model,viewModel:this.viewModel})),this.inbox=this.subview(new Views.Inbox({model:this.model,viewModel:this.viewModel})),this.model.fullyLoaded.fail(this.error),this.listenTo(this.viewModel,"change",function(){return this.updatePanes()}),this.listenTo(this.toolbar,"search:change",function(e){return this.onSearchChange(e),this.viewModel.setSearch(e)}),this.listenTo(this.inbox,"closePrivateSearch",function(){return this.toolbar.closePrivateSearch()}),this.untilEnd(this.attachedProperty("after","before").and(Flowdock.appFocus).filter(function(e){
return e})).onValue(function(e){return function(){return e.model.unreadMessages.clearUnread("chat")}}(this))},n.prototype.render=function(){return this.errorState?void 0:(this.$el.empty().append(Helpers.renderTemplate(this.template)()),this.$el.append(this.toolbar.render().$el,this.chat.render().$el,$("<div id='flow-overlay'>"),$("<div class='flow-notifications'></div>")),this.updatePanes(),this)},n.prototype.toggleAndDetach=function(e,t){var n;return this.$el.find("."+t).toggle(!!this.viewModel.get(e)),n=this.currentViewInPanel(this.$el.find("."+t)),null===this.viewModel.get(e)&&null!=n?n.detach():void 0},n.prototype.currentViewInPanel=function(e){return _.find(this.subviews,function(t){return t.$el.parent().is(e)})},n.prototype.updatePanes=function(){return this.paneled("inbox",this.inbox,"inbox-panel"),this.paneled("chat",this.chat,"chat-panel"),this.paneled("single",this.getSingle(),"single-panel"),this.toggleAndDetach("lhs","left-panel"),this.toggleAndDetach("rhs","right-panel")},n.prototype.error=function(e){
var t,n;return t=function(){switch(e){case"private-not-found":return Views.Errors.PrivateNotFound;case"private-subscribe-failed":return Views.Errors.PrivateSubscribeFailed;default:return Views.Errors.Error}}(),this.errorState=!0,this.$el.children().hide(),n=new t({model:this}),this.$el.append(n.render().$el)},n.prototype.destructor=function(){return n.__super__.destructor.apply(this,arguments),this.chat=this.toolbar=null},n.prototype.findMessage=function(){return this.chat.findLastMessage()},n.prototype.onSearchChange=function(e){return this.errorState?void 0:(this.inbox.onSearchChange(e),this.toolbar.onSearchChange(e))},n.prototype.getSingle=function(){var e;if(!this.errorState)return"single"!==this.viewModel.get("lhs")&&"single"!==this.viewModel.get("rhs")?this.single:(e=this.viewModel.get("thread"))?this.getThread(e):null},n.prototype.paneled=function(e,t,n){return t?this.viewModel.get("rhs")===e?(this.renderInPanel(this.$el.children(".right-panel"),t,n),this.$el.children(".left-panel").removeClass(n)):this.viewModel.get("lhs")===e?(this.renderInPanel(this.$el.children(".left-panel"),t,n),
this.$el.children(".right-panel").removeClass(n)):this.$el.children("."+n).removeClass(n):void 0},n.prototype.renderInPanel=function(e,t,n){var r;return t.$el.children().length>0||t.render(),r=this.currentViewInPanel(e),r!==t?(null!=r&&r.detach(),e.addClass(n).append(t.$el),t.attach(this.attached)):void 0},n.prototype.preserveScrolling=function(e){return this.chat.messageList.preserveScrolling({},function(t){return function(){return t.inbox.messageList.preserveScrolling({},e)}}(this))},n}(Views.Content)},{"../templates/flow.mustache":237}],427:[function(e,t,n){var r=function(e,t){function n(){this.constructor=e}for(var r in t)o.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},o={}.hasOwnProperty;Views.Shared.Attachment=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return r(n,t),n.prototype.className="attachment",n.prototype.initialize=function(e){return e=_.extend({renderIfPreviewsHidden:!0},e),this.file=new Presenters.Attachment(e.attachment),
this.parent=e.parent,this.renderIfPreviewsHidden=e.renderIfPreviewsHidden,this.addStream(Flowdock.app.preferences.asEventStream("change:link_previews").onValue(this,"onLinkPreviewChange"))},n.prototype.render=function(){var t,n;return this.showPreview()||this.renderIfPreviewsHidden?this.$el.html(Helpers.renderTemplate(e("../../templates/shared/attachment.mustache"))({dimensions:this.file.dimensions(),file:this.file,meta:this.file.meta()})):this.$el.html(""),this.$el.addClass(this.model.get("event")),t="image"===this.file.type()?Views.Embed.Image:Views.Embed.match(this.file.path()),this.parent&&null!=t&&this.showPreview()&&(n=this.$el.find("a").first().wrap("<div class='embed file-preview'>").parent(),this.preview(t,n)),this},n.prototype.preview=function(e,t){var n;return n={url:this.file.path(),rotatedUrl:this.file.rotatedPath(),el:t,parent:this.parent,skipTimeout:"file"===this.model.get("event"),hideable:this.renderIfPreviewsHidden,message:this.model},this.previewer=this.subview(new e(n).render())},n.prototype.load=function(){
var e;return null!=(e=this.previewer)?e.load():void 0},n.prototype.destructor=function(){return n.__super__.destructor.apply(this,arguments),this.file=this.parent=this.previewer=null},n.prototype.onLinkPreviewChange=function(){return null!=this.previewer&&(this.removeSubview(this.previewer),this.previewer=null),this.render()},n.prototype.showPreview=function(){return Flowdock.app.preferences.linkPreviews()},n}(Flowdock.HierarchicalView)},{"../../templates/shared/attachment.mustache":301}],428:[function(e,t,n){var r=function(e,t){return function(){return e.apply(t,arguments)}},o=function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},i={}.hasOwnProperty,s=[].indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(t in this&&this[t]===e)return t;return-1};Views.Shared.Autocompleter=function(t){function n(){return this.addableToken=r(this.addableToken,this),this.render=r(this.render,this),n.__super__.constructor.apply(this,arguments);
}return o(n,t),n.prototype.tagName="ul",n.prototype.className="autocompleter",n.prototype.events={"click .autocomplete-option":"chooseTarget","mouseenter .autocomplete-option":"selectTarget"},n.prototype.initialize=function(e){return null==e&&(e={}),this.maxOptions=e.maxOptions||10,this.query="",this.defaultOptions=e.defaultOptions||[],this.filters=e.filters},n.prototype.refreshQuery=function(e){return null==e&&(e=""),this.query=e.trim(),this.render()},n.prototype.refresh=function(){var e;return e=this.$el.hasClass("hidden"),this.render(),e?this.hide():this.show()},n.prototype.render=function(){var e,t;return this.empty(),t=this.filterModels(),this.$el.append(function(){var n,r,o;for(o=[],n=0,r=t.length;r>n;n++)e=t[n],o.push(this.renderOption(e));return o}.call(this)),this.$el.children().length?(this.show(),this.query.length&&this.select(this.$el.children().first())):(this.select(null),this.hide()),this},n.prototype.destructor=function(){return n.__super__.destructor.apply(this,arguments),this.filters=this.selection=null;
},n.prototype.select=function(e){var t;return t=null===e||$(e).is("li")?e:$(e).parent()[0],this.$("li").removeClass("selected"),this.selection=$(t).addClass("selected")},n.prototype.selectNext=function(){return null==this.selection?void this.select(this.$el.children().first()):this.selection.next().length?this.select(this.selection.next()):this.select(this.$("li").first())},n.prototype.selectPrev=function(){return null==this.selection?void this.select(this.$el.children().last()):this.selection.prev().length?this.select(this.selection.prev()):this.select(this.$("li").last())},n.prototype.completionKey=function(e){return e.preventDefault()},n.prototype.choose=function(){return this.chooseSelection()||this.chooseQuery()},n.prototype.chooseSelection=function(){var e;(null!=(e=this.selection)?e.length:void 0)&&(this.trigger("chosen",this.selection.data("token")),this.refreshQuery(""),this.clearSelection()),this.hide()},n.prototype.clearSelection=function(){return this.$(".seleced").removeClass("selected"),this.selection=null;
},n.prototype.chooseQuery=function(){var e;return this.validToken()&&this.addableToken(this.query)?(e=Models.Tag.stripHashes(this.query),this.trigger("chosen",this.collection.getOrAdd(e,0)),this.refreshQuery("")):void 0},n.prototype.onTab=function(e){return e.preventDefault(),this.chooseSelection()},n.prototype.onSpacebar=function(e){return e.preventDefault(),this.chooseQuery()},n.prototype.onReturn=function(e){return e.preventDefault(),this.choose()},n.prototype.empty=function(){return this.$el.empty()},n.prototype.show=function(){return this.$el.is(".hidden")?this.$el.removeClass("hidden"):void 0},n.prototype.hide=function(){return this.$el.not(".hidden")?this.$el.addClass("hidden"):void 0},n.prototype.toggle=function(){return this.$el.is(".hidden")?this.show():this.hide()},n.prototype.addableToken=function(e){return s.call(this.excludeTokens(),e)<0},n.prototype.excludeTokens=function(){return[]},n.prototype.validToken=function(){return FlowdockText.regexen.singleValidHashTag.test(this.hashTagBody())},n.prototype.hashTagBody=function(){
return this.query.replace(/^#+/,"")},n.prototype.filterModels=function(e){var t,n,r,o;return null==e&&(e=!0),o=this.query,n=this.excludeTokens(),t=e?this.query.length?this.defaultOptions.filter(function(e){return 0===e.toString().toLowerCase().indexOf(o)}):this.defaultOptions:[],r=this.collection.startingWith(o).slice(0,this.maxOptions+n.length).filter(function(e){var t;return 0===e.id.indexOf(":")||e.get("count")?(t=e.id,s.call(n,t)<0):!1}),t.concat(r).slice(0,this.maxOptions)},n.prototype.renderOption=function(t){var n;return n=$("<li>").addClass("autocomplete-option "+t.type()+"-choice").data("token",t),n.html(Helpers.renderTemplate(e("../../templates/inbox/autocompleter_option.mustache"))({tag:t.toString(),count:"function"==typeof t.get?t.get("count"):void 0,icon:_.result(t,"icon"),iconUrl:t.iconUrl}))},n.prototype.chooseTarget=function(e){return e.preventDefault(),this.select($(e.target).closest(".autocomplete-option")),this.choose()},n.prototype.selectTarget=function(e){return this.select(e.target)},n.prototype.isEmpty=function(){
return 0===this.$el.children().length},n}(Flowdock.HierarchicalView)},{"../../templates/inbox/autocompleter_option.mustache":253}],429:[function(e,t,n){var r=function(e,t){function n(){this.constructor=e}for(var r in t)o.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},o={}.hasOwnProperty;Views.Shared.Avatar=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return r(t,e),t.prototype.className="avatar",t.prototype.events={dblclick:"openPrivateChat",click:"toggleUserCard"},t.prototype.modelEvents={"change:avatar":"onAvatarChange"},t.prototype.initialize=function(e){return this.size=e.size,this.avatarOnly=e.avatarOnly},t.prototype.openPrivateChat=function(){return this.model.canChatWith(this.model.collection.flow.me())&&(Flowdock.app.router.navigateTo({"private":this.model}),this.userCardOpen())?this.userCard.destructor():void 0},t.prototype.onAvatarChange=function(){var e;return e="url("+this.model.get("avatar")+this.size+")",this.$el.css("background-image")!==e?this.$el.css("background-image",e):void 0;
},t.prototype.render=function(){return this.onAvatarChange(),this},t.prototype.userCardOpen=function(){return null!=this.userCard},t.prototype.toggleUserCard=function(){return!this.avatarOnly||this.userCardOpen()||Flowdock.mobile?void 0:(this.userCard=new Views.Chat.UserCard({model:this.model,me:this.model.collection.flow.me()}),this.userCard.once("destructor",function(e){return function(){return e.userCard=void 0}}(this)),this.placeUserCard(this.userCard.render({alignTop:!1})))},t.prototype.getPosition=function(){return this.$el.offset()},t.prototype.placeUserCard=function(e){var t,n,r,o,i,s;return $("body").append(e.$el.css({visibility:"hidden"})),s=e.$el.width(),o=e.$el.height(),t=this.$el.height(),r=this.$el.width(),n=this.getPosition(),i={top:n.top+t>$(window).height()?n.top-o:n.top+t,left:n.left+s>$(window).width()?n.left+r-s:n.left},e.$el.css({top:i.top+"px",left:i.left+"px",visibility:"visible"})},t}(Flowdock.HierarchicalView)},{}],430:[function(e,t,n){Views.Shared||(Views.Shared={})},{}],431:[function(e,t,n){
var r=function(e,t){function n(){this.constructor=e}for(var r in t)o.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},o={}.hasOwnProperty;Views.Shared.Close=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return r(n,t),n.prototype.tagName="a",n.prototype.className="thread-close-button",n.prototype.template=e("../../templates/inbox/single_view_close.mustache"),n.prototype.partials=function(){return{closeIcon:e("../../templates/icons/cross_thin_with_toggle.mustache")}},n.prototype.events={click:"close"},n.prototype.keyboardEvents={toggleSingleView:"close"},n.prototype.initialize=function(){return this.bindKeyboardEvents()},n.prototype.close=function(e){return $.contains($("body")[0],this.el)?(null!=e&&e.preventDefault(),this.trigger("close")):void 0},n.prototype.destructor=function(){return n.__super__.destructor.apply(this,arguments),this.stream=null},n}(Flowdock.ItemView),_.extend(Views.Shared.Close.prototype,Flowdock.KeyboardEvents);
},{"../../templates/icons/cross_thin_with_toggle.mustache":240,"../../templates/inbox/single_view_close.mustache":267}],432:[function(e,t,n){var r,o=function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},i={}.hasOwnProperty;r=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return o(t,e),t.prototype.className="coach-tooltip",t.prototype.initialize=function(e){this.options=null!=e?e:{}},t.prototype.fadeOut=function(e){return Helpers.animate(this.$el,"coach-tooltip-leave",e)},t}(Flowdock.ItemView),t.exports=r},{}],433:[function(e,t,n){var r=function(e,t){function n(){this.constructor=e}for(var r in t)o.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},o={}.hasOwnProperty;Views.Shared.DropdownContainer=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return r(t,e),t.prototype.events={"click .dropdown-toggle":"toggleMenu",
mouseleave:"closeMenu"},t.prototype.getDropdown=function(){return this.$(".dropdown")},t.prototype.toggleMenu=function(e){return this.getDropdown().hasClass("open")?this.closeMenu(e):this.openMenu(e)},t.prototype.openMenu=function(e){return null!=e&&e.stopImmediatePropagation(),this.getDropdown().addClass("open"),$("body").one("click",":not(.dropdown-menu)",this.closeMenu.bind(this))},t.prototype.closeMenu=function(e){return this.getDropdown().removeClass("open")},t.prototype.destructor=function(){return t.__super__.destructor.apply(this,arguments),$("body").off("click",":not(.dropdown-menu)")},t}(Flowdock.HierarchicalView)},{}],434:[function(e,t,n){var r,o,i,s,a=function(e,t){return function(){return e.apply(t,arguments)}},u=function(e,t){function n(){this.constructor=e}for(var r in t)l.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},l={}.hasOwnProperty;s=e("../../lib/emoji_data"),o=e("./menu_view"),i={People:"grinning",Nature:"seedling",Foods:"hamburger",Celebration:"gift",
Activity:"runner",Places:"rocket",Symbols:"symbols",Custom:"star"},r=function(t){function n(){return this.addEmoji=a(this.addEmoji,this),this.onBlur=a(this.onBlur,this),this.toggleEmojiGroup=a(this.toggleEmojiGroup,this),this.scrollTracking=a(this.scrollTracking,this),this.filterEmoji=a(this.filterEmoji,this),this.handleKeys=a(this.handleKeys,this),n.__super__.constructor.apply(this,arguments)}var r;return u(n,t),r=100/(s.sheetSize-1),n.prototype.template=e("../../templates/shared/emoji_picker.mustache"),n.prototype.id="emoji-picker",n.prototype.events=function(){return{"click a[data-emoji-group]":"toggleEmojiGroup","click li[data-emoji-code]":"addEmoji","click .clear":"clearFilter",blur:"onBlur"}},n.prototype.initialize=function(e){return this.options=null!=e?e:{},this.custom=this.options.custom.pluck("id").concat(s.custom),n.__super__.initialize.apply(this,arguments)},n.prototype.handleKeys=function(e){var t,n,r,o,i,s,a;return i=e.which,t=this.$("li:focus").first(),o=t.parent().children().length,r=t.index(),
-1!==r||37!==i&&39!==i?(e.preventDefault(),13===i?(t.click(),this.close()):-1===r?this.$("ul[data-emoji-group]:visible li:first-child").first().focus():37===i?t.prev().focus():39===i?t.next().focus():38===i||40===i?(n=38===i?-10:10,s=r+n,0>s?a=t.parent().prev().find("li:last-child").focus():s>=o?t.parent().next().find("li:eq("+s%10+")").focus():t.parent().find("li:eq("+s+")").focus()):void 0):void 0},n.prototype.serializeData=function(){return{preferencesUrl:this.options.preferencesUrl}},n.prototype.onAfterRender=function(){return this.untilEnd(this.$(".emoji-content").asEventStream("scroll")).throttle(100).onValue(this.scrollTracking),this.untilEnd(this.$(".emoji-filter").asEventStream("input")).map(function(e){return e.target.value.toLowerCase()}).onValue(this.filterEmoji),_.defer(function(e){return function(){return e.$(".emoji-filter").focus()}}(this))},n.prototype.filterEmoji=function(e){var t,n;return t=[],this.$(".emojis").toggle(!e),this.$(".filter").toggleClass("active",!!e),n=this.$(".results").empty(),
e?(t=_.filter(_.keys(s.codes).concat(this.custom),function(t){return-1!==((null!=t?t.code:void 0)||t).indexOf(e)}),_.each(t,function(e){return function(t){return n.append($('<li tabindex="0">').attr("data-emoji-code",t).html(e.renderEmoji(t)))}}(this))):void 0},n.prototype.clearFilter=function(){return this.$(".emoji-filter").val("").focus(),this.filterEmoji()},n.prototype.scrollTracking=function(e){return window.requestAnimationFrame(function(t){return function(){var n,r,o,i;return i=e.target.scrollTop,n=i+e.target.clientHeight,o=n>_.last(t.sections)?t.sections.length-1:_.findIndex(t.sections,function(e){return e>i||e>i&&n>e}),r=t.$(".emojis ul:eq("+o+")")[0].getAttribute("data-emoji-group"),t.$(".emoji-groups a").removeClass("active"),t.$("[data-emoji-group='"+r+"']").addClass("active")}}(this))},n.prototype.renderEmoji=function(e){var t,n,o,i;return n=s.codes[e]||this.options.custom.emojie._emojis[":"+e+":"],n.src?$("<img>").attr(n):(t=n[0],o=n[1],i=n[2],$("<i>").attr({title:":"+e+":","class":"emoji"}).css({
backgroundPosition:(o*r).toFixed(4)+"% "+(i*r).toFixed(4)+"%"}))},n.prototype.buildMenu=function(){return _.each(i,function(e,t){var n;return this.$(".emoji-groups li:last-child").before(this.makeHeaderIcon(t)),n=$("<ul>").attr("data-emoji-group",t).appendTo(this.$(".emojis")),n.append(this.groupItemsToArray(s.groups[t]||this.custom).join(""))},this),this.$(".emoji-groups li:first-child a").addClass("active"),this.sections=this.$(".emoji-content ul:visible").map(function(e,t){return t.offsetTop+t.clientHeight-50})},n.prototype.makeHeaderIcon=function(e){return $("<li>").append($("<a>").attr("data-emoji-group",e).html(this.renderEmoji(i[e])))},n.prototype.groupItemsToArray=function(e){return e.map(function(e){return function(t){return"<li tabindex='0' data-emoji-code='"+t+"'>"+e.renderEmoji(t).prop("outerHTML")+"</li>"}}(this))},n.prototype.toggleEmojiGroup=function(e){var t,n,r;return e.stopPropagation(),this.$("[data-emoji-group]").removeClass("active"),n=$(e.currentTarget).addClass("active").data("emoji-group"),
t=this.$(".emoji-content"),r=this.$("ul[data-emoji-group='"+n+"']").offset().top-t.offset().top+t.scrollTop(),t.animate({scrollTop:r},100)},n.prototype.onBlur=function(){return this.options.onClose?this.options.onClose():void 0},n.prototype.addEmoji=function(e){var t;return t=$(e.currentTarget).data("emoji-code"),this.options.onClose?this.options.onClose(t):this.options.parent.appendText(":"+t+":")},n}(o),t.exports=r},{"../../lib/emoji_data":86,"../../templates/shared/emoji_picker.mustache":303,"./menu_view":441}],435:[function(e,t,n){var r,o,i=function(e,t){function n(){this.constructor=e}for(var r in t)s.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},s={}.hasOwnProperty;r=e("./coach_tooltip"),o=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return i(n,t),n.prototype.template=e("../../templates/shared/everyone_warning.mustache"),n.prototype.id="everyone-tip",n.prototype.events=function(){return{"click .coach-tooltip-next":function(e){
return function(){var t;return"function"==typeof(t=e.options).onConfirm?t.onConfirm():void 0}}(this),"click .coach-tooltip-stop":function(e){return function(){var t;return"function"==typeof(t=e.options).onCancel?t.onCancel():void 0}}(this)}},n.prototype.serializeData=function(){return{flowName:this.options.flowName,userCount:this.options.userCount,usedTag:this.options.usedTag}},n}(r),t.exports=o},{"../../templates/shared/everyone_warning.mustache":304,"./coach_tooltip":432}],436:[function(e,t,n){var r=function(e,t){return function(){return e.apply(t,arguments)}},o=function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},i={}.hasOwnProperty;Views.Shared.ExpandingInput=function(t){function n(){return this.setCaretAtEnd=r(this.setCaretAtEnd,this),this.setMaxHeight=r(this.setMaxHeight,this),n.__super__.constructor.apply(this,arguments)}return o(n,t),n.prototype.template=e("../../templates/shared/expanding_input.mustache"),
n.prototype.className="expanding-input",n.prototype.events={"input textarea":"mirrorText","focus textarea":"bubbleEvent","blur textarea":"bubbleEvent","keydown textarea":"bubbleEvent"},n.prototype.initialize=function(e){return null==e&&(e={}),this.autofocus=e.autofocus||!1,this.placeholder=e.placeholder||"",this.persistId=e.persistId,this.maxlength=e.maxlength||8e3,$(window).asEventStream("unload").merge(this.asEventStream("destructor")).take(1).onValue(function(e){return function(){return null!=e.textarea?e.saveText():void 0}}(this))},n.prototype.focus=function(){var e;return null!=(e=this.textarea)?e.focus():void 0},n.prototype.focused=function(){var e;return null!=(e=this.textarea)?e.is(":focus"):void 0},n.prototype.mirrorText=function(){var e,t;return this.truncate(),this.trigger("input"),e=this.$el.height(),t=this.textarea.val(),this.span.text(t),this.$el.height()!==e?this.trigger("scale"):void 0},n.prototype.serializeData=function(){return{maxlength:this.maxlength,persistId:this.persistId,placeholder:this.placeholder
}},n.prototype.onAfterRender=function(){return this._restoreText(),this.textarea=this.$("textarea").indentPaste(),this.span=this.$("span.copy"),this.mirrorText(),this.autofocus&&!Flowdock.mobile&&_.defer(function(e){return function(){return e.focus()}}(this)),this},n.prototype.reset=function(){return this.textarea.val(""),this.textarea.trigger("reset"),this.mirrorText()},n.prototype.setMaxHeight=function(){return this.$el.css("max-height",.4*$(window).height()+"px"),this.trigger("scale")},n.prototype.setPlaceholder=function(e){var t;return null!=(t=this.textarea)?t.attr("placeholder",e):void 0},n.prototype.saveText=function(){var e;return e=this.value(),null!=this.persistId?e?localStorage.setItem(this.persistId,e):localStorage.removeItem(this.persistId):void 0},n.prototype.setText=function(e){return this.textarea.val(e),this.mirrorText()},n.prototype.appendText=function(e){var t,n,r,o,i;return o=this.textarea.prop("selectionStart"),r=this.textarea.prop("selectionEnd"),i=this.textarea.val(),i.length&&!i.match(/\s$/)&&(e=" "+e),
e.match(/\s$/)||(e+=" "),n=i.substring(0,o),t=i.substring(r,i.length),this.textarea.val(n+e+t),this.textarea[0].selectionStart=this.textarea[0].selectionEnd=o+e.length,this.textarea.focus(),this.mirrorText()},n.prototype.value=function(){var e;return null!=(e=this.textarea)?e.val():void 0},n.prototype.truncate=function(){return this.textarea&&this.textarea.val().length>this.maxlength?this.textarea.val(this.textarea.val().slice(0,this.maxlength)):void 0},n.prototype._restoreText=function(){var e;if(null!=this.persistId)return e=localStorage.getItem(this.persistId),null!=e?this.$("textarea").val(e).one("focus",this.setCaretAtEnd):void 0},n.prototype.setCaretAtEnd=function(e){var t,n;return t=this.$("textarea"),t?(n=t.val(),t.focus().val("").val(n)):void 0},n.prototype.getInput=function(){return this.textarea},n.prototype.bubbleEvent=function(e){return this.trigger(e.type,e)},n.prototype.destructor=function(){var e;return n.__super__.destructor.apply(this,arguments),null!=(e=this.picker)&&e.close(),this.textarea=this.span=this.picker=void 0;
},n}(Flowdock.ItemView)},{"../../templates/shared/expanding_input.mustache":305}],437:[function(e,t,n){var r,o,i=function(e,t){function n(){this.constructor=e}for(var r in t)s.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},s={}.hasOwnProperty;o=e("../overlays/upload_confirm.coffee"),r=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return i(n,t),n.prototype.tagName="form",n.prototype.className="upload",n.prototype.events={fileuploadadd:"onFileAdd",fileuploadprogress:"onFileProgress","confirm-upload":"confirmUpload"},n.prototype.initialize=function(e){return this.parent=e.parent,this.target=e.target,this.targetName=e.targetName,this.uploading={},this.targetName||(this.targetName=null),this.queue=[],this.incomingUploads=new Bacon.Bus,this.incomingUploads.bufferWithTime(300).map(function(e){return e.length>=5}).startWith(!0).toProperty().onValue(function(e){return function(t){return e.queue.length>0?t||e.queue.length>=5?e.showConfirmOverlay():e.sendQueuedFiles():void 0;
}}(this))},n.prototype.confirmUpload=function(){return this.sendQueuedFiles()},n.prototype.cancelUpload=function(){return this.queue=[]},n.prototype.destructor=function(){return n.__super__.destructor.apply(this,arguments),this.uploading=this.$overlay=this.parent=this.target=null},n.prototype.showConfirmOverlay=function(e){var t;return null==e&&(e={}),null!=(t=this.$confirmOverlay)&&t.close(!0),this.$confirmOverlay=new o({target:this.target,targetName:this.targetName,fileCount:this.queue.length,confirmCallback:function(e){return function(){return e.confirmUpload()}}(this),cancelCallback:function(e){return function(){return e.cancelUpload()}}(this)}),this.$confirmOverlay.attach()},n.prototype.showOverlay=function(){return this.$overlay||(this.$overlay=new Views.Overlays.Upload({target:this.target,targetName:this.targetName,removeOnHide:!1})),this.$overlay.attach()},n.prototype.messageOptions=function(){var e;return e={uuid:Models.Message.prototype.generateUuid(),user:this.model.me().id},e[this.model.isFlow()?"flow":"to"]=this.model.get("id"),
this.parent&&(e.tags=["inbox:"+this.parent.id]),e},n.prototype.onFileAdd=function(e,t){return 0===this.$el.closest("body").length?!1:(this.queue.push(t),this.incomingUploads.push(t))},n.prototype.sendQueuedFiles=function(){return _.each(this.queue,function(e){return function(t){var n,r,o;return r=t.files[0].name||t.files[0].fileName,n=t.files[0].type,o=e.setupNewChatMessage(r),e.getPresignedData(r,n).done(function(n){return e.uploadToS3(t,n).done(function(){return e.sendFileMessage(o,r,n.file_uuid)}).fail(function(){var e;return null!=(e=o.upload)?e.set({state:"failed"}):void 0})}).fail(function(){var e;return null!=(e=o.upload)?e.set({state:"failed"}):void 0}),e.trigger("new_upload",o)}}(this)),this.queue=[]},n.prototype.setupNewChatMessage=function(e){var t,n,r;return n=this.messageOptions(),t=new Models.FileMessage(n),t.upload=new Backbone.Model({state:"starting",uploaded:0,fileName:e}),r=function(){return t.upload.off(),t.off(null,null,t),delete t.upload},t.on("change:content",r,t),this.uploading[e]=t,this.$el.find("input[name=uuid]").val(t.get("uuid")),
this.$el.find("input[name=event]").val("file"),this.parent&&this.$el.find("input[name=tags]").val("influx:"+this.parent.id),t},n.prototype.getPresignedData=function(e,t){return $.ajax({type:"POST",url:Helpers.apiUrl(this.model.get("_links").files.href),dataType:"json",data:{filename:e||"default",content_type:t}})},n.prototype.uploadToS3=function(e,t){return e.url=t.url,e.formData=t.fields,e.submit()},n.prototype.sendFileMessage=function(e,t,n){return $.ajax({type:"POST",url:this.endpointUrl(),data:{uuid:e.get("uuid"),event:"file",file_uuid:n,tags:this.parent?"influx:"+this.parent.id:void 0}}).done(function(){var t;return null!=(t=e.upload)?t.set({state:"finished"}):void 0}).fail(function(){var t;return null!=(t=e.upload)?t.set({state:"failed"}):void 0}).always(function(e){return function(){return e.uploading[t]=null}}(this))},n.prototype.onFileProgress=function(e,t){var n,r;return n=t.files[0].name||t.files[0].fileName,r=this.uploading[n],null!=(null!=r?r.upload:void 0)?("starting"===r.upload.get("state")&&r.upload.set({
state:"uploading"}),r.upload.set({uploaded:parseInt(t.loaded/t.total*100,10)})):void 0},n.prototype.setupDragNDrop=function(){return this.target.dragNDropFileEvents({target:this.target,overlayClass:"fileupload-dnd-overlay",drop:function(e){return function(){return e.$overlay.close()}}(this),dragenter:function(e){return function(){return e.showOverlay()}}(this),dragleave:function(e){return function(){return e.$overlay.close()}}(this)})},n.prototype.endpointUrl=function(){return this.model.url()+"/messages"},n.prototype.setupFileUpload=function(){return this.$el.fileupload({autoUpload:!1,dataType:"json",dropZone:this.target,paramName:"file",pasteZone:this.target,url:this.endpointUrl()})},n.prototype.onDetach=function(){var e;return null!=(e=this.$overlay)?e.close():void 0},n.prototype.prompt=function(){return this.$("input[type=file]").click()},n.prototype.render=function(){return this.$el.empty().append(Helpers.renderTemplate(e("../../templates/shared/fileuploader.mustache"))({paramName:"file"})),this.$el.attr({
enctype:"multipart/form-data"}),this.$el.css({visibility:"hidden"}),this.whenAttached(function(){return this.setupFileUpload(),this.setupDragNDrop()}),this},n}(Flowdock.HierarchicalView),t.exports=r},{"../../templates/shared/fileuploader.mustache":306,"../overlays/upload_confirm.coffee":425}],438:[function(e,t,n){var r=function(e,t){function n(){this.constructor=e}for(var r in t)o.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},o={}.hasOwnProperty;Views.Shared.Header=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return r(n,t),n.prototype.template=e("../../templates/threads/header.mustache"),n.prototype.tagName="header",n.prototype.className="thread-header",n.prototype.initialize=function(e){return this.message=e.message,this.listenTo(this.closeButton,"close",this.returnToList),this.listenTo(this.message,"change:actions",this.toggleActions),e.belowTitleProperty&&(this.belowTitleProperty=e.belowTitleProperty),e.fullyLoaded?this.fullyLoaded=e.fullyLoaded:void 0;
},n.prototype.onAfterRender=function(){return this.title.setElement(this.$(".thread-title")).render(),this.actions.setElement(this.$(".thread-actions")).render()},n.prototype.setCloseButton=function(e){return this.closeButton.setElement(e).render()},n.prototype.onAttach=function(){return this.belowTitleProperty?this.trackScrollPosition():void 0},n.prototype.returnToList=function(){return this.trigger("return-to-list")},n.prototype.trackScrollPosition=function(){return this.hide=this.untilEnd(this.belowTitleProperty().not()),this.hide.onValue(function(e){return function(t){return e.$el.toggleClass("hidden",t)}}(this))},n.prototype.destructor=function(){return n.__super__.destructor.apply(this,arguments),this.hide=this.belowTitleProperty=this.fullyLoaded=null},n}(Flowdock.ItemView)},{"../../templates/threads/header.mustache":325}],439:[function(e,t,n){},{}],440:[function(e,t,n){var r=function(e,t){function n(){this.constructor=e}for(var r in t)o.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,
e.__super__=t.prototype,e},o={}.hasOwnProperty;Views.Shared.List=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return r(t,e),t.prototype.tagName="ul",t.prototype.collectionEvents={reset:"render",add:"addItem",remove:"removeItem","change:disabled":"editItem"},t.prototype.initialize=function(e){this.filter=e.filter,this.modelView=e.modelView,this.reversed=e.reversed},t.prototype.destructor=function(){return this.modelView=this.filter=void 0,t.__super__.destructor.apply(this,arguments)},t.prototype.render=function(){var e,t,n,r;for(r=this.filter?this.collection.filter(this.filter):this.collection.models,this.$el.empty(),e=0,t=r.length;t>e;e++)n=r[e],this.removeSubview(n),this.reversed?this.$el.prepend(this.subview(new this.modelView({model:n})).render().el):this.$el.append(this.subview(new this.modelView({model:n})).render().el);return this},t.prototype.addItem=function(e,t){var n;return n=this.subview(new this.modelView({model:e})),this.reversed?this.$el.prepend(this.expand(n.render()).el):this.$el.append(this.expand(n.render()).el),
this.trigger("addItem")},t.prototype.removeItem=function(e,t){var n,r,o,i;for(o=this.removeSubview(e),n=0,r=o.length;r>n;n++)i=o[n],this.collapse(i);return this.trigger("removeItem")},t.prototype.expand=function(e){var t;return t=e.$el,t.on(Helpers.animationend(),function(){return t.off(Helpers.animationend()),t.removeClass("expanding")}),t.addClass("expanding"),e},t.prototype.collapse=function(e){var t;return t=e.$el.addClass("collapsing"),t.on(Helpers.animationend(),function(){return e.remove()})},t.prototype.editItem=function(e,t,n){return t===!1?this.addItem(e):this.removeItem(e)},t}(Flowdock.HierarchicalView)},{}],441:[function(e,t,n){var r,o=function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},i={}.hasOwnProperty;r=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return o(t,e),t.prototype.initialize=function(e){return this.options=null!=e?e:{},_.defer(function(e){return function(){
return e.untilEnd($(window).asEventStream("blur click keyup")).filter(function(t){return!$(t.target).closest("#"+e.id).length||KeyEvent.isKey("esc")(t)}).onValue(function(){return e.close()}),e.untilEnd(e.$el.asEventStream("keydown")).filter(function(e){var t;return 13===(t=e.which)||37===t||38===t||39===t||40===t}).onValue(e.handleKeys)}}(this))},t.prototype.addTether=function(e){return t.__super__.addTether.apply(this,arguments),this.$el.addClass("menu-view-tether"),this.buildMenu()},t.prototype.buildMenu=function(){throw"Must override buildMenu in subclass"},t.prototype.close=function(){return Helpers.animate(this.$el,"menu-view-tether-leave",function(e){return function(){var t;return null!=(t=e.tether)&&t.destroy(),e.destructor(),e.options.parent?e.options.parent.focus():void 0}}(this))},t}(Flowdock.ItemView),t.exports=r},{}],442:[function(e,t,n){var r,o,i,s,a=function(e,t){return function(){return e.apply(t,arguments)}},u=function(e,t){function n(){this.constructor=e}for(var r in t)l.call(t,r)&&(e[r]=t[r]);
return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},l={}.hasOwnProperty,c=[].indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(t in this&&this[t]===e)return t;return-1};r=e("../shared/emoji_picker.coffee"),i=e("../truncate"),o=e("../shared/tag_tooltip.coffee"),s=e("lib/markdown"),Views.Shared.Message=function(t){function n(){return this._markAsSeen=a(this._markAsSeen,this),this._markTagAsRead=a(this._markTagAsRead,this),this.onInview=a(this.onInview,this),n.__super__.constructor.apply(this,arguments)}return u(n,t),n.prototype.events=function(){return Collections.Tags.everyoneTags.concat("@team").reduce(function(e,t){return e["click [data-tag-search='"+t+"']"]="toggleTagTooltip",e},{"click [data-group]":"toggleTagTooltip","click .share-with-rally":"onShareWithRally","click .emoji-reaction":"onEmojiReactionClicked","click .emoji-reaction-button":"openEmojiPicker"})},n.prototype.modelEvents={"change:emojiReactions":"onEmojiReactionChange","change:tags":"onTagChange","change:content":"onContentChange",
"change:edited":"onContentChange","change:id":"onIdChange","change:thread":"onThreadChange","tag-change":"checkUnread"},n.prototype.author=function(){return this.model.get("author")||{avatar:this.model.user().avatar()||"",name:this.model.user().get("nick")||""}},n.prototype.contentClass="content",n.prototype.isPrivateMessage=function(){return!!this.model.get("to")},n.prototype.onShareWithRally=function(){return Flowdock.analytics.track(Flowdock.ANALYTICS_EVENT_TYPES.integration_rally_share),this.shareWithRally(this)},n.prototype.initialize=function(e){return null==e&&(e={}),n.__super__.initialize.apply(this,arguments),this.$el.addClass("message"),e.tags===!1&&(this.disableTagRendering=!0),this.shareWithRally=e.shareWithRally||function(){return null},this.needsEyeTracking()&&(this.deferredEyeTracking=_.defer(function(e){return function(){var t;return t=e.attachedProperty().takeUntil(e.asEventStream("stopEyeTracking")).flatMapLatest(function(e){return e?Flowdock.appFocus:Bacon.once(!1)}),e.untilEnd(t).skipDuplicates().takeUntil(e.asEventStream("stopEyeTracking")).onValue(function(t){
return e.needsEyeTracking()?t?e.eyeTracking():e.removeEyeTracking():e.stopEyeTracking()})}}(this))),this.model.get("id")?void 0:(this.$el.addClass("hide-actions"),this.listenToOnce(this.model,"unsent",this.onUnsent),this.listenToOnce(this.model,"sync",this.onSent),this.tId=setTimeout(function(e){return function(){return e.onUnsaved()}}(this),8e3))},n.prototype.onSent=function(){return this.preserveScrolling(function(e){return function(){return clearTimeout(e.tId),e.stopListening(e.model,"unsent",e.onUnsent),e.$el.removeClass("unsaved hide-actions"),clearInterval(e.ellipsisAnimation),e.$el.find(".unsent").remove()}}(this))},n.prototype.onUnsent=function(t){return"invalid"===t?(clearTimeout(this.tId),this.preserveScrolling(function(t){return function(){return t.$el.addClass("unsaved invalid"),t.$el.append(Helpers.renderTemplate(e("../../templates/chat/notifications/message_invalid.mustache"))())}}(this))):(this.onUnsaved(),this.$(".unsent").remove(),clearInterval(this.ellipsisAnimation),this.$el.append(Helpers.renderTemplate(e("../../templates/chat/notifications/unsent.mustache"))()));
},n.prototype.onUnsaved=function(){return Flowdock.analytics.track(Flowdock.ANALYTICS_EVENT_TYPES.messages_send_fail),this.preserveScrolling(function(t){return function(){var n;return t.$el.addClass("unsaved"),t.$(".unsent").remove(),t.$el.append(Helpers.renderTemplate(e("../../templates/chat/notifications/message_pending.mustache"))()),n=t.$(".unsent .ellipsis"),t.ellipsisAnimation=setInterval(function(){var e;return e=n.text()+".",4===e.length&&(e=""),n.text(e)},1e3)}}(this))},n.prototype.resendMessage=function(e){var t;return e.preventDefault(),this.model.isNew()?(t=this.model.clone(),this.model.destroy(),t.save()):void 0},n.prototype.renderTags=function(){var e,t;return e=this.model.humanTags(),this.$(".edit-tags").toggleClass("filled",e.length>0),this.$el.toggleClass("unread",this.model.unread(null!=(t=this.model.flow())?t.me():void 0)),this._updateTagList(e),this._renderNotificationMuted(),this.renderTagBubbles(this.$el)},n.prototype._getTooltipText=function(e,t,n){var r,o,i;return i=t.filter(function(e){
return+e!==Flowdock.app.user.id}).map(function(e){return function(t){return e.model.flow().getUserById(t).get("nick")}}(this)),n&&i.unshift("You"),i.length>1?(o=i.length>2?",":"",r=i.slice(0,-1).join(", ")+(o+" and "+i[i.length-1])):r=i,"<span><b>"+r+"</b> reacted with :"+e+":</span>"},n.prototype.renderEmojiReactions=function(){var e,t;return t=this.$("ul.emoji-reactions").html(""),e=this.model.get("emojiReactions"),Object.keys(e).length?(Object.keys(e).forEach(function(n){return function(r){var o,i,s,a,u,l,c,p,d;return p=_.uniq(e[r].filter(function(e){return!!n.model.flow().getUserById(e)})),p.length?(u=p.filter(function(e){return+e===Flowdock.app.user.id}).length>0,o="<span class='count-text'>"+p.length+"</span>",i=emojimoji(":"+r+":"),c=n._getTooltipText(r,p,u),d=u?" user-selected":"",l=$("<li class='emoji-reaction"+d+"' data-emoji='"+r+"' title='"+c+"'>").html($('<a class="tag">').html(""+i+o)),a=n.renderEmoji(l),s=a.find(".emojie,.emoji"),!s.length&&i.length>20&&(i=":"+i.slice(1,19)+"...:",a.find(".tag").html(""+i+o)),
s.removeAttr("title"),t.append(a)):void 0}}(this)),$(t).find(".emoji-reaction").each(function(){return $(this).tipsy({html:!0,opacity:1})})):void 0},n.prototype._getChildPills=function(e,t){var n,r,o,i;return r=this.model.flow(),n=r.users.available(),i="group"===e?t.get("members").map(function(e){return r.users.get(e.id)}):"team"===e?n.filter(function(e){return function(t){return e.model.inTeam(t)}}(this)):n,o=this.model.usersReadMessage().reduce(function(e,t){return e[t.id]=!0,e},{}),i.sort(function(e,t){return o[e.id]===o[t.id]?e.get("nick").toLowerCase().localeCompare(t.get("nick").toLowerCase()):o[e.id]?-1:1}),s.renderInline(i.map(function(e){return"@"+e.get("nick")}).join(" "),this.model.presenterData())},n.prototype.renderTagBubbles=function(e){var t;return t=this.model.usersReadMessage(),e.find(":not(.removed).tag.mention").toArray().forEach(function(e){return function(n){var r,o,i,s,a,u,l,p,d,h,f,m;if(m=parseInt(n.getAttribute("data-user")),a=n.getAttribute("data-group"),p="@team"===n.getAttribute("data-tag-search"),
i=e.model.flow().users.available(),m)d=t.some(function(e){return e.id===m})?1:0,h=1;else if(a){if(s=e.model.flow().groups.getByHandle(a.slice(2)),!s)return;u=s.get("members").map(function(e){return e.id}),d=t.filter(function(e){var t;return t=e.id,c.call(u,t)>=0}).length,h=u.length}else p?(d=t.filter(function(t){return e.model.inTeam(t)}).length,h=i.filter(function(t){return e.model.inTeam(t)}).length):(d=t.length,h=i.length);return d?(l=$(n).hasClass("highlight")?" highlight":"",o=d===h?'<strong class="fa fa-check fa-stack-1x" />':"<strong class='fa-stack-1x seen-by-count' data-seen-by-count='"+d+"' />",r="<i class='fa fa-circle fa-stack-2x"+l+"' />"+o,f=$(n).parent(".seen-by-ct")[0],f?$(f).find(".fa-stack").html(r):($(n).wrap('<div class="seen-by-ct" />'),$(n).after('<span class="fa-stack">'+r+"</span>"))):void 0}}(this))},n.prototype._renderNotificationMuted=function(){return this.$(".mute-tag").toggleClass("muted",this.model.flow().get("team_notifications"))},n.prototype._updateTagList=function(e){var t,n,r,o,i,s,a,u,l;
for(l=this.$("ul.tags").html(""),t=this.$("."+this.contentClass+" .tag, ."+this.contentClass+" .mention").filter(function(e,t){return!$(t).parent().hasClass("emoji-reaction")}).addClass("removed"),a=[],r=0,o=e.length;o>r;r++)u=e[r],this.disableTagRendering||(s=$(_.filter(t,function(e){return function(t){var n;return n=$(t).text().toLowerCase(),u.humanize().toLowerCase()===n||e.model.flow().tags.dehumanize(n)===u.id}}(this))),s.length>0?s.removeClass("removed"):(i=(n=Models.Tag.userIdFor(u.id))?$('<a class="tag mention">').attr("data-user",n):$('<a class="tag">').attr("href",Helpers.urlFor({flow:this.model.flow(),filter:new Models.Filter.All({tags:[u]})})).attr("data-tag-search",u.id),a.push(l.append($("<li>").html(i.text(u))))));return a},n.prototype.eyeTracking=function(){return this.$el.scrollableInview("destroy"),_.defer(function(e){return function(){return e.$el.scrollableInview({onInview:e.onInview,scrollParent:e.$el.closest("ul"),fully:!0})}}(this))},n.prototype.stopEyeTracking=function(){return this.trigger("stopEyeTracking"),
this.removeEyeTracking()},n.prototype.removeEyeTracking=function(){return this.$el.scrollableInview("destroy")},n.prototype.needsEyeTracking=function(){return this.isUnreadMention()||this.isUnreadMessage()},n.prototype.onInview=function(){return this.stopEyeTracking(),this.isUnreadMention()?this._markTagAsRead():this.isUnreadMessage()?this._markAsSeen():void 0},n.prototype.isUnreadMessage=function(){var e,t;return"function"==typeof(e=this.model).flow&&null!=(t=e.flow())?t.unreadMessages.needsEyeTracking(this.model):void 0},n.prototype.isUnreadMention=function(){return this.model.unread(Flowdock.app.user.id)},n.prototype.render=function(){return this.renderContent(),this.renderTags(),this.renderEmoji(this.$el),this.renderEmojiReactions(),this.onThreadChange(),this.$el.toggleClass("thread-starter",this.model.isThreadStarter()),this},n.prototype.renderEmoji=function(e){return e.emojie&&e.emojie(),null!=this.model.flow().emoji&&this.model.flow().emoji.emojie(e[0]),e},n.prototype.onEmojiReactionChange=function(e){return this.preserveScrolling(function(e){
return function(){return e.renderEmojiReactions()}}(this))},n.prototype.onTagChange=function(e){return this.preserveScrolling(function(e){return function(){return e.renderTags(),e.needsEyeTracking()?e.eyeTracking():e.stopEyeTracking()}}(this))},n.prototype.onContentChange=function(){return this.preserveScrolling(function(e){return function(){return e.render()}}(this))},n.prototype.onThreadChange=function(){},n.prototype.checkUnread=function(e){return!this.model.flow().isPrivate()&&_.include(e.remove,":unread:"+Flowdock.app.user.id)?(this.$el.addClass("remove-unread"),setTimeout(function(e){return function(){return e.$el.removeClass("remove-unread")}}(this),2e3)):void 0},n.prototype._markTagAsRead=function(){var e;return this.model.markAsRead(null!=(e=this.model.flow())?e.me():void 0),this._markAsSeen()},n.prototype._markAsSeen=function(){return"function"==typeof this.windowFocusUnsubscribe&&this.windowFocusUnsubscribe(),delete this.windowFocusUnsubscribe,this.model.flow().unreadMessages.readMessage(this.model);
},n.prototype.preserveScrolling=function(e){var t,n,r,o,i,s,a,u,l;return s=this.$el.parents(".chat-message-list, .inbox-message-list, .single-view-content, .thread-content").first(),(a=s[0])?(o=function(){return(null!=a?a.scrollHeight:void 0)||0},l=function(){return(null!=a?a.scrollTop:void 0)||0},i=l(),u=this.$el.position().top/this.$el.parent().height(),t=a?a.scrollHeight-a.scrollTop-s.height()<=50:!1,n=o(),e(),r=i-l(),(0>u||t&&1>u&&o()>n)&&(a.scrollTop+=o()-n,r>0&&(a.scrollTop+=r)),o()!==n&&s.trigger("scroll"),this):void e()},n.prototype.openTagInput=function(e){var t,n;return e.preventDefault(),e.stopPropagation(),Flowdock.analytics.track(Flowdock.ANALYTICS_EVENT_TYPES.tag_button_click),this.disableTagRendering?void 0:(t=$(e.target),this.cancelOpen?void(this.cancelOpen=!1):(t.one("mousedown",function(e){return function(t){return e.tagInput?e.cancelOpen=!0:void 0}}(this)),n=this.tagInputTarget(),n.addClass("open"),t.addClass("active"),this.tagInput=this.subview(this.newTagInput()),n.append(this.tagInput.$el),
this.tagInput.render(),this.listenTo(this.tagInput.tokenist,"tokenist-blur",function(){return t.removeClass("active"),this.removeSubview(this.tagInput),this.tagInput=void 0,n.removeClass("open")})))},n.prototype.newTagInput=function(){return this.disableTagRendering?void 0:new Views.Shared.TagInput({model:this.model})},n.prototype.tagInputTarget=function(){return this.$el},n.prototype.toggleTagTooltip=function(e){var t,n,r,i,s;return e.preventDefault(),$(e.target).hasClass("tether-enabled")?void 0:(r=e.target,r.getAttribute("data-group")?(n="group",t=this.model.flow().groups.getByHandle(r.getAttribute("data-group").slice(2))):n=r.getAttribute("data-tag-search").slice(1),Flowdock.analytics.track(Flowdock.ANALYTICS_EVENT_TYPES.tag_tooltip_opened),i=new o({childPillsHTML:this._getChildPills(n,t),flow:this.model.flow(),toggleUserCard:function(e){return function(t){return e.toggleUserCard(t,!0)}}(this),muteVerb:this.model.flow().get("team_notifications")?"Mute":"Unmute",tag:t&&"@@"+t.get("handle")||r.textContent.toLowerCase(),
tagType:n,target:r,onMute:this.toggleMuteWithRetry.bind(this),onClose:_.once(this.closeTagTooltip.bind(this))}),this.subview(i),s=i.render().$el,$("body").append(s),this.renderTagBubbles(s),i.addTether(r),i)},n.prototype.closeTagTooltip=function(e){return e.fadeOut(function(t){return function(){return t.removeSubview(e)}}(this))},n.prototype.toggleMuteWithRetry=function(){var e;return e=this.model.flow(),"function"==typeof e.saveWithRetry?e.saveWithRetry({team_notifications:!e.get("team_notifications")},{patch:!0}):void 0},n.prototype.destructor=function(){var e;return this.deferredEyeTracking&&clearTimeout(this.deferredEyeTracking),"function"==typeof this.windowFocusUnsubscribe&&this.windowFocusUnsubscribe(),null!=(e=this.usercard)&&e.destructor(),this.$el.scrollableInview("destroy"),n.__super__.destructor.apply(this,arguments),this.tagInput=null,this.truncatedContent=null,null!=this.model?(this.stopListening(this.model,"unsent",this.onUnsent),this.stopListening(this.model,"sync",this.onSent)):void 0},n.prototype.iconType=function(){
var e;return e=this.model.get("event"),"action"===e||"line"===e||"message"===e?"comment":"status"===e?"fa fa-quote-left":e},n.prototype.messageTimestamp=function(){var e;return e=this.model.get("to")?void 0:this.timestampLink(),Helpers.TimeHelper.detailedTimestamp(this.model.get("sent"),{link:e})},n.prototype.timestampLink=function(e){return(null!=e&&"function"==typeof e.timestampLink?e.timestampLink():void 0)?{href:"function"==typeof e.timestampLink?e.timestampLink():void 0,target:"_blank",rel:"noopener noreferrer"}:this.model.flow().isFlow()?{href:Helpers.absoluteUrlFor({flow:this.model.flow(),message:this.model}),title:"Permalink","data-thread":this.model.isThread()?this.model.threadId():void 0,"data-message":this.model.isThread()?void 0:this.model.threadId()}:void 0},n.prototype.onIdChange=function(){return this.$("a.timestamp-link").attr("href",Helpers.absoluteUrlFor({flow:this.model.flow(),message:this.model})),this.onThreadChange()},n.prototype.toggleUserCard=function(e,t){var n,r,o;return r=$(e.currentTarget),
r.hasClass("removed")?void 0:r.hasClass("tether-enabled")||Flowdock.mobile?void(null!=(n=this.usercard)&&n.destructor()):(o=this.model.flow().users.get(r.data("user")))?(this.usercard=new Views.Chat.UserCard({alwaysVisible:t,model:o,me:this.model.flow().me()}),this.usercard.render(),$("body").append(this.usercard.$el),this.usercard.addTether(r)):void 0},n.prototype.openEditor=function(){var t;return this.editor=this.subview(new Views.Shared.ExpandingInput),this.editor.render(),this.editor.setText(remojimoji(this.model.getContent())),this.$(".content").html(this.editor.el),t=Helpers.renderTemplate(e("../../templates/messages/save_button.mustache"))(),this.$(".edit-message").replaceWith(t),$(".tipsy").remove,this.editAutocompleter=this.subview(new Views.Shared.TextareaAutocompleter({model:this.model.flow()})),this.editAutocompleter.setElement(this.$(".content"),this.editor),this.editAutocompleter.render({repositioning:!0}),_.defer(function(e){return function(){return e.editor?e.editor.setCaretAtEnd():void 0}}(this)),
this.$el.addClass("open")},n.prototype.saveMessage=function(e,t){var n,r;if(KeyEvent.is("esc")(e))this.$("textarea").val(this.model.getContent()),this.render();else{if("keydown"===e.type&&!Flowdock.app.preferences.shouldSendMessageWith(e))return;"focusout"===e.type&&t||(e.preventDefault(),r=s.replaceEmoji(this.$("textarea").val()),r!==this.model.getContent()?(n=this._findChangedTags(r),this.model.modifyTags(_.extend({sync:!1},n)),this.model.updateContent(r,{silent:!0})):this.render())}return this.$el.removeClass("open"),this.trigger("completed"),this.removeSubview(this.editor),this.removeSubview(this.editAutocompleter),this.editor=this.editAutocompleter=void 0},n.prototype.onEmojiReactionClicked=function(e){var t,n,r,o;return e.stopPropagation(),n=$(e.target).closest(".emoji-reaction"),n.tipsy("hide"),t=n.data("emoji"),o=this.model.get("emojiReactions")[t],r=o.filter(function(e){return e===Flowdock.app.user.id.toString()}).length>0,r?(Flowdock.analytics.track(Flowdock.ANALYTICS_EVENT_TYPES.messages_remove_emoji_reaction,{
emoji:t}),this.model.sync("emoji-reaction",this.model,{emojiReaction:{emoji:t,type:"remove"}})):(Flowdock.analytics.track(Flowdock.ANALYTICS_EVENT_TYPES.messages_add_emoji_reaction,{emoji:t}),this.model.sync("emoji-reaction",this.model,{emojiReaction:{emoji:t,type:"add"}}))},n.prototype.emojiReactionPicked=function(e){return this.model.sync("emoji-reaction",this.model,{emojiReaction:{emoji:e,type:"add"}})},n.prototype.openEmojiPicker=function(e){return this.toggleMenu("picker",e,".emoji-picker-toggle",new r({custom:this.model.flow().emoji,onClose:function(e){return function(t){return e.toggleMenu("picker"),t?e.emojiReactionPicked(t):void 0}}(this),parent:this.textarea,preferencesUrl:this.model.flow().isFlow()?"/organizations/"+this.model.flow().organization()+"/emoji":"/account"})),!1},n.prototype.toggleMenu=function(e,t,n,r){return this[e]?void this[e].close():(this[e]=r,this.$el.find(n).addClass("message-building-button-active"),this.subview(r),r.once("destructor",function(t){return function(){return t.$el.find(n).removeClass("message-building-button-active"),
t.removeSubview(r),t[e]=void 0}}(this)),$("body").append(this[e].render().$el),r.addTether(t.target))},n.prototype.rethreadMessage=function(){var e;return(e=this.model.collection.threadBeforeMessage(this.model).get("thread_id"))?this.model.rethread(e,Flowdock.ANALYTICS_EVENT_TYPES.rethread_button):void 0},n.prototype.truncateWrap=function(e){var t,n;return this.truncatedContent&&this.removeSubview(this.truncatedContent,{removeDomElement:!1}),n=null!=(t=this.truncatedContent)?t.truncated:void 0,this.truncatedContent=this.subview(new i({el:this.$(e),truncated:n})).render()},n.prototype["delete"]=function(e){return e.stopPropagation(),Helpers.confirmDelete()?(this.$el.hide(),this.model.destroy({wait:!0}).fail(function(e){return function(){return _.defer(function(){return alert("Failed to delete the message. Please try again.")}),e.$el.show().addClass("delete-failed").one(Helpers.animationend(),function(){return e.$el.removeClass("delete-failed")})}}(this))):void 0},n.prototype._findChangedTags=function(e){var t,n,r,o;
return t=this.model.getContent(),r=this.model.get("tags"),n=Helpers.TagHelper.parseTags(t,this.model.flow()),o=Helpers.TagHelper.parseTags(e,this.model.flow()),{add:_.difference(o,n,r),remove:_.intersection(_.difference(n,o),r)}},n}(Flowdock.HierarchicalView)},{"../../templates/chat/notifications/message_invalid.mustache":204,"../../templates/chat/notifications/message_pending.mustache":205,"../../templates/chat/notifications/unsent.mustache":207,"../../templates/messages/save_button.mustache":276,"../shared/emoji_picker.coffee":434,"../shared/tag_tooltip.coffee":458,"../truncate":485,"lib/markdown":122}],443:[function(e,t,n){var r=function(e,t){function n(){this.constructor=e}for(var r in t)o.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},o={}.hasOwnProperty;Views.MessageAutocompleter=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return r(t,e),t.prototype.initialize=function(e){return t.__super__.initialize.apply(this,arguments),
this.collection=this.model.flow().tags,this.listenTo(this.model,"change:tags",this.render)},t.prototype.completionKey=function(e){var t,n;return e.preventDefault(),32===(t=e.which)||188===t?this.chooseQuery():9===(n=e.which)||13===n?this.choose():void 0},t.prototype.filterModels=function(){return t.__super__.filterModels.call(this).filter(function(e){return!e.isAtMention()})},t.prototype.excludeTokens=function(){return this.model.get("tags")},t}(Views.Shared.Autocompleter)},{}],444:[function(e,t,n){var r=function(e,t){function n(){this.constructor=e}for(var r in t)o.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},o={}.hasOwnProperty;Views.Shared.MessageError=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return r(n,t),n.prototype.tagName="li",n.prototype.className="error-message",n.prototype.events={"click .report-link":"reportError","click a.delete":"delete","click .dropdown-toggle":"toggleMenu","click .dropdown a":"preventOpen",
"click .dropdown-wrapper":"preventOpen",mouseleave:"hideMenu"},n.prototype.initialize=function(e){return null==e&&(e={}),n.__super__.initialize.apply(this,arguments),this.app=e.app,this.error=e.error},n.prototype.toggleMenu=function(e){return e.stopPropagation(),$(e.target).closest(".dropdown").toggleClass("open")},n.prototype.hideMenu=function(){return this.$(".dropdown").removeClass("open")},n.prototype.preventOpen=function(e){return e.stopPropagation()},n.prototype["delete"]=function(e){return e.stopPropagation(),Helpers.confirmDelete()?this.model.destroy():void 0},n.prototype.reportError=function(e){return e.preventDefault(),!1},n.prototype.report=function(){var e,t;return e=(this.model.get("originalModel")||this.model).toJSON(),"Couldn't render an "+this.app+" item:\n"+this.error+"\n\n"+("Message:\n"+JSON.stringify(e,null,4)+"\n\n")+("Stacktrace:\n"+(null!=(t=this.error)?t.stack:void 0)+"\n\n")+("URL:\n"+window.location+"\n\n")},n.prototype.templates={chat:e("../../templates/chat/error.mustache"),inbox:e("../../templates/chat/error.mustache")
},n.prototype.render=function(){return this.$el.html(this.templates[this.app].render({removable:this.model.removable()})),this},n.prototype.destructor=function(){return n.__super__.destructor.apply(this,arguments),this.app=this.error=null},n}(Flowdock.HierarchicalView)},{"../../templates/chat/error.mustache":200}],445:[function(e,t,n){var r,o,i,s,a,u,l,c,p,d=function(e,t){function n(){this.constructor=e}for(var r in t)h.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},h={}.hasOwnProperty,f=[].indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(t in this&&this[t]===e)return t;return-1};r="\ud83c\udf7a",o="\ud83c\udf7b",a="LZAo1TdBWynoA",u="https://api.giphy.com/v1/gifs/random",l="http://memegen.link",s=e("./everyone_warning.coffee"),p=e("lib/markdown"),i=e("../shared/emoji_picker.coffee"),c=e("../shared/slash_commands.coffee"),Views.Shared.MessageInput=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return d(n,t),n.prototype.className="message-form",
n.prototype.disabledCommands=[],n.prototype.events={"click .send-button":"sendMessage","click .upload-button-web":"triggerUpload","click .upload-button":"triggerUpload","click .emoji-picker-toggle":"toggleEmojiPicker","click .slash-commands-toggle":"toggleSlashCommands"},n.prototype.tagName="form",n.prototype.template=e("../../templates/shared/message_input.mustache"),n.prototype.slashCommands=[{command:["query","q","msg"],message:!1,showInSlashCommandMenu:{description:"Start a 1-to-1 conversation",nameHelper:"@username",onlyShowCommand:"query"},validateParams:function(e){return e.match(/\w+/)},action:function(e){return!!this.openPrivate(e.replace(/@/,""))}},{command:"hangout",message:!1,validateParams:function(){return!0},action:function(){return this.openHangout(),!0}},{command:"room",message:!1,validateParams:function(){return!0},action:function(){return this.openRoom(),!0}},{command:"appear",message:!1,showInSlashCommandMenu:{description:"Start a video call, with room name optionally defined",nameHelper:"[room name]"
},validateParams:function(){return!0},action:function(e){return this.openAppear(e)}},{command:"hero",message:!1,validateParams:function(){return!0},action:function(e){return this.openScreenhero(e)}},{command:["status","away"],message:!0,showInSlashCommandMenu:{description:"Set status or clear with blank message",nameHelper:"[message]"},validateParams:function(){return!0},action:function(e){return{content:e||"",event:"status"}},isDisabled:function(){return this.flow().isPrivate()}},{command:"me",message:!0,showInSlashCommandMenu:{description:"Send an action message",nameHelper:"message"},validateParams:function(e){return e.match(/[^\s]+/)},action:function(e){return{event:"line",content:e}}},{command:"slap",message:!0,showInSlashCommandMenu:{description:"Slap with a fish",nameHelper:"@username"},validateParams:function(e){return e.match(/\w+/)},action:function(e){var t;return t=$.trim(e),{event:"line",content:"slaps "+t+" around a bit with a large trout"}}},{command:["help","?"],message:!1,showInSlashCommandMenu:{
description:"Command help"},validateParams:function(){return!0},action:function(){return this.showSlashCommandHelp(),!0}},{command:"",message:!0,validateParams:function(){return!0},action:function(e){return{event:"message",content:e}}},{command:"beers",message:!0,validateParams:function(e){return parseInt(e,10)>0},action:function(e){return{event:"message",content:Array(parseInt(e,10)+1).join(r)}}},{command:"doublebeers",message:!0,validateParams:function(e){return parseInt(e,10)>0},action:function(e){return{event:"message",content:Array(parseInt(e,10)+1).join(o)}}},{command:"spin",message:!1,validateParams:function(){return!0},action:function(){var e,t;return e=["img","svg","i",'div[style*="background-image"]',".emojie"],t=function(e,t){return $(e).css({transform:t})},Flowdock.app.spin?(clearInterval(Flowdock.app.spin.id),e.map(function(e){return t(e,"")}),Flowdock.app.spin=null):(Flowdock.app.spin={deg:0},Flowdock.app.spin.id=setInterval(function(){return Flowdock.app.spin.deg+=1,e.map(function(e){return t(e,"rotate("+Flowdock.app.spin.deg+"deg)");
})},25)),!0}},{command:"pack",message:!0,validateParams:function(e){var t;return 6===(t=parseInt(e,10))||12===t||18===t||24===t},action:function(e){var t,n,o,i,s,a;return t=parseInt(e,10),i=function(){switch(t){case 6:return[2,3];case 12:return[2,6];case 18:return[3,6];case 24:return[4,6]}}(),a=i[0],n=i[1],s=Array(n+1).join(r),{event:"message",content:function(){var e,t,n;for(n=[],o=e=0,t=a;t>=0?t>e:e>t;o=t>=0?++e:--e)n.push(s);return n}().join("\n")}}},{command:"capslock",message:!1,validateParams:function(e){return!0},action:function(){var e,t;return t=function(){return 0!==$("style#capslock").length},t()?$("#capslock").remove():(e="<style id='capslock'>* {text-transform: uppercase !important}</style>",$("head").append(e))}},{command:"giphy",message:!0,showInSlashCommandMenu:{description:"Show animated image from Giphy",nameHelper:"[search terms]"},validateParams:function(){return!0},promise:function(e){return $.ajax({url:u+"?tag="+this.encodeForGiphy(e)+"&api_key="+a+"&fmt=json&rating=pg-13",method:"get",headers:null
})},action:function(e,t){return{event:"message",content:this.showGiphyCommand(e,t)}}},{command:"meme",message:!0,showInSlashCommandMenu:{description:"Generate memes from Flowdock"},validateParams:function(){return!0},action:function(e){var t,n;return n=_.compact(e.split("/")),t="",0===n.length||"help"===n[0].trim()?this.showMemeHelp():"templates"===n[0].trim()?this.showMemeTemplates():t=this.buildMemeUri(n),{event:"message",content:t}}}],n.prototype.encodeForGiphy=function(e){return encodeURIComponent(e.trim()).replace(/%20/g,"+")},n.prototype.escapeForMeme=function(e){return encodeURIComponent(e.trim()).replace(/-/g,"--").replace(/_/g,"__").replace(/%20/g,"-")},n.prototype.buildMemeUri=function(e){var t;return t=l+"/"+this.escapeForMeme(e[0]),e.length>1&&(t+="/"+this.escapeForMeme(e[1])),e.length>2&&(t+="/"+this.escapeForMeme(e[2])),t+".jpg"},n.prototype.initialize=function(e){return this.fileupload=null!=e.fileUpload,this.placeholder||(this.placeholder=e.placeholder),this.textarea=this.subview(new Views.Shared.ExpandingInput({
autofocus:this.autofocus,persistId:this.key(),placeholder:this.placeholder})),this.autocompleter=this.subview(new Views.Shared.TextareaAutocompleter({model:this.flow()})),this.bindKeyboardEvents(),this.listenTo(this.textarea,"focusin focusout",this.toggleFocus),this.listenTo(this.textarea,"input",this.onInput),this.listenTo(this.textarea,"keydown",this.onKeydown)},n.prototype.destructor=function(){return n.__super__.destructor.apply(this,arguments),this.fileupload=this.textarea=this.autocompleter=null},n.prototype.onAfterRender=function(){return this.textarea.setElement(this.$(".expanding-input")),this.autocompleter.setElement(this.$(".textarea-autocompleter-area"),this.textarea),this.textarea.render(),this.autocompleter.render(),this.toggleValueRelatedClasses()},n.prototype.onAttach=function(){return _.defer(function(e){return function(){var t,n,r,o;if(null!=e.model)return e.textarea.setMaxHeight(),Flowdock.mobile||(null!=(t=Flowdock.app.manager)&&null!=(n=t.currentView)&&null!=(r=n.toolbar)&&null!=(o=r.search)?o.focused():void 0)||e.focus(),
e.unsubscribeResize=Flowdock.resize.window.end.onValue(e.setMaxHeight)}}(this))},n.prototype.onDetach=function(){return"function"==typeof this.unsubscribeResize&&this.unsubscribeResize(),delete this.unsubscribeResize},n.prototype.jumpThreadUp=function(){return this.$el.trigger("jump-thread:up")},n.prototype.jumpThreadDown=function(){return this.$el.trigger("jump-thread:down")},n.prototype.openHangout=function(){return this.openExternalCall("hangouts","Google Hangout")},n.prototype.openRoom=function(){return this.openExternalCall("room","Room video call")},n.prototype.openAppear=function(e){var t;return t=e.split(/\s+/)[0],t?this.openExternalCall("appear","Appear.in video call",{roomName:"/"+t}):this.openExternalCall("appear","Appear.in video call")},n.prototype.openExternalCall=function(e,t,n){return null==n&&(n={}),n.authenticity_token=Helpers.csrfToken(),n[this.model.isFlow()?"flow":"private"]=this.model.id,$.ajax({url:"/"+e+"/new",type:"post",dataType:"json",data:n,error:function(e,n,r){return alert("Unable to create a "+t+": "+r);
},success:function(n,r,o){return null!=(null!=n?n.url:void 0)?Helpers.openNewWindowAt(n.url):"room"!==e?alert("Unable to create a "+t+"."):void 0}})},n.prototype.openPrivate=function(e){var t;return(t=this.findUser(e))?t.id===Flowdock.app.user.id?this.unableToTargetSelf():(Flowdock.app.router.navigateToPrivate(t.id),!0):this.userNotFound(e)},n.prototype.openScreenhero=function(e){var t,n,r,o,i;if(r=e.split(/\s+/),i="voice"===r[0],"function"==typeof(t=this.model).isPrivate?t.isPrivate():void 0)o=this.model.otherParty();else{if(r.length>1&&i)n=r[1].replace(/@/,"");else{if(!(r.length>0&&r[0]))return this.showScreenheroHelp(),!0;n=r[0].replace(/@/,"")}o=this.findUser(n)}return o?o.id===Flowdock.app.user.id?this.unableToTargetSelf():this.openScreenheroWith(o,i):this.userNotFound(n)},n.prototype.openScreenheroWith=function(e,t){var n;return null==t&&(t=!1),n=new Views.Navigation.Screenhero({model:Flowdock.app.manager.currentFlow,removeOnHide:!0,target:$("body"),user:e,useVoice:t}),n.attach(),!0},n.prototype.showScreenheroHelp=function(){
return alert("Share your screen or make a voice call using Screenhero. Requires a Screenhero account and the Screenhero application.\n\nUsage:\n/hero @username\n/hero voice @username")},n.prototype.showMemeHelp=function(){var e;return e=new Views.MemeCommands({target:$("body")}).attach(),e.once("close",this.focus,this)},n.prototype.showMemeTemplates=function(){var e;return e=new Views.MemeTemplates({target:$("body")}).attach(),e.once("close",this.focus,this)},n.prototype.findUser=function(e){return Flowdock.app.users.find(function(t){return t.get("nick").toLowerCase()===e.toLowerCase().trim()&&!t.get("disabled")})},n.prototype.focus=function(e){return null!=e&&e.preventDefault(),this.textarea.focus()},n.prototype.focused=function(){return this.textarea.focused()},n.prototype.matchCommand=function(e){var t,n,r,o;for(o=this.slashCommands,n=0,r=o.length;r>n;n++)if(t=o[n],_.flatten([t.command]).indexOf(e)>=0)return t},n.prototype.invalidCommand=function(e,t,n){var r,o;return o=_.once(function(e){return function(t){
return e.$("textarea").off("keypress focus",o),"keypress"===t.type?t.preventDefault():void 0}}(this)),this.$("textarea").on("keypress focus",o),r=n?"/"+e+" requires a valid parameter.":"/"+e+" is not a recognized /command.",alert(r+"\n\n"+("If you want to start a chat message with /"+e+", use ")+(' "/ /'+e+'". To see all available commands, type /help.'))},n.prototype.showSlashCommandHelp=function(){var e;return e=new Views.SlashCommands({target:$("body")}).attach(),e.once("close",this.focus,this)},n.prototype.isSlashCommand=function(e){return 0===e.indexOf("/")},n.prototype.isDisabledCommand=function(e){var t;return null==e?!1:(t=_.isArray(e.command)?e.command[0]:e.command,f.call(this.disabledCommands,t)>=0||e.isDisabled&&e.isDisabled.call(this))},n.prototype.triggerUpload=function(e){return e.preventDefault(),this.trigger("upload")},n.prototype.editLastMessage=function(e){return this.trigger("edit-last-message")},n.prototype.userNotFound=function(e){return _.defer(function(){return alert(e+" - no such user found.");
}),!1},n.prototype.unableToTargetSelf=function(){return _.defer(function(){return alert("Can't start a session with yourself")}),!1},n.prototype.value=function(){return this.textarea.value()},n.prototype.parse=function(e){var t;return t=e.event||"message",null!=e.content&&(e=e.content),{event:t,content:p.replaceEmoji(e),tags:this.parseTags(e)}},n.prototype.parseTags=function(e){return Helpers.TagHelper.parseTags(e,_.result(this,"flow"))},n.prototype.getCommand=function(e){return e.toLowerCase().match(/^\/([^\s]*)/)[1]},n.prototype.commandNotAvailable=function(e){return _.defer(function(){return alert("The "+e+" command cannot be used here.\nTry using it in your flow's chat.")})},n.prototype.sendMessage=function(e){var t,n,r,o,i,s,a,u,l,c;return null!=e&&e.preventDefault(),u=this.value(),i=u.replace(/^\s+/g,""),this.isSlashCommand(i)?this.sendSlashCommand(i):(n=u.match(/^s\/([^\/]+)\/([^\/]*)/))?(this.trigger("edit-last-message",n[1],n[2]),this.textarea.reset(),this.focus()):this.parseTags(u).indexOf(Models.Tag.userTagFor("everyone"))>=0?(r=this.flow(),
c=r.users.available().length-1,c>=10&&!this.everyoneWarning?(o=this,a=p.tags(p.parse(u)),l=function(){var e,t,n;for(n=[],e=0,t=a.length;t>e;e++)s=a[e],f.call(Collections.Tags.everyoneTags,s)>=0&&n.push(s);return n}()[0],this.showEveryoneWarning(r.get("name"),c,l),t=function(){return o.textarea.$("textarea").one("keydown",function(e){return KeyEvent.is("enter","esc")(e)&&e.preventDefault(),e.stopImmediatePropagation(),o.removeEveryoneWarning(),KeyEvent.is("enter")(e)?o.createMessage(o.parse(u)):void 0})},"keydown"===e.type?o.textarea.$("textarea").one("keyup",function(){return setTimeout(t,150)}):t()):10>c&&this.createMessage(this.parse(u)),this.focus()):this.createMessage(this.parse(u)),this.toggleValueRelatedClasses()},n.prototype.showEveryoneWarning=function(e,t,n){var r,o;return r=function(e){return function(t){var n;return n=jQuery.Event("keydown",{which:t}),e.textarea.$("textarea").trigger(n)}}(this),o=new s({flowName:e,userCount:t,usedTag:n,onConfirm:function(){return r(13)},onCancel:function(){return r(27);
}}),this.everyoneWarning=this.subview(o),this.$el.append(this.everyoneWarning.render().$el)},n.prototype.removeEveryoneWarning=function(){return this.everyoneWarning.fadeOut(function(e){return function(){return e.removeSubview(e.everyoneWarning),e.everyoneWarning=null}}(this))},n.prototype.toggleEmojiPicker=function(e){return this.toggleMenu(e,"picker",".emoji-picker-toggle",new i({custom:this.flow().emoji,parent:this.textarea,preferencesUrl:this.flow().isFlow()?"/organizations/"+this.flow().organization()+"/emoji":"/account"}))},n.prototype.toggleSlashCommands=function(e){return this.slashMenu||Flowdock.analytics.track(Flowdock.ANALYTICS_EVENT_TYPES.input_slash_opened),this.toggleMenu(e,"slashMenu",".slash-commands-toggle",new c({parent:this.textarea,slashCommands:this.slashCommands.filter(function(e){return function(t){return!e.isDisabledCommand(t)}}(this))}))},n.prototype.toggleMenu=function(e,t,n,r){return this[t]?void this[t].close():(this[t]=r,this.$el.find(n).addClass("message-building-button-active"),this.subview(r),
r.once("destructor",function(e){return function(){return e.$el.find(n).removeClass("message-building-button-active"),e.removeSubview(r),e[t]=void 0}}(this)),$("body").append(this[t].render().$el),r.addTether(e.target))},n.prototype.sendSlashCommand=function(e){var t,n,r,o,i,s;return t=this.getCommand(e),r=e.substring(("/"+t+" ").length),s=this.matchCommand(t),null==s&&t.split("/").length>=2?this.createMessage(this.parse(e)):this.isDisabledCommand(s)?(this.commandNotAvailable(t),!1):null!=s&&s.validateParams.call(this,r)?s.message?(o=null!=s&&null!=(i=s.promise)?i.call(this,r):void 0)?o.then(function(e){return function(t){return e.createMessage(e.parse(s.action.call(e,t,r)))}}(this)):(n=s.action.call(this,r))?""!==n?this.createMessage(this.parse(n)):(this.textarea.reset(),this.focus()):this.commandNotAvailable(t):s.action.call(this,r)?(this.textarea.reset(),this.focus()):void 0:(this.invalidCommand(t,r,null!=s),!1)},n.prototype.onKeydown=function(e){return KeyEvent.is("enter")(e)&&0===$.trim(this.value()).length?(e.preventDefault(),
e.stopImmediatePropagation()):Flowdock.app.preferences.shouldSendMessageWith(e)?(e.preventDefault(),e.stopImmediatePropagation(),this.sendMessage(e)):KeyEvent.is("shift+up")(e)&&this.inputIsEmpty()?this.jumpThreadUp():KeyEvent.is("shift+down")(e)&&this.inputIsEmpty()?this.jumpThreadDown():KeyEvent.is("up")(e)&&this.inputIsEmpty()?this.editLastMessage(e):KeyEvent.is("esc")(e)?this.textarea.$("textarea").blur():void 0},n.prototype.onInput=function(){return this.toggleValueRelatedClasses()},n.prototype.serializeData=function(){return _.extend({},n.__super__.serializeData.call(this),{mobile:Flowdock.mobile})},n.prototype.toggleValueRelatedClasses=function(){return this.$el.toggleClass("typing",!this.inputIsEmpty())},n.prototype.inputIsEmpty=function(){return""===this.textarea.textarea.val()},n.prototype.toggleFocus=function(e){return this.$el.toggleClass("focused","focusin"===e.type)},n.prototype.showGiphyCommand=function(e,t){var n,r;return n=["/giphy",t].join(" ").trim(),(null!=e&&null!=(r=e.data)?r.image_url:void 0)?"_"+n+"_ "+e.data.image_url:"Sorry, we couldn't find any images to match: "+t;
},n}(Flowdock.ItemView),_.extend(Views.Shared.MessageInput.prototype,Flowdock.KeyboardEvents)},{"../../templates/shared/message_input.mustache":310,"../shared/emoji_picker.coffee":434,"../shared/slash_commands.coffee":454,"./everyone_warning.coffee":435,"lib/markdown":122}],446:[function(e,t,n){var r,o=function(e,t){return function(){return e.apply(t,arguments)}},i=function(e,t){function n(){this.constructor=e}for(var r in t)s.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},s={}.hasOwnProperty;r=e("../shared/share_warning.coffee"),Views.Shared.MessageList=function(t){function n(){return this.renderBackwardLoader=o(this.renderBackwardLoader,this),this.renderHeader=o(this.renderHeader,this),this.canPurgeMessages=o(this.canPurgeMessages,this),this.keyboardEventFilter=o(this.keyboardEventFilter,this),n.__super__.constructor.apply(this,arguments)}return i(n,t),n.prototype.tagName="ul",n.prototype.className="message-list",n.prototype.scrollThreshold=25,n.prototype.collectionEvents={
historyAdd:"onHistoryAdd",add:"onAdd",remove:"onRemove"},n.prototype.removeTimeout=null,n.prototype.scrollAnimationDuration=100,n.prototype.keyboardEventFilter=function(e){return e.activeSide===this.listName},n.prototype.initialize=function(e){var t;return this.options=_.defaults(e,{tags:!0}),this.bindKeyboardEvents(),this.state={renderMessages:this.options.renderMessages},this.startAt=this.options.startAt,this.backwardLoader=new Views.Shared.MessageLoader({collection:this.collection,direction:"backward"}),this.startAt&&(this.forwardLoader=new Views.Shared.MessageLoader({collection:this.collection,direction:"forward"})),this.backwardLoader.blockSuccessRenderingChange=!this.state.renderMessages,null!=(t=this.forwardLoader)&&(t.blockSuccessRenderingChange=!this.state.renderMessages),null!=this.forwardLoader&&$.when(this.backwardLoader.firstLoad,this.forwardLoader.firstLoad).done(function(e){return function(){return _.defer(function(){return e.jumpToMessage(e.startAt)})}}(this)),this.listenTo(this,"view:attach:before",function(){
return this.scrollLocation(this.state.scrollLocation||0),this.attached=!0}),this.listenTo(this,"view:detach:before",function(){return this.setScrollLocation(),this.attached=!1}),this.scrollState=this.$el.asEventStream("scroll").debounceImmediate(100).flatMapLatest(function(){return Bacon.once(!0).merge(Bacon.once(!1).delay(150))}).skipDuplicates().toProperty(!1),n.__super__.initialize.apply(this,arguments)},n.prototype.setupMessagePurging=function(e,t){var n,r,o,i;return i=this.asEventStream("view:attach:after").map(!1).merge(this.asEventStream("view:detach:after").map(!0)).toProperty(),n=$(window).asEventStream("blur"),o=$(window).asEventStream("focus"),r=Bacon.mergeAll([n.skipWhile(i),this.asEventStream("view:detach:after")]).filter(this.canPurgeMessages),r.flatMapLatest(function(t){return function(){return Bacon.later(e,!0).takeUntil(t.asEventStream("view:attach:after").merge(o))}}(this)).takeUntil(this.asEventStream("destructor")).onValue(function(e){return function(){var n;return null!=(n=e.collection)?n.purgeOlderMessages(t):void 0;
}}(this))},n.prototype.canPurgeMessages=function(){return this.state.scrollLocation<this.scrollThreshold},n.prototype._showShareWarning=function(e){return this.shareWarning?this.shareWarning.close(function(t){return function(){return t._createShareWarning(e)}}(this)):this._createShareWarning(e)},n.prototype._createShareWarning=function(e){var t;return t=new r({msg:e,text:e.model.get("content")}),this.shareWarning=this.subview(t),e.$el.append(this.shareWarning.render().$el),this.shareWarning.addTether(e.$el)},n.prototype.renderMessages=function(){var e;return this.backwardLoader.blockSuccessRenderingChange=!1,null!=(e=this.forwardLoader)&&(e.blockSuccessRenderingChange=!1),this.state.renderMessages=!0,this.$el.children().length>0&&this.render(),this.trigger("renderMessages"),!0},n.prototype.preserveScrolling=function(e,t){var n,r,o;return null==e&&(e={}),o=this.scrollLocation(),r=this.el.scrollHeight,t(),this.attached&&"forward"!==e.direction?(n=this.el.scrollHeight-r,n>o||e.history?o>this.scrollThreshold?this.scrollLocation(o):this.scrollLocation(0):this.scrollLocation(o+n),
this.setScrollLocation()):void 0},n.prototype.setScrollLocation=function(){return $.contains($("body")[0],this.el)?this.state.scrollLocation=this.scrollLocation():void 0},n.prototype.onHistoryAdd=function(e,t){return this.state.renderMessages?(this.preserveScrolling({history:!0,direction:t},function(n){return function(){return n.renderGroup(e,{history:!0,direction:t})}}(this)),this.trigger("add",e)):void 0},n.prototype.onAdd=function(e){if(!this.collection.historyComplete.forward)return void this.collection.remove(e);if(this.state.renderMessages)return this.preserveScrolling({history:!1},function(t){return function(){return t.insert(t.renderOne(e))}}(this)),this.trigger("add",[e])},n.prototype.scrollLocation=function(e){return null!=e&&(this.el.scrollTop=e),this.el.scrollTop},n.prototype.onRemove=function(e){var t,n,r,o,i;for(r=this.removeSubview(e),o=[],t=0,n=r.length;n>t;t++)i=r[t],i.remove(),o.push(i.destructor());return o},n.prototype.renderGroup=function(e,t){var n,r,o,i,s;return null==t&&(t={}),t.direction||(t.direction="backward"),
r="backward"===t.direction?this.backwardLoader:this.forwardLoader,r.detach(),i=function(e){return function(){var n;return e.insert([r.render().el],"backward"===t.direction),n="backward"===t.direction?e.lastElement(e.$el.children("li"),5):e.firstElement(e.$el.children("li"),5),r.inView(n,e.viewport())}}(this),n=function(){var t,n,r;for(r=[],t=0,n=e.length;n>t;t++)o=e[t],r.push(this.renderOne(o));return r}.call(this),t.reverse||n.reverse(),this.insert(_.flatten(n,!0),t.history&&"backward"===t.direction),this.collection.historyComplete[t.direction]?(r.remove(),"forward"===t.direction&&(this.$el.removeClass("in-history"),this.$(".message-history-highlight").removeClass("message-history-highlight"),null!=(s=this.$jumpToCurrent)&&s.remove())):i(),this},n.prototype.clearMessages=function(){return this.$el.children("li.inbox-message").remove()},n.prototype.viewport=function(){return this.$el},n.prototype.buildMoreMessagesIndicator=function(e){var t;return this.moreMessages?void this.moreMessages.increment():(t={direction:"below",
scrollable:this.$el,removeWhen:function(e){return function(){return e.collection.historyComplete.forward&&e.scrollLocation()<e.scrollThreshold}}(this),onRemoved:function(e){return function(){return e.collection.historyComplete.forward?e.scrollLocation(0):e.jumpToCurrent(),e.removeSubview(e.moreMessages),e.moreMessages=null}}(this)},this.moreMessages=this.subview(new Views.Shared.MoreMessages(_.extend(t,e))),this.trigger("indication",this.moreMessages.render().$el))},n.prototype.buildJumpToCurrentIndicator=function(){return this.$jumpToCurrent?void 0:(this.$jumpToCurrent=$(Helpers.renderTemplate(e("../../templates/shared/jump_to_current.mustache"))()),this.trigger("indication",this.$jumpToCurrent))},n.prototype.lastElement=function(e,t){return null==t&&(t=0),e.slice(-1-t).first()},n.prototype.firstElement=function(e,t){return null==t&&(t=0),e.slice(0,t+1).last()},n.prototype.insert=function(e,t){var n,r,o;return null==t&&(t=!1),r=t?"append":"prepend",n=function(){var t,n,r;for(r=[],t=0,n=e.length;n>t;t++)o=e[t],
o instanceof Element?r.push(o):(this.subview(o),r.push(o.el));return r}.call(this),this.$el[r](n),this.propagateAttachedState(e)},n.prototype.propagateAttachedState=function(e){var t,n,r;if(this.isAttached())for(t=0,n=e.length;n>t;t++)r=e[t],r.trigger&&!r._attached&&r.triggerAttach();return null},n.prototype.empty=function(){var e,t,n,r,o;for(this.backwardLoader.detach(),null!=(n=this.forwardLoader)&&n.detach(),this.$el.empty(),r=this.subviews,e=0,t=r.length;t>e;e++)o=r[e],o!==this.backwardLoader&&o!==this.forwardLoader&&this.removeSubview(o);return this},n.prototype.render=function(){var e;return this.empty(),this.renderHeader(),e=this.state.renderMessages?this.collection.models:[],this.renderGroup(e),null!=this.forwardLoader&&(this.$el.addClass("in-history"),this.$el.append(this.forwardLoader.render().el),this.forwardLoader.inView(null,this.viewport()),this.buildJumpToCurrentIndicator()),this.trigger("render"),this.scrollLocation(0),this.options.tags||this.$el.addClass("tags-disabled"),this},n.prototype.renderHeader=function(){},
n.prototype.renderBackwardLoader=function(){return this.$el.append(this.backwardLoader.render().el)},n.prototype.hasMessage=function(e){return!!this.collection.get(Number(e))},n.prototype.lastMessageOf=function(e){return this.collection.lastMessageOf(e)},n.prototype.jumpToMessage=function(e){var t,n,r,o,i;return o=this.collection.get(Number(e)),o&&(i=this.findSubviews(o).pop())?(this.$(".message-history-highlight").removeClass("message-history-highlight"),n=this.elementOffset(i.el),t=i.$el.height(),r=this.viewport().height(),this.scrollLocation(n-.5*r+.5*t),this.setScrollLocation(),i.$el.addClass("message-history-highlight"),i.$el.one(Helpers.animationend(),function(){return i.$el.removeClass("message-history-highlight")})):void 0},n.prototype.jumpToCurrent=function(){var e;return null!=(e=Flowdock.app.manager.currentView)?e.chat.jumpToCurrent():void 0},n.prototype.highlightAccessed=function(e){var t;return this.$(".just-read").removeClass("just-read"),t=this.$("[data-parent="+e+"]"),t.addClass("just-read"),this.asEventStream("view:detach:before").merge($(window).asEventStream("blur")).merge(Bacon.later(100).flatMapLatest(function(){
return $(document.activeElement).asEventStream("blur click")})).take(1).onValue(function(){return t.removeClass("just-read")})},n.prototype.elementOffset=function(e){return e.offsetTop},n.prototype.destructor=function(){var e,t,r;return null!=(e=this.forwardLoader)&&e.remove(),this.backwardLoader.remove(),this.empty(),n.__super__.destructor.apply(this,arguments),null!=(t=this.$jumpToCurrent)&&t.remove(),null!=(r=this.moreMessages)&&r.destructor(),this.forwardLoader=this.backwardLoader=this.moreMessages=this.$jumpToCurrent=this.options=null},n.prototype.$currentItem=function(){return this.$(".current-item")},n.prototype.onceMessagesRendered=function(e){return this.state.renderMessages?e():this.once("renderMessages",e)},n}(Flowdock.HierarchicalView),_.extend(Views.Shared.MessageList.prototype,Flowdock.KeyboardEvents)},{"../../templates/shared/jump_to_current.mustache":307,"../shared/share_warning.coffee":453}],447:[function(e,t,n){var r=function(e,t){return function(){return e.apply(t,arguments)}},o=function(e,t){
function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},i={}.hasOwnProperty;Views.Shared.MessageLoader=function(t){function n(){return this.inView=r(this.inView,this),this.onInview=r(this.onInview,this),n.__super__.constructor.apply(this,arguments)}return o(n,t),n.prototype.tagName="a",n.prototype.className="message-loader",n.prototype.events={click:"onClick"},n.prototype.templates={error:e("../../templates/chat/notifications/error.mustache"),loading:e("../../templates/chat/notifications/loading.mustache"),message_pending:e("../../templates/chat/notifications/message_pending.mustache"),more:e("../../templates/chat/notifications/more.mustache")},n.prototype.initialize=function(e){return null==e&&(e={}),this.direction=e.direction||"backward",this.current="more",this.noInview=e.noInview,this.firstLoad=new $.Deferred},n.prototype.onInview=function(){return"error"===this.current||this.noInview?void 0:this.more()},n.prototype.template=function(t){
return this.templates[t].render({},{spinner:e("../../templates/spinner.mustache")})},n.prototype.onClick=function(e){var t;return("error"===(t=this.current)||"more"===t)&&this.more(),e.preventDefault()},n.prototype.state=function(e){return this.current=e,this.trigger("state",this.current),"more"===e&&this.blockSuccessRenderingChange?void 0:this.render()},n.prototype.inView=function(e,t){var n;return null!=(n=this.triggerElement)&&n.scrollableInview("destroy"),this.triggerElement=null,null!=e&&0!==e.length?(this.triggerElement=$(e),this.bindElement(this.triggerElement,t)):void 0},n.prototype.more=function(e){var t;if("loading"!==this.current)return this.state("loading"),t={direction:this.direction,timeout:1e4,error:function(e){return function(){return e.state("error"),e.firstLoad.reject()}}(this),success:function(e){return function(){return e.state("more"),e.firstLoad.resolve()}}(this),finish:function(){return"function"==typeof e?e():void 0}},this.collection.fetchHistory(t)},n.prototype.bindElement=function(e,t){
return e.scrollableInview("remove",this.onInview),e.scrollableInview({onInview:this.onInview,scrollParent:t,fully:!1})},n.prototype.detach=function(){return this.$el.detach()},n.prototype.render=function(){return this.$el.empty(),this.$el.attr("href","#").html(this.template(this.current)),this.$el.removeClass("loading more error").addClass(this.current),_.defer(function(e){return function(){var t;return t=e.$el.closest(".scrollable"),0===t.length&&(t=e.$el.closest("ul")),0===t.length&&(t=e.$el.closest("article")),e.bindElement(e.$el,t)}}(this)),this},n.prototype.remove=function(){var e;return this.$el.scrollableInview("destroy"),null!=(e=this.triggerElement)&&e.scrollableInview("destroy"),this.triggerElement=null,n.__super__.remove.apply(this,arguments)},n}(Backbone.View)},{"../../templates/chat/notifications/error.mustache":202,"../../templates/chat/notifications/loading.mustache":203,"../../templates/chat/notifications/message_pending.mustache":205,"../../templates/chat/notifications/more.mustache":206,"../../templates/spinner.mustache":321
}],448:[function(e,t,n){var r=function(e,t){function n(){this.constructor=e}for(var r in t)o.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},o={}.hasOwnProperty;Views.Shared.MoreMessages=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return r(n,t),n.prototype.className="more-messages",n.prototype.events={click:"dismiss"},n.prototype.initialize=function(e){return this.counter=new Bacon.Bus,this.direction=e.direction,this.list=e.scrollable,this.predicate=e.removeWhen||function(e){return 0===e.target.scrollTop},this.onRemoved=e.onRemoved||function(){},this.addStream(this.scrollHandling()),this.addStream(this.countHandling())},n.prototype.render=function(t){var n;return n={below:"icon-arrow-down-4",above:"icon-arrow-up-3"},this.$el.html(Helpers.renderTemplate(e("../../templates/shared/more_messages.mustache"))({direction:this.direction,iconClass:n[this.direction],count:t})),this.$el.addClass(this.direction),this},n.prototype.countHandling=function(){
return this.counter.scan(1,function(e,t){return e+t}).skip(1).onValue(function(e){return function(t){return e.render(t)}}(this))},n.prototype.scrollHandling=function(){return this.list.asEventStream("scroll").filter(this.predicate).onValue(function(e){return function(){return e.dismiss()}}(this))},n.prototype.increment=function(){return this.counter.push(1)},n.prototype.decrement=function(){return this.counter.push(-1)},n.prototype.dismiss=function(e){return null!=e&&e.preventDefault(),this.onRemoved(),this.destructor()},n.prototype.destructor=function(){var e;return null!=(e=this.counter)&&e.end(),n.__super__.destructor.apply(this,arguments),this.counter=this.list=this.onRemoved=this.predicate=null},n}(Flowdock.HierarchicalView)},{"../../templates/shared/more_messages.mustache":311}],449:[function(e,t,n){var r,o=function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},i={}.hasOwnProperty;r=function(t){function n(){
return n.__super__.constructor.apply(this,arguments)}return o(n,t),n.prototype.tagName="article",n.prototype.className="stripe",n.prototype.initialize=function(t){return null==t&&(t={}),this.attached=!1,this.target=t.target,this.removeOnHide=null!=t.removeOnHide?t.removeOnHide:!0,t.loader&&(this.loader=new Views.Shared.Progress),this.error=$("<div>").addClass("inline-error"),this.topAligned=t.topAligned,this.closeButton=$(e("../../templates/overlays/close_button.mustache").render()),null!=t.type?(this.className=t.type,this.$el.attr("class",this.className)):void 0},n.prototype.destructor=function(){return this.target&&this.unbind(),n.__super__.destructor.apply(this,arguments),this.loader=this.target=this.closeButton=void 0},n.prototype.attach=function(){return this.target&&!this.attached?(this.$el.is(":empty")&&this._render(),this.target.append(this.mask),this.target.append(this.container),this.bind(),this.attached=!0,this):void 0},n.prototype.detach=function(){return this.attached?(this.unbind(),this.mask.detach(),
this.container.detach(),this.attached=!1):void 0},n.prototype.close=function(){return $(".tipsy").remove(),this.removeOnHide?(this.destructor(),this.attached&&(this.mask.remove(),this.container.remove())):this.detach(),this.trigger("close")},n.prototype.enableDialogDismissal=function(){return this.cannotClose=!1,this.$(".close-overlay").removeClass("hidden").show(),this.closeButton.show()},n.prototype.disableDialogDismissal=function(){return this.cannotClose=!0,this.$(".close-overlay").addClass("hidden").hide(),this.closeButton.hide()},n.prototype.clickHandler=function(e,t){return this.cannotClose?void 0:$(e.target).parent().is(".overlay-wrapper, .fa-stack")?this.close():void 0},n.prototype.keyHandler=function(e){return this.cannotClose||$(e.target).is("textarea, select, .tokenist")||$(e.target).is("input")&&"spotlight-search-input"!==$(e.target)[0].className?void 0:KeyEvent.is("esc")(e)?this.close():void 0},n.prototype.bind=function(){var e;return this.target.on("keydown.overlay"+this.cid,this.keyHandler.bind(this)),
this.target.on("click.overlay"+this.cid,this.clickHandler.bind(this)),null!=(e=this.mask)?e.on("click.overlay"+this.cid,".close-overlay",this.close.bind(this)):void 0},n.prototype.unbind=function(){var e;return this.target.off(".overlay"+this.cid),null!=(e=this.mask)?e.off(".overlay"+this.cid):void 0},n.prototype.navigateToFlow=function(){var e;return e=Flowdock.app.manager.currentFlow,null!=e?Flowdock.app.router.navigateBackToFlow(e,{trigger:!1}):Flowdock.app.router.activateFirst()},n.prototype.showError=function(e){var t;return this.error.html(e),this.error.show().addClass("pushin"),t=function(e){return function(){return e.error.hide().removeClass("pushin")}}(this),setTimeout(t,3e3)},n.prototype.render=function(){return this},n.prototype.removeLoader=function(){return this.loader.remove(),this.loader=null},n.prototype._render=function(){var e,t,n;return this.mask=$("<div>").addClass("overlay-mask"),this.container=$("<div>").addClass("overlay-container"),n=$("<div>").addClass("overlay-wrapper"),t=this.topAligned?"top-aligned-overlay-content":"overlay-content",
e=$("<div>").addClass(t),e.append(this.render().el),this.loader&&e.append(this.loader.render().el),n.append(e,this.closeButton),this.container.append(n),this.$el.append(this.error.hide())},n}(Flowdock.HierarchicalView),t.exports=r},{"../../templates/overlays/close_button.mustache":291}],450:[function(e,t,n){Views.Shared.Popup=function(){function e(e,t,n){this.url=e,null==n&&(n={}),this.properties=_.defaults(n,this.defaultProperties),this.subscribers=[],this.resultStream=Flowdock.app.postMessages.filter(function(e){return e.type===t})}return e.prototype.defaultProperties={scrollbars:"yes",menubar:"no",height:"670",width:"1000",top:"50",left:"100",resizable:"yes",toolbar:"no",status:"no"},e.prototype.open=function(){var e;return e=window.open(this.url,this.properties.name,this._formattedProperties()),e.focus(),this.subscribers.push(this.resultStream.onValue(function(){return e.close()}))},e.prototype._formattedProperties=function(){var e,t;return function(){var n,r;n=this.properties,r=[];for(e in n)t=n[e],r.push(e+"="+t);
return r}.call(this).join(",")},e.prototype.destructor=function(){var e,t,n,r,o;for(n=this.subscribers,r=[],e=0,t=n.length;t>e;e++)o=n[e],r.push(o());return r},e}()},{}],451:[function(e,t,n){var r=function(e,t){function n(){this.constructor=e}for(var r in t)o.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},o={}.hasOwnProperty;Views.Shared.Progress=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return r(n,t),n.prototype.className="progress spinner",n.prototype.initialize=function(e){return null==e&&(e={}),this.color=e.color||"green"},n.prototype.show=function(e){return null==e&&(e=!0),this.$el.toggleClass("hidden",!e)},n.prototype.hide=function(e){return null==e&&(e=!0),this.show(!e)},n.prototype.render=function(){return this.$el.html(Helpers.renderTemplate(e("../../templates/loaders/arc.mustache"))()),this.$el.addClass(this.color),this},n}(Backbone.View)},{"../../templates/loaders/arc.mustache":272}],452:[function(e,t,n){var r=function(e,t){
function n(){this.constructor=e}for(var r in t)o.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},o={}.hasOwnProperty;Views.Shared.ReversedMessageList=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return r(t,e),t.prototype.renderGroup=function(e,n){return null==n&&(n={}),t.__super__.renderGroup.call(this,e,_.extend(n,{reverse:!0}))},t.prototype.scrollLocation=function(e){return null!=e&&(this.el.scrollTop=this.el.scrollHeight-e-this.$el.outerHeight()),this.el.scrollHeight-this.el.scrollTop-this.$el.outerHeight()},t.prototype.insert=function(e,t){var n,r,o;return null==t&&(t=!1),r=t?"prepend":"append",n=function(){var t,n,r;for(r=[],t=0,n=e.length;n>t;t++)o=e[t],o instanceof Element?r.push(o):(this.subview(o),r.push(o.el));return r}.call(this),this.$el[r](n),this.propagateAttachedState(e)},t.prototype.lastElement=function(e,t){return null==t&&(t=0),e.slice(0,t+1).last()},t.prototype.firstElement=function(e,t){return null==t&&(t=0),
e.slice(-1-t).first()},t.prototype.elementOffset=function(e){return this.viewport()[0].scrollHeight-e.offsetTop-e.offsetHeight},t.prototype.isCurrentItemVisible=function(){var e,t;return e=this.$currentItem(),e.length?(t=e.offset().top-this.$el.scrollTop(),t>this.$el.innerHeight):!1},t}(Views.Shared.MessageList)},{}],453:[function(e,t,n){var r,o,i=function(e,t){function n(){this.constructor=e}for(var r in t)s.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},s={}.hasOwnProperty;r=e("./coach_tooltip"),o=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return i(n,t),n.prototype.template=e("../../templates/shared/share_warning.mustache"),n.prototype.id="share-tip",n.prototype.events=function(){return{"click .coach-tooltip-next":this.sendToRally,"click .coach-tooltip-stop":this.close}},n.prototype.initialize=function(e){var t,n;return t=e.msg,n=e.text,this.msg=t,this.text=n,_.defer(function(e){return function(){return e.untilEnd($(window).asEventStream("blur click keyup")).filter(function(e){
return"click"===e.type&&!$(e.target).closest("#share-tip").length&&!$(e.target).closest(".share-with-rally").length||KeyEvent.isKey("esc")(e)}).onValue(function(){return e.close()})}}(this))},n.prototype.serializeData=function(){return{text:this.text}},n.prototype.sendToRally=function(){var e,t,n;return this.remove(),t=this.msg.model,e=t.flow(),n=t.get("thread"),$.ajax({url:Helpers.apiUrl("/actions/"+n.source.id+"/discussion_message"),type:"post",data:{flow_name:e.get("name"),flow_url:t.flowUrl(),organization_name:e.get("organization").name,caac_url:n.external_url,message:t.getContent(),thread_id:n.id},error:function(e){var t;return t=JSON.parse(e.responseText),"Authentication required"===(null!=t?t.message:void 0)&&null!=t.url?Flowdock.app.manager.toastError("external-authentication-required",{url:t.url,application:"Rally"}):Flowdock.app.manager.toastError("external-action-failed",{title:"Sharing with CA Agile Central failed!",description:(null!=t?t.message:void 0)||"status "+e.status})}})},n.prototype.close=function(e){
var t;return t=function(t){return function(){var n;return null!=(n=t.tether)&&n.destroy(),t.destructor(),"function"==typeof e?e():void 0}}(this),e?t():this.fadeOut(t)},n}(r),t.exports=o},{"../../templates/shared/share_warning.mustache":313,"./coach_tooltip":432}],454:[function(e,t,n){var r,o,i,s=function(e,t){return function(){return e.apply(t,arguments)}},a=function(e,t){function n(){this.constructor=e}for(var r in t)u.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},u={}.hasOwnProperty;r=e("./menu_view"),i=e("./slash_commands_replace_warning"),o=function(t){function n(){return this.close=s(this.close,this),this.appendCommandText=s(this.appendCommandText,this),n.__super__.constructor.apply(this,arguments)}return a(n,t),n.prototype.id="slash-commands",n.prototype.template=e("../../templates/shared/slash_commands.mustache"),n.prototype.initialize=function(e){return this.options=null!=e?e:{},_.defer(function(e){return function(){var t;return t=function(t){return!e.replaceTextWarning&&(!$(t.target).closest("#"+e.id).length||KeyEvent.isKey("esc")(t));
},e.untilEnd($(window).asEventStream("blur click keyup")).filter(t).onValue(function(){return e.close()})}}(this))},n.prototype.appendCommandText=function(e){var t,n,r,o;return o=this.options.parent.textarea.val(),r=this.options.slashCommands.reduce(function(e,t){var n;return n=t.command,_.isArray(n)||(n=[n]),e.concat(n.map(function(e){return"/"+e}))},[]),t=-1!==r.indexOf(o.split(" ")[0]),n=$(e.currentTarget).find(".the-actual-command").html()+" ",Flowdock.analytics.track(Flowdock.ANALYTICS_EVENT_TYPES.input_slash_option_selected),Flowdock.analytics.track(Flowdock.ANALYTICS_EVENT_TYPES.input_slash_action_+n.slice(1)),""===o?(this.options.parent.appendText(n),this.close()):t?(this.options.parent.setText(n),this.close()):(this.replaceTextWarning&&(this.replaceTextWarning.closeSelf(),this.replaceTextWarning=null),this.showReplaceTextWarning(e,{commandText:n,inputBox:this.options.parent,close:function(e){return function(){return e.close()}}(this)}))},n.prototype.close=function(){return this.replaceTextWarning&&this.replaceTextWarning.closeSelf(),
this.replaceTextWarning=null,n.__super__.close.apply(this,arguments)},n.prototype.showReplaceTextWarning=function(e,t){var n;return n=new i(t),this.replaceTextWarning=this.subview(n),$("body").append(this.replaceTextWarning.render().$el),this.replaceTextWarning.addTether(e.target,{targetAttachment:"bottom left",offset:"0 30px"})},n.prototype.buildMenu=function(){var e;return e=this.options.slashCommands.filter(function(e){return e.showInSlashCommandMenu}).reduce(function(e,t){var n,r,o,i,s,a;return n=t.command,a=t.showInSlashCommandMenu,r=a.description,o=a.nameHelper,s=a.onlyShowCommand,_.isArray(n)||(n=[n]),i=n.filter(function(e){return!s||e===s}).map(function(e){return{description:r,name:e,nameHelper:o}}),e.concat(i)},[]).sort(function(e,t){return e.name.localeCompare(t.name)}).map(function(e){return'<div class="command-item"><div class="command-text"><span class="the-actual-command">/'+e.name+"</span>"+(e.nameHelper?" "+e.nameHelper:"")+'</div><div class="command-description">'+e.description+"</div></div>"}).join(""),
$(e).appendTo(this.$(".commands-content"))},n.prototype.events=function(){return{"click .command-item":"appendCommandText"}},n}(r),t.exports=o},{"../../templates/shared/slash_commands.mustache":314,"./menu_view":441,"./slash_commands_replace_warning":455}],455:[function(e,t,n){var r,o,i=function(e,t){function n(){this.constructor=e}for(var r in t)s.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},s={}.hasOwnProperty;r=e("./coach_tooltip"),o=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return i(n,t),n.prototype.id="slash-commands-disabled-warning",n.prototype.template=e("../../templates/shared/slash_commands_disabled_warning.mustache"),n.prototype.events=function(){return{"click .coach-tooltip-next":"replaceText","click .coach-tooltip-stop":this.close}},n.prototype.initialize=function(e){this.options=null!=e?e:{}},n.prototype.close=function(){return this.closeSelf(),this.options.close()},n.prototype.closeSelf=function(){return this.fadeOut(function(e){
return function(){var t;return null!=(t=e.tether)&&t.destroy(),e.destructor()}}(this))},n.prototype.replaceText=function(){return this.options.inputBox.setText(this.options.commandText),this.close()},n.prototype.serializeData=function(){return{warningText:this.options.warningText}},n}(r),t.exports=o},{"../../templates/shared/slash_commands_disabled_warning.mustache":315,"./coach_tooltip":432}],456:[function(e,t,n){var r=function(e,t){function n(){this.constructor=e}for(var r in t)o.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},o={}.hasOwnProperty;Views.Shared.TabbedOverlay=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return r(n,t),n.prototype.className="modal tabbed",n.prototype.events={"click .overlay-tab":"activateClickedTab"},n.prototype.initialize=function(e){return this.tabs=e.tabs||[],n.__super__.initialize.apply(this,arguments)},n.prototype.render=function(){return this.$el.empty(),this.$el.append($("<ul>").addClass("clean overlay-tabs").append(this.tabs.map(function(e){
return function(t){return e.renderTab(t)}}(this)))),this.$el.append(this.tabs.map(function(e){return function(t){return e.renderTabContent(t)}}(this))),this.activateTab(this.initialTab),this},n.prototype.renderTab=function(t){return Helpers.renderTemplate(e("../../templates/shared/overlay_tab.mustache"))({title:t.title||t.options.title,rel:t.attributes.rel})},n.prototype.renderTabContent=function(e){return e.render().$el},n.prototype.activateClickedTab=function(e){return this.activateTab($(e.target).attr("rel"))},n.prototype.activateTab=function(e){var t,n,r,o;if(null!=e){for(this.$(".overlay-tab").removeClass("current"),this.$(".overlay-tab[rel='"+e+"']").addClass("current"),r=this.tabs,t=0,n=r.length;n>t;t++)o=r[t],o.$el.toggleClass("hidden",o.$el.attr("rel")!==e);return this.route(e),this}},n.prototype.route=function(e){},n}(Views.Shared.Overlay)},{"../../templates/shared/overlay_tab.mustache":312}],457:[function(e,t,n){var r=function(e,t){function n(){this.constructor=e}for(var r in t)o.call(t,r)&&(e[r]=t[r]);
return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},o={}.hasOwnProperty;Views.Shared.TagInput=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return r(t,e),t.prototype.tagName="div",t.prototype.className="tag-input",t.prototype.initialize=function(e){return this.options=_.extend({},e)},t.prototype.destructor=function(){return this.clear(),this.options=null,t.__super__.destructor.apply(this,arguments)},t.prototype.focus=function(){return this.tokenist.focus()},t.prototype.render=function(){return this.clear(),this.autocompleter=this.subview(new Views.MessageAutocompleter({maxTags:5,model:this.model})),this.tokenist=new Views.Shared.Tokenist({autocompleter:this.autocompleter,tokens:this.model.tags().filter(function(e){return e.humanize()&&!e.isAtMention()})}),this.listenTo(this.tokenist,"tokenist-blur",function(){return this.destructor()}),this.listenTo(this.tokenist,"token-add",function(e){return null!=(null!=e?e.id:void 0)?this.model.addTags([e.id],{user:Flowdock.app.user.id
}):void 0}),this.listenTo(this.tokenist,"token-remove",function(e){return null!=(null!=e?e.id:void 0)?this.model.removeTags([e.id],{user:Flowdock.app.user.id}):void 0}),this.$el.append(this.tokenist.render().el),this.fitsAbove()?(this.$el.prepend(this.autocompleter.render().el),this.$el.addClass(this.options.direction||"n")):(this.$el.append(this.autocompleter.render().el),this.$el.addClass(this.options.direction||this.options.optionalDirection||"s")),this.focus(),this.$el.on("click",function(e){return e.stopPropagation()}),this},t.prototype.fitsAbove=function(){var e,t;return t=function(e){var n,r;return n=e.offsetParent(),n.is("body")||n.is("html")||"hidden"===(r=n.css("overflow"))||"scroll"===r?n:t(n)},e=t(this.$el),this.$el.offset().top-e.offset().top>280},t.prototype.clear=function(){var e;return null!=(e=this.tokenist)&&e.destroy(),null!=this.autocompleter&&this.removeSubview(this.autocompleter),this.tokenist=this.autocompleter=void 0,this.$el.empty()},t}(Flowdock.HierarchicalView)},{}],458:[function(e,t,n){
var r,o,i,s=function(e,t){function n(){this.constructor=e}for(var r in t)a.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},a={}.hasOwnProperty;r=e("./coach_tooltip"),i=e("tether"),o=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return s(n,t),n.prototype.events={"click .coach-tooltip-next.group":"openGroupSettings","click .coach-tooltip-next.team":"toggleMute","click .coach-tooltip-stop":"close","click [data-user]":"toggleUserCard"},n.prototype.id="tag-tip",n.prototype.template=e("templates/shared/tag_tooltip.mustache"),n.prototype.initialize=function(e){return this.options=null!=e?e:{},_.defer(function(e){return function(){return e.untilEnd($(window).asEventStream("blur click")).onValue(e,"close")}}(this))},n.prototype.openGroupSettings=function(){return Flowdock.analytics.track(Flowdock.ANALYTICS_EVENT_TYPES.tag_tooltip_group_settings_clicked),Flowdock.app.manager.openFlowSettings(this.options.flow,"groups")},n.prototype.toggleMute=function(){
return this.options.onMute(),this.close(),!1},n.prototype.toggleUserCard=function(e){return e.stopPropagation(),this.options.toggleUserCard(e)},n.prototype.addTether=function(e){return this.tether=new i({element:this.$el,target:e,attachment:"bottom center",targetModifier:"visible",optimizations:{gpu:!1},constraints:[{to:"scrollParent",attachment:"together",pin:["left","right"]}]}),this.$el.addClass("coach-tooltip-enter")},n.prototype.serializeData=function(){var e,t;return t="group"===this.options.tagType,e=this.options.childPillsHTML,{childPillsHTML:e,noMembers:""===e&&t,isGroup:t,isTeam:"team"===this.options.tagType,muteVerb:this.options.muteVerb,tag:this.options.tag}},n.prototype.close=function(){var e;return"function"==typeof(e=this.options).onClose&&e.onClose(this),this.fadeOut(function(e){return function(){return e.destructor()}}(this))},n.prototype.destructor=function(){var e;return n.__super__.destructor.apply(this,arguments),null!=(e=this.tether)?e.destroy():void 0},n}(r),t.exports=o},{"./coach_tooltip":432,
"templates/shared/tag_tooltip.mustache":316,tether:889}],459:[function(e,t,n){var r,o=function(e,t){return function(){return e.apply(t,arguments)}},i=function(e,t){function n(){this.constructor=e}for(var r in t)s.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},s={}.hasOwnProperty;r=e("textarea-caret-position"),Views.Shared.TextareaAutocompleter=function(t){function n(){return this.displayCustomEmojiLink=o(this.displayCustomEmojiLink,this),this.displayHtmlFor=o(this.displayHtmlFor,this),this.reposition=o(this.reposition,this),this.populate=o(this.populate,this),n.__super__.constructor.apply(this,arguments)}return i(n,t),n.prototype.className="textarea-autocompleter-area",n.prototype.initialize=function(e){return this.inputView=e.inputView||null,this.duplicateNicksIndex={},this.isPrivateSearchEnabled=Flowdock.app.features.F18656_search_1To1},n.prototype.destructor=function(){return this.inputView=this["null"],n.__super__.destructor.apply(this,arguments)},n.prototype.render=function(e){
var t;return null==e&&(e={}),this.inputView.getInput().autoComplete({source:this.populate,displayHtml:this.displayHtmlFor,autoSelect:this.autoSelect,el:this.$el,completionHook:this.onComplete,emptyHook:this.displayCustomEmojiLink,hiddenComplete:!0,excludeHidden:[null!=(t=Flowdock.app.user)?t.get("nick"):void 0],sort:function(e){return function(e,t){return e=e.toLowerCase(),t=t.toLowerCase(),t>e?-1:e>t?1:0}}(this),hiddenCompleteLimiter:["#","@",":"],reverse:!0}),e.repositioning&&this.$el.on("selector-open",this.reposition),this},n.prototype.setElement=function(e,t){return n.__super__.setElement.call(this,e),this.inputView=t},n.prototype.populate=function(){var e,t,n,r,o,i,s,a;return s=[],o=[],r=[],this.isPrivateSearchEnabled&&!this.model.isFlow()&&(s=this.model.tags.models.sort(function(e,t){return t.get("count")-e.get("count")}),s=s.map(function(e){return{word:e.humanize()}})),this.model.isFlow()&&(s=this.model.tags.models.sort(function(e,t){return t.get("count")-e.get("count")}),s=s.concat([this.model.tags.everyone(),this.model.tags.team()]),
s=s.map(function(e){return{word:e.humanize()}}),n=this.model.users.enabled(),o=function(){var e,t,r;for(r=[],e=0,t=n.length;t>e;e++)a=n[e],a.get("nick")&&r.push({word:"@"+a.get("nick"),aliases:["@"+a.get("name"),a.get("nick")]});return r}(),r=this.model.groups.handles().map(function(e){return{word:"@@"+e}})),t=null!=(i=window.emojimoji)?i.autocomplete:void 0,this.model.emojiKeys&&(t=t.concat(this.model.emojiKeys())),t=function(){var n,r,o;for(o=[],n=0,r=t.length;r>n;n++)e=t[n],o.push({word:e});return o}(),s.concat(o,t,r)},n.prototype._getCaretWordBoundary=function(){var e,t;return t=this.inputView.textarea[0].value.substr(0,this.inputView.textarea[0].selectionStart),e=t.lastIndexOf(" "),t.lastIndexOf("\n")>e&&(e=t.lastIndexOf("\n")),r(this.inputView.textarea[0],e+1)},n.prototype.reposition=function(e){var t,n,r;return n=this._getCaretWordBoundary(),$(e.target).css({top:n.top+20,left:n.left,bottom:"auto",right:"auto"}),r=this.$el.closest("ul")[0].getBoundingClientRect(),t=$(e.target)[0].getBoundingClientRect(),
t.right>r.right&&$(e.target).css({left:"auto",right:10}),t.bottom>r.bottom?$(e.target).css({top:"auto",bottom:this.inputView.textarea.height()-n.top+10}):void 0},n.prototype.onComplete=function(e,t){return 0===t&&"#"!==e[0]&&":"!==e[0]||1===t&&"@"===this.input.text()[0]?e+", ":e+" "},n.prototype.displayHtmlFor=function(t){var n,r,o,i,s,a,u,l;return 0===t.indexOf("#")?(u=this.model.tags.find(function(e){return e.id===t.slice(1)}),n=u.get("count")):"@"===t[0]&&"@"!==t[1]?(s=t.slice(1),l=this.model.users.where({nick:s,disabled:!1}),1===l.length?u=t+" ("+l[0].get("name")+")":l.length>1?(void 0===this.duplicateNicksIndex[s]&&(this.duplicateNicksIndex[s]=0),u=t+" ("+l[this.duplicateNicksIndex[s]].get("name")+")",this.duplicateNicksIndex[s]=(this.duplicateNicksIndex[s]+1)%l.length):(~"@team".indexOf(t)?(u="@team",a=this.model.users.notifiableByTeam().length,this.model.get("team_notifications")===!0&&a--,r=""+a+(a?" of "+(this.model.users.available().length-1):"")+" people"):(u="@everyone",a=this.model.users.available().length-1,
r=a+" "+(1===a?"person":"people")),n=r+" will be notified")):u=t,i=$(Helpers.renderTemplate(e("../../templates/inbox/autocompleter_option.mustache"))({tag:u,count:n})),0===t.indexOf(":")&&(o=$("<span>").addClass("tokenist-emoji").text(emojimoji(t)),null!=this.model.emoji&&this.model.emoji.emojie(o[0]),"function"==typeof o.emojie&&o.emojie(),i.prepend(o)),i},n.prototype.displayCustomEmojiLink=function(e){var t;if(this.model.organization)return e&&/^\:[a-zA-Z0-9_\-]+$/.test(e)?(t="/organizations/"+this.model.organization()+"/emoji",$("<li>").addClass("autocomplete-info").html("Didn't find the emoji you were looking for? ").append($("<a>").attr("href",t).html("Upload your own."))):void 0},n.prototype.autoSelect=function(e){return 0!==e.indexOf(":")},n}(Flowdock.HierarchicalView)},{"../../templates/inbox/autocompleter_option.mustache":253,"textarea-caret-position":890}],460:[function(e,t,n){var r=function(e,t){function n(){this.constructor=e}for(var r in t)o.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,
e.__super__=t.prototype,e},o={}.hasOwnProperty;Views.Shared.Title=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return r(n,t),n.prototype.className="title",n.prototype.modelEvents={change:"render"},n.prototype.initialize=function(e){return this.body=e.body},n.prototype.render=function(){var t;return t=this.iconAttributes(),this.$el.html(Helpers.renderTemplate(e("../../templates/shared/title.mustache"))({body:_.result(this,"body"),iconAttributes:t},{icon:this.icon()})),this.collapseTitle(),this.renderEmoji(this.$el),this},n.prototype.collapseTitle=function(){return"chat"===this.model.get("app")&&"file"!==this.model.get("event")?this.$el.addClass("collapsed"):void 0},n.prototype.icon=function(){return e("../../templates/shared/title_icon.mustache")},n.prototype.iconAttributes=Views.Shared.Message.prototype.iconType,n.prototype.renderEmoji=function(e){var t,n;return"function"==typeof e.emojie&&e.emojie(),null!=(t=this.model.flow())&&null!=(n=t.emoji)?n.emojie(e[0]):void 0},n.prototype.destructor=function(){
return n.__super__.destructor.apply(this,arguments),this.body=null},n}(Flowdock.HierarchicalView)},{"../../templates/shared/title.mustache":317,"../../templates/shared/title_icon.mustache":320}],461:[function(e,t,n){var r=function(e,t){function n(){this.constructor=e}for(var r in t)o.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},o={}.hasOwnProperty;Views.Shared.TitleAction=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return r(n,t),n.prototype.tagName="li",n.prototype.className="title-action",n.prototype.template=e("../../templates/shared/title_action.mustache"),n.prototype.initialize=function(e){return null==e&&(e={}),n.__super__.initialize.apply(this,arguments),this.action=e.action},n.prototype.serializeData=function(){return this.action},n}(Flowdock.ItemView)},{"../../templates/shared/title_action.mustache":318}],462:[function(e,t,n){var r=function(e,t){function n(){this.constructor=e}for(var r in t)o.call(t,r)&&(e[r]=t[r]);
return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},o={}.hasOwnProperty;Views.Shared.TitleActions=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return r(n,t),n.prototype.className="title-actions dropdown sw",n.prototype.template=e("../../templates/shared/title_actions.mustache"),n.prototype.partials=function(){return{menuIcon:e("../../templates/icons/menu_icon.mustache")}},n.prototype.initialize=function(){return this.itemActionList=this.subview(new Views.Inbox.ItemActionList({model:this.model}))},n.prototype.onAfterRender=function(){return null==this.dropdown?(this.dropdown=new Flowdock.Dropdown({el:this.$el}),this.dropdown.on("open",this.onOpenActions.bind(this))):void 0},n.prototype.onOpenActions=function(){var e;return e=this.$el.find(".dropdown-menu").first().find(".item-action-list"),this.itemActionList.setElement(e).render(),this.listenTo(this.itemActionList,"close",function(){return this.dropdown.close()})},n.prototype.destructor=function(){var e;return n.__super__.destructor.apply(this,arguments),
null!=(e=this.dropdown)&&e.remove(),this.dropdown=null,this.itemActions=null},n}(Flowdock.ItemView)},{"../../templates/icons/menu_icon.mustache":245,"../../templates/shared/title_actions.mustache":319}],463:[function(e,t,n){var r,o,i,s,a,u,l,c,p,d,h,f,m,g,v,b,y,w,k,x,C,E,T,S,D,A,M,F=function(e,t){return function(){return e.apply(t,arguments)}},N=function(e,t){function n(){this.constructor=e}for(var r in t)O.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},O={}.hasOwnProperty,I=[].slice,P=[].indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(t in this&&this[t]===e)return t;return-1};for(Views.Shared.Tokenist=function(e){function t(){return this.stopAndAdd=F(this.stopAndAdd,this),this.delegateKeys=F(this.delegateKeys,this),this.onFocus=F(this.onFocus,this),this.onBlur=F(this.onBlur,this),this.onDelete=F(this.onDelete,this),this.onBackspace=F(this.onBackspace,this),this.onRightArrow=F(this.onRightArrow,this),this.onLeftArrow=F(this.onLeftArrow,this),this.onTextSelect=F(this.onTextSelect,this),
this.onCaretMove=F(this.onCaretMove,this),this.onRangeChange=F(this.onRangeChange,this),t.__super__.constructor.apply(this,arguments)}return N(t,e),t.prototype.className="tokenist",t.prototype.events={"click .tokenist-token-remove":"tokenRemove","focus .tokenist-token-remove":"tokenRemove","click .tokenist-token":"focusClicked","dblclick .token":"tokenEdit",focus:"onFocus"},t.prototype.initialize=function(e){return this.options=null!=e?e:{},this.autocompleter=this.options.autocompleter,this.tokens=this.options.tokens||[],this.bindBehavior()},t.prototype.bindBehavior=function(){var e,t,n,i;return this.enable(),e=this.$el.asEventStream("focus").delay(0),i=this.$el.asEventStream("mouseup keyup paste").merge(this.$el.asEventStream("keydown").delay(0)).merge(e).map(function(e){return function(t){return e.getRange()}}(this)).skipDuplicates(),n=this.$el.asEventStream("keydown"),t=this.$el.asEventStream("blur").delay(50).filter(function(e){return function(t){return!e.focused()}}(this)),this.editorKey=new Bacon.Bus,this.tokenistKey=new Bacon.Bus,
this.listenTo(this.autocompleter,"chosen",this.stopAndAdd),this.autocompleter.$el.on("mousedown",function(e){return function(t){var n;return e.editorNode||e.startEditor(null!=(n=e.getRange())?n.endContainer.parentNode:void 0),_.defer(function(){return e.$el.focus()})}}(this)),this.behavior=[n.filter(C(f,m,p,u,l,w,a,c)).onValue(function(e){return e.preventDefault()}),n.onValue(this.delegateKeys),this.tokenistKey.filter(C(b)).onValue(function(e){return e.preventDefault()}),this.tokenistKey.filter(C(d)).onValue(this.onLeftArrow),this.tokenistKey.filter(C(g)).onValue(this.onRightArrow),this.tokenistKey.filter(C(r)).onValue(this.onBackspace),this.tokenistKey.filter(C(s)).onValue(this.onDelete),this.tokenistKey.filter(C(c)).onValue(function(e){return function(){return e.$el.blur()}}(this)),n.filter(C(a)).onValue(function(e){return function(){return e.autocompleter.selectNext()}}(this)),n.filter(C(w)).onValue(function(e){return function(){return e.autocompleter.selectPrev()}}(this)),n.filter(C(l,y,b,o)).onValue(function(e){
return function(t){return e.autocompleter.completionKey(t)}}(this)),t.onValue(this.onBlur),i.onValue(function(e){return function(t){return e.onRangeChange(t)}}(this))]},t.prototype.unbindBehavior=function(){var e,t,n,r;if(this.stopListening(this.autocompleter),this.autocompleter.$el.off("mousedown"),this.behavior)for(n=this.behavior,e=0,t=n.length;t>e;e++)(r=n[e])();return this.off()},t.prototype.setElement=function(e){return t.__super__.setElement.apply(this,arguments),this.autocompleter&&(this.unbindBehavior(),this.bindBehavior()),this},t.prototype.render=function(){var e,t,n,r;for(this.$el.empty(),n=this.tokens,e=0,t=n.length;t>e;e++)r=n[e],this.$el.append(this.renderToken(r));return this.setPlaceholder(),this.$el.append(this.renderSpace()),this.normalizeSpaces(),this.$el.attr({"data-placeholder":this.options.placeholder,spellcheck:!1}),this},t.prototype.disable=function(){return this.$el.attr("contenteditable","false"),this.$el.addClass("disabled")},t.prototype.enable=function(){var e;try{this.el.contentEditable="plaintext-only";
}catch(t){e=t,this.el.contentEditable=!0}return this.$el.removeClass("disabled")},t.prototype.reset=function(e){return this.tokens=e,this.render()},t.prototype.focus=function(){return this.focused()?void 0:(this.$el.focus(),setTimeout(function(e){return function(){return e.setCaretAt(e.el.lastChild.textContent.length-1,e.el.lastChild)}}(this),0))},t.prototype.focused=function(){return document.activeElement===this.el},t.prototype.destroy=function(){return this.unbindBehavior(),this.remove()},t.prototype.getRange=function(){var e;return e=window.getSelection(),e.rangeCount?e.getRangeAt(0):null},t.prototype.setCaretAt=function(e,t,n,r){var o,i;if(t&&this.focused())return t=t.firstChild||t,0>e&&(e=0),o=document.createRange(),i=window.getSelection(),o.setStart(t,e),r?(r=r.firstChild||r,o.setEnd(r,n)):o.collapse(!0),t=(null!=r?r.parentNode:void 0)||t.parentNode,null!=t.parentNode&&!t.parentNode.scrollWidth>t.parentNode.offsetWidth&&"function"==typeof t.scrollIntoView&&t.scrollIntoView(),i.removeAllRanges(),i.addRange(o),
t.offsetLeft<this.$el.scrollLeft()?this.$el[0].scrollLeft=t.offsetLeft:t.offsetLeft>this.$el[0].scrollLeft+this.$el.width()?this.$el[0].scrollLeft=t.offsetLeft-this.$el.width():void 0},t.prototype.resetActiveToken=function(){return this.$el.contents().removeClass(k.active)},t.prototype.setActiveToken=function(e){return this.resetActiveToken(),e?(e=$(e),e.addClass(k.active)):void 0},t.prototype.getActiveToken=function(){return this.$el.find(A.active)[0]},t.prototype.startEditor=function(e){var t,n;if($(e).is(A.space))return this.$el.removeClass(k.placeholder),this.editorNode=e,this.resetActiveToken(),$(this.editorNode).addClass(k.editing),this.editorNode.addEventListener("DOMCharacterDataModified",function(e){return function(t){var n,r;return r=function(){var e,t,r,o;for(r=this.editorNode.childNodes,o=[],e=0,t=r.length;t>e;e++)n=r[e],o.push(n.textContent);return o}.call(e).join(" "),(r[0]!==S||r[r.length-1]!==S)&&(e.editorNode.textContent=""+S+r.replace(S,"")+S),e.autocompleter.refreshQuery(r.trim())}}(this)),n=function(){
var e,n,r,o;for(r=this.editorNode.childNodes,o=[],e=0,n=r.length;n>e;e++)t=r[e],o.push(t.textContent);return o}.call(this).join(" ").trim(),""!==n?this.autocompleter.refreshQuery(n):void 0},t.prototype.stopEditor=function(e){var t,n,r;return null==e&&(e=function(){}),n=this.renderSpace(),this.editorNode?($(this.editorNode).replaceWith(n),this.editorNode=void 0):(t=$(null!=(r=this.getRange())?r.endContainer.parentNode:void 0),t.is(A.space)&&this.focused()||(t=this.$el.find(A.space).last().get()),$(t).replaceWith(n)),e(n),this.normalizeSpaces(),this.setPlaceholder(),this.setCaretAt(1,n[0])},t.prototype.addToken=function(e,t){var n,r;return null==t&&(t=null),r=this.renderToken(e),t?($(t).before(r),this.tokens.splice(this.$(A.token).index(r.last()),0,e)):(this.$el.append(r),this.tokens.push(e)),"function"==typeof(n=this.options).onTokenAdd&&n.onTokenAdd(e),this.trigger("token-add",e)},t.prototype.removeToken=function(e){var t;if(e&&-1!==this.tokens.indexOf(e))return this.tokens.splice(this.tokens.indexOf(e),1),"function"==typeof(t=this.options).onTokenRemove&&t.onTokenRemove(e),
this.trigger("token-remove",e),this.removeTokenElement(this.getTokenElement(e)),this.setPlaceholder()},t.prototype.isEmpty=function(){return 0===this.tokens.length?this.editorNode?0===this.editorNode.textContent.length:!0:!1},t.prototype.setPlaceholder=function(){return this.$el.toggleClass(k.placeholder,!this.editorNode&&!this.tokens.length)},t.prototype.renderSpace=function(){return $("<span/>").addClass(k.space).text(""+S+S)},t.prototype.renderToken=function(e){var t;return t=$("<div>").addClass(k.token).attr("contenteditable","false").data("token",e).append($("<span/>").addClass("token").text(e),$("<span>").addClass("tokenist-token-remove fa fa-fw fa-times")),$(this.renderSpace().toArray().concat(t.toArray()))},t.prototype.removeTokenElement=function(e){var t,n,r,o,i;return e=$(e),n=e.next(),r=e.prev(),t=null!=(i=this.getRange())?i.endContainer:void 0,n.is(A.editing)?(t===r[0].firstChild&&this.setCaretAt(1,n[0]),r.remove()):(t===n[0].firstChild&&this.setCaretAt(1,r[0]),n.remove()),e.remove(),o=this.getRange(),
o?this.onCaretMove(o):void 0},t.prototype.getTokenElement=function(e){return _.find(this.$el.find(A.token).get(),function(t){return e===$(t).data("token")?t:void 0})},t.prototype.normalizeSpaces=function(){return _.each(this.$(A.space),function(e){return e.firstChild.replaceData(0,e.firstChild.length,""+S+S)})},t.prototype.inputStarted=function(){var e,t;return e=null!=(t=this.getRange())?t.endContainer:void 0,e?$(e.parentNode).is(A.space)&&!e.parentNode.textContent.match(/^\s{1,2}$/):!1},t.prototype.tokenRemove=function(e){return e.stopPropagation(),this.removeToken($(e.target.parentNode).data("token"))},t.prototype.tokenEdit=function(e){var t,n;return this.options.editable&&(n=$(e.target.parentNode).data("token"))?(this.autocompleter.chooseQuery(),this.stopEditor(),t=$(e.target.parentNode).prev().text(S+n+S),this.removeToken(n),this.startEditor(t[0]),this.setCaretAt(n.length+1,this.editorNode)):void 0},t.prototype.onRangeChange=function(e){var t;return(t=null!=e?e.endContainer:void 0)?e.startContainer!==t||e.startOffset!==e.endOffset?this.onTextSelect(e):this.onCaretMove(e):void 0;
},t.prototype.onCaretMove=function(e){var t,n,r,o;if(o=e.endContainer,n=o.parentNode,t=$(n),this.editorNode){if(this.editorNode!==n?this.setCaretAt(this.editorNode.textContent.length-1,this.editorNode):0===e.startOffset?this.setCaretAt(1,this.editorNode):e.endOffset===o.textContent.length&&this.setCaretAt(n.textContent.length-1,this.editorNode),!this.inputStarted())return this.stopEditor()}else if(t.is(A.space)){if(this.inputStarted())return this.startEditor(n);if(1!==e.endOffset)return this.setCaretAt(1,o)}else if(r=t.closest(A.token).next()[0]||this.$(A.space).last()[0])return this.setCaretAt(1,r)},t.prototype.onTextSelect=function(e){var t,n,r,o,i,s,a;return this.editorNode?(a=e.startContainer,n=e.endContainer,r=this.editorNode.textContent.length-1,i=a.parentElement===this.editorNode?e.startOffset||1:1,o=n.parentElement===this.editorNode?Math.min(e.endOffset,r)||1:r,t=i===e.startOffset&&o===e.endOffset&&a.parentElement===(s=n.parentElement)&&s===this.editorNode,t?void 0:this.setCaretAt(i,this.editorNode,o,this.editorNode)):(this.setCaretAt(1,e.endContainer),
void this.onCaretMove(e))},t.prototype.onLeftArrow=function(e){var t;return e.preventDefault(),(t=this.getRange().endContainer.parentNode.previousSibling)?(this.resetActiveToken(),this.setCaretAt(1,t.previousSibling)):void 0},t.prototype.onRightArrow=function(e){var t,n;return e.preventDefault(),t=this.getRange().endContainer.parentNode,(n=t.nextSibling)?this.setCaretAt(1,n.nextSibling):void 0},t.prototype.onBackspace=function(e){var t;return t=$(this.getRange().endContainer.parentNode),t.is(A.editing)?void 0:(e.preventDefault(),this.removeToken(t.prev().data("token")))},t.prototype.onDelete=function(e){var t;return t=$(this.getRange().endContainer.parentNode),t.is(A.editing)?void 0:(e.preventDefault(),this.removeToken(t.next().data("token")))},t.prototype.onBlur=function(e){return this.$el.removeClass("focused"),this.setPlaceholder(),this.trigger("tokenist-blur",e)},t.prototype.onFocus=function(e){return this.$el.addClass("focused"),this.trigger("tokenist-focus",e)},t.prototype.focusClicked=function(e){var t,n,r;
return this.focused()||this.$el.focus(),r=null!=(t=e.currentTarget)&&null!=(n=t.nextSibling)?n.firstChild:void 0,r?this.setCaretAt(1,r):void 0},t.prototype.delegateKeys=function(e){var t,n,r;return t=$(null!=(n=this.getRange())&&null!=(r=n.endContainer)?r.parentNode:void 0),t.is(A.editing)?this.editorKey.push(e):t.is(A.space)?this.tokenistKey.push(e):void 0},t.prototype.stopAndAdd=function(e){return _.isArray(e)||(e=[e]),this.stopEditor(function(t){return function(n){var r,o,i,s;for(i=[],r=0,o=e.length;o>r;r++)s=e[r],i.push(t.addToken(s,n));return i}}(this))},t}(Backbone.View),b=32,l=13,r=8,y=9,s=46,d=37,w=38,g=39,a=40,f=33,m=34,p=35,u=36,c=27,v=186,o=188,h=8194,i=[d,w,g,a],S=String.fromCharCode(h),M="tokenist",k={},A={},D=["space","token","editing","active","placeholder"],x=0,T=D.length;T>x;x++)E=D[x],k[E]=M+"-"+E,A[E]="."+k[E];C=function(){var e;return e=1<=arguments.length?I.call(arguments,0):[],function(t){var n;return n=t.which,P.call(e,n)>=0}}},{}],464:[function(e,t,n){var r=function(e,t){function n(){this.constructor=e;
}for(var r in t)o.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},o={}.hasOwnProperty;Views.Shared.TypingUsers=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return r(t,e),t.prototype.className="typing-users",t.prototype.initialize=function(e){return this._users=e.users},t.prototype.render=function(){return this.users().onValue(function(e){return function(n){return e.$el.text(t.formatUsers(n))}}(this)),this},t.prototype.users=function(){return Flowdock.app.preferences.typingActivity().flatMapLatest(function(e){return function(t){return t?e._users:Bacon.once([])}}(this)).takeUntil(this.asEventStream("destructor"))},t.formatUsers=function(e){return e.length>2?e[0].nick()+" and "+(e.length-1)+" others are typing\u2026":2===e.length?e[0].nick()+" and "+e[1].nick()+" are typing\u2026":1===e.length?e[0].nick()+" is typing\u2026":""},t.prototype.destructor=function(){return t.__super__.destructor.apply(this,arguments),this._users=null},
t}(Flowdock.HierarchicalView)},{}],465:[function(e,t,n){var r=function(e,t){function n(){this.constructor=e}for(var r in t)o.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},o={}.hasOwnProperty;Views.Shared.UserList=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return r(t,e),t.prototype.tagName="ul",t.prototype.className="user-list",t.prototype.collectionEvents={add:"renderUser",remove:"destroyUser",reset:"render"},t.prototype.initialize=function(e){this.opts=null!=e?e:{avatarOnly:!1}},t.prototype.render=function(){var e,t,n,r;for(n=this.subviews.slice(0),e=0,t=n.length;t>e;e++)r=n[e],this.removeSubview(r,{removeDomElement:!1});return this.$el.empty().append(this.collection.map(function(e){return function(t){return e.subview(new Views.Chat.User({model:t,avatarOnly:e.opts.avatarOnly})).render().el}}(this))),this},t.prototype.renderUser=function(e){var t,n;return t=this.collection.indexOf(e),n=this.subview(new Views.Chat.User({model:e,
avatarOnly:this.opts.avatarOnly})),t>=this.collection.length-1?this.$el.append(n.render().$el):t>0?this.$(".user").eq(t-1).after(n.render().$el):this.$el.prepend(n.render().$el)},t.prototype.destroyUser=function(e){return this.removeSubview(e)},t}(Flowdock.HierarchicalView)},{}],466:[function(e,t,n){var r,o,i=function(e,t){return function(){return e.apply(t,arguments)}},s=function(e,t){function n(){this.constructor=e}for(var r in t)a.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},a={}.hasOwnProperty,u=[].indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(t in this&&this[t]===e)return t;return-1};o=e("./truncate"),r=e("./thread/file_uploader"),Views.Thread=function(t){function n(){return this.scrollingBelowTitle=i(this.scrollingBelowTitle,this),this.titleBody=i(this.titleBody,this),n.__super__.constructor.apply(this,arguments)}var a,l,c;return s(n,t),l=100,a=4,c=60,n.prototype.id="thread",n.prototype.className="touch-scrollable",n.prototype.template=e("../templates/threads/thread.mustache"),
n.prototype.events={"click .empty-message, .help-message":"focusForm","click menu .side-flip":"flipSide","click menu .context":"showContext","keypress .message-form textarea":"onCommentKeypress"},n.prototype.modelEvents={change:"renderBody","change:id":"renderId","change:internal_comments":"closeIfEmpty"},n.prototype.keyboardEvents={returnFocusToThread:"focusCommentInput",focusChat:"focusCommentInput"},n.prototype.closeIfEmpty=function(){var e;return e=Flowdock.app.flows.get(this.model.get("flow")),this.model.commentCount()>0?void 0:_.defer(function(){return Flowdock.app.router.navigateToFlow(e,{thread:null})})},n.prototype.initialize=function(e){var t;return t=e.flow,this.viewModel=e.viewModel,this.bindKeyboardEvents(),this.state={jump:null},this.staticHeader=this.subview(new Views.Thread.Header({message:this.model,titleBody:this.titleBody})),this.floatingHeader=this.subview(new Views.Thread.Header({message:this.model,titleBody:this.titleBody,belowTitleProperty:this.scrollingBelowTitle})),this.floatingCloseButton=this.subview(new Views.Shared.Close),
this.commentForm=this.subview(new Views.Thread.CommentForm({model:this.model,fileUpload:!0})),this.fileUpload=null,this.typing=this.subview(new Views.Shared.TypingUsers({users:this.model.flow().typingUsers(this.commentForm.key())})),this.$indicators=$("<div>").addClass("indicators"),this.activityList=this.subview(new Views.Thread.ActivityList({collection:this.model.activities,viewport:function(e){return function(){return e.$(".thread-content")}}(this)})),this.flow.fullyLoaded.done(function(e){return function(){return e.activityList.renderMessages()}}(this)),this.listenTo(this.model.activities,"add remove historyComplete",this.updateTitleVisibility),this.listenTo(this.activityList,"add render",this.onListRender),this.listenTo(this.commentForm.textarea,"scale",this.onCommentFormResize),this.listenTo(this.commentForm,"after:render",this.onCommentFormResize),this.listenTo(this.commentForm,"edit-last-message",this.editLastMessage),this.listenTo(this.commentForm,"back",this.returnToList),this.listenTo(this.staticHeader,"return-to-list",this.returnToList),
this.listenTo(this.floatingHeader,"return-to-list",this.returnToList),this.listenTo(this.floatingCloseButton,"close",this.returnToList),this.listenTo(this.activityList,"state",this.onStateChange),this.untilEnd(this.model.activities.asEventStream("sync")).flatMapLatest(this.model.activities.asEventStream("add")).filter(function(e){return function(){return!e.atBottom()}}(this)).onValue(this,"_buildMoreMessagesIndicator"),this.untilEnd(this.model.activities.asEventStream("error",function(e,t){return t})).takeUntil(this.model.activities.asEventStream("sync")).onValue(this,"renderError")},n.prototype._setupFileUpload=function(){var e;return e=this.subview(new r({model:this.flow,thread:this.model,target:this.$el,targetName:"this thread"})),this.listenTo(e,"new_upload",this._onUpload),this.listenTo(this.commentForm,"upload",e.prompt),e},n.prototype._onUpload=function(e){return this.activityList.collection.add(e)},n.prototype.renderError=function(e){return this.dirty=!0,this.$(".loader").remove(),404===e.status?(this.model.set("title","Not found"),
this.$(".thread-body").text("This thread does not exist or has been deleted.")):(this.model.set("title","Internal Server Error"),this.$(".thread-body").text("Could not fetch thread data.")),this},n.prototype._renderEmoji=function(){return this._emojify(this.$(".thread-body")),this._emojify(this.$(".updated-fields"))},n.prototype._emojify=function(e){var t;return e.length>0&&("function"==typeof e.emojie&&e.emojie(),null!=(t=this.model.flow().emoji)&&t.emojie(e[0])),e},n.prototype.render=function(){var t,n,r,o,i;return r=0===this.model.activities.length?this.untilEnd(this.model.activities.asEventStream("sync add").take(1)).map(!1).toProperty(!0):Bacon.constant(!1),n=r.combine(Bacon.fromPromise(this.flow.fullyLoaded),function(e,t){return e||t}),i=e("../templates/spinner.mustache"),o=e("../templates/threads/property_list.mustache"),t=this._formatFields(),this.$el.html(Helpers.renderTemplate(this.template)({body:this.model.get("body"),fields:t},{spinner:i,propertyList:o})),0===t.length?this.$(".updated-fields").hide():t.length>a&&(this.truncatedContent&&this.removeSubview(this.truncatedContent),
this.truncateFields()),this.staticHeader.setElement(this.$(".static-header")).render(),this.floatingHeader.setElement(this.$(".floating-header")).render(),this.staticHeader.setCloseButton(this.$(".thread-close-button")),n.filter(function(e){return!e}).onValue(this,"onLoad"),this.$el.append(this.$indicators),this.$indicators.append(this.typing.render().$el),this.model.activities.length>0?this.renderFooter():n.filter(function(e){return!e}).onValue(this,"renderFooter"),this.whenAttached(function(){return this.onListRender(),this.onCommentFormResize()}),this._renderEmoji(),this._parseTimeTags(),this.updateTitleVisibility(),this},n.prototype.updateTitleVisibility=function(){var e;return this.model.activities.historyComplete.backward&&(e=this.model.activities.first())?this.$(".static-header").toggleClass("static-header-short",null!=e.get("excerpt_title")):void 0},n.prototype.onLoad=function(){return this._renderActivities(),this.fileUpload=this._setupFileUpload(),this._renderCommentForm()},n.prototype._renderActivities=function(){
return this.$(".loader").hide(),this.$(".thread-activities").replaceWith(this.activityList.$el),this.activityList.render()},n.prototype._renderCommentForm=function(){return this.$el.append(this.commentForm.render().$el),this.$el.append(this.fileUpload.render().$el),this.commentForm.triggerAttach(),this.fileUpload.triggerAttach()},n.prototype.scrollable=function(){var e,t;return e=this.$(".thread-content-wrap"),t=this.$(".thread-content"),t.outerHeight()<e[0].scrollHeight-1},n.prototype.renderFooter=function(){var t,n;return this.onListRender(),this.scrollable()?void 0:this.model.hasContinuation()?(n=e("../templates/inbox/comment_list_default.mustache"),this.$(".thread-footer").append(n.render({tip:Helpers.singleViewTip()}))):(t=e("../templates/inbox/comment_list_empty.mustache"),this.$(".thread-footer").append(t.render()))},n.prototype.atBottom=function(e){var t,n,r,o,i;return null==e&&(e=0),o=this.$(".thread-content"),i=20,n=o[0].scrollHeight,r=o[0].scrollTop,t=o.outerHeight(),i>n-r-t-e},n.prototype.restoreScrollPosition=function(){
var e,t,n;return t=this.state.jump,e="last-message"===t?this.$(".thread-content").find(".thread-activities > li").last():t?function(){var e,r,o,i,s;for(o=this.activityList.subviews,s=[],e=0,r=o.length;r>e;e++)n=o[e],String(null!=(i=n.model)?i.id:void 0)===String(t)&&s.push(n.$el);return s}.call(this)[0]:void 0,e?(this.state.jump=null,"last-message"!==t?this.activityList.jumpToMessage(Number(t)):this.scrollTo(this.scrollTop(e)-l,!0)):void 0},n.prototype.scrollToMessage=function(e){return this.state.jump=e,this.whenAttached(function(){return this.restoreScrollPosition()})},n.prototype.scrollToBottom=function(e,t){return null==t&&(t=!1),this.scrollTo("bottom",t)},n.prototype.scrollTop=function(e){var t;return e?(t=this.$(".thread-content"),t.scrollTop()-t.offset().top+e.offset().top-this.floatingHeader.$el.outerHeight()):0},n.prototype.scrollTo=function(e,t){var n,r;return null==t&&(t=!1),n=this.$el.find(".thread-content"),r=this.$el.find(".thread-content-wrap"),"bottom"===e&&(e=r[0].scrollHeight),t?n[0].scrollTop=e:n.animate({
scrollTop:e},300)},n.prototype.onCommentFormResize=function(e){var t,n;return null==e&&(e=0),t=this.atBottom(e),n=this.commentForm.$el.outerHeight(),n>0&&(this.$(".thread-content").css({bottom:n+"px"}),this.$indicators.css("bottom",n)),t?this.scrollToBottom(null,!0):void 0},n.prototype.hideTipsWhenScrollable=function(){return this.$(".thread-footer").toggle(!this.scrollable())},n.prototype.onListRender=function(){return this.whenAttached(function(){return this.hideTipsWhenScrollable(),this.restoreScrollPosition()})},n.prototype.titleBody=function(){return Helpers.renderTemplate(e("../templates/threads/title.mustache"))({link:this.model.get("external_url"),title:this.model.get("title"),status:this.model.get("status")})},n.prototype.scrollingBelowTitle=function(){return this.untilEnd(this.$(".thread-content").asEventStream("scroll")).map(function(e){return function(){var t;return t=e.staticHeader.$el.outerHeight(),e.$(".thread-content").scrollTop()>t-c}}(this)).skipDuplicates().toProperty(!1)},n.prototype.renderBody=function(){
var t;return this.$(".thread-body").html(this.model.get("body")),t=e("../templates/threads/property_list.mustache"),this._formatFields().length>0?(this.$(".updated-fields").show(),this.$(".thread-properties").html(Helpers.renderTemplate(t)({fields:this._formatFields()})),!this.truncatedContent&&this._formatFields().length>a&&this.truncateFields()):this.$(".updated-fields").hide(),this._renderEmoji(),this._parseTimeTags()},n.prototype.scrollLocation=function(e){},n.prototype.setScrollLocation=function(){},n.prototype.onSplitResize=function(){},n.prototype.returnToList=function(){return this.trigger("return-to-list")},n.prototype.focusForm=function(){var e;return null!=(e=this.commentForm)?e.focus():void 0},n.prototype._formatFields=function(){return this.model.get("fields")||[]},n.prototype._parseTimeTags=function(){return Helpers.TimeHelper.updateTimestamps(this.$el)},n.prototype._buildMoreMessagesIndicator=function(){var e;return this.moreMessages?void this.moreMessages.increment():(e={direction:"below",scrollable:this.$(".thread-content"),
removeWhen:function(e){return function(){return e.atBottom()}}(this),onRemoved:function(e){return function(){return e.scrollToBottom(),e.removeSubview(e.moreMessages),e.moreMessages=null}}(this)},this.moreMessages=this.subview(new Views.Shared.MoreMessages(e)),this.$indicators.prepend(this.moreMessages.render().$el))},n.prototype.editLastMessage=function(e,t){var n,r;return(n=this.activityList.lastMessageOf(Flowdock.app.user))?(r=n.asProperty("id").filter(function(e){return null!=e}).take(1),0!==arguments.length?r.onValue(function(){return n.searchReplaceContent(e,t)}):u.call(this.activityList.collection.slice(-10),n)>=0?r.onValue(function(e){return function(){var t;return(t=_.last(e.activityList.findSubviews(n)))?(t.openEditor(),t.once("completed",function(){return _.defer(function(){return e.commentForm.focus()})})):void 0}}(this)):void 0):void 0},n.prototype.onAttach=function(){return this.commentKeypress=!1},n.prototype.onCommentKeypress=function(){return Modernizr.touchevents||this.commentKeyPress||(this.commentKeypress=!0,
this.atBottom())?void 0:this.scrollToBottom()},n.prototype.onStateChange=function(e){var t;return t=0===this.model.activities.length||"error"===e,this.$el.toggleClass("error",t)},n.prototype.showContext=function(){var e;return Flowdock.analytics.track(Flowdock.ANALYTICS_EVENT_TYPES.show_in_chat_click),e=this.model.get("initial_message"),e?this.trigger("show-context",e):void 0},n.prototype.flipSide=function(){return Flowdock.app.preferences.flip("single_view_in_inbox")},n.prototype.destructor=function(){return n.__super__.destructor.apply(this,arguments),this.commentForm=this.ctivityList=this.$indicators=this.staticHeader=this.floatingHeader=this.floatingCloseButton=this.fileupload=this.moreMessages=this.truncatedContent=null},n.prototype.truncateFields=function(){var e,t;return t=null!=(e=this.truncatedContent)?e.truncated:void 0,this.truncatedContent=this.subview(new o({el:this.$(".updated-fields"),truncated:t})).render()},n.prototype.focusCommentInput=function(e){return null!=e&&e.preventDefault(),this.$("textarea").focus();
},n}(Flowdock.HierarchicalView),_.extend(Views.Thread.prototype,Flowdock.KeyboardEvents)},{"../templates/inbox/comment_list_default.mustache":255,"../templates/inbox/comment_list_empty.mustache":256,"../templates/spinner.mustache":321,"../templates/threads/property_list.mustache":327,"../templates/threads/thread.mustache":328,"../templates/threads/title.mustache":329,"./thread/file_uploader":476,"./truncate":485}],467:[function(e,t,n){var r=function(e,t){return function(){return e.apply(t,arguments)}},o=function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},i={}.hasOwnProperty;Views.Thread.Action=function(e){function t(){return this.hideSuccessIcon=r(this.hideSuccessIcon,this),this.hideErrorIcon=r(this.hideErrorIcon,this),t.__super__.constructor.apply(this,arguments)}return o(t,e),t.prototype.events={click:"requestAction"},t.prototype.initialize=function(e){return null==e&&(e={}),t.__super__.initialize.apply(this,arguments),
this.thread=e.thread,this.disabled=!1,this.popups=[]},t.prototype.disableLink=function(){return this.$el.addClass("disabled"),this.disabled=!0},t.prototype.enableLink=function(){return this.$el.removeClass("disabled"),this.disabled=!1},t.prototype.serializeData=function(){return{link:this.actionUrl(),text:this.action.name,image:this.action.image,icon:this.actionIcon(),"class":this.actionClass()}},t.prototype.actionUrl=function(){var e;return"UpdateAction"===this.action["@type"]?Helpers.apiUrl((null!=(e=this.action.target)?e.urlTemplate:void 0)||this.action.url):this.action.url},t.prototype.actionIcon=function(){return"ViewAction"===this.action["@type"]?"fa-external-link":null},t.prototype.actionClass=function(){return"UpdateAction"===this.action["@type"]?"update-action":"view-action"},t.prototype.actionMethod=function(){var e;return(null!=(e=this.action.target)?e.httpMethod:void 0)||"GET"},t.prototype.applicationName=function(){return this.thread.get("source").application.name},t.prototype.requestAction=function(e){
return("UpdateAction"===this.action["@type"]||this.disabled)&&(e.preventDefault(),e.stopPropagation()),"UpdateAction"!==this.action["@type"]||this.disabled?void 0:($.ajax({url:this.actionUrl(),type:this.actionMethod(),data:JSON.stringify(this.action),error:function(e){return function(t){var n;return n=JSON.parse(t.responseText),"Authentication required"===(null!=n?n.message:void 0)&&null!=n.url?e.requestAuthenticationFromUser(n.url):Flowdock.app.manager.toastError("external-action-failed",{title:e.applicationName()+" action failed!",description:(null!=n?n.message:void 0)||"status "+t.status})}}(this),complete:function(e){return function(t,n){return e.hideLoadingIcon(),"error"===n?e.showErrorIcon():e.showSuccessIcon()}}(this)}),this.showLoadingIcon())},t.prototype.requestAuthenticationFromUser=function(e){return Flowdock.app.manager.toastError("external-authentication-required",{url:e,application:this.applicationName()})},t.prototype.showLoadingIcon=function(){return this.$el.trigger("disable-dropdown"),this.$el.addClass("title-action-requesting disabled");
},t.prototype.hideLoadingIcon=function(){return this.$el.trigger("enable-dropdown"),this.$el.removeClass("title-action-requesting disabled")},t.prototype.showErrorIcon=function(){return this.$el.trigger("enable-dropdown"),this.$el.addClass("title-action-error"),this.delay=setTimeout(this.hideErrorIcon,2e3)},t.prototype.hideErrorIcon=function(){return this.$el.removeClass("title-action-error"),this.$el.trigger("close-dropdown"),this.delay=null},t.prototype.showSuccessIcon=function(){return this.$el.trigger("enable-dropdown"),this.$el.addClass("title-action-success"),this.delay=setTimeout(this.hideSuccessIcon,2e3)},t.prototype.hideSuccessIcon=function(){return this.$el.removeClass("title-action-success"),this.$el.trigger("close-dropdown"),this.delay=null},t.prototype.destructor=function(){var e,n,r,o,i;for(t.__super__.destructor.apply(this,arguments),clearTimeout(this.delay),o=this.popups,i=[],e=0,n=o.length;n>e;e++)r=o[e],i.push(r.destructor());return i},t}(Views.Shared.TitleAction)},{}],468:[function(e,t,n){var r=function(e,t){
function n(){this.constructor=e}for(var r in t)o.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},o={}.hasOwnProperty;Views.Thread.ThreadActionList=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return r(t,e),t.prototype.tagName="ul",t.prototype.className="thread-action-list dropdown-actions capitalize",t.prototype.initialize=function(){return this.listenTo(this.model,"change:actions",function(e){return function(){return e.actions=e.getActions(),e.render()}}(this))},t.prototype.render=function(){var e;return e=_.map(this.model.get("actions"),function(e){return function(t){return e.renderOne(t)}}(this)),this.$el.empty(),this.$el.append(e),this},t.prototype.renderOne=function(e){var t;return t=this.subview(new Views.Thread.Action({action:e,thread:this.model})),t.render().$el},t.prototype.getActions=function(){return this.model.get("actions")||[]},t}(Flowdock.HierarchicalView)},{}],469:[function(e,t,n){var r=function(e,t){function n(){
this.constructor=e}for(var r in t)o.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},o={}.hasOwnProperty;Views.Thread.Actions=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return r(t,e),t.prototype.actionViewModel=Views.Thread.Action,t.prototype.events={"close-dropdown":"closeDropdown","disable-dropdown":"disableDropdown","enable-dropdown":"enableDropdown"},t.prototype.initialize=function(){return t.__super__.initialize.apply(this,arguments),this.listenTo(this.model,"change:actions",function(e){return function(){return e.closeDropdown()}}(this)),this.threadActionList=this.subview(new Views.Thread.ThreadActionList({model:this.model}))},t.prototype.destructor=function(){return t.__super__.destructor.apply(this,arguments),this.threadActionList=null},t.prototype.onAfterRender=function(){var e;return t.__super__.onAfterRender.apply(this,arguments),e=this.$el.find(".dropdown-menu").first().find(".thread-action-list"),this.threadActionList.setElement(e).render();
},t.prototype.disableDropdown=function(){var e,t,n,r,o;for(r=this.threadActionList.subviews,o=[],t=0,n=r.length;n>t;t++)e=r[t],"UpdateAction"===e.action["@type"]?o.push("function"==typeof e.disableLink?e.disableLink():void 0):o.push(void 0);return o},t.prototype.enableDropdown=function(){var e,t,n,r,o;for(r=this.threadActionList.subviews,o=[],t=0,n=r.length;n>t;t++)e=r[t],o.push("function"==typeof e.enableLink?e.enableLink():void 0);return o},t.prototype.closeDropdown=function(){return this.dropdown.close()},t}(Views.Shared.TitleActions)},{}],470:[function(e,t,n){var r=function(e,t){function n(){this.constructor=e}for(var r in t)o.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},o={}.hasOwnProperty;Views.Thread.Activity=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return r(n,t),n.prototype.tagName="li",n.prototype.className="thread-activity-message",n.prototype.template=e("../../templates/threads/activity.mustache"),n.prototype.initialize=function(e){
var t,r;return null==e&&(e={}),n.__super__.initialize.apply(this,arguments),this.combined="activity"===(null!=(t=e.previous)?t.get("event"):void 0),this.first="discussion"===this.model.get("event")||"activity"!==(null!=(r=e.previous)?r.get("event"):void 0),this.last=!e.next||"activity"!==e.next.get("event")},n.prototype.renderContent=function(){var e,t,n,r;return e=Presenters.Helper.restifyFilepaths(this.model.get("body")),r=Helpers.renderTemplate(this.template)({author:this.author().name,avatar:this.avatar(),title:this.model.get("title"),body:e,datetime:this.time().toJSON(),timeFromNow:Helpers.TimeHelper.calendarTime(this.time(),!0),longTime:this.time().format("LLL"),removable:this.model.removable(),editable:this.model.editable()&&this.model.myMessage(),renderSource:this.first,source:null!=(t=this.model.get("thread"))?t.source:void 0,hasAttachments:(null!=(n=this.model.get("attachments"))?n.length:void 0)>0},_.result(this,"partials")),this.$el.addClass(this.model.get("comment")).html(r),this.combined&&this.$el.addClass("combined"),
this.last&&this.$el.addClass("last"),this},n.prototype.avatar=function(){var e;return(null!=(e=this.author().avatar)?e.length:void 0)>0?this.author().avatar:Flowdock.icons.defaultAvatar},n}(Views.Thread.Message)},{"../../templates/threads/activity.mustache":322}],471:[function(e,t,n){var r=function(e,t){function n(){this.constructor=e}for(var r in t)o.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},o={}.hasOwnProperty;Views.Thread.ActivityList=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return r(t,e),t.prototype.tagName="ul",t.prototype.className="thread-activities",t.prototype.listName="activities",t.prototype.initialize=function(e){return this.viewport=e.viewport,t.__super__.initialize.apply(this,arguments),this.listenTo(this.backwardLoader,"state",function(e){return this.trigger("state",e)}),null!=this.forwardLoader?this.listenTo(this.forwardLoader,"state",function(e){return this.trigger("state",e)}):void 0},t.prototype.scrollLocation=function(e){
var t;return t=this.viewport(),null!=e&&t.scrollTop(t[0].scrollHeight-e-t.outerHeight()),0===t.length?0:t[0].scrollHeight-t.scrollTop()-t.outerHeight()},t.prototype._previousTo=function(e){var t;return t=this.collection.indexOf(e),t>0?this.collection.at(t-1):void 0},t.prototype._nextTo=function(e){return this.collection.at(this.collection.indexOf(e)+1)},t.prototype._continues=function(e,t){var n,r;return!("activity"!==(n=null!=e?e.get("event"):void 0)&&"thread"!==n||"activity"!==(r=t.get("event"))&&"thread"!==r)},t.prototype.onAdd=function(e){return this._continues(this._previousTo(e),e)&&this.$(".last").last().removeClass("last"),t.__super__.onAdd.apply(this,arguments)},t.prototype.renderOne=function(e){var t,n,r;try{return r=this.subview(Views.Thread.Message.build(e,{previous:this._previousTo(e),next:this._nextTo(e),shareWithRally:function(e){return function(t){return e._showShareWarning(t)}}(this)})),r.render(),this.isAttached()&&r.triggerAttach(),[r]}catch(o){return t=o,console.error(t.stack),console.log("ActivityList renderOne error",t,e),
n=this.subview(new Views.Shared.MessageError({app:"chat",model:e,error:t})),[n.render()]}},t.prototype.destructor=function(){return t.__super__.destructor.apply(this,arguments),this.viewport=null},t}(Views.Shared.ReversedMessageList)},{}],472:[function(e,t,n){var r=function(e,t){function n(){this.constructor=e}for(var r in t)o.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},o={}.hasOwnProperty;Views.Thread.Comment=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return r(n,t),n.prototype.className="chat-message thread-comment-message",n.prototype.bodyTemplate=e("../../templates/threads/comment.mustache"),n.prototype.fullBodyTemplate=e("../../templates/threads/full_body.mustache"),n.prototype.events=function(){return _.extend({"click [data-user]":"toggleUserCard"},n.__super__.events.apply(this,arguments))},n.prototype.initialize=function(e){return null==e&&(e={}),n.__super__.initialize.apply(this,arguments),this.shareWithRally=e.shareWithRally||function(){
return null},this.model.get("author")?void 0:this.listenTo(this.model.user(),"change",this._userUpdate,this)},n.prototype.fullBody=function(){var e;return(e=this.model.get("full_body"))?Presenters.Helper.restifyFilepaths(e):void 0},n.prototype.body=function(){return"discussion"===this.model.get("event")?Presenters.Helper.restifyFilepaths(this.model.get("body")||" "):this.model.presenter().body()},n.prototype.onShareWithRally=function(){return this.shareWithRally(this)},n.prototype.renderContent=function(){var e,t,n,r,o,i,s,a,u,l;return n=this.model.get("edited"),r=null!=n&&0===(null!=(s=this.body())?s.length:void 0),t=Helpers.TimeHelper.editTime(n,r),l=this.model.user(),e=this.body(),o=this.fullBody(),i={author:this.author().name,avatar:this.author().avatar||Flowdock.icons.defaultAvatar,title:this.model.get("title"),source:null!=(a=this.model.get("thread"))?a.source:void 0,renderSource:"discussion"===this.model.get("event"),full_body:o,body:e,datetime:this.time().toJSON(),permalink:Helpers.absoluteUrlFor({flow:this.model.flow(),
message:this.model.id}),timeFromNow:Helpers.TimeHelper.calendarTime(this.time(),!0),longTime:this.time().format("LLL"),removable:this.model.removable(),editable:this.model.editable()&&this.model.myMessage(),sendableToRally:this.model.sendableToRally(),edited:n,emptied:r,editTime:t,displayableUserCard:!l.external(),hasAttachments:this.hasAttachments(),user:l,bubble:"discussion"!==this.model.get("event")},u=o?Helpers.renderTemplate(this.fullBodyTemplate)(i,_.result(this,"partials")):Helpers.renderTemplate(this.bodyTemplate)(i,_.result(this,"partials")),this.$el.addClass(this.model.get("comment")).html(u),"message"===this.model.get("event")&&this._previewLinks(),this.$el.toggleClass("deleted",r),this},n.prototype.hasAttachments=function(){return!1},n.prototype._previewLinks=function(){return this.$(".content a.embeddable").filter(function(){return"CODE"!==$(this).parent()[0].nodeName}).each(function(e){return function(t,n){var r,o,i,s;return o=$(n),s=o.prop("href"),r=Views.Embed.match(s),r?(i=o.wrap('<div class="embed">').parent(),
e.subview(new r({url:s,el:i,parent:e,message:e.model}).render())):void 0}}(this))},n.prototype._userUpdate=function(){return this.$el.find(".thread-avatar").attr("src",this.model.user().avatar()),this.$el.find(".message-author").text(this.model.user().get("nick"))},n}(Views.Thread.Message)},{"../../templates/threads/comment.mustache":323,"../../templates/threads/full_body.mustache":324}],473:[function(e,t,n){var r,o=function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},i={}.hasOwnProperty;r=e("lib/markdown"),Views.Thread.CommentForm=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return o(n,t),n.prototype.disabledCommands=["appear","hangout","me","room","slap","status"],n.prototype.autofocus=!0,n.prototype.placeholder="Type to comment on this thread\u2026",n.prototype.partials={before:e("../../templates/inbox/thread_indicator.mustache"),commentsIcon:e("../../templates/icons/comments.mustache")
},n.prototype.events=_.extend({},Views.Shared.MessageInput.prototype.events,{"focus textarea":function(){return window.lastFocusedInput="thread"}}),n.prototype.serializeData=function(){return _.extend({},n.__super__.serializeData.call(this),{threadColor:Helpers.CommentHelper.color(this.flow().id,this.model.threadId())})},n.prototype.key=function(){return this.flow().id+"-"+this.model.get("thread_id")+"-comment-form"},n.prototype.parse=function(e){return null!=e.content&&(e=e.content),{content:r.replaceEmoji(e),tags:this.parseTags(e),flow:this.model.flow().id,thread_id:this.model.get("thread_id"),thread:this.model.attributes}},n.prototype.formatTitle=function(){return this.model.get("title")},n.prototype.createMessage=function(e){return Flowdock.analytics.trackHighVolume(Flowdock.ANALYTICS_EVENT_TYPES.messages_reply_chat),e.tags||(e.tags=[]),e.event="message",e.app="chat",e=this.flow().buildMessage(e),e.isValid()?(e.save(),this.textarea.reset(),this.focus()):void 0},n.prototype.onKeydown=function(e){return KeyEvent.is("left")(e)&&0===$(e.target).val().length?this.trigger("back"):n.__super__.onKeydown.apply(this,arguments);
},n.prototype.flow=function(){return this.model.flow()},n}(Views.Shared.MessageInput)},{"../../templates/icons/comments.mustache":239,"../../templates/inbox/thread_indicator.mustache":271,"lib/markdown":122}],474:[function(e,t,n){var r=function(e,t){function n(){this.constructor=e}for(var r in t)o.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},o={}.hasOwnProperty;Views.Thread.Discussion=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return r(t,e),t.prototype.className="thread-discussion-message",t.prototype.hasAttachments=function(){var e;return(null!=(e=this.model.get("attachments"))?e.length:void 0)>0},t}(Views.Thread.Comment)},{}],475:[function(e,t,n){var r=function(e,t){function n(){this.constructor=e}for(var r in t)o.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},o={}.hasOwnProperty;Views.Thread.FileMessage=function(t){function n(){return n.__super__.constructor.apply(this,arguments);
}return r(n,t),n.prototype.className="chat-message thread-file-message",n.prototype.events=function(){return _.extend({},n.__super__.events.apply(this,arguments),{"click menu.message-actions a.discard":"discard"})},n.prototype.modelEvents=_.extend({},Views.Thread.Comment.prototype.modelEvents,{"change:content":"render"}),n.prototype.initialize=function(e){return n.__super__.initialize.call(this,e),null!=this.tId?clearTimeout(this.tId):void 0},n.prototype.body=function(){return null},n.prototype.renderContent=function(){return this.model.upload?this.renderUploading():this.preserveScrolling(function(e){return function(){return e.renderCompleteUpload()}}(this))},n.prototype.renderCompleteUpload=function(){var e;return e=this.subview(new Views.Shared.Attachment({model:this.model,parent:this,attachment:this.model.get("content")})),Views.Thread.Comment.prototype.renderContent.apply(this),this.$el.find(".content").prepend(e.render().el),this.finished?e.load():void 0},n.prototype.discard=function(){return this.model.collection?this.model.collection.remove(this.model):void 0;
},n.prototype.renderUploadedAmount=function(){var e;if(null!=this.model.upload)return e=this.model.upload.get("uploaded"),this.$("progress").prop({value:e}),this.$(".uploaded,progress").text("("+e+"%)"),e>=100?(this.$(".state").text("Processing"),this.$(".uploaded").hide()):void 0},n.prototype.renderRemoveButton=function(){return this.$("menu.message-actions li a.delete").addClass("discard").removeClass("delete")},n.prototype.renderUploadResult=function(){var e;if(!this.finished&&null!=this.model.upload&&"uploading"!==this.model.upload.get("state"))return this.finished="failed"===(e=this.model.upload.get("state"))||"finished"===e,"failed"===this.model.upload.get("state")&&(this.$el.addClass("failed"),this.$("a.edit-tags").toggle(!1),this.renderRemoveButton()),this.stopListening(this.model.upload)},n.prototype.renderUploading=function(){var t;return t={fileName:this.model.upload.get("fileName"),noLeftSideMessageComponents:!0,removable:!0,timestamp:this.messageTimestamp(),user:this.model.user().toJSON()},this.$el.html(Helpers.renderTemplate(e("../../templates/messages/file_uploading_message.mustache"))(t,{
messageHeader:e("../../templates/chat/message_header.mustache")})),this.renderUploadedAmount(),this.listenTo(this.model.upload,"change:state",this.renderUploadResult),this.listenTo(this.model.upload,"change:uploaded",this.renderUploadedAmount)},n}(Views.Thread.Comment)},{"../../templates/chat/message_header.mustache":201,"../../templates/messages/file_uploading_message.mustache":274}],476:[function(e,t,n){var r,o,i=function(e,t){function n(){this.constructor=e}for(var r in t)s.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},s={}.hasOwnProperty;o=e("../shared/file_uploader"),r=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return i(t,e),t.prototype.initialize=function(e){return this.thread=e.thread,t.__super__.initialize.apply(this,arguments)},t.prototype.messageOptions=function(){return _.extend({},t.__super__.messageOptions.apply(this,arguments),{thread_id:this.thread.threadId()})},t.prototype.endpointUrl=function(){return this.model.url()+"/threads/"+this.thread.threadId()+"/messages";
},t}(o),t.exports=r},{"../shared/file_uploader":437}],477:[function(e,t,n){var r=function(e,t){function n(){this.constructor=e}for(var r in t)o.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},o={}.hasOwnProperty;Views.Thread.Header=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return r(t,e),t.prototype.initialize=function(e){return this.closeButton=this.subview(new Views.Shared.Close({stream:e.newMessageStream,viewModel:e.viewModel})),this.title=this.subview(new Views.Thread.Title({model:e.message,body:e.titleBody})),this.actions=this.subview(new Views.Thread.Actions({model:e.message})),t.__super__.initialize.apply(this,arguments)},t.prototype.destructor=function(){return t.__super__.destructor.apply(this,arguments),this.closeButton=this.title=this.actions=null},t}(Views.Shared.Header)},{}],478:[function(e,t,n){var r,o=function(e,t){return function(){return e.apply(t,arguments)}},i=function(e,t){function n(){this.constructor=e}for(var r in t)s.call(t,r)&&(e[r]=t[r]);
return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},s={}.hasOwnProperty;r=React.createFactory(e("components/chat/bubble")),Views.Thread.Message=function(t){function n(){return this._updateTimestamps=o(this._updateTimestamps,this),n.__super__.constructor.apply(this,arguments)}return i(n,t),n.prototype.tagName="li",n.prototype.partials={messageFooter:e("../../templates/shared/message_footer.mustache"),messageMenu:e("../../templates/threads/menu.mustache"),messageHeader:e("../../templates/chat/message_header.mustache")},n.prototype.events=function(){return _.defaults({"blur .expanding-input textarea":"saveMessage","click .edit-tags":"openTagInput","click .delete":"delete","click .edit-message":"openEditor","click .save-message":"saveMessage","keydown .expanding-input textarea":"saveMessage","click .resend":"resendMessage"},n.__super__.events.apply(this,arguments))},n.prototype.id=function(){return"thread-message-"+this.model.get("flow")+"-"+(this.model.id||this.model.get("uuid"))},n.prototype.destructor=function(){
return this._updateTimestampInterval&&clearInterval(this._updateTimestampInterval),this._updateTimestampInterval=null,n.__super__.destructor.apply(this,arguments)},n.prototype.initialize=function(){return n.__super__.initialize.apply(this,arguments),this._updateTimestampInterval=setInterval(this._updateTimestamps,6e4)},n.prototype._renderBubble=function(){var e,t;return(e=this.$(".bubble-container")[0])?(t={color:this.model.threadColor(),isInformational:this.model.isInformational(),isThreadStarter:this.model.isThreadStarter()},this.component(e,r(t))):void 0},n.prototype.render=function(){var e;return e=n.__super__.render.apply(this,arguments),this.model.get("full_body")?this.truncateWrap(".thread-comment-unexcerpt"):this.truncateWrap(".content"),this._renderBubble(),this.appendAttachments(),this._updateTimestamps(),e},n.prototype._updateTimestamps=function(){return Helpers.TimeHelper.updateTimestamps(this.$el)},n.prototype.appendAttachments=function(){var e,t,n,r,o,i;for(o=this.model.appendedAttachments(),i=[],
n=0,r=o.length;r>n;n++)e=o[n],t=this.subview(new Views.Shared.Attachment({attachment:e,model:this.model,parent:this,renderIfPreviewsHidden:"file"!==this.model.get("event")})),i.push(this.$(".attachments").append(t.render().$el));return i},n.prototype.time=function(){return moment(this.model.get("sent"))},n.build=function(e,t){var n,r;return n=_.extend({model:e},t),"activity"===(r=e.get("event"))||"thread"===r?new Views.Thread.Activity(n):"file"===e.get("event")?new Views.Thread.FileMessage(n):"discussion"===e.get("event")?new Views.Thread.Discussion(n):new Views.Thread.Comment(n)},n}(Views.Shared.Message)},{"../../templates/chat/message_header.mustache":201,"../../templates/shared/message_footer.mustache":309,"../../templates/threads/menu.mustache":326,"components/chat/bubble":37}],479:[function(e,t,n){var r=function(e,t){function n(){this.constructor=e}for(var r in t)o.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},o={}.hasOwnProperty;Views.Thread.Title=function(t){
function n(){return n.__super__.constructor.apply(this,arguments)}return r(n,t),n.prototype.icon=function(){return e("../../templates/threads/title_icon.mustache")},n.prototype.iconAttributes=function(){var e,t,n;return(null!=(e=this.model.get("source"))&&null!=(t=e.application)?t.icon_url:void 0)||(null!=(n=this.model.get("source"))?n.icon:void 0)},n.prototype.collapseTitle=function(){},n}(Views.Shared.Title)},{"../../templates/threads/title_icon.mustache":330}],480:[function(e,t,n){var r=function(e,t){return function(){return e.apply(t,arguments)}},o=function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},i={}.hasOwnProperty,s=[].indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(t in this&&this[t]===e)return t;return-1};Views.Toolbar=function(t){function n(){return this.toggleInbox=r(this.toggleInbox,this),this.toggleUsers=r(this.toggleUsers,this),n.__super__.constructor.apply(this,arguments)}return o(n,t),
n.prototype.template=e("../templates/toolbar/toolbar.mustache"),n.prototype.id="toolbar",n.prototype.events={"click #user-add":"openPeopleManager","click #inbox-toggle":"triggerToggle"},n.build=function(e){return Flowdock.mobile?new Views.Toolbar.Mobile(e):new Views.Toolbar.Desktop(e)},n.prototype.initialize=function(e){return this.viewModel=e.viewModel,this.search=this.subview(new Views.Toolbar.Search({model:this.model})),this.userCounter=this.subview(new Views.Toolbar.UserCounter({model:this.model,collection:this.model.users}))},n.prototype.onBeforeRender=function(){return this.stopListening(this.search)},n.prototype.onAfterRender=function(e){return this.search.setElement(this.$("#search-form-item")),this.search.render(),this.userCounter.setElement(this.$("#user-counter")),this.userCounter.render(),this.untilEnd(this.viewModel.asProperty("users")).onValue(this.toggleUsers),this.untilEnd(this.viewModel.asProperty("rhs")).onValue(this.toggleInbox),this.untilEnd(this.viewModel.asProperty("lhs")).onValue(this.toggleInbox),
this.listenTo(this.search,"search:change",function(e){return function(t){return e.trigger("search:change",t)}}(this)),this.listenTo(this.search,"search:open",function(e){return function(){return e.$el.addClass("search-open")}}(this)),this.listenTo(this.search,"search:close",function(e){return function(){return e.$el.removeClass("search-open")}}(this)),this.listenTo(this.userCounter,"close:user-list",function(){return this.trigger("close:user-list")}),this.listenTo(this.userCounter,"open:user-list",function(){return this.trigger("open:user-list")}),this.renderInboxActivity()},n.prototype.toggleUserList=function(e){return this.userCounter.toggleExpanded(e)},n.prototype.onSearchChange=function(e){return this.search.onSearchChange(e),this.toggleFocus()},n.prototype.toggleFocus=function(){var e,t;return t=document.activeElement,e=s.call(this.$(".tokenist, input"),t)>=0,this.$el.toggleClass("search-open",e||!this.search.isEmpty())},n.prototype.openPeopleManager=function(){return Flowdock.app.manager.openFlowSettings(this.model,"preferences?add_people=true");
},n.prototype.triggerToggle=function(){var e,t;return this.$("#inbox-toggle").hasClass("activity")?(this.search.clearFilter(),this.viewModel.showInbox({savePreference:!0,scroll:!0}),this.$("#inbox-toggle").removeClass("activity")):this.viewModel.toggleRhs(),t=Flowdock.app.preferences,t.hasChanged()&&t.saveWithRetry(),e=$(".right-panel").hasClass("inbox-panel"),e?Flowdock.analytics.track(Flowdock.ANALYTICS_EVENT_TYPES.inbox_toggle_on):Flowdock.analytics.track(Flowdock.ANALYTICS_EVENT_TYPES.inbox_toggle_off)},n.prototype.toggleUsers=function(e){return this.$("#user-counter").toggleClass("active",!!e)},n.prototype.toggleInbox=function(){var e;return e=this.viewModel.get("rhs")||"inbox"===this.viewModel.get("lhs"),this.$("#inbox-toggle").toggleClass("active",!!e)},n.prototype.renderInboxActivity=function(){return this.model.fullyLoaded.done(function(e){return function(){var t;return t=e.viewModel.stateProperty().map(".inbox"),e.untilEnd(Flowdock.app.flowActivities.activityFor(e.model)).filter(t.not()).map(".inbox").onValue(e,"updateInboxActivity");
}}(this))},n.prototype.updateInboxActivity=function(e){return this.$("#inbox-toggle").toggleClass("activity",e)},n.prototype.destructor=function(){return n.__super__.destructor.apply(this,arguments),this.search=this.userCounter=null},n.prototype.serializeData=function(){return{searchFormInlineStyle:""}},n}(Flowdock.ItemView)},{"../templates/toolbar/toolbar.mustache":333}],481:[function(e,t,n){var r,o=function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},i={}.hasOwnProperty;r=React.createFactory(e("components/users/avatar_list")),Views.Toolbar.Desktop=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return o(t,e),t.prototype.initialize=function(){return t.__super__.initialize.apply(this,arguments),this.avatarList=null},t.prototype.renderAvatarList=function(){return this.avatarList=this.component(this.$(".avatar-list-item")[0],r({onlineUsers:this.sortedOnlineUsers(this.model.users)
}))},t.prototype.onAttach=function(){return this.renderAvatarList()},t.prototype.onDetach=function(){var e;return this.avatarList?(e=this.$(".avatar-list-item"),this.destroyComponent(e[0]),e.empty(),this.avatarList=null):void 0},t.prototype.onAfterRender=function(){return t.__super__.onAfterRender.apply(this,arguments),this.renderAvatarList()},t.prototype.destructor=function(){return t.__super__.destructor.apply(this,arguments),this.avatarList=null},t.prototype.sortedOnlineUsers=function(e){return e.usersPropertyByState("active","idle").map(function(e){var t;return t=_.find(e,function(e){return e.id===Flowdock.app.user.id}),t?_.without(e,t).concat([t]):e}).map(function(e){return e.slice(0,45)})},t}(Views.Toolbar)},{"components/users/avatar_list":63}],482:[function(e,t,n){var r=function(e,t){function n(){this.constructor=e}for(var r in t)o.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},o={}.hasOwnProperty;Views.Toolbar.Mobile=function(e){function t(){return t.__super__.constructor.apply(this,arguments);
}return r(t,e),t.prototype.events=_.extend({},Views.Toolbar.prototype.events,{"click #sidebar-button":"openSidebar"}),t.prototype.openSidebar=function(){return Flowdock.eventBus.trigger("mobile:show-navigation")},t}(Views.Toolbar)},{}],483:[function(e,t,n){var r=function(e,t){function n(){this.constructor=e}for(var r in t)o.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},o={}.hasOwnProperty,i=[].indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(t in this&&this[t]===e)return t;return-1};Views.Toolbar.Search=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}var o;return r(n,t),o=6,n.prototype.template=e("../../templates/toolbar/search.mustache"),n.prototype.id="search-form-item",n.prototype.events={submit:function(e){return e.preventDefault()},"mousedown #filter-reset":"clearFilter","mousedown #search-toggle":"openSearch"},n.prototype.keyboardEvents={focusSearch:"openSearch"},n.applicationFilter=function(e){var t;return t=e.get("application"),
new Models.Filter.Application({label:t.name,application:t.id,iconUrl:t.icon_url})},n.prototype.initialize=function(){var e,t,n,r,o,s,a,u,l,c,p,d;if(this.model.isFlow()){for(n=[],p=["mail"],o=0,u=p.length;u>o;o++)t=p[o],n.push(new Models.Filter.Inbox({event:t}));for(d=this.model.integrations.models||[],a=0,l=d.length;l>a;a++)s=d[a],_.isString(s.get("service"))&&(c=s.get("service"),n.push(new Models.Filter.Inbox({event:c})))}return this.mainFilters=_.map(_.values(Models.Filter.filterMap()),function(e){return new e}),r=_.uniq(_.flatten(_.pluck(n,"event"))),e=this.model.isFlow()?this.mainFilters.concat(n):this.mainFilters,this.model.isFlow()&&(this._setupDynamicFilters(e),this.addStream(this.model.stream.filter(function(e){return"influx"===e.app&&"activity"!==e.event}).map(".event").filter(function(e){return null!=Models.Filter.labelMap()[e]&&!(i.call(r,e)>=0)}).onValue(function(t){return function(n){return r.push(n),e.push(new Models.Filter.Inbox({event:n})),t.autocompleter.refresh()}}(this)))),this.bindKeyboardEvents(),
this.initiallyFiltered=!1,this.current=new Models.Filter,this.autocompleter=new Views.Inbox.SearchAutocompleter({flow:this.model,collection:this.model.tags,defaultOptions:e,isPrivate:this.model.isPrivate()}),this.tokenist=new Views.Shared.Tokenist({autocompleter:this.autocompleter,placeholder:"Search in "+this.model.get("name")+"..."}),this.fullText=this.subview(new Views.Inbox.FullText({model:this.model}))},n.prototype._setupDynamicFilters=function(e){var t;return t=this.untilEnd(this.model.sources.asEventStream("remove")),this.listenTo(this.model.integrations,"add",function(t){return this.onLegacyIntegrationAdd(e,t)}),this.listenTo(this.model.integrations,"reset",function(t){var n,r,o,i,s;for(i=t.models,s=[],n=0,o=i.length;o>n;n++)r=i[n],s.push(this.onLegacyIntegrationAdd(e,r));return s}),this.listenTo(this.model.sources,"add",function(t){return this.onSourceAdd(e,t)}),this.listenTo(this.model.sources,"reset",function(t){var n,r,o,i,s;for(this._resetApplicationFilters(e),o=t.models,i=[],n=0,r=o.length;r>n;n++)s=o[n],
i.push(this.onSourceAdd(e,s));return i}),this.listenTo(this.model.sources,"remove",function(t){var n,r,o;return!this.model.sources.some(function(e){return e.get("application").id===t.get("application").id})&&(n=_.find(e,function(e){return e.application.indexOf(t.get("application").id)>=0}))?(r=_.indexOf(e,n),e.splice(r,1),null!=(o=this.autocompleter)?o.refresh():void 0):void 0}),this.listenTo(this.model.sources,"change",function(t){var n,r;return n=_.find(e,function(e){return e.application.indexOf(t.get("application").id)>=0}),n?(n.label=t.get("application").name,null!=(r=this.autocompleter)?r.refresh():void 0):void 0})},n.prototype.onSourceAdd=function(e,t){var r,i;return r=n.applicationFilter(t),_.some(e,function(e){return e.application.indexOf(t.get("application").id)>=0})?void 0:(e.splice(o,0,r),null!=(i=this.autocompleter)?i.refresh():void 0)},n.prototype.onLegacyIntegrationAdd=function(e,t){var n,r;return _.some(e,function(e){var n;return 1===(null!=(n=e.events)?n.length:void 0)&&e.events[0]===t.get("service");
})?void 0:(n=new Models.Filter.Inbox({event:t.get("service")}),e.push(n),null!=(r=this.autocompleter)?r.refresh():void 0)},n.prototype._resetApplicationFilters=function(e){var t,n,r;for(t=0;t<e.length;)(null!=(n=e[t].application)?n.length:void 0)>0?e.splice(t,1):t++;return null!=(r=this.autocompleter)?r.refresh():void 0},n.prototype.destructor=function(){return this.tokenist.unbindBehavior(),this.tokenist.remove(),n.__super__.destructor.apply(this,arguments),this.tokenist=this.autocompleter=this.mainFilters=this.current=this.fullText=null},n.prototype.openSearch=function(e){return Flowdock.analytics.track(Flowdock.ANALYTICS_EVENT_TYPES.search_button_click),this.focusSearch(e),this.autocompleter.toggle()},n.prototype.focusSearch=function(e){return null!=e&&e.preventDefault(),this.trigger("search:open"),this.$("input").val()?this.fullText.focus():this.tokenist.focus()},n.prototype.blurSearch=function(e){return null!=e&&e.preventDefault(),this.autocompleter.hide(),this.current.isAll()?this.trigger("search:close"):void 0;
},n.prototype.onBeforeRender=function(){return this.stopListening(this.tokenist),this.stopListening(this.fullText)},n.prototype.onAfterRender=function(){var e;return e=this.untilEnd(this.$el.asEventStream("focusout").takeUntil(this.asEventStream("render")).delay(50).filter(function(e){return function(t){return!e.focused(t)}}(this))),e.onValue(function(e){return function(t){return e.blurSearch(t)}}(this)),this.autocompleter.setElement(this.$(".autocompleter")).render().hide(),this.tokenist.setElement(this.$(".tokenist")).render(),this.fullText.setElement(this.$(".full-text")).render(),this.listenTo(this.tokenist,"token-add",this.onTokenAdd),this.listenTo(this.tokenist,"token-remove",this.onTokenRemove),this.listenTo(this.tokenist,"tokenist-blur",function(){return window.lastFocusedInput="search"}),this.listenTo(this.fullText,"close",function(e){return function(t){return e.filterChange(),e.focusSearch(t),e.trigger("triggerPrivateSearchToggle"),e.autocompleter.show()}}(this)),this.listenTo(this.fullText,"focus",this.focusSearch),
this.listenTo(this.fullText,"search",this.filterChange)},n.prototype.focused=function(e){return this.$el.find(document.activeElement).length>0},n.prototype.onTokenAdd=function(e){return"full-text"===e.type()&&this.enableFullText(e.query),this.filterChange()},n.prototype.onTokenRemove=function(e){return this.filterChange(),this.isEmpty()&&this.autocompleter.render().show(),this.isEmpty()?this.trigger("triggerPrivateSearchToggle"):void 0},n.prototype.clearFilter=function(e){var t;return null!=e&&e.preventDefault(),this.isEmpty()?(this.blurSearch(e),this.model.isPrivate()?this.trigger("triggerPrivateSearchToggle"):void 0):(t=this.focused(),this.fullText.setQuery(""),this.tokenist.reset([]),this.tokenist.$el.blur(),this.current.isAll()||this.filterChange(),this.tokenist.stopEditor(),this.autocompleter.refreshQuery(""),this.model.isPrivate()&&this.trigger("triggerPrivateSearchToggle"),t?this.focusSearch(e):this.blurSearch(e))},n.prototype.setFilter=function(e,t){var r,o,i,s,a;return null==t&&(t={}),_.defaults(t,{trigger:!0
}),this.preventFilterEvent=!t.trigger,a=_.chain(e.tags||[]).map(function(e){return function(t){return e.model.tags.getOrAdd(t)}}(this)).filter(function(e){return e.humanize()||e.humanizeSpecial()}).value(),s=_.reject(e.event,function(e){return"activity"===e}).map(function(e){return new Models.Filter({event:e})}),i=(e.application||[]).map(function(e){return function(t){var r;return(r=e.model.sources.find(function(e){return e.get("application").id===t}))?n.applicationFilter(r):void 0}}(this)).filter(function(e){return e}),e.application&&i.length!==e.application.length&&(e=new Models.Filter.Inbox),e.isEqual(new Models.Filter.Inbox)||(a=a.concat(s,i)),(a.length!==this.tokenist.tokens.length||_.any(this.tokenist.tokens,function(e){return!_.find(a,function(t){return e instanceof Models.Filter?t instanceof Models.Filter?e.isEqual(t):e.tags[0]===t.id:e.id===t.id})}))&&(r=!0,this.tokenist.reset(a),this.setCurrent()),this.autocompleter.filter=e,this.autocompleter.render().hide(),o=e.toString(),"Search"===o?this.model.isPrivate()?Flowdock.analytics.track(Flowdock.ANALYTICS_EVENT_TYPES.private_search_filter_full_text):Flowdock.analytics.track(Flowdock.ANALYTICS_EVENT_TYPES.search_filter_full_text):void 0===o&&a.length>0?this.model.isPrivate()?Flowdock.analytics.track(Flowdock.ANALYTICS_EVENT_TYPES.private_search_filter_tag):Flowdock.analytics.track(Flowdock.ANALYTICS_EVENT_TYPES.search_filter_tag):a.length>0&&(this.model.isPrivate()?Flowdock.analytics.track(Flowdock.ANALYTICS_EVENT_TYPES.private_search_filter_source):Flowdock.analytics.track(Flowdock.ANALYTICS_EVENT_TYPES.search_filter_source)),
e.query?this.enableFullText(e.query):(this.fullText.setQuery(""),this.enableTokenist(r)),this.preventFilterEvent=null,this.initiallyFiltered=!0},n.prototype.enableFullText=function(e){var t;return t=e!==this.fullText.query,this.tokenist.$el.hide(),this.tokenist.reset([]),this.fullText.setQuery(e,this.initiallyFiltered&&t),this.setCurrent()},n.prototype.enableTokenist=function(e){return this.tokenist.$el.show(),e&&this.initiallyFiltered&&!Flowdock.mobile&&!this.isEmpty()?this.tokenist.focus():void 0},n.prototype.filterChange=function(){var e,t,n,r,o;return e=this.setCurrent(),t={filter:e},(null!=(n=Flowdock.app.manager)&&null!=(r=n.currentView)&&null!=(o=r.viewModel)?o.isSingleViewInFrontOfInbox():void 0)&&(t.message=null,t.thread=null),Flowdock.app.router.navigateToFlow(this.model,t,{trigger:!0})},n.prototype.setCurrent=function(){var e,t,n,r,o,s,a;if(s=_.partition(this.tokenist.tokens,function(e){return function(t){return t.id&&i.call(e.mainFilters,t)<0}}(this)),a=s[0],n=s[1],a.length||n.length||this.fullText.query.length)for(e=Models.Filter.build({
query:this.fullText.query,tags:_.map(a,function(e){return e.id||e})}),r=0,o=n.length;o>r;r++)t=n[r],e=e.merge(t);else e=new Models.Filter;return this.current=e,this.autocompleter.filter=this.current},n.prototype.isEmpty=function(){return this.tokenist.isEmpty()&&""===this.fullText.$("input").val()},n.prototype.onSearchChange=function(e){return this.setFilter(e)},n}(Flowdock.ItemView),_.extend(Views.Toolbar.Search.prototype,Flowdock.KeyboardEvents)},{"../../templates/toolbar/search.mustache":332}],484:[function(e,t,n){var r=function(e,t){function n(){this.constructor=e}for(var r in t)o.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},o={}.hasOwnProperty;Views.Toolbar.UserCounter=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return r(n,t),n.prototype.template=e("../../templates/toolbar/user_counter.mustache"),n.prototype.tagName="a",n.prototype.id="user-counter",n.prototype.modelEvents={"change:access_mode":"privacyChange"},n.prototype.collectionEvents={
add:"renderContent",remove:"renderContent",reset:"renderContent",change:"renderContent"},n.prototype.events={click:"navigate"},n.prototype.keyboardEvents={toggleUserList:"navigate"},n.prototype.partials={icon:e("../../templates/icons/users.mustache")},n.prototype.initialize=function(e){return null==e&&(e={}),this.untilEnd(this.collection.userPresenceUpdates()).debounce(300).throttle(1e3).onValue(this,"renderContent"),this.expanded=!1,this.bindKeyboardEvents()},n.prototype.renderContent=function(){return this.$(".count-total").text(this.collection.available().length),this.$(".count-online").text(this.collection.online().length)},n.prototype.toggleExpanded=function(e){return this.expanded=e},n.prototype.onAfterRender=function(){return this.renderContent(),this.privacyChange()},n.prototype.privacyChange=function(){return this.$el.toggleClass("invite-only","invitation"===this.model.get("access_mode"))},n.prototype.navigate=function(){return Flowdock.app.manager.currentFlow===this.model?this.expanded?this.trigger("close:user-list"):this.trigger("open:user-list"):void 0;
},n}(Flowdock.ItemView),_.extend(Views.Toolbar.UserCounter.prototype,Flowdock.KeyboardEvents)},{"../../templates/icons/users.mustache":252,"../../templates/toolbar/user_counter.mustache":334}],485:[function(e,t,n){var r,o=function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},i={}.hasOwnProperty;r=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}var n;return o(t,e),n=100,t.prototype.initialize=function(e){return null==e&&(e={}),this.truncated=_.defaults(e,{truncated:!0}).truncated},t.prototype.events=function(){return{"click .truncate-toggle":"onClick"}},t.prototype.collapse=function(){return this.truncated=!0,this.$(".truncate-wrap").toggleClass("truncate-open",!1),this.$(".truncate-toggle").attr("title","Show the rest of this message")},t.prototype.expand=function(){return this.truncated=!1,this.$(".truncate-wrap").toggleClass("truncate-open",!0),this.$(".truncate-toggle").attr("title","Collapse this message");
},t.prototype.overflow=function(){return this.el?this.el.scrollHeight>this.el.clientHeight+n:!1},t.prototype.onClick=function(e){return this.truncated?this.expand():this.collapse()},t.prototype.render=function(){return this.$el.addClass("truncate-wrap"),this.whenAttached(function(){return this.overflow()&&this.wrap(),this.$el.removeClass("truncate-wrap")}),this},t.prototype.wrap=function(){var e,t;return e=$("<a>").addClass("truncate-toggle"),t=$("<div>").addClass("truncate-wrap"),this.$el.wrapInner(t),this.$el.append(e),this.$el.addClass("truncated"),this.truncated?this.collapse():this.expand(),this},t}(Flowdock.HierarchicalView),t.exports=r},{}],486:[function(e,t,n){var r=function(e,t){function n(){this.constructor=e}for(var r in t)o.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},o={}.hasOwnProperty;Views.Chat.Invitation=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return r(n,t),n.prototype.tagName="li",n.prototype.className="user invitation clearfix tipsy-tooltip",
n.prototype.render=function(){return this.$el.html(Helpers.renderTemplate(e("../../templates/users/invitation.mustache"))({email:this.model.get("email")})),this.$el.find(".avatar").css("background-image","url("+Presenters.Helper.avatarFromEmail(this.model.get("email"),72)+")"),this},n}(Flowdock.HierarchicalView)},{"../../templates/users/invitation.mustache":335}],487:[function(e,t,n){var r=function(e,t){function n(){this.constructor=e}for(var r in t)o.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},o={}.hasOwnProperty;Views.Chat.Invitations=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return r(t,e),t.prototype.tagName="ul",t.prototype.className="invite-list",t.prototype.collectionEvents={add:"addInvite",remove:"removeInvite",reset:"render"},t.prototype.reset=function(){var e,t,n,r;for(n=this.subviews,e=0,t=n.length;t>e;e++)r=n[e],null!=(null!=r?r.model:void 0)&&this.removeSubview(r);return this.$el.empty()},t.prototype.render=function(){
return this.reset(),this.$el.append(this.collection.map(function(e){return function(t){return e.renderOne(t).$el}}(this))),this.$el.html(),this},t.prototype.renderOne=function(e){var t;return t=this.subview(new Views.Chat.Invitation({model:e})),t.render()},t.prototype.addInvite=function(e){return this.$el.append(this.renderOne(e).$el)},t.prototype.removeInvite=function(e){return this.removeSubview(e)},t}(Flowdock.HierarchicalView)},{}],488:[function(e,t,n){var r,o=function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},i={}.hasOwnProperty;r=e("tether"),Views.Chat.UserCard=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return o(n,t),n.prototype.className="user-card",n.prototype.events={"click .user-card-wrapper":"preventClose","click .private-chat-link":"openPrivate",mouseleave:"delayedRemove",mouseenter:"cancelRemove"},n.prototype.modelEvents={change:"render"},n.prototype.initialize=function(e){
return this.options=null!=e?e:{},this.timeout=null,this.me=this.options.me,this.listenTo(this.model.presenceModel(),"change",this.render),_.defer(function(e){return function(){return $(window).asEventStream("blur click").takeUntil(e.asEventStream("destructor")).onValue(function(){return e.destructor()})}}(this))},n.prototype.render=function(){return this.$el.html(Helpers.renderTemplate(e("../../templates/users/user_card.mustache"))(_.extend(this.model.toJSON(),{isYou:this.model.id===Flowdock.app.user.id}))),this.$(".user-card-activity").html(Helpers.TimeHelper.userPresence(this.model,{since:!0})),this.me===this.model&&this.$(".private-chat-link").hide(),null==this.timeout&&this.delayedRemove(),this.model.get("status")&&this.$el.attr("title",'Status: "'+this.model.get("status")+'"'),this},n.prototype.destructor=function(){var e;return this.cancelRemove(),null!=(e=this.tether)&&e.destroy(),this.me=this.presence=this.tether=null,n.__super__.destructor.call(this,{removeDomElement:!0})},n.prototype.delayedRemove=function(){
return this.cancelRemove(),this.timeout=setTimeout(function(e){return function(){return e.destructor()}}(this),2e3)},n.prototype.cancelRemove=function(){return clearTimeout(this.timeout)},n.prototype.preventClose=function(e){return 0===$(e.target).closest("a").length?e.stopPropagation():void 0},n.prototype.openPrivate=function(){return this.model.canChatWith(this.me)?(Flowdock.app.router.navigateTo({"private":this.model}),this.destructor()):void 0},n.prototype.addTether=function(e){var t;return t={element:this.$el,target:e,attachment:"top left",targetAttachment:"bottom left",constraints:[{to:"scrollParent",attachment:"together",pin:["left","right"]}]},this.options.alwaysVisible||(t.outOfBoundsClass="out-of-bounds"),this.tether=new r(t)},n}(Flowdock.HierarchicalView)},{"../../templates/users/user_card.mustache":337,tether:889}],489:[function(e,t,n){(function(n){!function(){var r=e("crypt"),o=e("charenc").utf8,i=e("charenc").bin,s=function(e,t){e.constructor==String?e=t&&"binary"===t.encoding?i.stringToBytes(e):o.stringToBytes(e):"undefined"!=typeof n&&"function"==typeof n.isBuffer&&n.isBuffer(e)?e=Array.prototype.slice.call(e,0):Array.isArray(e)||(e=e.toString());
for(var a=r.bytesToWords(e),u=8*e.length,l=1732584193,c=-271733879,p=-1732584194,d=271733878,h=0;h<a.length;h++)a[h]=16711935&(a[h]<<8|a[h]>>>24)|4278255360&(a[h]<<24|a[h]>>>8);a[u>>>5]|=128<<u%32,a[(u+64>>>9<<4)+14]=u;for(var f=s._ff,m=s._gg,g=s._hh,v=s._ii,h=0;h<a.length;h+=16){var b=l,y=c,_=p,w=d;l=f(l,c,p,d,a[h+0],7,-680876936),d=f(d,l,c,p,a[h+1],12,-389564586),p=f(p,d,l,c,a[h+2],17,606105819),c=f(c,p,d,l,a[h+3],22,-1044525330),l=f(l,c,p,d,a[h+4],7,-176418897),d=f(d,l,c,p,a[h+5],12,1200080426),p=f(p,d,l,c,a[h+6],17,-1473231341),c=f(c,p,d,l,a[h+7],22,-45705983),l=f(l,c,p,d,a[h+8],7,1770035416),d=f(d,l,c,p,a[h+9],12,-1958414417),p=f(p,d,l,c,a[h+10],17,-42063),c=f(c,p,d,l,a[h+11],22,-1990404162),l=f(l,c,p,d,a[h+12],7,1804603682),d=f(d,l,c,p,a[h+13],12,-40341101),p=f(p,d,l,c,a[h+14],17,-1502002290),c=f(c,p,d,l,a[h+15],22,1236535329),l=m(l,c,p,d,a[h+1],5,-165796510),d=m(d,l,c,p,a[h+6],9,-1069501632),p=m(p,d,l,c,a[h+11],14,643717713),c=m(c,p,d,l,a[h+0],20,-373897302),l=m(l,c,p,d,a[h+5],5,-701558691),d=m(d,l,c,p,a[h+10],9,38016083),
p=m(p,d,l,c,a[h+15],14,-660478335),c=m(c,p,d,l,a[h+4],20,-405537848),l=m(l,c,p,d,a[h+9],5,568446438),d=m(d,l,c,p,a[h+14],9,-1019803690),p=m(p,d,l,c,a[h+3],14,-187363961),c=m(c,p,d,l,a[h+8],20,1163531501),l=m(l,c,p,d,a[h+13],5,-1444681467),d=m(d,l,c,p,a[h+2],9,-51403784),p=m(p,d,l,c,a[h+7],14,1735328473),c=m(c,p,d,l,a[h+12],20,-1926607734),l=g(l,c,p,d,a[h+5],4,-378558),d=g(d,l,c,p,a[h+8],11,-2022574463),p=g(p,d,l,c,a[h+11],16,1839030562),c=g(c,p,d,l,a[h+14],23,-35309556),l=g(l,c,p,d,a[h+1],4,-1530992060),d=g(d,l,c,p,a[h+4],11,1272893353),p=g(p,d,l,c,a[h+7],16,-155497632),c=g(c,p,d,l,a[h+10],23,-1094730640),l=g(l,c,p,d,a[h+13],4,681279174),d=g(d,l,c,p,a[h+0],11,-358537222),p=g(p,d,l,c,a[h+3],16,-722521979),c=g(c,p,d,l,a[h+6],23,76029189),l=g(l,c,p,d,a[h+9],4,-640364487),d=g(d,l,c,p,a[h+12],11,-421815835),p=g(p,d,l,c,a[h+15],16,530742520),c=g(c,p,d,l,a[h+2],23,-995338651),l=v(l,c,p,d,a[h+0],6,-198630844),d=v(d,l,c,p,a[h+7],10,1126891415),p=v(p,d,l,c,a[h+14],15,-1416354905),c=v(c,p,d,l,a[h+5],21,-57434055),l=v(l,c,p,d,a[h+12],6,1700485571),
d=v(d,l,c,p,a[h+3],10,-1894986606),p=v(p,d,l,c,a[h+10],15,-1051523),c=v(c,p,d,l,a[h+1],21,-2054922799),l=v(l,c,p,d,a[h+8],6,1873313359),d=v(d,l,c,p,a[h+15],10,-30611744),p=v(p,d,l,c,a[h+6],15,-1560198380),c=v(c,p,d,l,a[h+13],21,1309151649),l=v(l,c,p,d,a[h+4],6,-145523070),d=v(d,l,c,p,a[h+11],10,-1120210379),p=v(p,d,l,c,a[h+2],15,718787259),c=v(c,p,d,l,a[h+9],21,-343485551),l=l+b>>>0,c=c+y>>>0,p=p+_>>>0,d=d+w>>>0}return r.endian([l,c,p,d])};s._ff=function(e,t,n,r,o,i,s){var a=e+(t&n|~t&r)+(o>>>0)+s;return(a<<i|a>>>32-i)+t},s._gg=function(e,t,n,r,o,i,s){var a=e+(t&r|n&~r)+(o>>>0)+s;return(a<<i|a>>>32-i)+t},s._hh=function(e,t,n,r,o,i,s){var a=e+(t^n^r)+(o>>>0)+s;return(a<<i|a>>>32-i)+t},s._ii=function(e,t,n,r,o,i,s){var a=e+(n^(t|~r))+(o>>>0)+s;return(a<<i|a>>>32-i)+t},s._blocksize=16,s._digestsize=16,t.exports=function(e,t){if("undefined"!=typeof e){var n=r.wordsToBytes(s(e,t));return t&&t.asBytes?n:t&&t.asString?i.bytesToString(n):r.bytesToHex(n)}}}()}).call(this,e("buffer").Buffer)},{buffer:501,charenc:490,crypt:491
}],490:[function(e,t,n){var r={utf8:{stringToBytes:function(e){return r.bin.stringToBytes(unescape(encodeURIComponent(e)))},bytesToString:function(e){return decodeURIComponent(escape(r.bin.bytesToString(e)))}},bin:{stringToBytes:function(e){for(var t=[],n=0;n<e.length;n++)t.push(255&e.charCodeAt(n));return t},bytesToString:function(e){for(var t=[],n=0;n<e.length;n++)t.push(String.fromCharCode(e[n]));return t.join("")}}};t.exports=r},{}],491:[function(e,t,n){!function(){var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n={rotl:function(e,t){return e<<t|e>>>32-t},rotr:function(e,t){return e<<32-t|e>>>t},endian:function(e){if(e.constructor==Number)return 16711935&n.rotl(e,8)|4278255360&n.rotl(e,24);for(var t=0;t<e.length;t++)e[t]=n.endian(e[t]);return e},randomBytes:function(e){for(var t=[];e>0;e--)t.push(Math.floor(256*Math.random()));return t},bytesToWords:function(e){for(var t=[],n=0,r=0;n<e.length;n++,r+=8)t[r>>>5]|=e[n]<<24-r%32;return t},wordsToBytes:function(e){for(var t=[],n=0;n<32*e.length;n+=8)t.push(e[n>>>5]>>>24-n%32&255);
return t},bytesToHex:function(e){for(var t=[],n=0;n<e.length;n++)t.push((e[n]>>>4).toString(16)),t.push((15&e[n]).toString(16));return t.join("")},hexToBytes:function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(parseInt(e.substr(n,2),16));return t},bytesToBase64:function(t){for(var n=[],r=0;r<t.length;r+=3)for(var o=t[r]<<16|t[r+1]<<8|t[r+2],i=0;4>i;i++)8*r+6*i<=8*t.length?n.push(e.charAt(o>>>6*(3-i)&63)):n.push("=");return n.join("")},base64ToBytes:function(t){t=t.replace(/[^A-Z0-9+\/]/gi,"");for(var n=[],r=0,o=0;r<t.length;o=++r%4)0!=o&&n.push((e.indexOf(t.charAt(r-1))&Math.pow(2,-2*o+8)-1)<<2*o|e.indexOf(t.charAt(r))>>>6-2*o);return n}};t.exports=n}()},{}],492:[function(e,t,n){Backbone.History.prototype.navigate=function(e,t){if(!Backbone.History.started)return!1;t&&t!==!0||(t={trigger:!!t});var n=this.root+(e=this.getFragment(e||""));if(this.fragment!==e){if(this.fragment=e,""===e&&"/"!==n&&(n=n.slice(0,-1)),this._hasPushState)this.history[t.replace?"replaceState":"pushState"]({},document.title,n);else{if(!this._wantsHashChange)return this.location.assign(n);
this._updateHash(this.location,e,t.replace),this.iframe&&e!==this.getFragment(this.getHash(this.iframe))&&(t.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,e,t.replace))}return t.trigger?this.loadUrl(e):void 0}}},{}],493:[function(e,t,n){!function(r,o){"object"==typeof n&&r.require?t.exports=o(e("underscore"),e("backbone")):"function"==typeof define&&define.amd?define(["underscore","backbone"],function(e,t){return o(e||r._,t||r.Backbone)}):o(_,Backbone)}(this,function(e,t){function n(r,o){function i(e){return String(e).replace(s,encodeURIComponent(s))}var s=t.Router.arrayValueSplit;if(!r)return"";o=o||"";var a=[];return e.each(r,function(t,r){if(r=o+r,e.isString(t)||e.isNumber(t)||e.isBoolean(t)||e.isDate(t))null!=t&&a.push(r+"="+i(encodeURIComponent(t)));else if(e.isArray(t)){for(var u="",l=0;l<t.length;l++){var c=t[l];null!=c&&(u+=s+i(c))}u&&a.push(r+"="+u)}else{var p=n(t,r+".");p&&a.push(p)}}),a.join("&")}function r(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch(t){
return e}}function o(t,n){var r=t.split("&");e.each(r,function(e){var t=e.split("=");n(t.shift(),t.join("="))})}var i=/^\?(.*)/,s=/\((.*?)\)/g,a=/(\(\?)?:\w+/g,u=/\*\w+/g,l=/[\-{}\[\]+?.,\\\^$|#\s]/g,c=/^([^\?]*)/,p=/[\:\*]([^\:\?\/]+)/g,d=/^[#\/]|\s+$/g,h=/\/$/;t.Router.arrayValueSplit="|",e.extend(t.History.prototype,{getFragment:function(e,t){if(null==e)if(this._hasPushState||!this._wantsHashChange||t){e=this.location.pathname;var n=this.root.replace(h,""),r=this.location.search;e.indexOf(n)||(e=e.substr(n.length)),r&&this._hasPushState&&(e+=r)}else e=this.getHash();return e.replace(d,"")},getQueryParameters:function(t,n){t=this.getFragment(t,n);var s=t.replace(c,""),a=s.match(i);if(a){s=a[1];var u={};return o(s,function(t,n){n=r(n),u[t]?e.isString(u[t])?u[t]=[u[t],n]:u[t].push(n):u[t]=n}),u}return{}}}),e.extend(t.Router.prototype,{initialize:function(e){this.encodedSplatParts=e&&e.encodedSplatParts},_routeToRegExp:function(t){var n=u.exec(t)||{index:-1},r=a.exec(t)||{index:-1},o=t.match(p)||[];t=t.replace(l,"\\$&").replace(s,"(?:$1)?").replace(a,function(e,t){
return t?e:"([^\\/\\?]+)"}).replace(u,"([^??]*?)"),t+="(\\?.*)?";var i=new RegExp("^"+t+"$");return n.index>=0&&(r>=0?i.splatMatch=n.index-r.index:i.splatMatch=-1),i.paramNames=e.map(o,function(e){return e.substring(1)}),i.namedParameters=this.namedParameters,i},_extractParameters:function(n,s){var a=n.exec(s).slice(1),u={};a.length>0&&e.isUndefined(a[a.length-1])&&a.splice(a.length-1,1);var l=a.length&&a[a.length-1]&&a[a.length-1].match(i);if(l){var c=l[1],p={};if(c){var d=this;o(c,function(e,t){d._setParamValue(e,t,p)})}a[a.length-1]=p,e.extend(u,p)}var h=a.length;if(n.splatMatch&&this.encodedSplatParts){if(n.splatMatch<0)return a;h-=1}for(var f=0;h>f;f++)e.isString(a[f])&&(a[f]=r(a[f]),n.paramNames&&n.paramNames.length>=f-1&&(u[n.paramNames[f]]=a[f]));return t.Router.namedParameters||n.namedParameters?[u]:a},_setParamValue:function(e,t,n){e=e.replace("[]",""),e=e.replace("%5B%5D","");for(var r=e.split("."),o=n,i=0;i<r.length;i++){var s=r[i];i===r.length-1?o[s]=this._decodeParamValue(t,o[s]):o=o[s]=o[s]||{}}
},_decodeParamValue:function(n,o){var i=t.Router.arrayValueSplit;if(i&&n.indexOf(i)>=0){for(var s=n.split(i),a=s.length-1;a>=0;a--)s[a]?s[a]=r(s[a]):s.splice(a,1);return s}return n=r(n),o?e.isArray(o)?(o.push(n),o):[o,n]:n},toFragment:function(t,r){return r&&(e.isString(r)||(r=n(r)),r&&(t+="?"+r)),t}})})},{backbone:499,underscore:891}],494:[function(e,t,n){!function(n,r){"function"==typeof define&&define.amd?define(["react","backbone","underscore"],r):"undefined"!=typeof t&&t.exports?t.exports=r(e("react"),e("backbone"),e("underscore")):r(n.React,n.Backbone,n._)}(this,function(e,t,n){"use strict";function r(e,t,n){this.state={},this.component=e;var r,o,i=n||e.props||{};r=e.overrideModel&&"function"==typeof e.overrideModel?e.overrideModel():i.model,o=e.overrideCollection&&"function"==typeof e.overrideCollection?e.overrideCollection():i.collection,this.setModels(r,t),this.setCollections(o,t)}t.React||(t.React={}),t.React.Component||(t.React.Component={});var o=t.React.Component.mixin={childContextTypes:{hasParentBackboneMixin:e.PropTypes.bool.isRequired,
parentModel:e.PropTypes.any,parentCollection:e.PropTypes.any},contextTypes:{hasParentBackboneMixin:e.PropTypes.bool,parentModel:e.PropTypes.any,parentCollection:e.PropTypes.any},getChildContext:function(){return{hasParentBackboneMixin:!0,parentModel:this.getModel(),parentCollection:this.getCollection()}},componentDidMount:function(){this.setElement(e.findDOMNode(this))},componentDidUpdate:function(){this.setElement(e.findDOMNode(this))},getInitialState:function(){var e={};return this.wrapper||(this.wrapper=new r(this,e)),e},componentWillMount:function(){this.wrapper||(this.wrapper=new r(this))},componentWillUnmount:function(){this.wrapper&&(this.wrapper.stopListening(),delete this.wrapper)},componentWillReceiveProps:function(e){var t=e.model,n=e.collection;this.wrapper.model&&t?this.wrapper.model!==t&&(this.wrapper.stopListening(),this.wrapper=new r(this,void 0,e)):t&&(this.wrapper=new r(this,void 0,e)),this.wrapper.collection&&n?this.wrapper.collection!==n&&(this.wrapper.stopListening(),this.wrapper=new r(this,void 0,e)):n&&(this.wrapper=new r(this,void 0,e));
},$:function(){var t;if(this.$el)t=this.$el.find.apply(this.$el,arguments);else{var n=e.findDOMNode(this);t=n.querySelector.apply(n,arguments)}return t},getCollection:function(){return this.wrapper.collection||this.context.parentCollection},getModel:function(){return this.wrapper.model||this.context.parentModel},setElement:function(e){if(e&&t.$&&e instanceof t.$){if(e.length>1)throw new Error("You can only assign one element to a component");this.el=e[0],this.$el=e}else e&&(this.el=e,t.$&&(this.$el=t.$(e)));return this}};return n.extend(r.prototype,t.Events,{onError:function(e,t,n){n.silent||this.component.setState({isRequesting:!1,hasError:!0,error:t})},onInvalid:function(e,t,n){n.silent||this.component.setState({isInvalid:!0})},onRequest:function(e,t,n){n.silent||this.component.setState({isRequesting:!0,hasError:!1,isInvalid:!1})},onSync:function(e,t,n){n.silent||this.component.setState({isRequesting:!1})},setModels:function(e,t,r){"undefined"!=typeof e&&(e.attributes||"object"==typeof e&&n.values(e)[0].attributes)&&(this.model=e,
this.setStateBackbone(e,void 0,t,r),this.startModelListeners(e))},setCollections:function(e,t,r){"undefined"!=typeof e&&(e.models||"object"==typeof e&&n.values(e)[0].models)&&(this.collection=e,this.setStateBackbone(e,void 0,t,r),this.startCollectionListeners(e))},setStateBackbone:function(e,t,n,r){if(e.models||e.attributes)this.setState.apply(this,arguments);else for(t in e)this.setStateBackbone(e[t],t,n)},setState:function(e,t,r,o){var i={},s=e.toJSON?e.toJSON():e;t?i[t]=s:e.models?i.collection=s:i.model=s,r?n.extend(r,i):o?(this.nextState=n.extend(this.nextState||{},i),n.defer(n.bind(function(){this.nextState&&(this.component.setState(this.nextState),this.nextState=null)},this))):this.component.setState(i)},startCollectionListeners:function(e,t){if(e||(e=this.collection),e)if(e.models)this.listenTo(e,"add remove change sort reset",n.partial(this.setStateBackbone,e,t,void 0,!0)).listenTo(e,"error",this.onError).listenTo(e,"request",this.onRequest).listenTo(e,"sync",this.onSync);else if("object"==typeof e)for(t in e)e.hasOwnProperty(t)&&this.startCollectionListeners(e[t],t);
},startModelListeners:function(e,t){if(e||(e=this.model),e)if(e.attributes)this.listenTo(e,"change",n.partial(this.setStateBackbone,e,t,void 0,!0)).listenTo(e,"error",this.onError).listenTo(e,"request",this.onRequest).listenTo(e,"sync",this.onSync).listenTo(e,"invalid",this.onInvalid);else if("object"==typeof e)for(t in e)this.startModelListeners(e[t],t)}}),o})},{backbone:499,react:842,underscore:891}],495:[function(e,t,n){var r,o,i,s,a,u={}.hasOwnProperty,l=function(e,t){function n(){this.constructor=e}for(var r in t)u.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};r=(("undefined"!=typeof window&&null!==window?window.Backbone:void 0)||e("backbone")).Collection,a=("undefined"!=typeof window&&null!==window?window._:void 0)||e("underscore"),s=a.toArray,o=a.extend,i=function(e){var t;return t=function(t){return e.indexOf(t)},t.induced=!0,t},n.Capped=function(e){function t(e,n){var r=this;null==n&&(n={}),this.underlying=e,this.model=e.model,this.comparator=n.comparator||i(e),
this.options=o({cap:5},e.options,n),t.__super__.constructor.call(this,this._capped(this.underlying.models),n),this.listenTo(this.underlying,{reset:function(){return r.reset(r._capped(r.underlying.models))},remove:function(e){var t;return r.contains(e)?(r.remove(e),t=r._capped(r.underlying.models),r.add(t[r.options.cap-1])):void 0},add:function(e){return r.length<r.options.cap?r.add(e):r.comparator(e)<r.comparator(r.last())?(r.add(e),r.remove(r.at(r.options.cap))):void 0},sort:function(){return r.comparator.induced?r.reset(r._capped(r.underlying.models)):void 0}})}return l(t,e),t.prototype._capped=function(e){var t=this;return e=s(e),e.sort(function(e,n){return e=t.comparator(e),n=t.comparator(n),e>n?1:n>e?-1:0}),e.slice(0,this.options.cap)},t.prototype.resize=function(e){var t,n,r,o,i;if(this.options.cap>e)for(this.options.cap=e,i=this.models,n=o=i.length-1;o>=0&&(r=i[n],!(e>n));n=o+=-1)this.remove(r);else this.options.cap<e&&(this.options.cap=e,t=this._capped(this.underlying.models),this.add(t.slice(this.length,this.options.cap)));
return this.trigger("resize")},t}(r),n.CappedCollection=n.Capped},{backbone:499,underscore:891}],496:[function(e,t,n){var r,o,i,s={}.hasOwnProperty,a=function(e,t){function n(){this.constructor=e}for(var r in t)s.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};r=(("undefined"!=typeof window&&null!==window?window.Backbone:void 0)||e("backbone")).Collection,o=(("undefined"!=typeof window&&null!==window?window._:void 0)||e("underscore")).extend,i=function(e){var t;return t=function(t){return e.indexOf(t)},t.induced=!0,t},n.Filtered=function(e){function t(e,n){var r=this;null==n&&(n={}),this.underlying=e,this.model=e.model,this.comparator=n.comparator||i(e),this.options=o({},e.options,n),t.__super__.constructor.call(this,this.underlying.models.filter(this.options.filter),n),this.listenTo(this.underlying,{reset:function(){return r.reset(r.underlying.models.filter(r.options.filter))},remove:function(e){return r.contains(e)?r.remove(e):void 0},add:function(e){return r.options.filter(e)?r.add(e):void 0;
},change:function(e){return r.decideOn(e)},sort:function(){return r.comparator.induced?r.sort():void 0}})}return a(t,e),t.prototype.update=function(){var e,t,n,r,o;for(r=this.underlying.models,o=[],t=0,n=r.length;n>t;t++)e=r[t],o.push(this.decideOn(e));return o},t.prototype.decideOn=function(e){if(this.contains(e)){if(!this.options.filter(e))return this.remove(e)}else if(this.options.filter(e))return this.add(e)},t}(r),n.FilteredCollection=n.Filtered},{backbone:499,underscore:891}],497:[function(e,t,n){var r;r=(("undefined"!=typeof window&&null!==window?window._:void 0)||e("underscore")).extend,t.exports=r({},e("./capped"),e("./filtered"),e("./sorted"))},{"./capped":495,"./filtered":496,"./sorted":498,underscore:891}],498:[function(e,t,n){var r,o,i={}.hasOwnProperty,s=function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};r=(("undefined"!=typeof window&&null!==window?window.Backbone:void 0)||e("backbone")).Collection,
o=(("undefined"!=typeof window&&null!==window?window._:void 0)||e("underscore")).extend,n.Sorted=function(e){function t(e,n){var r=this;if(null==n&&(n={}),!n.comparator)throw new Error("provide a comparator");this.underlying=e,this.model=e.model,this.comparator=n.comparator,this.options=o({},e.options,n),t.__super__.constructor.call(this,this.underlying.models,n),this.listenTo(this.underlying,{reset:function(){return r.reset(r.underlying.models)},remove:function(e){return r.remove(e)},add:function(e){return r.add(e)}})}return s(t,e),t}(r),n.Reversed=function(e){function t(e,n){null==n&&(n={}),n.comparator=function(t){return-e.indexOf(t)},t.__super__.constructor.call(this,e,n),this.listenTo(this.underlying,{sort:this.sort})}return s(t,e),t}(n.Sorted),n.SortedCollection=n.Sorted,n.ReversedCollection=n.Reversed},{backbone:499,underscore:891}],499:[function(e,t,n){(function(t){!function(r){var o="object"==typeof self&&self.self==self&&self||"object"==typeof t&&t.global==t&&t;if("function"==typeof define&&define.amd)define(["underscore","jquery","exports"],function(e,t,n){
o.Backbone=r(o,n,e,t)});else if("undefined"!=typeof n){var i,s=e("underscore");try{i=e("jquery")}catch(a){}r(o,n,s,i)}else o.Backbone=r(o,{},o._,o.jQuery||o.Zepto||o.ender||o.$)}(function(e,t,n,r){var o=e.Backbone,i=Array.prototype.slice;t.VERSION="1.2.3",t.$=r,t.noConflict=function(){return e.Backbone=o,this},t.emulateHTTP=!1,t.emulateJSON=!1;var s=function(e,t,r){switch(e){case 1:return function(){return n[t](this[r])};case 2:return function(e){return n[t](this[r],e)};case 3:return function(e,o){return n[t](this[r],u(e,this),o)};case 4:return function(e,o,i){return n[t](this[r],u(e,this),o,i)};default:return function(){var e=i.call(arguments);return e.unshift(this[r]),n[t].apply(n,e)}}},a=function(e,t,r){n.each(t,function(t,o){n[o]&&(e.prototype[o]=s(t,o,r))})},u=function(e,t){return n.isFunction(e)?e:n.isObject(e)&&!t._isModel(e)?l(e):n.isString(e)?function(t){return t.get(e)}:e},l=function(e){var t=n.matches(e);return function(e){return t(e.attributes)}},c=t.Events={},p=/\s+/,d=function(e,t,r,o,i){var s,a=0;
if(r&&"object"==typeof r){void 0!==o&&"context"in i&&void 0===i.context&&(i.context=o);for(s=n.keys(r);a<s.length;a++)t=d(e,t,s[a],r[s[a]],i)}else if(r&&p.test(r))for(s=r.split(p);a<s.length;a++)t=e(t,s[a],o,i);else t=e(t,r,o,i);return t};c.on=function(e,t,n){return h(this,e,t,n)};var h=function(e,t,n,r,o){if(e._events=d(f,e._events||{},t,n,{context:r,ctx:e,listening:o}),o){var i=e._listeners||(e._listeners={});i[o.id]=o}return e};c.listenTo=function(e,t,r){if(!e)return this;var o=e._listenId||(e._listenId=n.uniqueId("l")),i=this._listeningTo||(this._listeningTo={}),s=i[o];if(!s){var a=this._listenId||(this._listenId=n.uniqueId("l"));s=i[o]={obj:e,objId:o,id:a,listeningTo:i,count:0}}return h(e,t,r,this,s),this};var f=function(e,t,n,r){if(n){var o=e[t]||(e[t]=[]),i=r.context,s=r.ctx,a=r.listening;a&&a.count++,o.push({callback:n,context:i,ctx:i||s,listening:a})}return e};c.off=function(e,t,n){return this._events?(this._events=d(m,this._events,e,t,{context:n,listeners:this._listeners}),this):this},c.stopListening=function(e,t,r){
var o=this._listeningTo;if(!o)return this;for(var i=e?[e._listenId]:n.keys(o),s=0;s<i.length;s++){var a=o[i[s]];if(!a)break;a.obj.off(t,r,this)}return n.isEmpty(o)&&(this._listeningTo=void 0),this};var m=function(e,t,r,o){if(e){var i,s=0,a=o.context,u=o.listeners;if(t||r||a){for(var l=t?[t]:n.keys(e);s<l.length;s++){t=l[s];var c=e[t];if(!c)break;for(var p=[],d=0;d<c.length;d++){var h=c[d];r&&r!==h.callback&&r!==h.callback._callback||a&&a!==h.context?p.push(h):(i=h.listening,i&&0===--i.count&&(delete u[i.id],delete i.listeningTo[i.objId]))}p.length?e[t]=p:delete e[t]}return n.size(e)?e:void 0}for(var f=n.keys(u);s<f.length;s++)i=u[f[s]],delete u[i.id],delete i.listeningTo[i.objId]}};c.once=function(e,t,r){var o=d(g,{},e,t,n.bind(this.off,this));return this.on(o,void 0,r)},c.listenToOnce=function(e,t,r){var o=d(g,{},t,r,n.bind(this.stopListening,this,e));return this.listenTo(e,o)};var g=function(e,t,r,o){if(r){var i=e[t]=n.once(function(){o(t,i),r.apply(this,arguments)});i._callback=r}return e};c.trigger=function(e){
if(!this._events)return this;for(var t=Math.max(0,arguments.length-1),n=Array(t),r=0;t>r;r++)n[r]=arguments[r+1];return d(v,this._events,e,void 0,n),this};var v=function(e,t,n,r){if(e){var o=e[t],i=e.all;o&&i&&(i=i.slice()),o&&b(o,r),i&&b(i,[t].concat(r))}return e},b=function(e,t){var n,r=-1,o=e.length,i=t[0],s=t[1],a=t[2];switch(t.length){case 0:for(;++r<o;)(n=e[r]).callback.call(n.ctx);return;case 1:for(;++r<o;)(n=e[r]).callback.call(n.ctx,i);return;case 2:for(;++r<o;)(n=e[r]).callback.call(n.ctx,i,s);return;case 3:for(;++r<o;)(n=e[r]).callback.call(n.ctx,i,s,a);return;default:for(;++r<o;)(n=e[r]).callback.apply(n.ctx,t);return}};c.bind=c.on,c.unbind=c.off,n.extend(t,c);var y=t.Model=function(e,t){var r=e||{};t||(t={}),this.cid=n.uniqueId(this.cidPrefix),this.attributes={},t.collection&&(this.collection=t.collection),t.parse&&(r=this.parse(r,t)||{}),r=n.defaults({},r,n.result(this,"defaults")),this.set(r,t),this.changed={},this.initialize.apply(this,arguments)};n.extend(y.prototype,c,{changed:null,validationError:null,
idAttribute:"id",cidPrefix:"c",initialize:function(){},toJSON:function(e){return n.clone(this.attributes)},sync:function(){return t.sync.apply(this,arguments)},get:function(e){return this.attributes[e]},escape:function(e){return n.escape(this.get(e))},has:function(e){return null!=this.get(e)},matches:function(e){return!!n.iteratee(e,this)(this.attributes)},set:function(e,t,r){if(null==e)return this;var o;if("object"==typeof e?(o=e,r=t):(o={})[e]=t,r||(r={}),!this._validate(o,r))return!1;var i=r.unset,s=r.silent,a=[],u=this._changing;this._changing=!0,u||(this._previousAttributes=n.clone(this.attributes),this.changed={});var l=this.attributes,c=this.changed,p=this._previousAttributes;for(var d in o)t=o[d],n.isEqual(l[d],t)||a.push(d),n.isEqual(p[d],t)?delete c[d]:c[d]=t,i?delete l[d]:l[d]=t;if(this.id=this.get(this.idAttribute),!s){a.length&&(this._pending=r);for(var h=0;h<a.length;h++)this.trigger("change:"+a[h],this,l[a[h]],r)}if(u)return this;if(!s)for(;this._pending;)r=this._pending,this._pending=!1,this.trigger("change",this,r);
return this._pending=!1,this._changing=!1,this},unset:function(e,t){return this.set(e,void 0,n.extend({},t,{unset:!0}))},clear:function(e){var t={};for(var r in this.attributes)t[r]=void 0;return this.set(t,n.extend({},e,{unset:!0}))},hasChanged:function(e){return null==e?!n.isEmpty(this.changed):n.has(this.changed,e)},changedAttributes:function(e){if(!e)return this.hasChanged()?n.clone(this.changed):!1;var t=this._changing?this._previousAttributes:this.attributes,r={};for(var o in e){var i=e[o];n.isEqual(t[o],i)||(r[o]=i)}return n.size(r)?r:!1},previous:function(e){return null!=e&&this._previousAttributes?this._previousAttributes[e]:null},previousAttributes:function(){return n.clone(this._previousAttributes)},fetch:function(e){e=n.extend({parse:!0},e);var t=this,r=e.success;return e.success=function(n){var o=e.parse?t.parse(n,e):n;return t.set(o,e)?(r&&r.call(e.context,t,n,e),void t.trigger("sync",t,n,e)):!1},U(this,e),this.sync("read",this,e)},save:function(e,t,r){var o;null==e||"object"==typeof e?(o=e,r=t):(o={})[e]=t,
r=n.extend({validate:!0,parse:!0},r);var i=r.wait;if(o&&!i){if(!this.set(o,r))return!1}else if(!this._validate(o,r))return!1;var s=this,a=r.success,u=this.attributes;r.success=function(e){s.attributes=u;var t=r.parse?s.parse(e,r):e;return i&&(t=n.extend({},o,t)),t&&!s.set(t,r)?!1:(a&&a.call(r.context,s,e,r),void s.trigger("sync",s,e,r))},U(this,r),o&&i&&(this.attributes=n.extend({},u,o));var l=this.isNew()?"create":r.patch?"patch":"update";"patch"!==l||r.attrs||(r.attrs=o);var c=this.sync(l,this,r);return this.attributes=u,c},destroy:function(e){e=e?n.clone(e):{};var t=this,r=e.success,o=e.wait,i=function(){t.stopListening(),t.trigger("destroy",t,t.collection,e)};e.success=function(n){o&&i(),r&&r.call(e.context,t,n,e),t.isNew()||t.trigger("sync",t,n,e)};var s=!1;return this.isNew()?n.defer(e.success):(U(this,e),s=this.sync("delete",this,e)),o||i(),s},url:function(){var e=n.result(this,"urlRoot")||n.result(this.collection,"url")||$();if(this.isNew())return e;var t=this.get(this.idAttribute);return e.replace(/[^\/]$/,"$&/")+encodeURIComponent(t);
},parse:function(e,t){return e},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(e){return this._validate({},n.defaults({validate:!0},e))},_validate:function(e,t){if(!t.validate||!this.validate)return!0;e=n.extend({},this.attributes,e);var r=this.validationError=this.validate(e,t)||null;return r?(this.trigger("invalid",this,r,n.extend(t,{validationError:r})),!1):!0}});var _={keys:1,values:1,pairs:1,invert:1,pick:0,omit:0,chain:1,isEmpty:1};a(y,_,"attributes");var w=t.Collection=function(e,t){t||(t={}),t.model&&(this.model=t.model),void 0!==t.comparator&&(this.comparator=t.comparator),this._reset(),this.initialize.apply(this,arguments),e&&this.reset(e,n.extend({silent:!0},t))},k={add:!0,remove:!0,merge:!0},x={add:!0,remove:!1},C=function(e,t,n){n=Math.min(Math.max(n,0),e.length);for(var r=Array(e.length-n),o=t.length,i=0;i<r.length;i++)r[i]=e[i+n];for(i=0;o>i;i++)e[i+n]=t[i];for(i=0;i<r.length;i++)e[i+o+n]=r[i]};n.extend(w.prototype,c,{
model:y,initialize:function(){},toJSON:function(e){return this.map(function(t){return t.toJSON(e)})},sync:function(){return t.sync.apply(this,arguments)},add:function(e,t){return this.set(e,n.extend({merge:!1},t,x))},remove:function(e,t){t=n.extend({},t);var r=!n.isArray(e);e=r?[e]:n.clone(e);var o=this._removeModels(e,t);return!t.silent&&o&&this.trigger("update",this,t),r?o[0]:o},set:function(e,t){if(null!=e){t=n.defaults({},t,k),t.parse&&!this._isModel(e)&&(e=this.parse(e,t));var r=!n.isArray(e);e=r?[e]:e.slice();var o=t.at;null!=o&&(o=+o),0>o&&(o+=this.length+1);for(var i,s=[],a=[],u=[],l={},c=t.add,p=t.merge,d=t.remove,h=!1,f=this.comparator&&null==o&&t.sort!==!1,m=n.isString(this.comparator)?this.comparator:null,g=0;g<e.length;g++){i=e[g];var v=this.get(i);if(v){if(p&&i!==v){var b=this._isModel(i)?i.attributes:i;t.parse&&(b=v.parse(b,t)),v.set(b,t),f&&!h&&(h=v.hasChanged(m))}l[v.cid]||(l[v.cid]=!0,s.push(v)),e[g]=v}else c&&(i=e[g]=this._prepareModel(i,t),i&&(a.push(i),this._addReference(i,t),l[i.cid]=!0,s.push(i)));
}if(d){for(g=0;g<this.length;g++)i=this.models[g],l[i.cid]||u.push(i);u.length&&this._removeModels(u,t)}var y=!1,_=!f&&c&&d;if(s.length&&_?(y=this.length!=s.length||n.some(this.models,function(e,t){return e!==s[t]}),this.models.length=0,C(this.models,s,0),this.length=this.models.length):a.length&&(f&&(h=!0),C(this.models,a,null==o?this.length:o),this.length=this.models.length),h&&this.sort({silent:!0}),!t.silent){for(g=0;g<a.length;g++)null!=o&&(t.index=o+g),i=a[g],i.trigger("add",i,this,t);(h||y)&&this.trigger("sort",this,t),(a.length||u.length)&&this.trigger("update",this,t)}return r?e[0]:e}},reset:function(e,t){t=t?n.clone(t):{};for(var r=0;r<this.models.length;r++)this._removeReference(this.models[r],t);return t.previousModels=this.models,this._reset(),e=this.add(e,n.extend({silent:!0},t)),t.silent||this.trigger("reset",this,t),e},push:function(e,t){return this.add(e,n.extend({at:this.length},t))},pop:function(e){var t=this.at(this.length-1);return this.remove(t,e)},unshift:function(e,t){return this.add(e,n.extend({
at:0},t))},shift:function(e){var t=this.at(0);return this.remove(t,e)},slice:function(){return i.apply(this.models,arguments)},get:function(e){if(null==e)return void 0;var t=this.modelId(this._isModel(e)?e.attributes:e);return this._byId[e]||this._byId[t]||this._byId[e.cid]},at:function(e){return 0>e&&(e+=this.length),this.models[e]},where:function(e,t){return this[t?"find":"filter"](e)},findWhere:function(e){return this.where(e,!0)},sort:function(e){var t=this.comparator;if(!t)throw new Error("Cannot sort a set without a comparator");e||(e={});var r=t.length;return n.isFunction(t)&&(t=n.bind(t,this)),1===r||n.isString(t)?this.models=this.sortBy(t):this.models.sort(t),e.silent||this.trigger("sort",this,e),this},pluck:function(e){return n.invoke(this.models,"get",e)},fetch:function(e){e=n.extend({parse:!0},e);var t=e.success,r=this;return e.success=function(n){var o=e.reset?"reset":"set";r[o](n,e),t&&t.call(e.context,r,n,e),r.trigger("sync",r,n,e)},U(this,e),this.sync("read",this,e)},create:function(e,t){t=t?n.clone(t):{};
var r=t.wait;if(e=this._prepareModel(e,t),!e)return!1;r||this.add(e,t);var o=this,i=t.success;return t.success=function(e,t,n){r&&o.add(e,n),i&&i.call(n.context,e,t,n)},e.save(null,t),e},parse:function(e,t){return e},clone:function(){return new this.constructor(this.models,{model:this.model,comparator:this.comparator})},modelId:function(e){return e[this.model.prototype.idAttribute||"id"]},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(e,t){if(this._isModel(e))return e.collection||(e.collection=this),e;t=t?n.clone(t):{},t.collection=this;var r=new this.model(e,t);return r.validationError?(this.trigger("invalid",this,r.validationError,t),!1):r},_removeModels:function(e,t){for(var n=[],r=0;r<e.length;r++){var o=this.get(e[r]);if(o){var i=this.indexOf(o);this.models.splice(i,1),this.length--,t.silent||(t.index=i,o.trigger("remove",o,this,t)),n.push(o),this._removeReference(o,t)}}return n.length?n:!1},_isModel:function(e){return e instanceof y},_addReference:function(e,t){this._byId[e.cid]=e;
var n=this.modelId(e.attributes);null!=n&&(this._byId[n]=e),e.on("all",this._onModelEvent,this)},_removeReference:function(e,t){delete this._byId[e.cid];var n=this.modelId(e.attributes);null!=n&&delete this._byId[n],this===e.collection&&delete e.collection,e.off("all",this._onModelEvent,this)},_onModelEvent:function(e,t,n,r){if("add"!==e&&"remove"!==e||n===this){if("destroy"===e&&this.remove(t,r),"change"===e){var o=this.modelId(t.previousAttributes()),i=this.modelId(t.attributes);o!==i&&(null!=o&&delete this._byId[o],null!=i&&(this._byId[i]=t))}this.trigger.apply(this,arguments)}}});var E={forEach:3,each:3,map:3,collect:3,reduce:4,foldl:4,inject:4,reduceRight:4,foldr:4,find:3,detect:3,filter:3,select:3,reject:3,every:3,all:3,some:3,any:3,include:3,includes:3,contains:3,invoke:0,max:3,min:3,toArray:1,size:1,first:3,head:3,take:3,initial:3,rest:3,tail:3,drop:3,last:3,without:0,difference:0,indexOf:3,shuffle:1,lastIndexOf:3,isEmpty:1,chain:1,sample:3,partition:3,groupBy:3,countBy:3,sortBy:3,indexBy:3};a(w,E,"models");
var T=t.View=function(e){this.cid=n.uniqueId("view"),n.extend(this,n.pick(e,D)),this._ensureElement(),this.initialize.apply(this,arguments)},S=/^(\S+)\s*(.*)$/,D=["model","collection","el","id","attributes","className","tagName","events"];n.extend(T.prototype,c,{tagName:"div",$:function(e){return this.$el.find(e)},initialize:function(){},render:function(){return this},remove:function(){return this._removeElement(),this.stopListening(),this},_removeElement:function(){this.$el.remove()},setElement:function(e){return this.undelegateEvents(),this._setElement(e),this.delegateEvents(),this},_setElement:function(e){this.$el=e instanceof t.$?e:t.$(e),this.el=this.$el[0]},delegateEvents:function(e){if(e||(e=n.result(this,"events")),!e)return this;this.undelegateEvents();for(var t in e){var r=e[t];if(n.isFunction(r)||(r=this[r]),r){var o=t.match(S);this.delegate(o[1],o[2],n.bind(r,this))}}return this},delegate:function(e,t,n){return this.$el.on(e+".delegateEvents"+this.cid,t,n),this},undelegateEvents:function(){return this.$el&&this.$el.off(".delegateEvents"+this.cid),
this},undelegate:function(e,t,n){return this.$el.off(e+".delegateEvents"+this.cid,t,n),this},_createElement:function(e){return document.createElement(e)},_ensureElement:function(){if(this.el)this.setElement(n.result(this,"el"));else{var e=n.extend({},n.result(this,"attributes"));this.id&&(e.id=n.result(this,"id")),this.className&&(e["class"]=n.result(this,"className")),this.setElement(this._createElement(n.result(this,"tagName"))),this._setAttributes(e)}},_setAttributes:function(e){this.$el.attr(e)}}),t.sync=function(e,r,o){var i=A[e];n.defaults(o||(o={}),{emulateHTTP:t.emulateHTTP,emulateJSON:t.emulateJSON});var s={type:i,dataType:"json"};if(o.url||(s.url=n.result(r,"url")||$()),null!=o.data||!r||"create"!==e&&"update"!==e&&"patch"!==e||(s.contentType="application/json",s.data=JSON.stringify(o.attrs||r.toJSON(o))),o.emulateJSON&&(s.contentType="application/x-www-form-urlencoded",s.data=s.data?{model:s.data}:{}),o.emulateHTTP&&("PUT"===i||"DELETE"===i||"PATCH"===i)){s.type="POST",o.emulateJSON&&(s.data._method=i);
var a=o.beforeSend;o.beforeSend=function(e){return e.setRequestHeader("X-HTTP-Method-Override",i),a?a.apply(this,arguments):void 0}}"GET"===s.type||o.emulateJSON||(s.processData=!1);var u=o.error;o.error=function(e,t,n){o.textStatus=t,o.errorThrown=n,u&&u.call(o.context,e,t,n)};var l=o.xhr=t.ajax(n.extend(s,o));return r.trigger("request",r,l,o),l};var A={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};t.ajax=function(){return t.$.ajax.apply(t.$,arguments)};var M=t.Router=function(e){e||(e={}),e.routes&&(this.routes=e.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},F=/\((.*?)\)/g,N=/(\(\?)?:\w+/g,O=/\*\w+/g,I=/[\-{}\[\]+?.,\\\^$|#\s]/g;n.extend(M.prototype,c,{initialize:function(){},route:function(e,r,o){n.isRegExp(e)||(e=this._routeToRegExp(e)),n.isFunction(r)&&(o=r,r=""),o||(o=this[r]);var i=this;return t.history.route(e,function(n){var s=i._extractParameters(e,n);i.execute(o,s,r)!==!1&&(i.trigger.apply(i,["route:"+r].concat(s)),i.trigger("route",r,s),t.history.trigger("route",i,r,s));
}),this},execute:function(e,t,n){e&&e.apply(this,t)},navigate:function(e,n){return t.history.navigate(e,n),this},_bindRoutes:function(){if(this.routes){this.routes=n.result(this,"routes");for(var e,t=n.keys(this.routes);null!=(e=t.pop());)this.route(e,this.routes[e])}},_routeToRegExp:function(e){return e=e.replace(I,"\\$&").replace(F,"(?:$1)?").replace(N,function(e,t){return t?e:"([^/?]+)"}).replace(O,"([^?]*?)"),new RegExp("^"+e+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(e,t){var r=e.exec(t).slice(1);return n.map(r,function(e,t){return t===r.length-1?e||null:e?decodeURIComponent(e):null})}});var P=t.History=function(){this.handlers=[],this.checkUrl=n.bind(this.checkUrl,this),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},L=/^[#\/]|\s+$/g,R=/^\/+|\/+$/g,B=/#.*$/;P.started=!1,n.extend(P.prototype,c,{interval:50,atRoot:function(){var e=this.location.pathname.replace(/[^\/]$/,"$&/");return e===this.root&&!this.getSearch()},matchRoot:function(){var e=this.decodeFragment(this.location.pathname),t=e.slice(0,this.root.length-1)+"/";
return t===this.root},decodeFragment:function(e){return decodeURI(e.replace(/%25/g,"%2525"))},getSearch:function(){var e=this.location.href.replace(/#.*/,"").match(/\?.+/);return e?e[0]:""},getHash:function(e){var t=(e||this).location.href.match(/#(.*)$/);return t?t[1]:""},getPath:function(){var e=this.decodeFragment(this.location.pathname+this.getSearch()).slice(this.root.length-1);return"/"===e.charAt(0)?e.slice(1):e},getFragment:function(e){return null==e&&(e=this._usePushState||!this._wantsHashChange?this.getPath():this.getHash()),e.replace(L,"")},start:function(e){if(P.started)throw new Error("Backbone.history has already been started");if(P.started=!0,this.options=n.extend({root:"/"},this.options,e),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._hasHashChange="onhashchange"in window&&(void 0===document.documentMode||document.documentMode>7),this._useHashChange=this._wantsHashChange&&this._hasHashChange,this._wantsPushState=!!this.options.pushState,this._hasPushState=!(!this.history||!this.history.pushState),
this._usePushState=this._wantsPushState&&this._hasPushState,this.fragment=this.getFragment(),this.root=("/"+this.root+"/").replace(R,"/"),this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot()){var t=this.root.slice(0,-1)||"/";return this.location.replace(t+"#"+this.getPath()),!0}this._hasPushState&&this.atRoot()&&this.navigate(this.getHash(),{replace:!0})}if(!this._hasHashChange&&this._wantsHashChange&&!this._usePushState){this.iframe=document.createElement("iframe"),this.iframe.src="javascript:0",this.iframe.style.display="none",this.iframe.tabIndex=-1;var r=document.body,o=r.insertBefore(this.iframe,r.firstChild).contentWindow;o.document.open(),o.document.close(),o.location.hash="#"+this.fragment}var i=window.addEventListener||function(e,t){return attachEvent("on"+e,t)};return this._usePushState?i("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe?i("hashchange",this.checkUrl,!1):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),
this.options.silent?void 0:this.loadUrl()},stop:function(){var e=window.removeEventListener||function(e,t){return detachEvent("on"+e,t)};this._usePushState?e("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe&&e("hashchange",this.checkUrl,!1),this.iframe&&(document.body.removeChild(this.iframe),this.iframe=null),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),P.started=!1},route:function(e,t){this.handlers.unshift({route:e,callback:t})},checkUrl:function(e){var t=this.getFragment();return t===this.fragment&&this.iframe&&(t=this.getHash(this.iframe.contentWindow)),t===this.fragment?!1:(this.iframe&&this.navigate(t),void this.loadUrl())},loadUrl:function(e){return this.matchRoot()?(e=this.fragment=this.getFragment(e),n.some(this.handlers,function(t){return t.route.test(e)?(t.callback(e),!0):void 0})):!1},navigate:function(e,t){if(!P.started)return!1;t&&t!==!0||(t={trigger:!!t}),e=this.getFragment(e||"");var n=this.root;(""===e||"?"===e.charAt(0))&&(n=n.slice(0,-1)||"/");var r=n+e;if(e=this.decodeFragment(e.replace(B,"")),
this.fragment!==e){if(this.fragment=e,this._usePushState)this.history[t.replace?"replaceState":"pushState"]({},document.title,r);else{if(!this._wantsHashChange)return this.location.assign(r);if(this._updateHash(this.location,e,t.replace),this.iframe&&e!==this.getHash(this.iframe.contentWindow)){var o=this.iframe.contentWindow;t.replace||(o.document.open(),o.document.close()),this._updateHash(o.location,e,t.replace)}}return t.trigger?this.loadUrl(e):void 0}},_updateHash:function(e,t,n){if(n){var r=e.href.replace(/(javascript:|#).*$/,"");e.replace(r+"#"+t)}else e.hash="#"+t}}),t.history=new P;var j=function(e,t){var r,o=this;r=e&&n.has(e,"constructor")?e.constructor:function(){return o.apply(this,arguments)},n.extend(r,o,t);var i=function(){this.constructor=r};return i.prototype=o.prototype,r.prototype=new i,e&&n.extend(r.prototype,e),r.__super__=o.prototype,r};y.extend=w.extend=M.extend=T.extend=P.extend=j;var $=function(){throw new Error('A "url" property or function must be specified')},U=function(e,t){var n=t.error;
t.error=function(r){n&&n.call(t.context,e,r,t),e.trigger("error",e,r,t)}};return t})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{jquery:590,underscore:891}],500:[function(e,t,n){(function(e){(function(){var n,r,o,i,s,a,u,l,c,p,d,h,f,m,g,v,b,y,_,w,k,x,C,E,T,S,D,A,M,F,N,O,I,P,L,R,B,j,$,U,V,H,z,q,W,Y,G,K,Z,J,Q,X,ee,te,ne,re,oe,ie,se,ae,ue,le,ce,pe,de,he,fe,me,ge,ve,be,ye,_e,we={}.hasOwnProperty,ke=function(e,t){function n(){this.constructor=e}for(var r in t)we.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},xe=[].slice,Ce=function(e,t){return function(){return e.apply(t,arguments)}};n={toString:function(){return"Bacon"}},n.version="0.7.73",h=("undefined"!=typeof e&&null!==e?e:this).Error,se=function(){},Q=function(e,t){return t},W=function(e,t){return e},P=function(e){return e.slice(0)},S=function(e,t){if(!t)throw new h(e)},O=function(e){if(e instanceof v&&!(e instanceof b))throw new h("Observable is not a Property : "+e);
},A=function(e){if(!(e instanceof d))throw new h("not an EventStream : "+e)},N=function(e){if(!(e instanceof v))throw new h("not an Observable : "+e)},M=function(e){return S("not a function : "+e,x.isFunction(e))},K=function(e){return e instanceof Array},J=function(e){return e instanceof v},D=function(e){if(!K(e))throw new h("not an array : "+e)},F=function(e){return S("no arguments supported",0===e.length)},I=function(e){if("string"!=typeof e)throw new h("not a string : "+e)},x={indexOf:Array.prototype.indexOf?function(e,t){return e.indexOf(t)}:function(e,t){var n,r,o,i;for(n=r=0,o=e.length;o>r;n=++r)if(i=e[n],t===i)return n;return-1},indexWhere:function(e,t){var n,r,o,i;for(n=r=0,o=e.length;o>r;n=++r)if(i=e[n],t(i))return n;return-1},head:function(e){return e[0]},always:function(e){return function(){return e}},negate:function(e){return function(t){return!e(t)}},empty:function(e){return 0===e.length},tail:function(e){return e.slice(1,e.length)},filter:function(e,t){var n,r,o,i;for(n=[],r=0,o=t.length;o>r;r++)i=t[r],
e(i)&&n.push(i);return n},map:function(e,t){var n,r,o,i;for(o=[],n=0,r=t.length;r>n;n++)i=t[n],o.push(e(i));return o},each:function(e,t){var n,r;for(n in e)we.call(e,n)&&(r=e[n],t(n,r));return void 0},toArray:function(e){return K(e)?e:[e]},contains:function(e,t){return-1!==x.indexOf(e,t)},id:function(e){return e},last:function(e){return e[e.length-1]},all:function(e,t){var n,r,o;for(null==t&&(t=x.id),n=0,r=e.length;r>n;n++)if(o=e[n],!t(o))return!1;return!0},any:function(e,t){var n,r,o;for(null==t&&(t=x.id),n=0,r=e.length;r>n;n++)if(o=e[n],t(o))return!0;return!1},without:function(e,t){return x.filter(function(t){return t!==e},t)},remove:function(e,t){var n;return n=x.indexOf(t,e),n>=0?t.splice(n,1):void 0},fold:function(e,t,n){var r,o,i;for(r=0,o=e.length;o>r;r++)i=e[r],t=n(t,i);return t},flatMap:function(e,t){return x.fold(t,[],function(t,n){return t.concat(e(n))})},cached:function(e){var t;return t=g,function(){return t===g&&(t=e(),e=void 0),t}},isFunction:function(e){return"function"==typeof e},toString:function(e){
var t,n,r,o;try{return ue++,null==e?"undefined":x.isFunction(e)?"function":K(e)?ue>5?"[..]":"["+x.map(x.toString,e).toString()+"]":null!=(null!=e?e.toString:void 0)&&e.toString!==Object.prototype.toString?e.toString():"object"==typeof e?ue>5?"{..}":(n=function(){var n;n=[];for(r in e)we.call(e,r)&&(o=function(){try{return e[r]}catch(n){return t=n}}(),n.push(x.toString(r)+":"+x.toString(o)));return n}(),"{"+n+"}"):e}finally{ue--}}},ue=0,n._=x,k=n.UpdateBarrier=function(){var e,t,r,o,i,s,a,u,l,c,p,d,h,f;return c=void 0,p=[],d={},t=[],r=0,e=function(e){return c?t.push(e):e()},h=function(e,t){var n;return c?(n=d[e.id],null==n?(n=d[e.id]=[t],p.push(e)):n.push(t)):t()},i=function(){for(;p.length>0;)a(0);return void 0},a=function(e){var t,n,r,o,i,a;for(o=p[e],i=o.id,a=d[i],p.splice(e,1),delete d[i],s(o),n=0,r=a.length;r>n;n++)(t=a[n])();return void 0},s=function(e){var t,n,r,o,i;for(n=e.internalDeps(),o=0,i=n.length;i>o;o++)t=n[o],s(t),d[t.id]&&(r=x.indexOf(p,t),a(r));return void 0},l=function(e,n,o,s){var a,u;if(c)return o.apply(n,s);
c=e;try{u=o.apply(n,s),i()}finally{for(c=void 0;r<t.length;)a=t[r],r++,a();r=0,t=[]}return u},o=function(){return c?c.id:void 0},f=function(t,r){var o,i,s,a;return a=!1,i=!1,o=function(){return i=!0},s=function(){return a=!0,o()},o=t.dispatcher.subscribe(function(t){return e(function(){var e;return a||(e=r(t),e!==n.noMore)?void 0:s()})}),i&&o(),s},u=function(){return p.length>0},{whenDoneWith:h,hasWaiters:u,inTransaction:l,currentEventId:o,wrappedSubscribe:f,afterTransaction:e}}(),w=function(){function e(e,t,n){this.obs=e,this.sync=t,this.lazy=null!=n?n:!1,this.queue=[]}return e.prototype.subscribe=function(e){return this.obs.dispatcher.subscribe(e)},e.prototype.toString=function(){return this.obs.toString()},e.prototype.markEnded=function(){return this.ended=!0},e.prototype.consume=function(){return this.lazy?{value:x.always(this.queue[0])}:this.queue[0]},e.prototype.push=function(e){return this.queue=[e]},e.prototype.mayHave=function(){return!0},e.prototype.hasAtLeast=function(){return this.queue.length},e.prototype.flatten=!0,
e}(),s=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return ke(t,e),t.prototype.consume=function(){return this.queue.shift()},t.prototype.push=function(e){return this.queue.push(e)},t.prototype.mayHave=function(e){return!this.ended||this.queue.length>=e},t.prototype.hasAtLeast=function(e){return this.queue.length>=e},t.prototype.flatten=!1,t}(w),r=function(e){function t(e){t.__super__.constructor.call(this,e,!0)}return ke(t,e),t.prototype.consume=function(){var e;return e=this.queue,this.queue=[],{value:function(){return e}}},t.prototype.push=function(e){return this.queue.push(e.value())},t.prototype.hasAtLeast=function(){return!0},t}(w),w.isTrigger=function(e){return e instanceof w?e.sync:e instanceof d},w.fromObservable=function(e){return e instanceof w?e:e instanceof b?new w(e,!1):new s(e,!0)},a=function(){function e(e,t,n){this.context=e,this.method=t,this.args=n}return e.prototype.deps=function(){return this.cached||(this.cached=H([this.context].concat(this.args)))},e.prototype.toString=function(){
return x.toString(this.context)+"."+x.toString(this.method)+"("+x.map(x.toString,this.args)+")"},e}(),j=function(){var e,t,n;return t=arguments[0],n=arguments[1],e=3<=arguments.length?xe.call(arguments,2):[],(t||n)instanceof a?t||n:new a(t,n,e)},ye=function(e,t){return t.desc=e,t},H=function(e){return K(e)?x.flatMap(H,e):J(e)?[e]:e instanceof w?[e.obs]:[]},n.Desc=a,n.Desc.empty=new n.Desc("","",[]),_e=function(e){return function(){var t,n,r,o;return r=arguments[0],t=2<=arguments.length?xe.call(arguments,1):[],"object"==typeof r&&t.length&&(n=r,o=t[0],r=function(){return n[o].apply(n,arguments)},t=t.slice(1)),e.apply(null,[r].concat(xe.call(t)))}},te=function(e){return e=Array.prototype.slice.call(e),ne.apply(null,e)},ae=function(e,t){return function(){var n;return n=1<=arguments.length?xe.call(arguments,0):[],e.apply(null,t.concat(n))}},ve=function(e){return function(t){return function(n){var r;return null==n?void 0:(r=n[t],x.isFunction(r)?r.apply(n,e):r)}}},fe=function(e,t){var n,r;return r=e.slice(1).split("."),
n=x.map(ve(t),r),function(t){var r,o;for(r=0,o=n.length;o>r;r++)e=n[r],t=e(t);return t}},Z=function(e){return"string"==typeof e&&e.length>1&&"."===e.charAt(0)},ne=_e(function(){var e,t;return t=arguments[0],e=2<=arguments.length?xe.call(arguments,1):[],x.isFunction(t)?e.length?ae(t,e):t:Z(t)?fe(t,e):x.always(t)}),ee=function(e,t){return ne.apply(null,[e].concat(xe.call(t)))},B=function(e,t,n,r){var o;return t instanceof b?(o=t.sampledBy(e,function(e,t){return[e,t]}),r.call(o,function(e){var t,n;return t=e[0],n=e[1],t}).map(function(e){var t,n;return t=e[0],n=e[1]})):(t=ee(t,n),r.call(e,t))},de=function(e){var t;if(x.isFunction(e))return e;if(Z(e))return t=me(e),function(e,n){return e[t](n)};throw new h("not a function or a field key: "+e)},me=function(e){return e.slice(1)},_=function(){function e(e){this.value=e}return e.prototype.getOrElse=function(){return this.value},e.prototype.get=function(){return this.value},e.prototype.filter=function(t){return t(this.value)?new e(this.value):g},e.prototype.map=function(t){
return new e(t(this.value))},e.prototype.forEach=function(e){return e(this.value)},e.prototype.isDefined=!0,e.prototype.toArray=function(){return[this.value]},e.prototype.inspect=function(){return"Some("+this.value+")"},e.prototype.toString=function(){return this.inspect()},e}(),g={getOrElse:function(e){return e},filter:function(){return g},map:function(){return g},forEach:function(){},isDefined:!1,toArray:function(){return[]},inspect:function(){return"None"},toString:function(){return this.inspect()}},ge=function(e){return e instanceof _||e===g?e:new _(e)},n.noMore=["<no-more>"],n.more=["<more>"],U=0,p=function(){function e(){this.id=++U}return e.prototype.isEvent=function(){return!0},e.prototype.isEnd=function(){return!1},e.prototype.isInitial=function(){return!1},e.prototype.isNext=function(){return!1},e.prototype.isError=function(){return!1},e.prototype.hasValue=function(){return!1},e.prototype.filter=function(){return!0},e.prototype.inspect=function(){return this.toString()},e.prototype.log=function(){return this.toString();
},e}(),m=function(e){function t(e,n){return this instanceof t?(t.__super__.constructor.call(this),void(!n&&x.isFunction(e)||e instanceof t?(this.valueF=e,this.valueInternal=void 0):(this.valueF=void 0,this.valueInternal=e))):new t(e,n)}return ke(t,e),t.prototype.isNext=function(){return!0},t.prototype.hasValue=function(){return!0},t.prototype.value=function(){return this.valueF instanceof t?(this.valueInternal=this.valueF.value(),this.valueF=void 0):this.valueF&&(this.valueInternal=this.valueF(),this.valueF=void 0),this.valueInternal},t.prototype.fmap=function(e){var t,n;return this.valueInternal?(n=this.valueInternal,this.apply(function(){return e(n)})):(t=this,this.apply(function(){return e(t.value())}))},t.prototype.apply=function(e){return new t(e)},t.prototype.filter=function(e){return e(this.value())},t.prototype.toString=function(){return x.toString(this.value())},t.prototype.log=function(){return this.value()},t}(p),f=function(e){function t(e,n){return this instanceof t?void t.__super__.constructor.call(this,e,n):new t(e,n);
}return ke(t,e),t.prototype.isInitial=function(){return!0},t.prototype.isNext=function(){return!1},t.prototype.apply=function(e){return new t(e)},t.prototype.toNext=function(){return new m(this)},t}(m),l=function(e){function t(){return this instanceof t?void 0:new t}return ke(t,e),t.prototype.isEnd=function(){return!0},t.prototype.fmap=function(){return this},t.prototype.apply=function(){return this},t.prototype.toString=function(){return"<end>"},t}(p),c=function(e){function t(e){return this instanceof t?void(this.error=e):new t(e)}return ke(t,e),t.prototype.isError=function(){return!0},t.prototype.fmap=function(){return this},t.prototype.apply=function(){return this},t.prototype.toString=function(){return"<error> "+x.toString(this.error)},t}(p),n.Event=p,n.Initial=f,n.Next=m,n.End=l,n.Error=c,G=function(e){return new f(e,!0)},ie=function(e){return new m(e,!0)},$=function(){return new l},he=function(e){return e instanceof p?e:ie(e)},Y=0,ce=function(){},v=function(){function e(e){this.desc=e,this.id=++Y,this.initialDesc=this.desc;
}return e.prototype.subscribe=function(e){return k.wrappedSubscribe(this,e)},e.prototype.subscribeInternal=function(e){return this.dispatcher.subscribe(e)},e.prototype.onValue=function(){var e;return e=te(arguments),this.subscribe(function(t){return t.hasValue()?e(t.value()):void 0})},e.prototype.onValues=function(e){return this.onValue(function(t){return e.apply(null,t)})},e.prototype.onError=function(){var e;return e=te(arguments),this.subscribe(function(t){return t.isError()?e(t.error):void 0})},e.prototype.onEnd=function(){var e;return e=te(arguments),this.subscribe(function(t){return t.isEnd()?e():void 0})},e.prototype.name=function(e){return this._name=e,this},e.prototype.withDescription=function(){return this.desc=j.apply(null,arguments),this},e.prototype.toString=function(){return this._name?this._name:this.desc.toString()},e.prototype.internalDeps=function(){return this.initialDesc.deps()},e}(),v.prototype.assign=v.prototype.onValue,v.prototype.forEach=v.prototype.onValue,v.prototype.inspect=v.prototype.toString,
n.Observable=v,i=function(){function e(e){var t,n,r;for(null==e&&(e=[]),this.unsubscribe=Ce(this.unsubscribe,this),this.unsubscribed=!1,this.subscriptions=[],this.starting=[],t=0,n=e.length;n>t;t++)r=e[t],this.add(r)}return e.prototype.add=function(e){var t,n,r;if(!this.unsubscribed)return t=!1,n=se,this.starting.push(e),r=function(r){return function(){return r.unsubscribed?void 0:(t=!0,r.remove(n),x.remove(e,r.starting))}}(this),n=e(this.unsubscribe,r),this.unsubscribed||t?n():this.subscriptions.push(n),x.remove(e,this.starting),n},e.prototype.remove=function(e){return this.unsubscribed?void 0:void 0!==x.remove(e,this.subscriptions)?e():void 0},e.prototype.unsubscribe=function(){var e,t,n,r;if(!this.unsubscribed){for(this.unsubscribed=!0,n=this.subscriptions,e=0,t=n.length;t>e;e++)(r=n[e])();return this.subscriptions=[],this.starting=[]}},e.prototype.count=function(){return this.unsubscribed?0:this.subscriptions.length+this.starting.length},e.prototype.empty=function(){return 0===this.count()},e}(),n.CompositeUnsubscribe=i,
u=function(){function e(e,t){this._subscribe=e,this._handleEvent=t,this.subscribe=Ce(this.subscribe,this),this.handleEvent=Ce(this.handleEvent,this),this.subscriptions=[],this.queue=[]}return e.prototype.pushing=!1,e.prototype.ended=!1,e.prototype.prevError=void 0,e.prototype.unsubSrc=void 0,e.prototype.hasSubscribers=function(){return this.subscriptions.length>0},e.prototype.removeSub=function(e){return this.subscriptions=x.without(e,this.subscriptions)},e.prototype.push=function(e){return e.isEnd()&&(this.ended=!0),k.inTransaction(e,this,this.pushIt,[e])},e.prototype.pushToSubscriptions=function(e){var t,r,o,i,s,a;try{for(a=this.subscriptions,r=0,o=a.length;o>r;r++)s=a[r],i=s.sink(e),(i===n.noMore||e.isEnd())&&this.removeSub(s);return!0}catch(u){throw t=u,this.pushing=!1,this.queue=[],t}},e.prototype.pushIt=function(e){if(this.pushing)return this.queue.push(e),n.more;if(e!==this.prevError){for(e.isError()&&(this.prevError=e),this.pushing=!0,this.pushToSubscriptions(e),this.pushing=!1;this.queue.length;)e=this.queue.shift(),
this.push(e);return this.hasSubscribers()?n.more:(this.unsubscribeFromSource(),n.noMore)}},e.prototype.handleEvent=function(e){return this._handleEvent?this._handleEvent(e):this.push(e)},e.prototype.unsubscribeFromSource=function(){return this.unsubSrc&&this.unsubSrc(),this.unsubSrc=void 0},e.prototype.subscribe=function(e){var t;return this.ended?(e($()),se):(M(e),t={sink:e},this.subscriptions.push(t),1===this.subscriptions.length&&(this.unsubSrc=this._subscribe(this.handleEvent),M(this.unsubSrc)),function(e){return function(){return e.removeSub(t),e.hasSubscribers()?void 0:e.unsubscribeFromSource()}}(this))},e}(),n.Dispatcher=u,d=function(e){function t(e,n,r){return this instanceof t?(x.isFunction(e)&&(r=n,n=e,e=a.empty),t.__super__.constructor.call(this,e),M(n),this.dispatcher=new u(n,r),void ce(this)):new t(e,n,r)}return ke(t,e),t.prototype.toProperty=function(e){var t,r;return r=0===arguments.length?g:ge(function(){return e}),t=this.dispatcher,new b(new n.Desc(this,"toProperty",[e]),function(e){var o,i,s,a;
return o=!1,a=se,i=n.more,s=function(){return o?void 0:r.forEach(function(t){return o=!0,i=e(new f(t)),i===n.noMore?(a(),a=se):void 0})},a=t.subscribe(function(t){return t.hasValue()?o&&t.isInitial()?n.more:(t.isInitial()||s(),o=!0,r=new _(t),e(t)):(t.isEnd()&&(i=s()),i!==n.noMore?e(t):void 0)}),s(),a})},t.prototype.toEventStream=function(){return this},t.prototype.withHandler=function(e){return new t(new n.Desc(this,"withHandler",[e]),this.dispatcher.subscribe,e)},t}(v),n.EventStream=d,n.never=function(){return new d(j(n,"never"),function(e){return e($()),se})},n.when=function(){var e,t,r,o,i,s,a,u,l,c,p,h,f,m,g,v,b,y,_,C;if(0===arguments.length)return n.never();for(a=arguments.length,C="when: expecting arguments in the form (Observable+,function)+",S(C,a%2===0),y=[],f=[],t=0,m=[];a>t;){for(m[t]=arguments[t],m[t+1]=arguments[t+1],h=x.toArray(arguments[t]),e=L(arguments[t+1]),p={f:e,ixs:[]},_=!1,i=0,u=h.length;u>i;i++){for(b=h[i],r=x.indexOf(y,b),_||(_=w.isTrigger(b)),0>r&&(y.push(b),r=y.length-1),g=p.ixs,s=0,
l=g.length;l>s;s++)o=g[s],o.index===r&&o.count++;p.ixs.push({index:r,count:1})}S("At least one EventStream required",_||!h.length),h.length>0&&f.push(p),t+=2}return y.length?(y=x.map(w.fromObservable,y),c=x.any(y,function(e){return e.flatten})&&R(x.map(function(e){return e.obs},y)),v=new d(new n.Desc(n,"when",m),function(e){var r,o,i,s,a,u,l;return l=[],i=!1,s=function(e){var n,r,o;for(o=e.ixs,n=0,r=o.length;r>n;n++)if(t=o[n],!y[t.index].hasAtLeast(t.count))return!1;return!0},o=function(e){return!e.sync||e.ended},r=function(e){var n,r,o;for(o=e.ixs,n=0,r=o.length;r>n;n++)if(t=o[n],!y[t.index].mayHave(t.count))return!0},a=function(e){return!e.source.flatten},u=function(u){return function(p){var d,h,m;return h=function(){return k.whenDoneWith(v,d)},m=function(){var r,o,i,u,c,p;if(!(l.length>0))return n.more;for(c=n.more,p=l.pop(),o=0,i=f.length;i>o;o++)if(u=f[o],s(u))return r=function(){var e,n,r,o;for(r=u.ixs,o=[],n=0,e=r.length;e>n;n++)t=r[n],o.push(y[t.index].consume());return o}(),c=e(p.e.apply(function(){var e,t;
return t=function(){var t,n,o;for(o=[],n=0,t=r.length;t>n;n++)e=r[n],o.push(e.value());return o}(),u.f.apply(u,t)})),l.length&&(l=x.filter(a,l)),c===n.noMore?c:m()},d=function(){var t;return t=m(),i&&(x.all(y,o)||x.all(f,r))&&(t=n.noMore,e($())),t===n.noMore&&p(),t},u.subscribe(function(t){var r;return t.isEnd()?(i=!0,u.markEnded(),h()):t.isError()?r=e(t):(u.push(t),u.sync&&(l.push({source:u,e:t}),c||k.hasWaiters()?h():d())),r===n.noMore&&p(),r||n.more})}},new n.CompositeUnsubscribe(function(){var e,t,n;for(n=[],e=0,t=y.length;t>e;e++)b=y[e],n.push(u(b));return n}()).unsubscribe})):n.never()},R=function(e,t){var n;return null==t&&(t=[]),n=function(e){var r;return x.contains(t,e)?!0:(r=e.internalDeps(),r.length?(t.push(e),x.any(r,n)):(t.push(e),!1))},x.any(e,n)},L=function(e){return x.isFunction(e)?e:x.always(e)},n.groupSimultaneous=function(){var e,t,o;return o=1<=arguments.length?xe.call(arguments,0):[],1===o.length&&K(o[0])&&(o=o[0]),t=function(){var t,n,i;for(i=[],t=0,n=o.length;n>t;t++)e=o[t],i.push(new r(e));
return i}(),ye(new n.Desc(n,"groupSimultaneous",o),n.when(t,function(){var e;return e=1<=arguments.length?xe.call(arguments,0):[]}))},y=function(e){function t(e,n,r){this.property=e,this.subscribe=Ce(this.subscribe,this),t.__super__.constructor.call(this,n,r),this.current=g,this.currentValueRootId=void 0,this.propertyEnded=!1}return ke(t,e),t.prototype.push=function(e){return e.isEnd()&&(this.propertyEnded=!0),e.hasValue()&&(this.current=new _(e),this.currentValueRootId=k.currentEventId()),t.__super__.push.call(this,e)},t.prototype.maybeSubSource=function(e,t){return t===n.noMore?se:this.propertyEnded?(e($()),se):u.prototype.subscribe.call(this,e)},t.prototype.subscribe=function(e){var t,r,o,i;return r=!1,o=n.more,this.current.isDefined&&(this.hasSubscribers()||this.propertyEnded)?(t=k.currentEventId(),i=this.currentValueRootId,!this.propertyEnded&&i&&t&&t!==i?(k.whenDoneWith(this.property,function(t){return function(){return t.currentValueRootId===i?e(G(t.current.get().value())):void 0}}(this)),this.maybeSubSource(e,o)):(k.inTransaction(void 0,this,function(){
return o=e(G(this.current.get().value()))},[]),this.maybeSubSource(e,o))):this.maybeSubSource(e,o)},t}(u),b=function(e){function t(e,n,r){t.__super__.constructor.call(this,e),M(n),this.dispatcher=new y(this,n,r),ce(this)}return ke(t,e),t.prototype.changes=function(){return new d(new n.Desc(this,"changes",[]),function(e){return function(t){return e.dispatcher.subscribe(function(e){return e.isInitial()?void 0:t(e)})}}(this))},t.prototype.withHandler=function(e){return new t(new n.Desc(this,"withHandler",[e]),this.dispatcher.subscribe,e)},t.prototype.toProperty=function(){return F(arguments),this},t.prototype.toEventStream=function(){return new d(new n.Desc(this,"toEventStream",[]),function(e){return function(t){return e.dispatcher.subscribe(function(e){return e.isInitial()&&(e=e.toNext()),t(e)})}}(this))},t}(v),n.Property=b,n.constant=function(e){return new b(new n.Desc(n,"constant",[e]),function(t){return t(G(e)),t($()),se})},n.fromBinder=function(e,t){return null==t&&(t=x.id),new d(new n.Desc(n,"fromBinder",[e,t]),function(r){
var o,i,s,a;return a=!1,o=!1,i=function(){return a?void 0:"undefined"!=typeof s&&null!==s?(s(),a=!0):o=!0},s=e(function(){var e,o,s,a,u,l;for(e=1<=arguments.length?xe.call(arguments,0):[],l=t.apply(this,e),K(l)&&x.last(l)instanceof p||(l=[l]),u=n.more,s=0,a=l.length;a>s;s++)if(o=l[s],u=r(o=he(o)),u===n.noMore||o.isEnd())return i(),u;return u}),o&&i(),i})},V=[["addEventListener","removeEventListener"],["addListener","removeListener"],["on","off"],["bind","unbind"]],z=function(e){var t,n,r,o;for(t=0,n=V.length;n>t;t++)if(o=V[t],r=[e[o[0]],e[o[1]]],r[0]&&r[1])return r;throw new c("No suitable event methods in "+e)},n.fromEventTarget=function(e,t,r){var o,i,s;return o=z(e),i=o[0],s=o[1],ye(new n.Desc(n,"fromEvent",[e,t]),n.fromBinder(function(n){return i.call(e,t,n),function(){return s.call(e,t,n)}},r))},n.fromEvent=n.fromEventTarget,n.Observable.prototype.map=function(){var e,t;return t=arguments[0],e=2<=arguments.length?xe.call(arguments,1):[],B(this,t,e,function(e){return ye(new n.Desc(this,"map",[e]),this.withHandler(function(t){
return this.push(t.fmap(e))}))})},E=function(e){return K(e[0])?e[0]:Array.prototype.slice.call(e)},T=function(e){return x.isFunction(e[0])?[E(Array.prototype.slice.call(e,1)),e[0]]:[E(Array.prototype.slice.call(e,0,e.length-1)),x.last(e)]},n.combineAsArray=function(){var e,t,r,o,i,s,a;for(a=E(arguments),e=t=0,r=a.length;r>t;e=++t)s=a[e],J(s)||(a[e]=n.constant(s));return a.length?(i=function(){var e,t,n;for(n=[],e=0,t=a.length;t>e;e++)o=a[e],n.push(new w(o,!0));return n}(),ye(new n.Desc(n,"combineAsArray",a),n.when(i,function(){var e;return e=1<=arguments.length?xe.call(arguments,0):[]}).toProperty())):n.constant([])},n.onValues=function(){var e,t,r;return r=2<=arguments.length?xe.call(arguments,0,t=arguments.length-1):(t=0,[]),e=arguments[t++],n.combineAsArray(r).onValues(e)},n.combineWith=function(){var e,t,r;return t=T(arguments),r=t[0],e=t[1],ye(new n.Desc(n,"combineWith",[e].concat(xe.call(r))),n.combineAsArray(r).map(function(t){return e.apply(null,t)}))},n.Observable.prototype.combine=function(e,t){var r;
return r=de(t),ye(new n.Desc(this,"combine",[e,t]),n.combineAsArray(this,e).map(function(e){return r(e[0],e[1])}))},n.Observable.prototype.withStateMachine=function(e,t){var r;return r=e,ye(new n.Desc(this,"withStateMachine",[e,t]),this.withHandler(function(e){var o,i,s,a,u,l,c;for(o=t(r,e),a=o[0],l=o[1],r=a,c=n.more,i=0,s=l.length;s>i;i++)if(u=l[i],c=this.push(u),c===n.noMore)return c;return c}))},n.Observable.prototype.skipDuplicates=function(e){return null==e&&(e=function(e,t){return e===t}),ye(new n.Desc(this,"skipDuplicates",[]),this.withStateMachine(g,function(t,n){return n.hasValue()?n.isInitial()||t===g||!e(t.get(),n.value())?[new _(n.value()),[n]]:[t,[]]:[t,[n]]}))},n.Observable.prototype.awaiting=function(e){return ye(new n.Desc(this,"awaiting",[e]),n.groupSimultaneous(this,e).map(function(e){var t,n;return t=e[0],n=e[1],0===n.length}).toProperty(!1).skipDuplicates())},n.Observable.prototype.not=function(){return ye(new n.Desc(this,"not",[]),this.map(function(e){return!e}))},n.Property.prototype.and=function(e){
return ye(new n.Desc(this,"and",[e]),this.combine(e,function(e,t){return e&&t}))},n.Property.prototype.or=function(e){return ye(new n.Desc(this,"or",[e]),this.combine(e,function(e,t){return e||t}))},n.scheduler={setTimeout:function(e,t){return setTimeout(e,t)},setInterval:function(e,t){return setInterval(e,t)},clearInterval:function(e){return clearInterval(e)},clearTimeout:function(e){return clearTimeout(e)},now:function(){return(new Date).getTime()}},n.EventStream.prototype.bufferWithTime=function(e){return ye(new n.Desc(this,"bufferWithTime",[e]),this.bufferWithTimeOrCount(e,Number.MAX_VALUE))},n.EventStream.prototype.bufferWithCount=function(e){return ye(new n.Desc(this,"bufferWithCount",[e]),this.bufferWithTimeOrCount(void 0,e))},n.EventStream.prototype.bufferWithTimeOrCount=function(e,t){var r;return r=function(n){return n.values.length===t?n.flush():void 0!==e?n.schedule():void 0},ye(new n.Desc(this,"bufferWithTimeOrCount",[e,t]),this.buffer(e,r,r))},n.EventStream.prototype.buffer=function(e,t,r){var o,i,s;
return null==t&&(t=se),null==r&&(r=se),o={scheduled:null,end:void 0,values:[],flush:function(){var e,t;if(this.scheduled&&(n.scheduler.clearTimeout(this.scheduled),this.scheduled=null),this.values.length>0){if(t=this.values,this.values=[],e=this.push(ie(t)),null!=this.end)return this.push(this.end);if(e!==n.noMore)return r(this)}else if(null!=this.end)return this.push(this.end)},schedule:function(){return this.scheduled?void 0:this.scheduled=e(function(e){return function(){return e.flush()}}(this))}},s=n.more,x.isFunction(e)||(i=e,e=function(e){return n.scheduler.setTimeout(e,i)}),ye(new n.Desc(this,"buffer",[]),this.withHandler(function(e){return o.push=function(e){return function(t){return e.push(t)}}(this),e.isError()?s=this.push(e):e.isEnd()?(o.end=e,o.scheduled||o.flush()):(o.values.push(e.value()),t(o)),s}))},n.Observable.prototype.filter=function(){var e,t;return t=arguments[0],e=2<=arguments.length?xe.call(arguments,1):[],O(t),B(this,t,e,function(e){return ye(new n.Desc(this,"filter",[e]),this.withHandler(function(t){
return t.filter(e)?this.push(t):n.more}))})},n.once=function(e){return new d(new a(n,"once",[e]),function(t){return t(he(e)),t($()),se})},n.EventStream.prototype.concat=function(e){var t;return t=this,new d(new n.Desc(t,"concat",[e]),function(n){var r,o;return o=se,r=t.dispatcher.subscribe(function(t){return t.isEnd()?o=e.dispatcher.subscribe(n):n(t)}),function(){return r(),o()}})},n.Observable.prototype.flatMap=function(){return q(this,oe(arguments))},n.Observable.prototype.flatMapFirst=function(){return q(this,oe(arguments),!0)},q=function(e,t,r,o){var s,a,u;return u=[e],s=[],a=new d(new n.Desc(e,"flatMap"+(r?"First":""),[t]),function(a){var u,l,c,p,d;return c=new i,p=[],d=function(e){var r;return r=re(t(e.value())),s.push(r),c.add(function(e,t){return r.dispatcher.subscribe(function(o){var i;return o.isEnd()?(x.remove(r,s),l(),u(t),n.noMore):(o instanceof f&&(o=o.toNext()),i=a(o),i===n.noMore&&e(),i)})})},l=function(){var e;return e=p.shift(),e?d(e):void 0},u=function(e){return e(),c.empty()?a($()):void 0},
c.add(function(t,i){return e.dispatcher.subscribe(function(e){return e.isEnd()?u(i):e.isError()?a(e):r&&c.count()>1?n.more:c.unsubscribed?n.noMore:o&&c.count()>o?p.push(e):d(e)})}),c.unsubscribe}),a.internalDeps=function(){return s.length?u.concat(s):u},a},oe=function(e){return 1===e.length&&J(e[0])?x.always(e[0]):te(e)},re=function(e){return J(e)?e:n.once(e)},n.Observable.prototype.flatMapWithConcurrencyLimit=function(){var e,t;return t=arguments[0],e=2<=arguments.length?xe.call(arguments,1):[],ye(new n.Desc(this,"flatMapWithConcurrencyLimit",[t].concat(xe.call(e))),q(this,oe(e),!1,t))},n.Observable.prototype.flatMapConcat=function(){return ye(new n.Desc(this,"flatMapConcat",Array.prototype.slice.call(arguments,0)),this.flatMapWithConcurrencyLimit.apply(this,[1].concat(xe.call(arguments))))},n.later=function(e,t){return ye(new n.Desc(n,"later",[e,t]),n.fromBinder(function(r){var o,i;return i=function(){return r([t,$()])},o=n.scheduler.setTimeout(i,e),function(){return n.scheduler.clearTimeout(o)}}))},n.Observable.prototype.bufferingThrottle=function(e){
return ye(new n.Desc(this,"bufferingThrottle",[e]),this.flatMapConcat(function(t){return n.once(t).concat(n.later(e).filter(!1))}))},n.Property.prototype.bufferingThrottle=function(){return n.Observable.prototype.bufferingThrottle.apply(this,arguments).toProperty()},o=function(e){function t(){return this.guardedSink=Ce(this.guardedSink,this),this.subscribeAll=Ce(this.subscribeAll,this),this.unsubAll=Ce(this.unsubAll,this),this instanceof t?(this.sink=void 0,this.subscriptions=[],this.ended=!1,void t.__super__.constructor.call(this,new n.Desc(n,"Bus",[]),this.subscribeAll)):new t}return ke(t,e),t.prototype.unsubAll=function(){var e,t,n,r;for(n=this.subscriptions,e=0,t=n.length;t>e;e++)r=n[e],"function"==typeof r.unsub&&r.unsub();return void 0},t.prototype.subscribeAll=function(e){var t,n,r,o;if(this.ended)e($());else for(this.sink=e,r=P(this.subscriptions),t=0,n=r.length;n>t;t++)o=r[t],this.subscribeInput(o);return this.unsubAll},t.prototype.guardedSink=function(e){return function(t){return function(r){return r.isEnd()?(t.unsubscribeInput(e),
n.noMore):t.sink(r)}}(this)},t.prototype.subscribeInput=function(e){return e.unsub=e.input.dispatcher.subscribe(this.guardedSink(e.input))},t.prototype.unsubscribeInput=function(e){var t,n,r,o,i;for(o=this.subscriptions,t=n=0,r=o.length;r>n;t=++n)if(i=o[t],i.input===e)return"function"==typeof i.unsub&&i.unsub(),void this.subscriptions.splice(t,1)},t.prototype.plug=function(e){var t;return N(e),this.ended?void 0:(t={input:e},this.subscriptions.push(t),null!=this.sink&&this.subscribeInput(t),function(t){return function(){return t.unsubscribeInput(e)}}(this))},t.prototype.end=function(){return this.ended=!0,this.unsubAll(),"function"==typeof this.sink?this.sink($()):void 0},t.prototype.push=function(e){return this.ended?void 0:"function"==typeof this.sink?this.sink(ie(e)):void 0},t.prototype.error=function(e){return"function"==typeof this.sink?this.sink(new c(e)):void 0},t}(d),n.Bus=o,X=function(e,t){return _e(function(){var r,o,i;return o=arguments[0],r=2<=arguments.length?xe.call(arguments,1):[],i=ae(t,[function(e,t){
return o.apply(null,xe.call(e).concat([t]))}]),ye(new n.Desc(n,e,[o].concat(xe.call(r))),n.combineAsArray(r).flatMap(i))})},n.fromCallback=X("fromCallback",function(){var e,t;return t=arguments[0],e=2<=arguments.length?xe.call(arguments,1):[],n.fromBinder(function(n){return ee(t,e)(n),se},function(e){return[e,$()]})}),n.fromNodeCallback=X("fromNodeCallback",function(){var e,t;return t=arguments[0],e=2<=arguments.length?xe.call(arguments,1):[],n.fromBinder(function(n){return ee(t,e)(n),se},function(e,t){return e?[new c(e),$()]:[t,$()]})}),n.combineTemplate=function(e){var t,r,o,i,s,a,u,l,c,p,d;return u=[],d=[],a=function(e){return e[e.length-1]},p=function(e,t,n){return a(e)[t]=n},t=function(e,t){return function(n,r){return p(n,e,r[t])}},s=function(e,t){return function(n){return p(n,e,t)}},l=function(e){return K(e)?[]:{}},c=function(e,t){return function(n){var r;return r=l(t),p(n,e,r),n.push(r)}},o=function(e,n){var r;return J(n)?(d.push(n),u.push(t(e,d.length-1))):n!==Object(n)||"function"==typeof n||n instanceof RegExp||n instanceof Date?u.push(s(e,n)):(r=function(e){
return e.pop()},u.push(c(e,n)),i(n),u.push(r))},i=function(e){return x.each(e,o)},i(e),r=function(t){var n,r,o,i,s;for(s=l(e),n=[s],o=0,i=u.length;i>o;o++)(r=u[o])(n,t);return s},ye(new n.Desc(n,"combineTemplate",[e]),n.combineAsArray(d).map(r))},C=function(e,t){var r;return r=new d(j(e,"justInitValue"),function(t){var o,i;return i=void 0,o=e.dispatcher.subscribe(function(e){return e.isEnd()||(i=e),n.noMore}),k.whenDoneWith(r,function(){return null!=i&&t(i),t($())}),o}),r.concat(t).toProperty()},n.Observable.prototype.mapEnd=function(){var e;return e=te(arguments),ye(new n.Desc(this,"mapEnd",[e]),this.withHandler(function(t){return t.isEnd()?(this.push(ie(e(t))),this.push($()),n.noMore):this.push(t)}))},n.Observable.prototype.skipErrors=function(){return ye(new n.Desc(this,"skipErrors",[]),this.withHandler(function(e){return e.isError()?n.more:this.push(e)}))},n.EventStream.prototype.takeUntil=function(e){var t;return t={},ye(new n.Desc(this,"takeUntil",[e]),n.groupSimultaneous(this.mapEnd(t),e.skipErrors()).withHandler(function(r){
var o,i,s,a,u,l;if(r.hasValue()){if(a=r.value(),o=a[0],e=a[1],e.length)return this.push($());for(u=n.more,i=0,s=o.length;s>i;i++)l=o[i],u=l===t?this.push($()):this.push(ie(l));return u}return this.push(r)}))},n.Property.prototype.takeUntil=function(e){var t;return t=this.changes().takeUntil(e),ye(new n.Desc(this,"takeUntil",[e]),C(this,t))},n.Observable.prototype.flatMapLatest=function(){var e,t;return e=oe(arguments),t=this.toEventStream(),ye(new n.Desc(this,"flatMapLatest",[e]),t.flatMap(function(n){return re(e(n)).takeUntil(t)}))},n.Property.prototype.delayChanges=function(e,t){return ye(e,C(this,t(this.changes())))},n.EventStream.prototype.delay=function(e){return ye(new n.Desc(this,"delay",[e]),this.flatMap(function(t){return n.later(e,t)}))},n.Property.prototype.delay=function(e){return this.delayChanges(new n.Desc(this,"delay",[e]),function(t){return t.delay(e)})},n.EventStream.prototype.debounce=function(e){return ye(new n.Desc(this,"debounce",[e]),this.flatMapLatest(function(t){return n.later(e,t)}))},
n.Property.prototype.debounce=function(e){return this.delayChanges(new n.Desc(this,"debounce",[e]),function(t){return t.debounce(e)})},n.EventStream.prototype.debounceImmediate=function(e){return ye(new n.Desc(this,"debounceImmediate",[e]),this.flatMapFirst(function(t){return n.once(t).concat(n.later(e).filter(!1))}))},n.Observable.prototype.decode=function(e){return ye(new n.Desc(this,"decode",[e]),this.combine(n.combineTemplate(e),function(e,t){return t[e]}))},n.Observable.prototype.scan=function(e,t){var r,o,i,s;return t=de(t),r=ge(e),o=!1,s=function(e){return function(s){var a,u,l,c;return a=!1,c=se,u=n.more,l=function(){return a?void 0:r.forEach(function(e){return a=o=!0,u=s(new f(function(){return e})),u===n.noMore?(c(),c=se):void 0})},c=e.dispatcher.subscribe(function(e){var i,c;return e.hasValue()?o&&e.isInitial()?n.more:(e.isInitial()||l(),a=o=!0,c=r.getOrElse(void 0),i=t(c,e.value()),r=new _(i),s(e.apply(function(){return i}))):(e.isEnd()&&(u=l()),u!==n.noMore?s(e):void 0)}),k.whenDoneWith(i,l),c}}(this),
i=new b(new n.Desc(this,"scan",[e,t]),s)},n.Observable.prototype.diff=function(e,t){return t=de(t),ye(new n.Desc(this,"diff",[e,t]),this.scan([e],function(e,n){return[n,t(e[0],n)]}).filter(function(e){return 2===e.length}).map(function(e){return e[1]}))},n.Observable.prototype.doAction=function(){var e;return e=te(arguments),ye(new n.Desc(this,"doAction",[e]),this.withHandler(function(t){return t.hasValue()&&e(t.value()),this.push(t)}))},n.Observable.prototype.doError=function(){var e;return e=te(arguments),ye(new n.Desc(this,"doError",[e]),this.withHandler(function(t){return t.isError()&&e(t.error),this.push(t)}))},n.Observable.prototype.doLog=function(){var e;return e=1<=arguments.length?xe.call(arguments,0):[],ye(new n.Desc(this,"doLog",e),this.withHandler(function(t){return"undefined"!=typeof console&&null!==console&&"function"==typeof console.log&&console.log.apply(console,xe.call(e).concat([t.log()])),this.push(t)}))},n.Observable.prototype.endOnError=function(){var e,t;return t=arguments[0],e=2<=arguments.length?xe.call(arguments,1):[],
null==t&&(t=!0),B(this,t,e,function(e){return ye(new n.Desc(this,"endOnError",[]),this.withHandler(function(t){return t.isError()&&e(t.error)?(this.push(t),this.push($())):this.push(t)}))})},v.prototype.errors=function(){return ye(new n.Desc(this,"errors",[]),this.filter(function(){return!1}))},be=function(e){return[e,$()]},n.fromPromise=function(e,t,r){return null==r&&(r=be),ye(new n.Desc(n,"fromPromise",[e]),n.fromBinder(function(n){var r;return null!=(r=e.then(n,function(e){return n(new c(e))}))&&"function"==typeof r.done&&r.done(),function(){return t&&"function"==typeof e.abort?e.abort():void 0}},r))},n.Observable.prototype.mapError=function(){var e;return e=te(arguments),ye(new n.Desc(this,"mapError",[e]),this.withHandler(function(t){return t.isError()?this.push(ie(e(t.error))):this.push(t)}))},n.Observable.prototype.flatMapError=function(e){return ye(new n.Desc(this,"flatMapError",[e]),this.mapError(function(e){return new c(e)}).flatMap(function(t){return t instanceof c?e(t.error):n.once(t)}))},n.EventStream.prototype.sampledBy=function(e,t){
return ye(new n.Desc(this,"sampledBy",[e,t]),this.toProperty().sampledBy(e,t))},n.Property.prototype.sampledBy=function(e,t){var r,o,i,s,a;return null!=t?t=de(t):(r=!0,t=function(e){return e.value()}),a=new w(this,!1,r),i=new w(e,!0,r),s=n.when([a,i],t),o=e instanceof b?s.toProperty():s,ye(new n.Desc(this,"sampledBy",[e,t]),o)},n.Property.prototype.sample=function(e){return ye(new n.Desc(this,"sample",[e]),this.sampledBy(n.interval(e,{})))},n.Observable.prototype.map=function(){var e,t;return t=arguments[0],e=2<=arguments.length?xe.call(arguments,1):[],t instanceof b?t.sampledBy(this,W):B(this,t,e,function(e){return ye(new n.Desc(this,"map",[e]),this.withHandler(function(t){return this.push(t.fmap(e))}))})},n.Observable.prototype.fold=function(e,t){return ye(new n.Desc(this,"fold",[e,t]),this.scan(e,t).sampledBy(this.filter(!1).mapEnd().toProperty()))},v.prototype.reduce=v.prototype.fold,n.fromPoll=function(e,t){return ye(new n.Desc(n,"fromPoll",[e,t]),n.fromBinder(function(t){var r;return r=n.scheduler.setInterval(t,e),
function(){return n.scheduler.clearInterval(r)}},t))},n.Observable.prototype.groupBy=function(e,t){var r,o;return null==t&&(t=n._.id),o={},r=this,r.filter(function(t){return!o[e(t)]}).map(function(i){var s,a,u,l;return a=e(i),l=r.filter(function(t){return e(t)===a}),s=n.once(i).concat(l),u=t(s,i).withHandler(function(e){return this.push(e),e.isEnd()?delete o[a]:void 0}),o[a]=u})},n.fromArray=function(e){var t;return D(e),e.length?(t=0,new d(new n.Desc(n,"fromArray",[e]),function(r){var o,i,s,a,u;return u=!1,a=n.more,s=!1,i=!1,o=function(){var l;if(i=!0,!s){for(s=!0;i;)i=!1,a===n.noMore||u||(l=e[t++],a=r(he(l)),a!==n.noMore&&(t===e.length?r($()):k.afterTransaction(o)));return s=!1}},o(),function(){return u=!0}})):ye(new n.Desc(n,"fromArray",e),n.never())},n.EventStream.prototype.holdWhen=function(e){var t,r,o;return r=!1,t=[],o=this,new d(new n.Desc(this,"holdWhen",[e]),function(n){var s,a,u;return s=new i,u=!1,a=function(e){return"function"==typeof e&&e(),s.empty()&&u?n($()):void 0},s.add(function(o,i){return e.subscribeInternal(function(e){
var o,s,u,l,c;if(!e.hasValue())return e.isEnd()?a(i):n(e);if(r=e.value(),!r){for(l=t,t=[],u=[],o=0,s=l.length;s>o;o++)c=l[o],u.push(n(ie(c)));return u}})}),s.add(function(e,i){return o.subscribeInternal(function(e){return r&&e.hasValue()?t.push(e.value()):e.isEnd()&&t.length?a(i):n(e)})}),u=!0,a(),s.unsubscribe})},n.interval=function(e,t){return null==t&&(t={}),ye(new n.Desc(n,"interval",[e,t]),n.fromPoll(e,function(){return ie(t)}))},n.$={},n.$.asEventStream=function(e,t,r){var o;return x.isFunction(t)&&(o=[t,void 0],r=o[0],t=o[1]),ye(new n.Desc(this.selector||this,"asEventStream",[e]),n.fromBinder(function(n){return function(r){return n.on(e,t,r),function(){return n.off(e,t,r)}}}(this),r))},null!=(le="undefined"!=typeof jQuery&&null!==jQuery?jQuery:"undefined"!=typeof Zepto&&null!==Zepto?Zepto:void 0)&&(le.fn.asEventStream=n.$.asEventStream),n.Observable.prototype.log=function(){var e;return e=1<=arguments.length?xe.call(arguments,0):[],this.subscribe(function(t){return"undefined"!=typeof console&&null!==console&&"function"==typeof console.log?console.log.apply(console,xe.call(e).concat([t.log()])):void 0;
}),this},n.EventStream.prototype.merge=function(e){var t;return A(e),t=this,ye(new n.Desc(t,"merge",[e]),n.mergeAll(this,e))},n.mergeAll=function(){var e;return e=E(arguments),e.length?new d(new n.Desc(n,"mergeAll",e),function(t){var r,o,i;return r=0,i=function(o){return function(i){return o.dispatcher.subscribe(function(o){var s;return o.isEnd()?(r++,r===e.length?t($()):n.more):(s=t(o),s===n.noMore&&i(),s)})}},o=x.map(i,e),new n.CompositeUnsubscribe(o).unsubscribe}):n.never()},n.repeatedly=function(e,t){var r;return r=0,ye(new n.Desc(n,"repeatedly",[e,t]),n.fromPoll(e,function(){return t[r++%t.length]}))},n.repeat=function(e){var t;return t=0,n.fromBinder(function(r){var o,i,s,a,u;return o=!1,s=n.more,u=function(){},i=function(e){return e.isEnd()?o?a():o=!0:s=r(e)},a=function(){var a;for(o=!0;o&&s!==n.noMore;)a=e(t++),o=!1,a?u=a.subscribeInternal(i):r($());return o=!0},a(),function(){return u()}})},n.retry=function(e){var t,r,o,i,s,a,u;if(!x.isFunction(e.source))throw new h("'source' option has to be a function");
return u=e.source,a=e.retries||0,s=e.maxRetries||a,t=e.delay||function(){return 0},i=e.isRetryable||function(){return!0},o=!1,r=null,ye(new n.Desc(n,"retry",[e]),n.repeat(function(){var e,l,c;return o?null:(c=function(){return u().endOnError().withHandler(function(e){return e.isError()?(r=e,i(r.error)&&a>0?void 0:(o=!0,this.push(e))):(e.hasValue()&&(r=null,o=!0),this.push(e))})},r?(e={error:r.error,retriesDone:s-a},l=n.later(t(e)).filter(!1),a-=1,l.concat(n.once().flatMap(c))):c())}))},n.sequentially=function(e,t){var r;return r=0,ye(new n.Desc(n,"sequentially",[e,t]),n.fromPoll(e,function(){var e;return e=t[r++],r<t.length?e:r===t.length?[e,$()]:$()}))},n.Observable.prototype.skip=function(e){return ye(new n.Desc(this,"skip",[e]),this.withHandler(function(t){return t.hasValue()&&e>0?(e--,n.more):this.push(t)}))},n.Observable.prototype.take=function(e){return 0>=e?n.never():ye(new n.Desc(this,"take",[e]),this.withHandler(function(t){return t.hasValue()?(e--,e>0?this.push(t):(0===e&&this.push(t),this.push($()),
n.noMore)):this.push(t)}))},n.EventStream.prototype.skipUntil=function(e){var t;return t=e.take(1).map(!0).toProperty(!1),ye(new n.Desc(this,"skipUntil",[e]),this.filter(t))},n.EventStream.prototype.skipWhile=function(){var e,t,r;return t=arguments[0],e=2<=arguments.length?xe.call(arguments,1):[],O(t),r=!1,B(this,t,e,function(e){return ye(new n.Desc(this,"skipWhile",[e]),this.withHandler(function(t){return!r&&t.hasValue()&&e(t.value())?n.more:(t.hasValue()&&(r=!0),this.push(t))}))})},n.Observable.prototype.slidingWindow=function(e,t){return null==t&&(t=0),ye(new n.Desc(this,"slidingWindow",[e,t]),this.scan([],function(t,n){return t.concat([n]).slice(-e)}).filter(function(e){return e.length>=t}))},n.spy=function(e){return pe.push(e)},pe=[],ce=function(e){var t,n,r;if(pe.length&&!ce.running)try{for(ce.running=!0,t=0,n=pe.length;n>t;t++)(r=pe[t])(e)}finally{delete ce.running}return void 0},n.Property.prototype.startWith=function(e){return ye(new n.Desc(this,"startWith",[e]),this.scan(e,function(e,t){return t}))},
n.EventStream.prototype.startWith=function(e){return ye(new n.Desc(this,"startWith",[e]),n.once(e).concat(this))},n.Observable.prototype.takeWhile=function(){var e,t;return t=arguments[0],e=2<=arguments.length?xe.call(arguments,1):[],O(t),B(this,t,e,function(e){return ye(new n.Desc(this,"takeWhile",[e]),this.withHandler(function(t){return t.filter(e)?this.push(t):(this.push($()),n.noMore)}))})},n.update=function(){var e,t,r,o;for(t=arguments[0],o=2<=arguments.length?xe.call(arguments,1):[],r=function(e){return function(){var t;return t=1<=arguments.length?xe.call(arguments,0):[],function(n){return e.apply(null,[n].concat(t))}}},e=o.length-1;e>0;)o[e]instanceof Function||(o[e]=function(e){return function(){return e}}(o[e])),o[e]=r(o[e]),e-=2;return ye(new n.Desc(n,"update",[t].concat(xe.call(o))),n.when.apply(n,o).scan(t,function(e,t){return t(e)}))},n.zipAsArray=function(){var e;return e=E(arguments),ye(new n.Desc(n,"zipAsArray",e),n.zipWith(e,function(){var e;return e=1<=arguments.length?xe.call(arguments,0):[];
}))},n.zipWith=function(){var e,t,r;return t=T(arguments),r=t[0],e=t[1],r=x.map(function(e){return e.toEventStream()},r),ye(new n.Desc(n,"zipWith",[e].concat(xe.call(r))),n.when(r,e))},n.Observable.prototype.zip=function(e,t){return null==t&&(t=Array),ye(new n.Desc(this,"zip",[e]),n.zipWith([this,e],t))},n.Observable.prototype.first=function(){return ye(new n.Desc(this,"first",[]),this.take(1))},n.Observable.prototype.last=function(){var e;return ye(new n.Desc(this,"last",[]),this.withHandler(function(t){return t.isEnd()?(e&&this.push(e),this.push($()),n.noMore):void(e=t)}))},n.EventStream.prototype.throttle=function(e){return ye(new n.Desc(this,"throttle",[e]),this.bufferWithTime(e).map(function(e){return e[e.length-1]}))},n.Property.prototype.throttle=function(e){return this.delayChanges(new n.Desc(this,"throttle",[e]),function(t){return t.throttle(e)})},v.prototype.firstToPromise=function(e){var t=this;if("function"!=typeof e){if("function"!=typeof Promise)throw new h("There isn't default Promise, use shim or parameter");
e=Promise}return new e(function(e,r){return t.subscribe(function(t){return t.hasValue()&&e(t.value()),t.isError()&&r(t.error),n.noMore})})},v.prototype.toPromise=function(e){return this.last().firstToPromise(e)},"undefined"!=typeof define&&null!==define&&null!=define.amd?(define([],function(){return n}),"undefined"!=typeof this&&null!==this&&(this.Bacon=n)):"undefined"!=typeof t&&null!==t&&null!=t.exports?(t.exports=n,n.Bacon=n):this.Bacon=n}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],501:[function(e,t,n){(function(t){/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */
"use strict";function r(){function e(){}try{var t=new Uint8Array(1);return t.foo=function(){return 42},t.constructor=e,42===t.foo()&&t.constructor===e&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(n){return!1}}function o(){return i.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function i(e){return this instanceof i?(i.TYPED_ARRAY_SUPPORT||(this.length=0,this.parent=void 0),"number"==typeof e?s(this,e):"string"==typeof e?a(this,e,arguments.length>1?arguments[1]:"utf8"):u(this,e)):arguments.length>1?new i(e,arguments[1]):new i(e)}function s(e,t){if(e=m(e,0>t?0:0|g(t)),!i.TYPED_ARRAY_SUPPORT)for(var n=0;t>n;n++)e[n]=0;return e}function a(e,t,n){("string"!=typeof n||""===n)&&(n="utf8");var r=0|b(t,n);return e=m(e,r),e.write(t,n),e}function u(e,t){if(i.isBuffer(t))return l(e,t);if(Z(t))return c(e,t);if(null==t)throw new TypeError("must start with number, buffer, array or string");if("undefined"!=typeof ArrayBuffer){if(t.buffer instanceof ArrayBuffer)return p(e,t);if(t instanceof ArrayBuffer)return d(e,t);
}return t.length?h(e,t):f(e,t)}function l(e,t){var n=0|g(t.length);return e=m(e,n),t.copy(e,0,0,n),e}function c(e,t){var n=0|g(t.length);e=m(e,n);for(var r=0;n>r;r+=1)e[r]=255&t[r];return e}function p(e,t){var n=0|g(t.length);e=m(e,n);for(var r=0;n>r;r+=1)e[r]=255&t[r];return e}function d(e,t){return i.TYPED_ARRAY_SUPPORT?(t.byteLength,e=i._augment(new Uint8Array(t))):e=p(e,new Uint8Array(t)),e}function h(e,t){var n=0|g(t.length);e=m(e,n);for(var r=0;n>r;r+=1)e[r]=255&t[r];return e}function f(e,t){var n,r=0;"Buffer"===t.type&&Z(t.data)&&(n=t.data,r=0|g(n.length)),e=m(e,r);for(var o=0;r>o;o+=1)e[o]=255&n[o];return e}function m(e,t){i.TYPED_ARRAY_SUPPORT?(e=i._augment(new Uint8Array(t)),e.__proto__=i.prototype):(e.length=t,e._isBuffer=!0);var n=0!==t&&t<=i.poolSize>>>1;return n&&(e.parent=J),e}function g(e){if(e>=o())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o().toString(16)+" bytes");return 0|e}function v(e,t){if(!(this instanceof v))return new v(e,t);var n=new i(e,t);return delete n.parent,
n}function b(e,t){"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"binary":case"raw":case"raws":return n;case"utf8":case"utf-8":return H(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return W(e).length;default:if(r)return H(e).length;t=(""+t).toLowerCase(),r=!0}}function y(e,t,n){var r=!1;if(t=0|t,n=void 0===n||n===1/0?this.length:0|n,e||(e="utf8"),0>t&&(t=0),n>this.length&&(n=this.length),t>=n)return"";for(;;)switch(e){case"hex":return F(this,t,n);case"utf8":case"utf-8":return S(this,t,n);case"ascii":return A(this,t,n);case"binary":return M(this,t,n);case"base64":return T(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return N(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function _(e,t,n,r){n=Number(n)||0;var o=e.length-n;r?(r=Number(r),r>o&&(r=o)):r=o;var i=t.length;if(i%2!==0)throw new Error("Invalid hex string");r>i/2&&(r=i/2);
for(var s=0;r>s;s++){var a=parseInt(t.substr(2*s,2),16);if(isNaN(a))throw new Error("Invalid hex string");e[n+s]=a}return s}function w(e,t,n,r){return Y(H(t,e.length-n),e,n,r)}function k(e,t,n,r){return Y(z(t),e,n,r)}function x(e,t,n,r){return k(e,t,n,r)}function C(e,t,n,r){return Y(W(t),e,n,r)}function E(e,t,n,r){return Y(q(t,e.length-n),e,n,r)}function T(e,t,n){return 0===t&&n===e.length?G.fromByteArray(e):G.fromByteArray(e.slice(t,n))}function S(e,t,n){n=Math.min(e.length,n);for(var r=[],o=t;n>o;){var i=e[o],s=null,a=i>239?4:i>223?3:i>191?2:1;if(n>=o+a){var u,l,c,p;switch(a){case 1:128>i&&(s=i);break;case 2:u=e[o+1],128===(192&u)&&(p=(31&i)<<6|63&u,p>127&&(s=p));break;case 3:u=e[o+1],l=e[o+2],128===(192&u)&&128===(192&l)&&(p=(15&i)<<12|(63&u)<<6|63&l,p>2047&&(55296>p||p>57343)&&(s=p));break;case 4:u=e[o+1],l=e[o+2],c=e[o+3],128===(192&u)&&128===(192&l)&&128===(192&c)&&(p=(15&i)<<18|(63&u)<<12|(63&l)<<6|63&c,p>65535&&1114112>p&&(s=p))}}null===s?(s=65533,a=1):s>65535&&(s-=65536,r.push(s>>>10&1023|55296),s=56320|1023&s),
r.push(s),o+=a}return D(r)}function D(e){var t=e.length;if(Q>=t)return String.fromCharCode.apply(String,e);for(var n="",r=0;t>r;)n+=String.fromCharCode.apply(String,e.slice(r,r+=Q));return n}function A(e,t,n){var r="";n=Math.min(e.length,n);for(var o=t;n>o;o++)r+=String.fromCharCode(127&e[o]);return r}function M(e,t,n){var r="";n=Math.min(e.length,n);for(var o=t;n>o;o++)r+=String.fromCharCode(e[o]);return r}function F(e,t,n){var r=e.length;(!t||0>t)&&(t=0),(!n||0>n||n>r)&&(n=r);for(var o="",i=t;n>i;i++)o+=V(e[i]);return o}function N(e,t,n){for(var r=e.slice(t,n),o="",i=0;i<r.length;i+=2)o+=String.fromCharCode(r[i]+256*r[i+1]);return o}function O(e,t,n){if(e%1!==0||0>e)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function I(e,t,n,r,o,s){if(!i.isBuffer(e))throw new TypeError("buffer must be a Buffer instance");if(t>o||s>t)throw new RangeError("value is out of bounds");if(n+r>e.length)throw new RangeError("index out of range")}function P(e,t,n,r){
0>t&&(t=65535+t+1);for(var o=0,i=Math.min(e.length-n,2);i>o;o++)e[n+o]=(t&255<<8*(r?o:1-o))>>>8*(r?o:1-o)}function L(e,t,n,r){0>t&&(t=4294967295+t+1);for(var o=0,i=Math.min(e.length-n,4);i>o;o++)e[n+o]=t>>>8*(r?o:3-o)&255}function R(e,t,n,r,o,i){if(t>o||i>t)throw new RangeError("value is out of bounds");if(n+r>e.length)throw new RangeError("index out of range");if(0>n)throw new RangeError("index out of range")}function B(e,t,n,r,o){return o||R(e,t,n,4,3.4028234663852886e38,-3.4028234663852886e38),K.write(e,t,n,r,23,4),n+4}function j(e,t,n,r,o){return o||R(e,t,n,8,1.7976931348623157e308,-1.7976931348623157e308),K.write(e,t,n,r,52,8),n+8}function $(e){if(e=U(e).replace(ee,""),e.length<2)return"";for(;e.length%4!==0;)e+="=";return e}function U(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function V(e){return 16>e?"0"+e.toString(16):e.toString(16)}function H(e,t){t=t||1/0;for(var n,r=e.length,o=null,i=[],s=0;r>s;s++){if(n=e.charCodeAt(s),n>55295&&57344>n){if(!o){if(n>56319){(t-=3)>-1&&i.push(239,191,189);continue;
}if(s+1===r){(t-=3)>-1&&i.push(239,191,189);continue}o=n;continue}if(56320>n){(t-=3)>-1&&i.push(239,191,189),o=n;continue}n=(o-55296<<10|n-56320)+65536}else o&&(t-=3)>-1&&i.push(239,191,189);if(o=null,128>n){if((t-=1)<0)break;i.push(n)}else if(2048>n){if((t-=2)<0)break;i.push(n>>6|192,63&n|128)}else if(65536>n){if((t-=3)<0)break;i.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(1114112>n))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return i}function z(e){for(var t=[],n=0;n<e.length;n++)t.push(255&e.charCodeAt(n));return t}function q(e,t){for(var n,r,o,i=[],s=0;s<e.length&&!((t-=2)<0);s++)n=e.charCodeAt(s),r=n>>8,o=n%256,i.push(o),i.push(r);return i}function W(e){return G.toByteArray($(e))}function Y(e,t,n,r){for(var o=0;r>o&&!(o+n>=t.length||o>=e.length);o++)t[o+n]=e[o];return o}var G=e("base64-js"),K=e("ieee754"),Z=e("isarray");n.Buffer=i,n.SlowBuffer=v,n.INSPECT_MAX_BYTES=50,i.poolSize=8192;var J={};i.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:r(),
i.TYPED_ARRAY_SUPPORT?(i.prototype.__proto__=Uint8Array.prototype,i.__proto__=Uint8Array):(i.prototype.length=void 0,i.prototype.parent=void 0),i.isBuffer=function(e){return!(null==e||!e._isBuffer)},i.compare=function(e,t){if(!i.isBuffer(e)||!i.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,o=0,s=Math.min(n,r);s>o&&e[o]===t[o];)++o;return o!==s&&(n=e[o],r=t[o]),r>n?-1:n>r?1:0},i.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},i.concat=function(e,t){if(!Z(e))throw new TypeError("list argument must be an Array of Buffers.");if(0===e.length)return new i(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;n++)t+=e[n].length;var r=new i(t),o=0;for(n=0;n<e.length;n++){var s=e[n];s.copy(r,o),o+=s.length}return r},i.byteLength=b,i.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?S(this,0,e):y.apply(this,arguments);
},i.prototype.equals=function(e){if(!i.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e?!0:0===i.compare(this,e)},i.prototype.inspect=function(){var e="",t=n.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,t).match(/.{2}/g).join(" "),this.length>t&&(e+=" ... ")),"<Buffer "+e+">"},i.prototype.compare=function(e){if(!i.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e?0:i.compare(this,e)},i.prototype.indexOf=function(e,t){function n(e,t,n){for(var r=-1,o=0;n+o<e.length;o++)if(e[n+o]===t[-1===r?0:o-r]){if(-1===r&&(r=o),o-r+1===t.length)return n+r}else r=-1;return-1}if(t>2147483647?t=2147483647:-2147483648>t&&(t=-2147483648),t>>=0,0===this.length)return-1;if(t>=this.length)return-1;if(0>t&&(t=Math.max(this.length+t,0)),"string"==typeof e)return 0===e.length?-1:String.prototype.indexOf.call(this,e,t);if(i.isBuffer(e))return n(this,e,t);if("number"==typeof e)return i.TYPED_ARRAY_SUPPORT&&"function"===Uint8Array.prototype.indexOf?Uint8Array.prototype.indexOf.call(this,e,t):n(this,[e],t);
throw new TypeError("val must be string, number or Buffer")},i.prototype.get=function(e){return console.log(".get() is deprecated. Access using array indexes instead."),this.readUInt8(e)},i.prototype.set=function(e,t){return console.log(".set() is deprecated. Access using array indexes instead."),this.writeUInt8(e,t)},i.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else if(isFinite(t))t=0|t,isFinite(n)?(n=0|n,void 0===r&&(r="utf8")):(r=n,n=void 0);else{var o=r;r=t,t=0|n,n=o}var i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(0>n||0>t)||t>this.length)throw new RangeError("attempt to write outside buffer bounds");r||(r="utf8");for(var s=!1;;)switch(r){case"hex":return _(this,e,t,n);case"utf8":case"utf-8":return w(this,e,t,n);case"ascii":return k(this,e,t,n);case"binary":return x(this,e,t,n);case"base64":return C(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E(this,e,t,n);default:if(s)throw new TypeError("Unknown encoding: "+r);
r=(""+r).toLowerCase(),s=!0}},i.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var Q=4096;i.prototype.slice=function(e,t){var n=this.length;e=~~e,t=void 0===t?n:~~t,0>e?(e+=n,0>e&&(e=0)):e>n&&(e=n),0>t?(t+=n,0>t&&(t=0)):t>n&&(t=n),e>t&&(t=e);var r;if(i.TYPED_ARRAY_SUPPORT)r=i._augment(this.subarray(e,t));else{var o=t-e;r=new i(o,void 0);for(var s=0;o>s;s++)r[s]=this[s+e]}return r.length&&(r.parent=this.parent||this),r},i.prototype.readUIntLE=function(e,t,n){e=0|e,t=0|t,n||O(e,t,this.length);for(var r=this[e],o=1,i=0;++i<t&&(o*=256);)r+=this[e+i]*o;return r},i.prototype.readUIntBE=function(e,t,n){e=0|e,t=0|t,n||O(e,t,this.length);for(var r=this[e+--t],o=1;t>0&&(o*=256);)r+=this[e+--t]*o;return r},i.prototype.readUInt8=function(e,t){return t||O(e,1,this.length),this[e]},i.prototype.readUInt16LE=function(e,t){return t||O(e,2,this.length),this[e]|this[e+1]<<8},i.prototype.readUInt16BE=function(e,t){return t||O(e,2,this.length),this[e]<<8|this[e+1]},i.prototype.readUInt32LE=function(e,t){
return t||O(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},i.prototype.readUInt32BE=function(e,t){return t||O(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},i.prototype.readIntLE=function(e,t,n){e=0|e,t=0|t,n||O(e,t,this.length);for(var r=this[e],o=1,i=0;++i<t&&(o*=256);)r+=this[e+i]*o;return o*=128,r>=o&&(r-=Math.pow(2,8*t)),r},i.prototype.readIntBE=function(e,t,n){e=0|e,t=0|t,n||O(e,t,this.length);for(var r=t,o=1,i=this[e+--r];r>0&&(o*=256);)i+=this[e+--r]*o;return o*=128,i>=o&&(i-=Math.pow(2,8*t)),i},i.prototype.readInt8=function(e,t){return t||O(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},i.prototype.readInt16LE=function(e,t){t||O(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},i.prototype.readInt16BE=function(e,t){t||O(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},i.prototype.readInt32LE=function(e,t){return t||O(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},i.prototype.readInt32BE=function(e,t){
return t||O(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},i.prototype.readFloatLE=function(e,t){return t||O(e,4,this.length),K.read(this,e,!0,23,4)},i.prototype.readFloatBE=function(e,t){return t||O(e,4,this.length),K.read(this,e,!1,23,4)},i.prototype.readDoubleLE=function(e,t){return t||O(e,8,this.length),K.read(this,e,!0,52,8)},i.prototype.readDoubleBE=function(e,t){return t||O(e,8,this.length),K.read(this,e,!1,52,8)},i.prototype.writeUIntLE=function(e,t,n,r){e=+e,t=0|t,n=0|n,r||I(this,e,t,n,Math.pow(2,8*n),0);var o=1,i=0;for(this[t]=255&e;++i<n&&(o*=256);)this[t+i]=e/o&255;return t+n},i.prototype.writeUIntBE=function(e,t,n,r){e=+e,t=0|t,n=0|n,r||I(this,e,t,n,Math.pow(2,8*n),0);var o=n-1,i=1;for(this[t+o]=255&e;--o>=0&&(i*=256);)this[t+o]=e/i&255;return t+n},i.prototype.writeUInt8=function(e,t,n){return e=+e,t=0|t,n||I(this,e,t,1,255,0),i.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},i.prototype.writeUInt16LE=function(e,t,n){return e=+e,t=0|t,n||I(this,e,t,2,65535,0),i.TYPED_ARRAY_SUPPORT?(this[t]=255&e,
this[t+1]=e>>>8):P(this,e,t,!0),t+2},i.prototype.writeUInt16BE=function(e,t,n){return e=+e,t=0|t,n||I(this,e,t,2,65535,0),i.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):P(this,e,t,!1),t+2},i.prototype.writeUInt32LE=function(e,t,n){return e=+e,t=0|t,n||I(this,e,t,4,4294967295,0),i.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):L(this,e,t,!0),t+4},i.prototype.writeUInt32BE=function(e,t,n){return e=+e,t=0|t,n||I(this,e,t,4,4294967295,0),i.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):L(this,e,t,!1),t+4},i.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t=0|t,!r){var o=Math.pow(2,8*n-1);I(this,e,t,n,o-1,-o)}var i=0,s=1,a=0>e?1:0;for(this[t]=255&e;++i<n&&(s*=256);)this[t+i]=(e/s>>0)-a&255;return t+n},i.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t=0|t,!r){var o=Math.pow(2,8*n-1);I(this,e,t,n,o-1,-o)}var i=n-1,s=1,a=0>e?1:0;for(this[t+i]=255&e;--i>=0&&(s*=256);)this[t+i]=(e/s>>0)-a&255;return t+n},i.prototype.writeInt8=function(e,t,n){
return e=+e,t=0|t,n||I(this,e,t,1,127,-128),i.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),0>e&&(e=255+e+1),this[t]=255&e,t+1},i.prototype.writeInt16LE=function(e,t,n){return e=+e,t=0|t,n||I(this,e,t,2,32767,-32768),i.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):P(this,e,t,!0),t+2},i.prototype.writeInt16BE=function(e,t,n){return e=+e,t=0|t,n||I(this,e,t,2,32767,-32768),i.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):P(this,e,t,!1),t+2},i.prototype.writeInt32LE=function(e,t,n){return e=+e,t=0|t,n||I(this,e,t,4,2147483647,-2147483648),i.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):L(this,e,t,!0),t+4},i.prototype.writeInt32BE=function(e,t,n){return e=+e,t=0|t,n||I(this,e,t,4,2147483647,-2147483648),0>e&&(e=4294967295+e+1),i.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):L(this,e,t,!1),t+4},i.prototype.writeFloatLE=function(e,t,n){return B(this,e,t,!0,n)},i.prototype.writeFloatBE=function(e,t,n){return B(this,e,t,!1,n)},i.prototype.writeDoubleLE=function(e,t,n){
return j(this,e,t,!0,n)},i.prototype.writeDoubleBE=function(e,t,n){return j(this,e,t,!1,n)},i.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&n>r&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(0>t)throw new RangeError("targetStart out of bounds");if(0>n||n>=this.length)throw new RangeError("sourceStart out of bounds");if(0>r)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var o,s=r-n;if(this===e&&t>n&&r>t)for(o=s-1;o>=0;o--)e[o+t]=this[o+n];else if(1e3>s||!i.TYPED_ARRAY_SUPPORT)for(o=0;s>o;o++)e[o+t]=this[o+n];else e._set(this.subarray(n,n+s),t);return s},i.prototype.fill=function(e,t,n){if(e||(e=0),t||(t=0),n||(n=this.length),t>n)throw new RangeError("end < start");if(n!==t&&0!==this.length){if(0>t||t>=this.length)throw new RangeError("start out of bounds");if(0>n||n>this.length)throw new RangeError("end out of bounds");var r;if("number"==typeof e)for(r=t;n>r;r++)this[r]=e;else{
var o=H(e.toString()),i=o.length;for(r=t;n>r;r++)this[r]=o[r%i]}return this}},i.prototype.toArrayBuffer=function(){if("undefined"!=typeof Uint8Array){if(i.TYPED_ARRAY_SUPPORT)return new i(this).buffer;for(var e=new Uint8Array(this.length),t=0,n=e.length;n>t;t+=1)e[t]=this[t];return e.buffer}throw new TypeError("Buffer.toArrayBuffer not supported in this browser")};var X=i.prototype;i._augment=function(e){return e.constructor=i,e._isBuffer=!0,e._set=e.set,e.get=X.get,e.set=X.set,e.write=X.write,e.toString=X.toString,e.toLocaleString=X.toString,e.toJSON=X.toJSON,e.equals=X.equals,e.compare=X.compare,e.indexOf=X.indexOf,e.copy=X.copy,e.slice=X.slice,e.readUIntLE=X.readUIntLE,e.readUIntBE=X.readUIntBE,e.readUInt8=X.readUInt8,e.readUInt16LE=X.readUInt16LE,e.readUInt16BE=X.readUInt16BE,e.readUInt32LE=X.readUInt32LE,e.readUInt32BE=X.readUInt32BE,e.readIntLE=X.readIntLE,e.readIntBE=X.readIntBE,e.readInt8=X.readInt8,e.readInt16LE=X.readInt16LE,e.readInt16BE=X.readInt16BE,e.readInt32LE=X.readInt32LE,e.readInt32BE=X.readInt32BE,
e.readFloatLE=X.readFloatLE,e.readFloatBE=X.readFloatBE,e.readDoubleLE=X.readDoubleLE,e.readDoubleBE=X.readDoubleBE,e.writeUInt8=X.writeUInt8,e.writeUIntLE=X.writeUIntLE,e.writeUIntBE=X.writeUIntBE,e.writeUInt16LE=X.writeUInt16LE,e.writeUInt16BE=X.writeUInt16BE,e.writeUInt32LE=X.writeUInt32LE,e.writeUInt32BE=X.writeUInt32BE,e.writeIntLE=X.writeIntLE,e.writeIntBE=X.writeIntBE,e.writeInt8=X.writeInt8,e.writeInt16LE=X.writeInt16LE,e.writeInt16BE=X.writeInt16BE,e.writeInt32LE=X.writeInt32LE,e.writeInt32BE=X.writeInt32BE,e.writeFloatLE=X.writeFloatLE,e.writeFloatBE=X.writeFloatBE,e.writeDoubleLE=X.writeDoubleLE,e.writeDoubleBE=X.writeDoubleBE,e.fill=X.fill,e.inspect=X.inspect,e.toArrayBuffer=X.toArrayBuffer,e};var ee=/[^+\/0-9A-Za-z-_]/g}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"base64-js":502,ieee754:503,isarray:504}],502:[function(e,t,n){var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";!function(e){"use strict";function t(e){
var t=e.charCodeAt(0);return t===s||t===p?62:t===a||t===d?63:u>t?-1:u+10>t?t-u+26+26:c+26>t?t-c:l+26>t?t-l+26:void 0}function n(e){function n(e){l[p++]=e}var r,o,s,a,u,l;if(e.length%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var c=e.length;u="="===e.charAt(c-2)?2:"="===e.charAt(c-1)?1:0,l=new i(3*e.length/4-u),s=u>0?e.length-4:e.length;var p=0;for(r=0,o=0;s>r;r+=4,o+=3)a=t(e.charAt(r))<<18|t(e.charAt(r+1))<<12|t(e.charAt(r+2))<<6|t(e.charAt(r+3)),n((16711680&a)>>16),n((65280&a)>>8),n(255&a);return 2===u?(a=t(e.charAt(r))<<2|t(e.charAt(r+1))>>4,n(255&a)):1===u&&(a=t(e.charAt(r))<<10|t(e.charAt(r+1))<<4|t(e.charAt(r+2))>>2,n(a>>8&255),n(255&a)),l}function o(e){function t(e){return r.charAt(e)}function n(e){return t(e>>18&63)+t(e>>12&63)+t(e>>6&63)+t(63&e)}var o,i,s,a=e.length%3,u="";for(o=0,s=e.length-a;s>o;o+=3)i=(e[o]<<16)+(e[o+1]<<8)+e[o+2],u+=n(i);switch(a){case 1:i=e[e.length-1],u+=t(i>>2),u+=t(i<<4&63),u+="==";break;case 2:i=(e[e.length-2]<<8)+e[e.length-1],u+=t(i>>10),u+=t(i>>4&63),
u+=t(i<<2&63),u+="="}return u}var i="undefined"!=typeof Uint8Array?Uint8Array:Array,s="+".charCodeAt(0),a="/".charCodeAt(0),u="0".charCodeAt(0),l="a".charCodeAt(0),c="A".charCodeAt(0),p="-".charCodeAt(0),d="_".charCodeAt(0);e.toByteArray=n,e.fromByteArray=o}("undefined"==typeof n?this.base64js={}:n)},{}],503:[function(e,t,n){n.read=function(e,t,n,r,o){var i,s,a=8*o-r-1,u=(1<<a)-1,l=u>>1,c=-7,p=n?o-1:0,d=n?-1:1,h=e[t+p];for(p+=d,i=h&(1<<-c)-1,h>>=-c,c+=a;c>0;i=256*i+e[t+p],p+=d,c-=8);for(s=i&(1<<-c)-1,i>>=-c,c+=r;c>0;s=256*s+e[t+p],p+=d,c-=8);if(0===i)i=1-l;else{if(i===u)return s?NaN:(h?-1:1)*(1/0);s+=Math.pow(2,r),i-=l}return(h?-1:1)*s*Math.pow(2,i-r)},n.write=function(e,t,n,r,o,i){var s,a,u,l=8*i-o-1,c=(1<<l)-1,p=c>>1,d=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,h=r?0:i-1,f=r?1:-1,m=0>t||0===t&&0>1/t?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=c):(s=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-s))<1&&(s--,u*=2),t+=s+p>=1?d/u:d*Math.pow(2,1-p),t*u>=2&&(s++,u/=2),s+p>=c?(a=0,s=c):s+p>=1?(a=(t*u-1)*Math.pow(2,o),
s+=p):(a=t*Math.pow(2,p-1)*Math.pow(2,o),s=0));o>=8;e[n+h]=255&a,h+=f,a/=256,o-=8);for(s=s<<o|a,l+=o;l>0;e[n+h]=255&s,h+=f,s/=256,l-=8);e[n+h-f]|=128*m}},{}],504:[function(e,t,n){var r={}.toString;t.exports=Array.isArray||function(e){return"[object Array]"==r.call(e)}},{}],505:[function(e,t,n){function r(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function i(e){if(p===setTimeout)return setTimeout(e,0);if((p===r||!p)&&setTimeout)return p=setTimeout,setTimeout(e,0);try{return p(e,0)}catch(t){try{return p.call(null,e,0)}catch(t){return p.call(this,e,0)}}}function s(e){if(d===clearTimeout)return clearTimeout(e);if((d===o||!d)&&clearTimeout)return d=clearTimeout,clearTimeout(e);try{return d(e)}catch(t){try{return d.call(null,e)}catch(t){return d.call(this,e)}}}function a(){g&&f&&(g=!1,f.length?m=f.concat(m):v=-1,m.length&&u())}function u(){if(!g){var e=i(a);g=!0;for(var t=m.length;t;){for(f=m,m=[];++v<t;)f&&f[v].run();v=-1,t=m.length}f=null,
g=!1,s(e)}}function l(e,t){this.fun=e,this.array=t}function c(){}var p,d,h=t.exports={};!function(){try{p="function"==typeof setTimeout?setTimeout:r}catch(e){p=r}try{d="function"==typeof clearTimeout?clearTimeout:o}catch(e){d=o}}();var f,m=[],g=!1,v=-1;h.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];m.push(new l(e,t)),1!==m.length||g||i(u)},l.prototype.run=function(){this.fun.apply(null,this.array)},h.title="browser",h.browser=!0,h.env={},h.argv=[],h.version="",h.versions={},h.on=c,h.addListener=c,h.once=c,h.off=c,h.removeListener=c,h.removeAllListeners=c,h.emit=c,h.prependListener=c,h.prependOnceListener=c,h.listeners=function(e){return[]},h.binding=function(e){throw new Error("process.binding is not supported")},h.cwd=function(){return"/"},h.chdir=function(e){throw new Error("process.chdir is not supported")},h.umask=function(){return 0}},{}],506:[function(e,t,n){(function(e){!function(r){function o(e){throw new RangeError(O[e]);
}function i(e,t){for(var n=e.length,r=[];n--;)r[n]=t(e[n]);return r}function s(e,t){var n=e.split("@"),r="";n.length>1&&(r=n[0]+"@",e=n[1]),e=e.replace(N,".");var o=e.split("."),s=i(o,t).join(".");return r+s}function a(e){for(var t,n,r=[],o=0,i=e.length;i>o;)t=e.charCodeAt(o++),t>=55296&&56319>=t&&i>o?(n=e.charCodeAt(o++),56320==(64512&n)?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),o--)):r.push(t);return r}function u(e){return i(e,function(e){var t="";return e>65535&&(e-=65536,t+=L(e>>>10&1023|55296),e=56320|1023&e),t+=L(e)}).join("")}function l(e){return 10>e-48?e-22:26>e-65?e-65:26>e-97?e-97:k}function c(e,t){return e+22+75*(26>e)-((0!=t)<<5)}function p(e,t,n){var r=0;for(e=n?P(e/T):e>>1,e+=P(e/t);e>I*C>>1;r+=k)e=P(e/I);return P(r+(I+1)*e/(e+E))}function d(e){var t,n,r,i,s,a,c,d,h,f,m=[],g=e.length,v=0,b=D,y=S;for(n=e.lastIndexOf(A),0>n&&(n=0),r=0;n>r;++r)e.charCodeAt(r)>=128&&o("not-basic"),m.push(e.charCodeAt(r));for(i=n>0?n+1:0;g>i;){for(s=v,a=1,c=k;i>=g&&o("invalid-input"),d=l(e.charCodeAt(i++)),(d>=k||d>P((w-v)/a))&&o("overflow"),
v+=d*a,h=y>=c?x:c>=y+C?C:c-y,!(h>d);c+=k)f=k-h,a>P(w/f)&&o("overflow"),a*=f;t=m.length+1,y=p(v-s,t,0==s),P(v/t)>w-b&&o("overflow"),b+=P(v/t),v%=t,m.splice(v++,0,b)}return u(m)}function h(e){var t,n,r,i,s,u,l,d,h,f,m,g,v,b,y,_=[];for(e=a(e),g=e.length,t=D,n=0,s=S,u=0;g>u;++u)m=e[u],128>m&&_.push(L(m));for(r=i=_.length,i&&_.push(A);g>r;){for(l=w,u=0;g>u;++u)m=e[u],m>=t&&l>m&&(l=m);for(v=r+1,l-t>P((w-n)/v)&&o("overflow"),n+=(l-t)*v,t=l,u=0;g>u;++u)if(m=e[u],t>m&&++n>w&&o("overflow"),m==t){for(d=n,h=k;f=s>=h?x:h>=s+C?C:h-s,!(f>d);h+=k)y=d-f,b=k-f,_.push(L(c(f+y%b,0))),d=P(y/b);_.push(L(c(d,0))),s=p(n,v,r==i),n=0,++r}++n,++t}return _.join("")}function f(e){return s(e,function(e){return M.test(e)?d(e.slice(4).toLowerCase()):e})}function m(e){return s(e,function(e){return F.test(e)?"xn--"+h(e):e})}var g="object"==typeof n&&n&&!n.nodeType&&n,v="object"==typeof t&&t&&!t.nodeType&&t,b="object"==typeof e&&e;(b.global===b||b.window===b||b.self===b)&&(r=b);var y,_,w=2147483647,k=36,x=1,C=26,E=38,T=700,S=72,D=128,A="-",M=/^xn--/,F=/[^\x20-\x7E]/,N=/[\x2E\u3002\uFF0E\uFF61]/g,O={
overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},I=k-x,P=Math.floor,L=String.fromCharCode;if(y={version:"1.4.1",ucs2:{decode:a,encode:u},decode:d,encode:h,toASCII:m,toUnicode:f},"function"==typeof define&&"object"==typeof define.amd&&define.amd)define("punycode",function(){return y});else if(g&&v)if(t.exports==g)v.exports=y;else for(_ in y)y.hasOwnProperty(_)&&(g[_]=y[_]);else r.punycode=y}(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],507:[function(e,t,n){"function"==typeof Object.create?t.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},{}],508:[function(e,t,n){t.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8;
}},{}],509:[function(e,t,n){(function(t,r){function o(e,t){var r={seen:[],stylize:s};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),m(t)?r.showHidden=t:t&&n._extend(r,t),w(r.showHidden)&&(r.showHidden=!1),w(r.depth)&&(r.depth=2),w(r.colors)&&(r.colors=!1),w(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=i),u(r,e,r.depth)}function i(e,t){var n=o.styles[t];return n?"["+o.colors[n][0]+"m"+e+"["+o.colors[n][1]+"m":e}function s(e,t){return e}function a(e){var t={};return e.forEach(function(e,n){t[e]=!0}),t}function u(e,t,r){if(e.customInspect&&t&&T(t.inspect)&&t.inspect!==n.inspect&&(!t.constructor||t.constructor.prototype!==t)){var o=t.inspect(r,e);return y(o)||(o=u(e,o,r)),o}var i=l(e,t);if(i)return i;var s=Object.keys(t),m=a(s);if(e.showHidden&&(s=Object.getOwnPropertyNames(t)),E(t)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return c(t);if(0===s.length){if(T(t)){var g=t.name?": "+t.name:"";return e.stylize("[Function"+g+"]","special")}if(k(t))return e.stylize(RegExp.prototype.toString.call(t),"regexp");
if(C(t))return e.stylize(Date.prototype.toString.call(t),"date");if(E(t))return c(t)}var v="",b=!1,_=["{","}"];if(f(t)&&(b=!0,_=["[","]"]),T(t)){var w=t.name?": "+t.name:"";v=" [Function"+w+"]"}if(k(t)&&(v=" "+RegExp.prototype.toString.call(t)),C(t)&&(v=" "+Date.prototype.toUTCString.call(t)),E(t)&&(v=" "+c(t)),0===s.length&&(!b||0==t.length))return _[0]+v+_[1];if(0>r)return k(t)?e.stylize(RegExp.prototype.toString.call(t),"regexp"):e.stylize("[Object]","special");e.seen.push(t);var x;return x=b?p(e,t,r,m,s):s.map(function(n){return d(e,t,r,m,n,b)}),e.seen.pop(),h(x,v,_)}function l(e,t){if(w(t))return e.stylize("undefined","undefined");if(y(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}return b(t)?e.stylize(""+t,"number"):m(t)?e.stylize(""+t,"boolean"):g(t)?e.stylize("null","null"):void 0}function c(e){return"["+Error.prototype.toString.call(e)+"]"}function p(e,t,n,r,o){for(var i=[],s=0,a=t.length;a>s;++s)F(t,String(s))?i.push(d(e,t,n,r,String(s),!0)):i.push("");
return o.forEach(function(o){o.match(/^\d+$/)||i.push(d(e,t,n,r,o,!0))}),i}function d(e,t,n,r,o,i){var s,a,l;if(l=Object.getOwnPropertyDescriptor(t,o)||{value:t[o]},l.get?a=l.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):l.set&&(a=e.stylize("[Setter]","special")),F(r,o)||(s="["+o+"]"),a||(e.seen.indexOf(l.value)<0?(a=g(n)?u(e,l.value,null):u(e,l.value,n-1),a.indexOf("\n")>-1&&(a=i?a.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+a.split("\n").map(function(e){return"   "+e}).join("\n"))):a=e.stylize("[Circular]","special")),w(s)){if(i&&o.match(/^\d+$/))return a;s=JSON.stringify(""+o),s.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=e.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=e.stylize(s,"string"))}return s+": "+a}function h(e,t,n){var r=0,o=e.reduce(function(e,t){return r++,t.indexOf("\n")>=0&&r++,e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0);return o>60?n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1]:n[0]+t+" "+e.join(", ")+" "+n[1];
}function f(e){return Array.isArray(e)}function m(e){return"boolean"==typeof e}function g(e){return null===e}function v(e){return null==e}function b(e){return"number"==typeof e}function y(e){return"string"==typeof e}function _(e){return"symbol"==typeof e}function w(e){return void 0===e}function k(e){return x(e)&&"[object RegExp]"===D(e)}function x(e){return"object"==typeof e&&null!==e}function C(e){return x(e)&&"[object Date]"===D(e)}function E(e){return x(e)&&("[object Error]"===D(e)||e instanceof Error)}function T(e){return"function"==typeof e}function S(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||"undefined"==typeof e}function D(e){return Object.prototype.toString.call(e)}function A(e){return 10>e?"0"+e.toString(10):e.toString(10)}function M(){var e=new Date,t=[A(e.getHours()),A(e.getMinutes()),A(e.getSeconds())].join(":");return[e.getDate(),P[e.getMonth()],t].join(" ")}function F(e,t){return Object.prototype.hasOwnProperty.call(e,t)}
// Copyright Joyent, Inc. and other Node contributors.
// The above copyright notice and this permission notice shall be included
// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,
var N=/%[sdj%]/g;n.format=function(e){if(!y(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(o(arguments[n]));return t.join(" ")}for(var n=1,r=arguments,i=r.length,s=String(e).replace(N,function(e){if("%%"===e)return"%";if(n>=i)return e;switch(e){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(t){return"[Circular]"}default:return e}}),a=r[n];i>n;a=r[++n])s+=g(a)||!x(a)?" "+a:" "+o(a);return s},n.deprecate=function(e,o){function i(){if(!s){if(t.throwDeprecation)throw new Error(o);t.traceDeprecation?console.trace(o):console.error(o),s=!0}return e.apply(this,arguments)}if(w(r.process))return function(){return n.deprecate(e,o).apply(this,arguments)};if(t.noDeprecation===!0)return e;var s=!1;return i};var O,I={};n.debuglog=function(e){if(w(O)&&(O=t.env.NODE_DEBUG||""),e=e.toUpperCase(),!I[e])if(new RegExp("\\b"+e+"\\b","i").test(O)){var r=t.pid;I[e]=function(){var t=n.format.apply(n,arguments);console.error("%s %d: %s",e,r,t)}}else I[e]=function(){};return I[e];
},n.inspect=o,o.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},o.styles={special:"cyan",number:"yellow","boolean":"yellow",undefined:"grey","null":"bold",string:"green",date:"magenta",regexp:"red"},n.isArray=f,n.isBoolean=m,n.isNull=g,n.isNullOrUndefined=v,n.isNumber=b,n.isString=y,n.isSymbol=_,n.isUndefined=w,n.isRegExp=k,n.isObject=x,n.isDate=C,n.isError=E,n.isFunction=T,n.isPrimitive=S,n.isBuffer=e("./support/isBuffer");var P=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];n.log=function(){console.log("%s - %s",M(),n.format.apply(n,arguments))},n.inherits=e("inherits"),n._extend=function(e,t){if(!t||!x(t))return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e}}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./support/isBuffer":508,_process:505,
inherits:507}],510:[function(e,t,n){var r=e("./lib/Modernizr"),o=e("./lib/ModernizrProto"),i=e("./lib/classes"),s=e("./lib/testRunner"),a=e("./lib/setClasses");s(),a(i),delete o.addTest,delete o.addAsyncTest;for(var u=0;u<r._q.length;u++)r._q[u]();t.exports=r},{"./lib/Modernizr":511,"./lib/ModernizrProto":512,"./lib/classes":514,"./lib/setClasses":535,"./lib/testRunner":539}],511:[function(e,t,n){var r=e("./ModernizrProto"),o=function(){};o.prototype=r,o=new o,t.exports=o},{"./ModernizrProto":512}],512:[function(e,t,n){var r=e("./tests"),o={_version:"__VERSION__",_config:{classPrefix:"",enableClasses:!0,enableJSClass:!0,usePrefixes:!0},_q:[],on:function(e,t){var n=this;setTimeout(function(){t(n[e])},0)},addTest:function(e,t,n){r.push({name:e,fn:t,options:n})},addAsyncTest:function(e){r.push({name:null,fn:e})}};t.exports=o},{"./tests":541}],513:[function(e,t,n){var r=(e("./ModernizrProto"),e("./cssomPrefixes")),o=function(e){var t,n=r.length,o=window.CSSRule;if("undefined"==typeof o)return void 0;if(!e)return!1;
if(e=e.replace(/^@/,""),t=e.replace(/-/g,"_").toUpperCase()+"_RULE",t in o)return"@"+e;for(var i=0;n>i;i++){var s=r[i],a=s.toUpperCase()+"_"+t;if(a in o)return"@-"+s.toLowerCase()+"-"+e}return!1};t.exports=o},{"./ModernizrProto":512,"./cssomPrefixes":518}],514:[function(e,t,n){var r=[];t.exports=r},{}],515:[function(e,t,n){function r(e,t){return!!~(""+e).indexOf(t)}t.exports=r},{}],516:[function(e,t,n){function r(){return"function"!=typeof document.createElement?document.createElement(arguments[0]):o?document.createElementNS.call(document,"http://www.w3.org/2000/svg",arguments[0]):document.createElement.apply(document,arguments)}var o=e("./isSVG");t.exports=r},{"./isSVG":528}],517:[function(e,t,n){function r(e){return e.replace(/([a-z])-([a-z])/g,function(e,t,n){return t+n.toUpperCase()}).replace(/^-/,"")}t.exports=r},{}],518:[function(e,t,n){var r=e("./ModernizrProto"),o=e("./omPrefixes"),i=r._config.usePrefixes?o.split(" "):[];r._cssomPrefixes=i,t.exports=i},{"./ModernizrProto":512,"./omPrefixes":532}],519:[function(e,t,n){
var r=document.documentElement;t.exports=r},{}],520:[function(e,t,n){var r=e("./ModernizrProto"),o=e("./omPrefixes"),i=r._config.usePrefixes?o.toLowerCase().split(" "):[];r._domPrefixes=i,t.exports=i},{"./ModernizrProto":512,"./omPrefixes":532}],521:[function(e,t,n){function r(e){return e.replace(/([A-Z])/g,function(e,t){return"-"+t.toLowerCase()}).replace(/^ms-/,"-ms-")}t.exports=r},{}],522:[function(e,t,n){function r(e,t){return function(){return e.apply(t,arguments)}}t.exports=r},{}],523:[function(e,t,n){function r(){var e=document.body;return e||(e=o(i?"svg":"body"),e.fake=!0),e}var o=e("./createElement"),i=e("./isSVG");t.exports=r},{"./createElement":516,"./isSVG":528}],524:[function(e,t,n){var r=e("./ModernizrProto"),o=e("./isEventSupported"),i=r.hasEvent=o;t.exports=i},{"./ModernizrProto":512,"./isEventSupported":527}],525:[function(e,t,n){function r(e,t,n,r){var a,u,l,c,p="modernizr",d=i("div"),h=s();if(parseInt(n,10))for(;n--;)l=i("div"),l.id=r?r[n]:p+(n+1),d.appendChild(l);return a=i("style"),a.type="text/css",
a.id="s"+p,(h.fake?h:d).appendChild(a),h.appendChild(d),a.styleSheet?a.styleSheet.cssText=e:a.appendChild(document.createTextNode(e)),d.id=p,h.fake&&(h.style.background="",h.style.overflow="hidden",c=o.style.overflow,o.style.overflow="hidden",o.appendChild(h)),u=t(d,e),h.fake?(h.parentNode.removeChild(h),o.style.overflow=c,o.offsetHeight):d.parentNode.removeChild(d),!!u}var o=(e("./ModernizrProto"),e("./docElement")),i=e("./createElement"),s=e("./getBody");t.exports=r},{"./ModernizrProto":512,"./createElement":516,"./docElement":519,"./getBody":523}],526:[function(e,t,n){function r(e,t){return typeof e===t}t.exports=r},{}],527:[function(e,t,n){var r=(e("./ModernizrProto"),e("./createElement")),o=function(e){function t(t,o){var i;return t?(o&&"string"!=typeof o||(o=r(o||"div")),t="on"+t,i=t in o,!i&&n&&(o.setAttribute||(o=r("div")),o.setAttribute(t,""),i="function"==typeof o[t],o[t]!==e&&(o[t]=e),o.removeAttribute(t)),i):!1}var n=!("onblur"in document.documentElement);return t}();t.exports=o},{"./ModernizrProto":512,
"./createElement":516}],528:[function(e,t,n){var r=e("./docElement"),o="svg"===r.nodeName.toLowerCase();t.exports=o},{"./docElement":519}],529:[function(e,t,n){var r=e("./Modernizr"),o=e("./modElem"),i={style:o.elem.style};r._q.unshift(function(){delete i.style}),t.exports=i},{"./Modernizr":511,"./modElem":530}],530:[function(e,t,n){var r=e("./Modernizr"),o=e("./createElement"),i={elem:o("modernizr")};r._q.push(function(){delete i.elem}),t.exports=i},{"./Modernizr":511,"./createElement":516}],531:[function(e,t,n){function r(e,t){var n=e.length;if("CSS"in window&&"supports"in window.CSS){for(;n--;)if(window.CSS.supports(i(e[n]),t))return!0;return!1}if("CSSSupportsRule"in window){for(var r=[];n--;)r.push("("+i(e[n])+":"+t+")");return r=r.join(" or "),o("@supports ("+r+") { #modernizr { position: absolute; } }",function(e){return"absolute"==getComputedStyle(e,null).position})}return void 0}var o=e("./injectElementWithStyles"),i=e("./domToCSS");t.exports=r},{"./domToCSS":521,"./injectElementWithStyles":525}],532:[function(e,t,n){
var r="Moz O ms Webkit";t.exports=r},{}],533:[function(e,t,n){var r=e("./ModernizrProto"),o=e("./testPropsAll"),i=e("./cssToDOM"),s=e("./atRule"),a=r.prefixed=function(e,t,n){return 0===e.indexOf("@")?s(e):(-1!=e.indexOf("-")&&(e=i(e)),t?o(e,t,n):o(e,"pfx"))};t.exports=a},{"./ModernizrProto":512,"./atRule":513,"./cssToDOM":517,"./testPropsAll":538}],534:[function(e,t,n){var r=e("./ModernizrProto"),o=r._config.usePrefixes?" -webkit- -moz- -o- -ms- ".split(" "):[];r._prefixes=o,t.exports=o},{"./ModernizrProto":512}],535:[function(e,t,n){function r(e){var t=i.className,n=o._config.classPrefix||"";if(s&&(t=t.baseVal),o._config.enableJSClass){var r=new RegExp("(^|\\s)"+n+"no-js(\\s|$)");t=t.replace(r,"$1"+n+"js$2")}o._config.enableClasses&&(t+=" "+n+e.join(" "+n),s?i.className.baseVal=t:i.className=t)}var o=e("./Modernizr"),i=e("./docElement"),s=e("./isSVG");t.exports=r},{"./Modernizr":511,"./docElement":519,"./isSVG":528}],536:[function(e,t,n){function r(e,t,n){var r;for(var s in e)if(e[s]in t)return n===!1?e[s]:(r=t[e[s]],
o(r,"function")?i(r,n||t):r);return!1}var o=e("./is"),i=e("./fnBind");t.exports=r},{"./fnBind":522,"./is":526}],537:[function(e,t,n){function r(e,t,n,r){function c(){d&&(delete i.style,delete i.modElem)}if(r=u(r,"undefined")?!1:r,!u(n,"undefined")){var p=a(e,n);if(!u(p,"undefined"))return p}for(var d,h,f,m,g,v=["modernizr","tspan"];!i.style;)d=!0,i.modElem=s(v.shift()),i.style=i.modElem.style;for(f=e.length,h=0;f>h;h++)if(m=e[h],g=i.style[m],o(m,"-")&&(m=l(m)),void 0!==i.style[m]){if(r||u(n,"undefined"))return c(),"pfx"==t?m:!0;try{i.style[m]=n}catch(b){}if(i.style[m]!=g)return c(),"pfx"==t?m:!0}return c(),!1}var o=e("./contains"),i=e("./mStyle"),s=e("./createElement"),a=e("./nativeTestProps"),u=e("./is"),l=e("./cssToDOM");t.exports=r},{"./contains":515,"./createElement":516,"./cssToDOM":517,"./is":526,"./mStyle":529,"./nativeTestProps":531}],538:[function(e,t,n){function r(e,t,n,r,o){var c=e.charAt(0).toUpperCase()+e.slice(1),p=(e+" "+i.join(c+" ")+c).split(" ");return s(t,"string")||s(t,"undefined")?a(p,t,r,o):(p=(e+" "+u.join(c+" ")+c).split(" "),
l(p,t,n))}var o=e("./ModernizrProto"),i=e("./cssomPrefixes"),s=e("./is"),a=e("./testProps"),u=e("./domPrefixes"),l=e("./testDOMProps");o.testAllProps=r,t.exports=r},{"./ModernizrProto":512,"./cssomPrefixes":518,"./domPrefixes":520,"./is":526,"./testDOMProps":536,"./testProps":537}],539:[function(e,t,n){function r(){var e,t,n,r,u,l,c;for(var p in o){if(e=[],t=o[p],t.name&&(e.push(t.name.toLowerCase()),t.options&&t.options.aliases&&t.options.aliases.length))for(n=0;n<t.options.aliases.length;n++)e.push(t.options.aliases[n].toLowerCase());for(r=a(t.fn,"function")?t.fn():t.fn,u=0;u<e.length;u++)l=e[u],c=l.split("."),1===c.length?i[c[0]]=r:(!i[c[0]]||i[c[0]]instanceof Boolean||(i[c[0]]=new Boolean(i[c[0]])),i[c[0]][c[1]]=r),s.push((r?"":"no-")+c.join("-"))}}var o=e("./tests"),i=e("./Modernizr"),s=e("./classes"),a=e("./is");t.exports=r},{"./Modernizr":511,"./classes":514,"./is":526,"./tests":541}],540:[function(e,t,n){var r=e("./ModernizrProto"),o=e("./injectElementWithStyles"),i=r.testStyles=o;t.exports=i},{"./ModernizrProto":512,
"./injectElementWithStyles":525}],541:[function(e,t,n){var r=[];t.exports=r},{}],542:[function(e,t,n){var r=e("./../lib/Modernizr"),o=e("./../lib/createElement");/*!
{
  "name" : "HTML5 Audio Element",
  "property": "audio",
  "tags" : ["html5", "audio", "media"]
}
!*/
r.addTest("audio",function(){var e=o("audio"),t=!1;try{(t=!!e.canPlayType)&&(t=new Boolean(t),t.ogg=e.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),t.mp3=e.canPlayType("audio/mpeg;").replace(/^no$/,""),t.opus=e.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),t.wav=e.canPlayType('audio/wav; codecs="1"').replace(/^no$/,""),t.m4a=(e.canPlayType("audio/x-m4a;")||e.canPlayType("audio/aac;")).replace(/^no$/,""))}catch(n){}return t})},{"./../lib/Modernizr":511,"./../lib/createElement":516}],543:[function(e,t,n){var r=e("./../../lib/Modernizr"),o=e("./../../lib/createElement"),i=e("./../../lib/prefixes");/*!
{
  "name": "CSS position: sticky",
  "property": "csspositionsticky",
  "tags": ["css"],
  "builderAliases": ["css_positionsticky"],
  "notes": [{
    "name": "Chrome bug report",
    "href":"https://code.google.com/p/chromium/issues/detail?id=322972"
  }],
  "warnings": [ "using position:sticky on anything but top aligned elements is buggy in Chrome < 37 and iOS <=7+" ]
}
!*/
r.addTest("csspositionsticky",function(){var e="position:",t="sticky",n=o("a"),r=n.style;return r.cssText=e+i.join(t+";"+e).slice(0,-e.length),-1!==r.position.indexOf(t)})},{"./../../lib/Modernizr":511,"./../../lib/createElement":516,"./../../lib/prefixes":534}],544:[function(e,t,n){var r=e("./../lib/Modernizr"),o=e("./../lib/prefixes"),i=e("./../lib/testStyles");/*!
{
  "name": "Touch Events",
  "property": "touchevents",
  "caniuse" : "touch",
  "tags": ["media", "attribute"],
  "notes": [{
    "name": "Touch Events spec",
    "href": "http://www.w3.org/TR/2013/WD-touch-events-20130124/"
  }],
  "warnings": [
    "Indicates if the browser supports the Touch Events spec, and does not necessarily reflect a touchscreen device"
  ],
  "knownBugs": [
    "False-positive on some configurations of Nokia N900",
    "False-positive on some BlackBerry 6.0 builds  https://github.com/Modernizr/Modernizr/issues/372#issuecomment-3112695"
  ]
}
!*/
r.addTest("touchevents",function(){var e;if("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)e=!0;else{var t=["@media (",o.join("touch-enabled),("),"heartz",")","{#modernizr{top:9px;position:absolute}}"].join("");i(t,function(t){e=9===t.offsetTop})}return e})},{"./../lib/Modernizr":511,"./../lib/prefixes":534,"./../lib/testStyles":540}],545:[function(e,t,n){!function(e,n){function r(e,t){try{if("function"!=typeof e)return e;if(!e.bugsnag){var n=i();e.bugsnag=function(r){if(t&&t.eventHandler&&(w=r),k=n,!E){var o=e.apply(this,arguments);return k=null,o}try{return e.apply(this,arguments)}catch(i){throw d("autoNotify",!0)&&(C.notifyException(i,null,null,"error"),y()),i}finally{k=null}},e.bugsnag.bugsnag=e.bugsnag}return e.bugsnag}catch(r){return e}}function o(){A=!1}function i(){var e=document.currentScript||k;if(!e&&A){var t=document.scripts||document.getElementsByTagName("script");e=t[t.length-1]}return e}function s(e){var t=i();t&&(e.script={src:t.src,content:d("inlineScript",!0)?t.innerHTML:""
})}function a(t){var n=d("disableLog"),r=e.console;void 0===r||void 0===r.log||n||r.log("[Bugsnag] "+t)}function u(t,n,r){var o=d("maxDepth",D);if(r>=o)return encodeURIComponent(n)+"=[RECURSIVE]";r=r+1||1;try{if(e.Node&&t instanceof e.Node)return encodeURIComponent(n)+"="+encodeURIComponent(b(t));var i=[];for(var s in t)if(t.hasOwnProperty(s)&&null!=s&&null!=t[s]){var a=n?n+"["+s+"]":s,l=t[s];i.push("object"==typeof l?u(l,a,r):encodeURIComponent(a)+"="+encodeURIComponent(l))}return i.join("&")}catch(c){return encodeURIComponent(n)+"="+encodeURIComponent(""+c)}}function l(e,t,n){if(null==t)return e;if(n>=d("maxDepth",D))return"[RECURSIVE]";e=e||{};for(var r in t)if(t.hasOwnProperty(r))try{t[r].constructor===Object?e[r]=l(e[r],t[r],n+1||1):e[r]=t[r]}catch(o){e[r]=t[r]}return e}function c(e,t){if(e+="?"+u(t)+"&ct=img&cb="+(new Date).getTime(),"undefined"!=typeof BUGSNAG_TESTING&&C.testRequest)C.testRequest(e,t);else{var n=new Image;n.src=e}}function p(e){var t={},n=/^data\-([\w\-]+)$/;if(e)for(var r=e.attributes,o=0;o<r.length;o++){
var i=r[o];if(n.test(i.nodeName)){var s=i.nodeName.match(n)[1];t[s]=i.value||i.nodeValue}}return t}function d(e,t){M=M||p(R);var n=void 0!==C[e]?C[e]:M[e.toLowerCase()];return"false"===n&&(n=!1),void 0!==n?n:t}function h(e){return e&&e.match(F)?!0:(a("Invalid API key '"+e+"'"),!1)}function f(t,n){var r=d("apiKey");if(h(r)&&S){S-=1;var o=d("releaseStage","production"),i=d("notifyReleaseStages");if(i){for(var s=!1,u=0;u<i.length;u++)if(o===i[u]){s=!0;break}if(!s)return}var p=[t.name,t.message,t.stacktrace].join("|");if(p!==x){x=p,w&&(n=n||{},n["Last Event"]=v(w));var f={notifierVersion:P,apiKey:r,projectRoot:d("projectRoot")||e.location.protocol+"//"+e.location.host,context:d("context")||e.location.pathname,userId:d("userId"),user:d("user"),metaData:l(l({},d("metaData")),n),releaseStage:o,appVersion:d("appVersion"),url:e.location.href,userAgent:navigator.userAgent,language:navigator.language||navigator.userLanguage,severity:t.severity,name:t.name,message:t.message,stacktrace:t.stacktrace,file:t.file,lineNumber:t.lineNumber,
columnNumber:t.columnNumber,payloadVersion:"2"},m=C.beforeNotify;if("function"==typeof m){var g=m(f,f.metaData);if(g===!1)return}return 0===f.lineNumber&&/Script error\.?/.test(f.message)?a("Ignoring cross-domain script error. See https://bugsnag.com/docs/notifiers/js/cors"):void c(d("endpoint")||I,f)}}}function m(){var e,t,n=10,r="[anonymous]";try{throw new Error("")}catch(o){e="<generated>\n",t=g(o)}if(!t){e="<generated-ie>\n";var i=[];try{for(var s=arguments.callee.caller.caller;s&&i.length<n;){var u=N.test(s.toString())?RegExp.$1||r:r;i.push(u),s=s.caller}}catch(l){a(l)}t=i.join("\n")}return e+t}function g(e){return e.stack||e.backtrace||e.stacktrace}function v(e){var t={millisecondsAgo:new Date-e.timeStamp,type:e.type,which:e.which,target:b(e.target)};return t}function b(e){if(e){var t=e.attributes;if(t){for(var n="<"+e.nodeName.toLowerCase(),r=0;r<t.length;r++)t[r].value&&"null"!=t[r].value.toString()&&(n+=" "+t[r].name+'="'+t[r].value+'"');return n+">"}return e.nodeName}}function y(){T+=1,e.setTimeout(function(){
T-=1})}function _(t,n,r){var o=t[n],i=r(o);t[n]=i,"undefined"!=typeof BUGSNAG_TESTING&&e.undo&&e.undo.push(function(){t[n]=o})}var w,k,x,C={},E=!0,T=0,S=10,D=5;C.noConflict=function(){return e.Bugsnag=n,C},C.refresh=function(){S=10},C.notifyException=function(e,t,n,r){e&&(t&&"string"!=typeof t&&(n=t,t=void 0),n||(n={}),s(n),f({name:t||e.name,message:e.message||e.description,stacktrace:g(e)||m(),file:e.fileName||e.sourceURL,lineNumber:e.lineNumber||e.line,columnNumber:e.columnNumber?e.columnNumber+1:void 0,severity:r||"warning"},n))},C.notify=function(t,n,r,o){f({name:t,message:n,stacktrace:m(),file:e.location.toString(),lineNumber:1,severity:o||"warning"},r)};var A="complete"!==document.readyState;document.addEventListener?(document.addEventListener("DOMContentLoaded",o,!0),e.addEventListener("load",o,!0)):e.attachEvent("onload",o);var M,F=/^[0-9a-f]{32}$/i,N=/function\s*([\w\-$]+)?\s*\(/i,O="https://notify.bugsnag.com/",I=O+"js",P="2.4.9",L=document.getElementsByTagName("script"),R=L[L.length-1];if(e.atob){if(e.ErrorEvent)try{
0===new e.ErrorEvent("test").colno&&(E=!1)}catch(B){}}else E=!1;if(d("autoNotify",!0)){_(e,"onerror",function(t){return"undefined"!=typeof BUGSNAG_TESTING&&(C._onerror=t),function(n,r,o,i,a){var u=d("autoNotify",!0),l={};!i&&e.event&&(i=e.event.errorCharacter),s(l),k=null,u&&!T&&f({name:a&&a.name||"window.onerror",message:n,file:r,lineNumber:o,columnNumber:i,stacktrace:a&&g(a)||m(),severity:"error"},l),"undefined"!=typeof BUGSNAG_TESTING&&(t=C._onerror),t&&t(n,r,o,i,a)}});var j=function(e){return function(t,n){if("function"==typeof t){t=r(t);var o=Array.prototype.slice.call(arguments,2);return e(function(){t.apply(this,o)},n)}return e(t,n)}};_(e,"setTimeout",j),_(e,"setInterval",j),e.requestAnimationFrame&&_(e,"requestAnimationFrame",function(e){return function(t){return e(r(t))}}),e.setImmediate&&_(e,"setImmediate",function(e){return function(t){var n=Array.prototype.slice.call(arguments);return n[0]=r(n[0]),e.apply(this,n)}}),"EventTarget Window Node ApplicationCache AudioTrackList ChannelMergerNode CryptoOperation EventSource FileReader HTMLUnknownElement IDBDatabase IDBRequest IDBTransaction KeyOperation MediaController MessagePort ModalWindow Notification SVGElementInstance Screen TextTrack TextTrackCue TextTrackList WebSocket WebSocketWorker Worker XMLHttpRequest XMLHttpRequestEventTarget XMLHttpRequestUpload".replace(/\w+/g,function(t){
var n=e[t]&&e[t].prototype;n&&n.hasOwnProperty&&n.hasOwnProperty("addEventListener")&&(_(n,"addEventListener",function(e){return function(t,n,o,i){try{n&&n.handleEvent&&(n.handleEvent=r(n.handleEvent,{eventHandler:!0}))}catch(s){a(s)}return e.call(this,t,r(n,{eventHandler:!0}),o,i)}}),_(n,"removeEventListener",function(e){return function(t,n,o,i){return e.call(this,t,n,o,i),e.call(this,t,r(n),o,i)}}))})}e.Bugsnag=C,"function"==typeof define&&define.amd?define([],function(){return C}):"object"==typeof t&&"object"==typeof t.exports&&(t.exports=C)}(window,window.Bugsnag)},{}],546:[function(e,t,n){/*!
  Copyright (c) 2015 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/
!function(){"use strict";function e(){for(var t="",n=0;n<arguments.length;n++){var r=arguments[n];if(r){var o=typeof r;if("string"===o||"number"===o)t+=" "+r;else if(Array.isArray(r))t+=" "+e.apply(null,r);else if("object"===o)for(var i in r)r.hasOwnProperty(i)&&r[i]&&(t+=" "+i)}}return t.substr(1)}"undefined"!=typeof t&&t.exports?t.exports=e:"function"==typeof define&&"object"==typeof define.amd&&define.amd?define(function(){return e}):window.classNames=e}()},{}],547:[function(e,t,n){function r(e){return e.replace(/[^\u0000-\u007e]/g,function(e){return i[e]||e})}n.remove=r;for(var o=[{base:" ",chars:"\xa0"},{base:"0",chars:"\u07c0"},{base:"A",chars:"\u24b6\uff21\xc0\xc1\xc2\u1ea6\u1ea4\u1eaa\u1ea8\xc3\u0100\u0102\u1eb0\u1eae\u1eb4\u1eb2\u0226\u01e0\xc4\u01de\u1ea2\xc5\u01fa\u01cd\u0200\u0202\u1ea0\u1eac\u1eb6\u1e00\u0104\u023a\u2c6f"},{base:"AA",chars:"\ua732"},{base:"AE",chars:"\xc6\u01fc\u01e2"},{base:"AO",chars:"\ua734"},{base:"AU",chars:"\ua736"},{base:"AV",chars:"\ua738\ua73a"},{base:"AY",chars:"\ua73c"},{
base:"B",chars:"\u24b7\uff22\u1e02\u1e04\u1e06\u0243\u0181"},{base:"C",chars:"\uff43\u24b8\uff23\ua73e\u1e08\u0106"},{base:"D",chars:"\u24b9\uff24\u1e0a\u010e\u1e0c\u1e10\u1e12\u1e0e\u0110\u018a\u0189\u1d05\ua779"},{base:"Dh",chars:"\xd0"},{base:"DZ",chars:"\u01f1\u01c4"},{base:"Dz",chars:"\u01f2\u01c5"},{base:"E",chars:"\u025b\u24ba\uff25\xc8\xc9\xca\u1ec0\u1ebe\u1ec4\u1ec2\u1ebc\u0112\u1e14\u1e16\u0114\u0116\xcb\u1eba\u011a\u0204\u0206\u1eb8\u1ec6\u0228\u1e1c\u0118\u1e18\u1e1a\u0190\u018e\u1d07"},{base:"F",chars:"\ua77c\u24bb\uff26\u1e1e\u0191\ua77b"},{base:"G",chars:"\u24bc\uff27\u01f4\u011c\u1e20\u011e\u0120\u01e6\u0122\u01e4\u0193\ua7a0\ua77d\ua77e\u0262"},{base:"H",chars:"\u24bd\uff28\u0124\u1e22\u1e26\u021e\u1e24\u1e28\u1e2a\u0126\u2c67\u2c75\ua78d"},{base:"I",chars:"\u24be\uff29\xcc\xcd\xce\u0128\u012a\u012c\u0130\xcf\u1e2e\u1ec8\u01cf\u0208\u020a\u1eca\u012e\u1e2c\u0197"},{base:"J",chars:"\u24bf\uff2a\u0134\u0248\u0237"},{base:"K",chars:"\u24c0\uff2b\u1e30\u01e8\u1e32\u0136\u1e34\u0198\u2c69\ua740\ua742\ua744\ua7a2"
},{base:"L",chars:"\u24c1\uff2c\u013f\u0139\u013d\u1e36\u1e38\u013b\u1e3c\u1e3a\u0141\u023d\u2c62\u2c60\ua748\ua746\ua780"},{base:"LJ",chars:"\u01c7"},{base:"Lj",chars:"\u01c8"},{base:"M",chars:"\u24c2\uff2d\u1e3e\u1e40\u1e42\u2c6e\u019c\u03fb"},{base:"N",chars:"\ua7a4\u0220\u24c3\uff2e\u01f8\u0143\xd1\u1e44\u0147\u1e46\u0145\u1e4a\u1e48\u019d\ua790\u1d0e"},{base:"NJ",chars:"\u01ca"},{base:"Nj",chars:"\u01cb"},{base:"O",chars:"\u24c4\uff2f\xd2\xd3\xd4\u1ed2\u1ed0\u1ed6\u1ed4\xd5\u1e4c\u022c\u1e4e\u014c\u1e50\u1e52\u014e\u022e\u0230\xd6\u022a\u1ece\u0150\u01d1\u020c\u020e\u01a0\u1edc\u1eda\u1ee0\u1ede\u1ee2\u1ecc\u1ed8\u01ea\u01ec\xd8\u01fe\u0186\u019f\ua74a\ua74c"},{base:"OE",chars:"\u0152"},{base:"OI",chars:"\u01a2"},{base:"OO",chars:"\ua74e"},{base:"OU",chars:"\u0222"},{base:"P",chars:"\u24c5\uff30\u1e54\u1e56\u01a4\u2c63\ua750\ua752\ua754"},{base:"Q",chars:"\u24c6\uff31\ua756\ua758\u024a"},{base:"R",chars:"\u24c7\uff32\u0154\u1e58\u0158\u0210\u0212\u1e5a\u1e5c\u0156\u1e5e\u024c\u2c64\ua75a\ua7a6\ua782"},{base:"S",
chars:"\u24c8\uff33\u1e9e\u015a\u1e64\u015c\u1e60\u0160\u1e66\u1e62\u1e68\u0218\u015e\u2c7e\ua7a8\ua784"},{base:"T",chars:"\u24c9\uff34\u1e6a\u0164\u1e6c\u021a\u0162\u1e70\u1e6e\u0166\u01ac\u01ae\u023e\ua786"},{base:"Th",chars:"\xde"},{base:"TZ",chars:"\ua728"},{base:"U",chars:"\u24ca\uff35\xd9\xda\xdb\u0168\u1e78\u016a\u1e7a\u016c\xdc\u01db\u01d7\u01d5\u01d9\u1ee6\u016e\u0170\u01d3\u0214\u0216\u01af\u1eea\u1ee8\u1eee\u1eec\u1ef0\u1ee4\u1e72\u0172\u1e76\u1e74\u0244"},{base:"V",chars:"\u24cb\uff36\u1e7c\u1e7e\u01b2\ua75e\u0245"},{base:"VY",chars:"\ua760"},{base:"W",chars:"\u24cc\uff37\u1e80\u1e82\u0174\u1e86\u1e84\u1e88\u2c72"},{base:"X",chars:"\u24cd\uff38\u1e8a\u1e8c"},{base:"Y",chars:"\u24ce\uff39\u1ef2\xdd\u0176\u1ef8\u0232\u1e8e\u0178\u1ef6\u1ef4\u01b3\u024e\u1efe"},{base:"Z",chars:"\u24cf\uff3a\u0179\u1e90\u017b\u017d\u1e92\u1e94\u01b5\u0224\u2c7f\u2c6b\ua762"},{base:"a",chars:"\u24d0\uff41\u1e9a\xe0\xe1\xe2\u1ea7\u1ea5\u1eab\u1ea9\xe3\u0101\u0103\u1eb1\u1eaf\u1eb5\u1eb3\u0227\u01e1\xe4\u01df\u1ea3\xe5\u01fb\u01ce\u0201\u0203\u1ea1\u1ead\u1eb7\u1e01\u0105\u2c65\u0250\u0251"
},{base:"aa",chars:"\ua733"},{base:"ae",chars:"\xe6\u01fd\u01e3"},{base:"ao",chars:"\ua735"},{base:"au",chars:"\ua737"},{base:"av",chars:"\ua739\ua73b"},{base:"ay",chars:"\ua73d"},{base:"b",chars:"\u24d1\uff42\u1e03\u1e05\u1e07\u0180\u0183\u0253\u0182"},{base:"c",chars:"\u24d2\u0107\u0109\u010b\u010d\xe7\u1e09\u0188\u023c\ua73f\u2184C\u0108\u010a\u010c\xc7\u0187\u023b"},{base:"d",chars:"\u24d3\uff44\u1e0b\u010f\u1e0d\u1e11\u1e13\u1e0f\u0111\u018c\u0256\u0257\u018b\u13e7\u0501\ua7aa"},{base:"dh",chars:"\xf0"},{base:"dz",chars:"\u01f3\u01c6"},{base:"e",chars:"\u24d4\uff45\xe8\xe9\xea\u1ec1\u1ebf\u1ec5\u1ec3\u1ebd\u0113\u1e15\u1e17\u0115\u0117\xeb\u1ebb\u011b\u0205\u0207\u1eb9\u1ec7\u0229\u1e1d\u0119\u1e19\u1e1b\u0247\u01dd"},{base:"f",chars:"\u24d5\uff46\u1e1f\u0192"},{base:"ff",chars:"\ufb00"},{base:"fi",chars:"\ufb01"},{base:"fl",chars:"\ufb02"},{base:"ffi",chars:"\ufb03"},{base:"ffl",chars:"\ufb04"},{base:"g",chars:"\u24d6\uff47\u01f5\u011d\u1e21\u011f\u0121\u01e7\u0123\u01e5\u0260\ua7a1\ua77f\u1d79"},{base:"h",
chars:"\u24d7\uff48\u0125\u1e23\u1e27\u021f\u1e25\u1e29\u1e2b\u1e96\u0127\u2c68\u2c76\u0265"},{base:"hv",chars:"\u0195"},{base:"i",chars:"\u24d8\uff49\xec\xed\xee\u0129\u012b\u012d\xef\u1e2f\u1ec9\u01d0\u0209\u020b\u1ecb\u012f\u1e2d\u0268\u0131"},{base:"j",chars:"\u24d9\uff4a\u0135\u01f0\u0249"},{base:"k",chars:"\u24da\uff4b\u1e31\u01e9\u1e33\u0137\u1e35\u0199\u2c6a\ua741\ua743\ua745\ua7a3"},{base:"l",chars:"\u24db\uff4c\u0140\u013a\u013e\u1e37\u1e39\u013c\u1e3d\u1e3b\u017f\u0142\u019a\u026b\u2c61\ua749\ua781\ua747\u026d"},{base:"lj",chars:"\u01c9"},{base:"m",chars:"\u24dc\uff4d\u1e3f\u1e41\u1e43\u0271\u026f"},{base:"n",chars:"\u24dd\uff4e\u01f9\u0144\xf1\u1e45\u0148\u1e47\u0146\u1e4b\u1e49\u019e\u0272\u0149\ua791\ua7a5\u043b\u0509"},{base:"nj",chars:"\u01cc"},{base:"o",chars:"\u24de\uff4f\xf2\xf3\xf4\u1ed3\u1ed1\u1ed7\u1ed5\xf5\u1e4d\u022d\u1e4f\u014d\u1e51\u1e53\u014f\u022f\u0231\xf6\u022b\u1ecf\u0151\u01d2\u020d\u020f\u01a1\u1edd\u1edb\u1ee1\u1edf\u1ee3\u1ecd\u1ed9\u01eb\u01ed\xf8\u01ff\ua74b\ua74d\u0275\u0254\u1d11"
},{base:"oe",chars:"\u0153"},{base:"oi",chars:"\u01a3"},{base:"oo",chars:"\ua74f"},{base:"ou",chars:"\u0223"},{base:"p",chars:"\u24df\uff50\u1e55\u1e57\u01a5\u1d7d\ua751\ua753\ua755\u03c1"},{base:"q",chars:"\u24e0\uff51\u024b\ua757\ua759"},{base:"r",chars:"\u24e1\uff52\u0155\u1e59\u0159\u0211\u0213\u1e5b\u1e5d\u0157\u1e5f\u024d\u027d\ua75b\ua7a7\ua783"},{base:"s",chars:"\u24e2\uff53\u015b\u1e65\u015d\u1e61\u0161\u1e67\u1e63\u1e69\u0219\u015f\u023f\ua7a9\ua785\u1e9b\u0282"},{base:"ss",chars:"\xdf"},{base:"t",chars:"\u24e3\uff54\u1e6b\u1e97\u0165\u1e6d\u021b\u0163\u1e71\u1e6f\u0167\u01ad\u0288\u2c66\ua787"},{base:"th",chars:"\xfe"},{base:"tz",chars:"\ua729"},{base:"u",chars:"\u24e4\uff55\xf9\xfa\xfb\u0169\u1e79\u016b\u1e7b\u016d\xfc\u01dc\u01d8\u01d6\u01da\u1ee7\u016f\u0171\u01d4\u0215\u0217\u01b0\u1eeb\u1ee9\u1eef\u1eed\u1ef1\u1ee5\u1e73\u0173\u1e77\u1e75\u0289"},{base:"v",chars:"\u24e5\uff56\u1e7d\u1e7f\u028b\ua75f\u028c"},{base:"vy",chars:"\ua761"},{base:"w",chars:"\u24e6\uff57\u1e81\u1e83\u0175\u1e87\u1e85\u1e98\u1e89\u2c73"
},{base:"x",chars:"\u24e7\uff58\u1e8b\u1e8d"},{base:"y",chars:"\u24e8\uff59\u1ef3\xfd\u0177\u1ef9\u0233\u1e8f\xff\u1ef7\u1e99\u1ef5\u01b4\u024f\u1eff"},{base:"z",chars:"\u24e9\uff5a\u017a\u1e91\u017c\u017e\u1e93\u1e95\u01b6\u0225\u0240\u2c6c\ua763"}],i={},s=0;s<o.length;s+=1)for(var a=o[s].chars,u=0;u<a.length;u+=1)i[a[u]]=o[s].base},{}],548:[function(e,t,n){/*!
 * Emojie
 *
 * Copyright (C) 2011 by Ville Lautanala
 * Licensed under the MIT license
 */
!function(e,r){"function"==typeof define&&define.amd?define([],r):"object"==typeof n?t.exports=r():e.Emojie=r()}(this,function(){function e(e,t,n){if(e)for(var r,o,i,s=[e];s.length>0;)if(i=s.pop(),3==i.nodeType)n(i);else if(null==i.getAttribute(t.ignoreAttribute||"data-no-emojie"))for(r=i.childNodes.length,o=r-1;o>=0;--o)s.push(i.childNodes[o])}function t(e,t){var n,r=document.createElement(t.elementName||"img");t.content&&(r.textContent=t.content);for(n in t)"content"!=n&&"elementName"!=n&&r.setAttribute(n,t[n]);return r}function n(e){return function n(r){var o,i,s=r.data,a=0,u="";for(a=0;a<s.length;a++)if(u+=s[a],!(e[u]===!0||e[u]&&e[u+s[a+1]])){if(e[u])return o=r.splitText(a-u.length+1),o.length>u.length&&(i=o.splitText(u.length)),r.parentNode.replaceChild(t(o,e[u]),o),i?n(i):void 0;u=""}}}function r(t){function r(r){var i=n(o);return 3==r.nodeType?i(r):e(r,t||{},i),r}var o={};return r._emojis=o,r.register=function(e,t){var n,i;for(n=1;n<e.length;n++)i=e.slice(0,n),i in o||(o[i]=!0);return o[e]=t,r},r.merge=function(e){
function t(e,t){return e===!0&&t?t:e&&t?e:e||t}var n;for(n in e._emojis)e._emojis.hasOwnProperty(n)&&(o[n]=t(e._emojis[n],o[n]));return r},r}return r.canRender=function(e){function t(e,t){var n,r=e.getImageData(0,0,t,t).data;for(n=0;n<r.length;n+=4)if(r[n]!=r[n+1]&&r[n]!=r[n+2])return!0;return!1}try{var n=document.createElement("canvas").getContext("2d");return n.textBaseline="top",n.fillText(e,0,0),t(n,10)}catch(r){return!1}},r})},{}],549:[function(e,t,n){!function(e,r){"use strict";"function"==typeof define&&define.amd?define(r):"object"==typeof n?t.exports=r():e.returnExports=r()}(this,function(){var e,t=Array,n=t.prototype,r=Object,o=r.prototype,i=Function.prototype,s=String,a=s.prototype,u=Number,l=u.prototype,c=n.slice,p=n.splice,d=n.push,h=n.unshift,f=n.concat,m=i.call,g=Math.max,v=Math.min,b=o.toString,y="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag,_=Function.prototype.toString,w=function(e){try{return _.call(e),!0}catch(t){return!1}},k="[object Function]",x="[object GeneratorFunction]";
e=function(e){if("function"!=typeof e)return!1;if(y)return w(e);var t=b.call(e);return t===k||t===x};var C,E=RegExp.prototype.exec,T=function(e){try{return E.call(e),!0}catch(t){return!1}},S="[object RegExp]";C=function(e){return"object"!=typeof e?!1:y?T(e):b.call(e)===S};var D,A=String.prototype.valueOf,M=function(e){try{return A.call(e),!0}catch(t){return!1}},F="[object String]";D=function(e){return"string"==typeof e?!0:"object"!=typeof e?!1:y?M(e):b.call(e)===F};var N=function(e){var t,n=r.defineProperty&&function(){try{var e={};r.defineProperty(e,"x",{enumerable:!1,value:e});for(var t in e)return!1;return e.x===e}catch(n){return!1}}();return t=n?function(e,t,n,o){!o&&t in e||r.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:!0,value:n})}:function(e,t,n,r){!r&&t in e||(e[t]=n)},function(n,r,o){for(var i in r)e.call(r,i)&&t(n,i,r[i],o)}}(o.hasOwnProperty),O=function(e){var t=typeof e;return null===e||"object"!==t&&"function"!==t},I={ToInteger:function(e){var t=+e;return t!==t?t=0:0!==t&&t!==1/0&&t!==-(1/0)&&(t=(t>0||-1)*Math.floor(Math.abs(t))),
t},ToPrimitive:function(t){var n,r,o;if(O(t))return t;if(r=t.valueOf,e(r)&&(n=r.call(t),O(n)))return n;if(o=t.toString,e(o)&&(n=o.call(t),O(n)))return n;throw new TypeError},ToObject:function(e){if(null==e)throw new TypeError("can't convert "+e+" to object");return r(e)},ToUint32:function(e){return e>>>0}},P=function(){};N(i,{bind:function(t){var n=this;if(!e(n))throw new TypeError("Function.prototype.bind called on incompatible "+n);for(var o,i=c.call(arguments,1),s=function(){if(this instanceof o){var e=n.apply(this,f.call(i,c.call(arguments)));return r(e)===e?e:this}return n.apply(t,f.call(i,c.call(arguments)))},a=g(0,n.length-i.length),u=[],l=0;a>l;l++)d.call(u,"$"+l);return o=Function("binder","return function ("+u.join(",")+"){ return binder.apply(this, arguments); }")(s),n.prototype&&(P.prototype=n.prototype,o.prototype=new P,P.prototype=null),o}});var L=m.bind(o.hasOwnProperty),R=m.bind(o.toString),B=m.bind(a.slice),j=m.bind(a.split),$=t.isArray||function(e){return"[object Array]"===R(e)},U=1!==[].unshift(0);
N(n,{unshift:function(){return h.apply(this,arguments),this.length}},U),N(t,{isArray:$});var V=r("a"),H="a"!==V[0]||!(0 in V),z=function(e){var t=!0,n=!0;return e&&(e.call("foo",function(e,n,r){"object"!=typeof r&&(t=!1)}),e.call([1],function(){"use strict";n="string"==typeof this},"x")),!!e&&t&&n};N(n,{forEach:function(t){var n,r=I.ToObject(this),o=H&&D(this)?j(this,""):r,i=-1,s=o.length>>>0;if(arguments.length>1&&(n=arguments[1]),!e(t))throw new TypeError("Array.prototype.forEach callback must be a function");for(;++i<s;)i in o&&("undefined"!=typeof n?t.call(n,o[i],i,r):t(o[i],i,r))}},!z(n.forEach)),N(n,{map:function(n){var r,o=I.ToObject(this),i=H&&D(this)?j(this,""):o,s=i.length>>>0,a=t(s);if(arguments.length>1&&(r=arguments[1]),!e(n))throw new TypeError("Array.prototype.map callback must be a function");for(var u=0;s>u;u++)u in i&&("undefined"!=typeof r?a[u]=n.call(r,i[u],u,o):a[u]=n(i[u],u,o));return a}},!z(n.map)),N(n,{filter:function(t){var n,r,o=I.ToObject(this),i=H&&D(this)?j(this,""):o,s=i.length>>>0,a=[];
if(arguments.length>1&&(r=arguments[1]),!e(t))throw new TypeError("Array.prototype.filter callback must be a function");for(var u=0;s>u;u++)u in i&&(n=i[u],("undefined"==typeof r?t(n,u,o):t.call(r,n,u,o))&&d.call(a,n));return a}},!z(n.filter)),N(n,{every:function(t){var n,r=I.ToObject(this),o=H&&D(this)?j(this,""):r,i=o.length>>>0;if(arguments.length>1&&(n=arguments[1]),!e(t))throw new TypeError("Array.prototype.every callback must be a function");for(var s=0;i>s;s++)if(s in o&&!("undefined"==typeof n?t(o[s],s,r):t.call(n,o[s],s,r)))return!1;return!0}},!z(n.every)),N(n,{some:function(t){var n,r=I.ToObject(this),o=H&&D(this)?j(this,""):r,i=o.length>>>0;if(arguments.length>1&&(n=arguments[1]),!e(t))throw new TypeError("Array.prototype.some callback must be a function");for(var s=0;i>s;s++)if(s in o&&("undefined"==typeof n?t(o[s],s,r):t.call(n,o[s],s,r)))return!0;return!1}},!z(n.some));var q=!1;n.reduce&&(q="object"==typeof n.reduce.call("es5",function(e,t,n,r){return r})),N(n,{reduce:function(t){var n=I.ToObject(this),r=H&&D(this)?j(this,""):n,o=r.length>>>0;
if(!e(t))throw new TypeError("Array.prototype.reduce callback must be a function");if(0===o&&1===arguments.length)throw new TypeError("reduce of empty array with no initial value");var i,s=0;if(arguments.length>=2)i=arguments[1];else for(;;){if(s in r){i=r[s++];break}if(++s>=o)throw new TypeError("reduce of empty array with no initial value")}for(;o>s;s++)s in r&&(i=t(i,r[s],s,n));return i}},!q);var W=!1;n.reduceRight&&(W="object"==typeof n.reduceRight.call("es5",function(e,t,n,r){return r})),N(n,{reduceRight:function(t){var n=I.ToObject(this),r=H&&D(this)?j(this,""):n,o=r.length>>>0;if(!e(t))throw new TypeError("Array.prototype.reduceRight callback must be a function");if(0===o&&1===arguments.length)throw new TypeError("reduceRight of empty array with no initial value");var i,s=o-1;if(arguments.length>=2)i=arguments[1];else for(;;){if(s in r){i=r[s--];break}if(--s<0)throw new TypeError("reduceRight of empty array with no initial value")}if(0>s)return i;do s in r&&(i=t(i,r[s],s,n));while(s--);return i}},!W);var Y=n.indexOf&&-1!==[0,1].indexOf(1,2);
N(n,{indexOf:function(e){var t=H&&D(this)?j(this,""):I.ToObject(this),n=t.length>>>0;if(0===n)return-1;var r=0;for(arguments.length>1&&(r=I.ToInteger(arguments[1])),r=r>=0?r:g(0,n+r);n>r;r++)if(r in t&&t[r]===e)return r;return-1}},Y);var G=n.lastIndexOf&&-1!==[0,1].lastIndexOf(0,-3);N(n,{lastIndexOf:function(e){var t=H&&D(this)?j(this,""):I.ToObject(this),n=t.length>>>0;if(0===n)return-1;var r=n-1;for(arguments.length>1&&(r=v(r,I.ToInteger(arguments[1]))),r=r>=0?r:n-Math.abs(r);r>=0;r--)if(r in t&&e===t[r])return r;return-1}},G);var K=function(){var e=[1,2],t=e.splice();return 2===e.length&&$(t)&&0===t.length}();N(n,{splice:function(e,t){return 0===arguments.length?[]:p.apply(this,arguments)}},!K);var Z=function(){var e={};return n.splice.call(e,0,0,1),1===e.length}();N(n,{splice:function(e,t){if(0===arguments.length)return[];var n=arguments;return this.length=g(I.ToInteger(this.length),0),arguments.length>0&&"number"!=typeof t&&(n=c.call(arguments),n.length<2?d.call(n,this.length-e):n[1]=I.ToInteger(t)),p.apply(this,n);
}},!Z);var J=function(){var e=new t(1e5);return e[8]="x",e.splice(1,1),7===e.indexOf("x")}(),Q=function(){var e=256,t=[];return t[e]="a",t.splice(e+1,0,"b"),"a"===t[e]}();N(n,{splice:function(e,t){for(var n,r=I.ToObject(this),o=[],i=I.ToUint32(r.length),a=I.ToInteger(e),u=0>a?g(i+a,0):v(a,i),l=v(g(I.ToInteger(t),0),i-u),p=0;l>p;)n=s(u+p),L(r,n)&&(o[p]=r[n]),p+=1;var d,h=c.call(arguments,2),f=h.length;if(l>f){for(p=u;i-l>p;)n=s(p+l),d=s(p+f),L(r,n)?r[d]=r[n]:delete r[d],p+=1;for(p=i;p>i-l+f;)delete r[p-1],p-=1}else if(f>l)for(p=i-l;p>u;)n=s(p+l-1),d=s(p+f-1),L(r,n)?r[d]=r[n]:delete r[d],p-=1;p=u;for(var m=0;m<h.length;++m)r[p]=h[m],p+=1;return r.length=i-l+f,o}},!J||!Q);var X=!{toString:null}.propertyIsEnumerable("toString"),ee=function(){}.propertyIsEnumerable("prototype"),te=!L("x","0"),ne=function(e){var t=e.constructor;return t&&t.prototype===e},re={$window:!0,$console:!0,$parent:!0,$self:!0,$frames:!0,$frameElement:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0},oe=function(){if("undefined"==typeof window)return!1;
for(var e in window)if(!re["$"+e]&&L(window,e)&&null!==window[e]&&"object"==typeof window[e])try{ne(window[e])}catch(t){return!0}return!1}(),ie=function(e){if("undefined"==typeof window||!oe)return ne(e);try{return ne(e)}catch(t){return!1}},se=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],ae=se.length,ue=function(e){return"[object Arguments]"===R(e)},le=function(t){return null!==t&&"object"==typeof t&&"number"==typeof t.length&&t.length>=0&&!$(t)&&e(t.callee)},ce=ue(arguments)?ue:le;N(r,{keys:function(t){var n=e(t),r=ce(t),o=null!==t&&"object"==typeof t,i=o&&D(t);if(!o&&!n&&!r)throw new TypeError("Object.keys called on a non-object");var a=[],u=ee&&n;if(i&&te||r)for(var l=0;l<t.length;++l)d.call(a,s(l));if(!r)for(var c in t)u&&"prototype"===c||!L(t,c)||d.call(a,s(c));if(X)for(var p=ie(t),h=0;ae>h;h++){var f=se[h];p&&"constructor"===f||!L(t,f)||d.call(a,f)}return a}});var pe=r.keys&&function(){return 2===r.keys(arguments).length}(1,2),de=r.keys&&function(){
var e=r.keys(arguments);return 1!==arguments.length||1!==e.length||1!==e[0]}(1),he=r.keys;N(r,{keys:function(e){return he(ce(e)?c.call(e):e)}},!pe||de);var fe=-621987552e5,me="-000001",ge=Date.prototype.toISOString&&-1===new Date(fe).toISOString().indexOf(me),ve=Date.prototype.toISOString&&"1969-12-31T23:59:59.999Z"!==new Date(-1).toISOString();N(Date.prototype,{toISOString:function(){var e,t,n,r,o;if(!isFinite(this))throw new RangeError("Date.prototype.toISOString called on non-finite value.");for(r=this.getUTCFullYear(),o=this.getUTCMonth(),r+=Math.floor(o/12),o=(o%12+12)%12,e=[o+1,this.getUTCDate(),this.getUTCHours(),this.getUTCMinutes(),this.getUTCSeconds()],r=(0>r?"-":r>9999?"+":"")+B("00000"+Math.abs(r),r>=0&&9999>=r?-4:-6),t=e.length;t--;)n=e[t],10>n&&(e[t]="0"+n);return r+"-"+c.call(e,0,2).join("-")+"T"+c.call(e,2).join(":")+"."+B("000"+this.getUTCMilliseconds(),-3)+"Z"}},ge||ve);var be=function(){try{return Date.prototype.toJSON&&null===new Date(NaN).toJSON()&&-1!==new Date(fe).toJSON().indexOf(me)&&Date.prototype.toJSON.call({
toISOString:function(){return!0}})}catch(e){return!1}}();be||(Date.prototype.toJSON=function(t){var n=r(this),o=I.ToPrimitive(n);if("number"==typeof o&&!isFinite(o))return null;var i=n.toISOString;if(!e(i))throw new TypeError("toISOString property is not callable");return i.call(n)});var ye=1e15===Date.parse("+033658-09-27T01:46:40.000Z"),_e=!isNaN(Date.parse("2012-04-04T24:00:00.500Z"))||!isNaN(Date.parse("2012-11-31T23:59:59.000Z"))||!isNaN(Date.parse("2012-12-31T23:59:60.000Z")),we=isNaN(Date.parse("2000-01-01T00:00:00.000Z"));(we||_e||!ye)&&(Date=function(e){var t=function(n,r,o,i,a,u,l){var c,p=arguments.length;return c=this instanceof e?1===p&&s(n)===n?new e(t.parse(n)):p>=7?new e(n,r,o,i,a,u,l):p>=6?new e(n,r,o,i,a,u):p>=5?new e(n,r,o,i,a):p>=4?new e(n,r,o,i):p>=3?new e(n,r,o):p>=2?new e(n,r):p>=1?new e(n):new e:e.apply(this,arguments),O(c)||N(c,{constructor:t},!0),c},n=new RegExp("^(\\d{4}|[+-]\\d{6})(?:-(\\d{2})(?:-(\\d{2})(?:T(\\d{2}):(\\d{2})(?::(\\d{2})(?:(\\.\\d{1,}))?)?(Z|(?:([-+])(\\d{2}):(\\d{2})))?)?)?)?$"),r=[0,31,59,90,120,151,181,212,243,273,304,334,365],o=function(e,t){
var n=t>1?1:0;return r[t]+Math.floor((e-1969+n)/4)-Math.floor((e-1901+n)/100)+Math.floor((e-1601+n)/400)+365*(e-1970)},i=function(t){return u(new e(1970,0,1,0,0,0,t))};for(var a in e)L(e,a)&&(t[a]=e[a]);N(t,{now:e.now,UTC:e.UTC},!0),t.prototype=e.prototype,N(t.prototype,{constructor:t},!0);var l=function(t){var r=n.exec(t);if(r){var s,a=u(r[1]),l=u(r[2]||1)-1,c=u(r[3]||1)-1,p=u(r[4]||0),d=u(r[5]||0),h=u(r[6]||0),f=Math.floor(1e3*u(r[7]||0)),m=Boolean(r[4]&&!r[8]),g="-"===r[9]?1:-1,v=u(r[10]||0),b=u(r[11]||0);return(d>0||h>0||f>0?24:25)>p&&60>d&&60>h&&1e3>f&&l>-1&&12>l&&24>v&&60>b&&c>-1&&c<o(a,l+1)-o(a,l)&&(s=60*(24*(o(a,l)+c)+p+v*g),s=1e3*(60*(s+d+b*g)+h)+f,m&&(s=i(s)),s>=-864e13&&864e13>=s)?s:NaN}return e.parse.apply(this,arguments)};return N(t,{parse:l}),t}(Date)),Date.now||(Date.now=function(){return(new Date).getTime()});var ke=l.toFixed&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==0xde0b6b3a7640080.toFixed(0)),xe={base:1e7,size:6,data:[0,0,0,0,0,0],multiply:function(e,t){
for(var n=-1,r=t;++n<xe.size;)r+=e*xe.data[n],xe.data[n]=r%xe.base,r=Math.floor(r/xe.base)},divide:function(e){for(var t=xe.size,n=0;--t>=0;)n+=xe.data[t],xe.data[t]=Math.floor(n/e),n=n%e*xe.base},numToString:function(){for(var e=xe.size,t="";--e>=0;)if(""!==t||0===e||0!==xe.data[e]){var n=s(xe.data[e]);""===t?t=n:t+=B("0000000",0,7-n.length)+n}return t},pow:function Ie(e,t,n){return 0===t?n:t%2===1?Ie(e,t-1,n*e):Ie(e*e,t/2,n)},log:function(e){for(var t=0,n=e;n>=4096;)t+=12,n/=4096;for(;n>=2;)t+=1,n/=2;return t}};N(l,{toFixed:function(e){var t,n,r,o,i,a,l,c;if(t=u(e),t=t!==t?0:Math.floor(t),0>t||t>20)throw new RangeError("Number.toFixed called with invalid number of decimals");if(n=u(this),n!==n)return"NaN";if(-1e21>=n||n>=1e21)return s(n);if(r="",0>n&&(r="-",n=-n),o="0",n>1e-21)if(i=xe.log(n*xe.pow(2,69,1))-69,a=0>i?n*xe.pow(2,-i,1):n/xe.pow(2,i,1),a*=4503599627370496,i=52-i,i>0){for(xe.multiply(0,a),l=t;l>=7;)xe.multiply(1e7,0),l-=7;for(xe.multiply(xe.pow(10,l,1),0),l=i-1;l>=23;)xe.divide(1<<23),l-=23;xe.divide(1<<l),
xe.multiply(1,1),xe.divide(2),o=xe.numToString()}else xe.multiply(0,a),xe.multiply(1<<-i,0),o=xe.numToString()+B("0.00000000000000000000",2,2+t);return t>0?(c=o.length,o=t>=c?r+B("0.0000000000000000000",0,t-c+2)+o:r+B(o,0,c-t)+"."+B(o,c-t)):o=r+o,o}},ke),2!=="ab".split(/(?:ab)*/).length||4!==".".split(/(.?)(.?)/).length||"t"==="tesst".split(/(s)*/)[1]||4!=="test".split(/(?:)/,-1).length||"".split(/.?/).length||".".split(/()()/).length>1?!function(){var e="undefined"==typeof/()??/.exec("")[1];a.split=function(t,n){var r=this;if("undefined"==typeof t&&0===n)return[];if(!C(t))return j(this,t,n);var o,i,s,a,u=[],l=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),p=0,h=new RegExp(t.source,l+"g");r+="",e||(o=new RegExp("^"+h.source+"$(?!\\s)",l));var f="undefined"==typeof n?-1>>>0:I.ToUint32(n);for(i=h.exec(r);i&&(s=i.index+i[0].length,!(s>p&&(d.call(u,B(r,p,i.index)),!e&&i.length>1&&i[0].replace(o,function(){for(var e=1;e<arguments.length-2;e++)"undefined"==typeof arguments[e]&&(i[e]=void 0);
}),i.length>1&&i.index<r.length&&d.apply(u,c.call(i,1)),a=i[0].length,p=s,u.length>=f)));)h.lastIndex===i.index&&h.lastIndex++,i=h.exec(r);return p===r.length?(a||!h.test(""))&&d.call(u,""):d.call(u,B(r,p)),u.length>f?B(u,0,f):u}}():"0".split(void 0,0).length&&(a.split=function(e,t){return"undefined"==typeof e&&0===t?[]:j(this,e,t)});var Ce=a.replace,Ee=function(){var e=[];return"x".replace(/x(.)?/g,function(t,n){d.call(e,n)}),1===e.length&&"undefined"==typeof e[0]}();Ee||(a.replace=function(t,n){var r=e(n),o=C(t)&&/\)[*?]/.test(t.source);if(r&&o){var i=function(e){var r=arguments.length,o=t.lastIndex;t.lastIndex=0;var i=t.exec(e)||[];return t.lastIndex=o,d.call(i,arguments[r-2],arguments[r-1]),n.apply(this,i)};return Ce.call(this,t,i)}return Ce.call(this,t,n)});var Te=a.substr,Se="".substr&&"b"!=="0b".substr(-1);N(a,{substr:function(e,t){var n=e;return 0>e&&(n=g(this.length+e,0)),Te.call(this,n,t)}},Se);var De="	\n\f\r \xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff",Ae="\u200b",Me="["+De+"]",Fe=new RegExp("^"+Me+Me+"*"),Ne=new RegExp(Me+Me+"*$"),Oe=a.trim&&(De.trim()||!Ae.trim());
N(a,{trim:function(){if("undefined"==typeof this||null===this)throw new TypeError("can't convert "+this+" to object");return s(this).replace(Fe,"").replace(Ne,"")}},Oe),(8!==parseInt(De+"08")||22!==parseInt(De+"0x16"))&&(parseInt=function(e){var t=/^0[xX]/;return function(n,r){var o=s(n).trim(),i=u(r)||(t.test(o)?16:10);return e(o,i)}}(parseInt))})},{}],550:[function(e,t,n){"use strict";function r(e){return(window.macgap||window.windowsApp).clipboard.copy(e),!0}function o(e){try{if(document.execCommand("copy"))return!0}catch(t){}return console.warn("FlowdockClipboard is unable to copy "+e.value+" to clipboard"),!1}function i(e){var t=document.createElement("input");window.getSelection().removeAllRanges(),document.body.appendChild(t),t.value=e,t.select();var n=o(t);return document.body.removeChild(t),n}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]={copy:function(e){return e?window.macgap||window.windowsApp?r(e):i(e):!1}},t.exports=n["default"]},{}],551:[function(e,t,n){/*!
 * flowdock-text 0.1.7
 *
 * Copyright 2011 Twitter, Inc.
 * Copyright 2011 Flowdock Ltd
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this work except in compliance with the License.
 * You may obtain a copy of the License at:
 *
 *    http://www.apache.org/licenses/LICENSE-2.0
 */
("undefined"==typeof window||null===window)&&(window={FlowdockText:{}}),null==window.FlowdockText&&(window.FlowdockText={}),("undefined"==typeof FlowdockText||null===FlowdockText)&&(FlowdockText={}),function(){function e(e,t){return t=t||"","string"!=typeof e&&(e.global&&t.indexOf("g")<0&&(t+="g"),e.ignoreCase&&t.indexOf("i")<0&&(t+="i"),e.multiline&&t.indexOf("m")<0&&(t+="m"),e=e.source),new RegExp(e.replace(/#\{(\w+)\}/g,function(e,t){var n=FlowdockText.regexen[t]||"";return"string"!=typeof n&&(n=n.source),n}),t)}function n(e,t){return e.replace(/#\{(\w+)\}/g,function(e,n){return t[n]||""})}function r(e,t,n){var r=String.fromCharCode(t);return n!==t&&(r+="-"+String.fromCharCode(n)),e.push(r),e}function o(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function i(e,t,n){var r=n+e.index,o=t.slice(0,r),i=t.slice(r+e[0].length);return FlowdockText.regexen.startHashTagMatch.test(o)&&!FlowdockText.regexen.endHashtagMatch.test(i)}function s(e,t,n,r,o){if(void 0!==e&&(null===e||e.start>=r))return e;
var i=t.match(o.regex);if(i){if(!o.check(i,n,r)){var a=r+i.index+1;return s(e,n.slice(a),n,a,o)}return{type:o.type,match:i,start:r+i.index,end:r+i.index+i[0].length}}return i}function a(e){var t=e.match[0],n=u(t,{url:!0}).filter(function(e){return"url"==e.type});return n.length>0?n.map(function(t){return t.start+=e.start,t}):[e]}function u(e,t){for(var n=[],r=0,o=$.filter(function(e){return!t||t[e.type]}),i=new Array(o.length);;){for(var u=e.substr(r),l=0;l<i.length;l++)i[l]=s(i[l],u,e,r,o[l]);for(var c=void 0,p=0;p<i.length;p++){var d=i[p];(!c||d&&d.start<c.start)&&(c=d)}if(!c)return n.push({type:"text",value:u}),n;c.start>r&&n.push({type:"text",value:u.substr(0,c.start-r)}),"quote"==c.type?n.push.apply(n,a(c)):n.push(c),r=c.end}}function l(e,t){var r,o,i;if(e.urlEntities)for(r={},o=0,i=e.urlEntities.length;i>o;o++)r[e.urlEntities[o].url]=e.urlEntities[o];var s=t.match[2],a=t.match[3]||t.match[5],u="",l=t.match[1],c="",p=!1;("("==s[0]&&")"==s[s.length-1]||"["==s[0]&&"]"==s[s.length-1])&&(s=s.substr(1,s.length-2),
p=!0);for(var d in e)u+=n(' #{k}="#{v}" ',{k:d,v:e[d].toString().replace(/"/,"&quot;").replace(/</,"&lt;").replace(/>/,"&gt;")});s.match(FlowdockText.regexen.validTcoUrl)&&(s=RegExp.lastMatch,c=RegExp.rightContext);var h={htmlAttrs:u,url:FlowdockText.htmlEscape(s),after:c,before:l,parenBefore:p?s[0]:"",parenAfter:p?s[s.length-1]:""};return r&&r[s]&&r[s].display_url?h.displayUrl=FlowdockText.htmlEscape(r[s].display_url):h.displayUrl=h.url,a||(h.url="http://"+h.url),n('#{parenBefore}#{before}<a href="#{url}"#{htmlAttrs}>#{displayUrl}</a>#{after}#{parenAfter}',h)}function c(e,t){return t.match[0].replace(FlowdockText.regexen.email,function(t){d={subMatch:FlowdockText.htmlEscape(t)};for(var r in e)e.hasOwnProperty(r)&&(d[r]=e[r]);return n("<a href='mailto:#{subMatch}' class='#{emailClass}'>#{subMatch}</a>",d)})}function p(e,t){var r=t.match,o=r[1],i=r[2],s={hash:FlowdockText.htmlEscape(o),preText:"",text:FlowdockText.htmlEscape(i),postText:""};for(var a in e)e.hasOwnProperty(a)&&(s[a]=e[a]);return n('<a href="#{hashtagUrlBase}#{text}" title="##{text}" class="#{hashtagClass}">#{hash}#{preText}#{text}#{postText}</a>',s);
}function h(e,t){var r=[];e&&e.userTags&&(r=e.userTags.map(function(e){return e.toLowerCase()}));var o=t.match,i=o[1],s=o[2],a={hash:FlowdockText.htmlEscape(i),preText:"",text:FlowdockText.htmlEscape(s),postText:""};for(var u in e)e.hasOwnProperty(u)&&(a[u]=e[u]);return 0===r.length||M(a.hash+a.text.toLowerCase(),r)?n('<a title="Search #{hash}#{text}" class="#{hashtagClass}" href="#{hashtagUrlBase}#{hash}#{text}">#{hash}#{preText}#{text}#{postText}</a>',a):n("#{hash}#{preText}#{text}#{postText}",a)}function f(e,t,n){switch(n.type){case"text":return n.value;case"url":return l(t,n);case"hash":return p(e,n);case"mention":return h(e,n);case"email":return c(e,n)}}function m(e){return e=o(e||{}),e.hashtagClass=e.hashtagClass||j,e.hashtagUrlBase=e.hashtagUrlBase||"#flowser/all/",e.emailClass=e.emailClass||"email-link",e}function g(e){return o(e||{})}function v(e,t){return t.type===e||"text"===t.type?t:{type:"text",value:t.match[0]}}function b(e,t,n,r){t=m(t),n=g(n);var o=u(e);r&&(o=o.map(v.bind(null,r)));var i=o.map(f.bind(null,t,n));
return i.join("")}function y(e){return e.email}function _(e){e=e.filter(function(e){return"email"==e.type});var t=[];return e.forEach(function(e){return e.match[0].replace(FlowdockText.regexen.email,function(n){n=FlowdockText.htmlEscape(n);var r=e.end+FlowdockText.regexen.extractEmails.lastIndex,o=r-n.length;t.push({email:n,indices:[o,r]})})}),t}function w(e){return e.url}function k(e){e=e.filter(function(e){return"url"==e.type});var t=[];return e.forEach(function(e){var n=e.match,r=n[1],o=n[2],i=n[3]||n[5],s=n[4]||n[6],a=n[8],u=e.start+r.length,l=e.end;if(i)o.match(FlowdockText.regexen.validTcoUrl)&&(o=RegExp.lastMatch,l=u+o.length),t.push({url:o,indices:[u,l]});else{var c=null,p=!1,d=0;if(s.replace(FlowdockText.regexen.validAsciiDomain,function(e){var n=s.indexOf(e,d);d=n+e.length,c={url:e,indices:[u+n,u+d]},t.push(c)}),null==c)return;a&&(p&&t.push(c),c.url=o.replace(s,c.url),c.indices[1]=l)}}),t}function x(e){return e.tag}function C(e){e=e.filter(function(e){return"hash"==e.type});var t=[];return e.forEach(function(e){
var n=e.match,r=(n[1],n[2]),o=e.start,i=e.end;t.push({tag:r,indices:[o,i]})}),t}function E(e){return e.tag}function T(e,t){e=e.filter(function(e){return"mention"==e.type});var n=[];return e.forEach(function(e){var t=e.match,r=t[1],o=t[2],i=e.start,s=e.end;n.push({tag:r+o,indices:[i,s]})}),t?(t=A(t.map(D)),n.filter(function(e){return M(e.tag.toLowerCase(),t)})):n}function S(e,t,n){return n?!e||e.match(t)&&RegExp["$&"]===e:"string"==typeof e&&e.match(t)&&RegExp["$&"]===e}function D(e){return"string"==typeof e?"@"===e[0]?e:"@"+e:"@"+e.nick}function A(e){return e.map(function(e){return e.toLowerCase()})}function M(e,t){return-1!==t.indexOf(e)}function F(e){return"[object Array]"===Object.prototype.toString.call(e)}function N(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}FlowdockText={},FlowdockText.regexen={};var O={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#39;"};FlowdockText.htmlEscape=function(e){return e&&e.replace(/[&"'><]/g,function(e){return O[e]})};var I=String.fromCharCode,P=[I(32),I(133),I(160),I(5760),I(6158),I(8232),I(8233),I(8239),I(8287),I(12288)];
r(P,9,13),r(P,8192,8202);var L=[I(65534),I(65279),I(65535)];r(L,8234,8238),FlowdockText.regexen.spaces_group=e(P.join("")),FlowdockText.regexen.spaces=e("["+P.join("")+"]"),FlowdockText.regexen.invalid_chars_group=e(L.join("")),FlowdockText.regexen.punct=/\!'#%&'\(\)*\+,\\\-\.\/:;<=>\?@\[\]\^_{|}~\$/,FlowdockText.regexen.atSigns=/[@\uff20]/,FlowdockText.regexen.extractMentions=e(/(^|[^a-zA-Z0-9_!#$%&*@\uff20])(#{atSigns})([a-zA-Z0-9_]{1,20})/g);var R=[];r(R,1024,1279),r(R,1280,1319),r(R,11744,11775),r(R,42560,42655),r(R,880,1023),r(R,4352,4607),r(R,12592,12677),r(R,43360,43391),r(R,44032,55215),r(R,55216,55295),r(R,65441,65500),r(R,12449,12538),r(R,12540,12542),r(R,65382,65439),r(R,65392,65392),r(R,65296,65305),r(R,65313,65338),r(R,65345,65370),r(R,12353,12438),r(R,12441,12446),r(R,13312,19903),r(R,19968,40959),r(R,12291,12291),r(R,12293,12293),r(R,12347,12347),FlowdockText.regexen.nonLatinHashtagChars=e(R.join(""));var B=[];r(B,192,255),r(B,256,383),r(B,7680,7935),FlowdockText.regexen.latinAccentChars=e(B.join("")),
FlowdockText.regexen.endScreenNameMatch=e(/^(?:#{atSigns}|[#{latinAccentChars}]|:\/\/)/),FlowdockText.regexen.hashtagAlpha=e(/[a-z_#{latinAccentChars}#{nonLatinHashtagChars}]/i),FlowdockText.regexen.usernameAlphaNumeric=e(/[a-z0-9_\-\.#{latinAccentChars}#{nonLatinHashtagChars}]/i),FlowdockText.regexen.usernameAlphaNumericEnd=e(/[a-z0-9_\-#{latinAccentChars}#{nonLatinHashtagChars}]/i),FlowdockText.regexen.hashtagAlphaNumeric=e(/[a-z0-9_\-#{latinAccentChars}#{nonLatinHashtagChars}]/i),FlowdockText.regexen.endHashtagMatch=/^(?:[#\uff03]|:\/\/)/,FlowdockText.regexen.hashtagBoundary=e(/(?:^|$|[^&\/a-z0-9_@\uff20#{latinAccentChars}#{nonLatinHashtagChars}])/),FlowdockText.regexen.singleValidHashTag=e(/^#{hashtagAlphaNumeric}+$/i),FlowdockText.regexen.autoLinkHashtags=e(/(#{hashtagBoundary})(#|\uff03)(#{hashtagAlphaNumeric}+)/gi),FlowdockText.regexen.startHashTagMatch=e(/(?:^|[^&\/a-z0-9_#{latinAccentChars}#{nonLatinHashtagChars}])$/),FlowdockText.regexen.singleHashTag=e(/(#|\uff03)(#{hashtagAlphaNumeric}+)/i),FlowdockText.regexen.singleMention=e(/(@)(#{usernameAlphaNumeric}*#{usernameAlphaNumericEnd}+)/i),
FlowdockText.regexen.autoLinkMentions=e(/(#{hashtagBoundary})(@)(#{usernameAlphaNumeric}*#{usernameAlphaNumericEnd}+)/gi),FlowdockText.regexen.highlightRegex=function(e){return e&&e.length>0?new RegExp("(\\b)"+N(e)+"(\\b)","i"):void 0},FlowdockText.regexen.validPrecedingChars=e(/(?:[^-\/"'!=A-Za-z0-9_@\uff20$#\uff03\.#{invalid_chars_group}]|^)[\(\[]?/),FlowdockText.regexen.invalidDomainChars=n("#{punct}#{spaces_group}#{invalid_chars_group}",FlowdockText.regexen),FlowdockText.regexen.validDomainChars=e(/[^#{invalidDomainChars}]/),FlowdockText.regexen.validSubdomain=e(/(?:(?:#{validDomainChars}(?:[_-]|#{validDomainChars})*)?#{validDomainChars}\.)/),FlowdockText.regexen.validDomainName=e(/(?:(?:#{validDomainChars}(?:-|#{validDomainChars})*)?#{validDomainChars}\.)/),FlowdockText.regexen.validGTLD=e(RegExp("(?:(?:academy|actor|aero|agency|arpa|asia|bar|bargains|berlin|best|bid|bike|biz|blue|boutique|build|builders|buzz|cab|camera|camp|cards|careers|cat|catering|center|ceo|cheap|christmas|cleaning|clothing|club|codes|coffee|com|community|company|computer|construction|contractors|cool|coop|cruises|dance|dating|democrat|diamonds|directory|domains|edu|education|email|enterprises|equipment|estate|events|expert|exposed|farm|fish|flights|florist|foundation|futbol|gallery|gift|glass|gov|graphics|guitars|guru|holdings|holiday|house|immobilien|industries|info|institute|int|international|jobs|kaufen|kim|kitchen|kiwi|koeln|kred|land|lighting|limo|link|luxury|management|mango|marketing|menu|mil|mobi|moda|monash|museum|nagoya|name|net|neustar|ninja|okinawa|onl|org|partners|parts|photo|photography|photos|pics|pink|plumbing|post|pro|productions|properties|pub|qpon|recipes|red|rentals|repair|report|reviews|rich|ruhr|sexy|shiksha|shoes|singles|social|solar|solutions|supplies|supply|support|systems|tattoo|technology|tel|tienda|tips|today|tokyo|tools|training|travel|uno|vacations|ventures|viajes|villas|vision|vote|voting|voto|voyage|wang|watch|wed|wien|wiki|works|local|xxx|xyz|zone|\u0434\u0435\u0442\u0438|\u043e\u043d\u043b\u0430\u0439\u043d|\u043e\u0440\u0433|\u0441\u0430\u0439\u0442|\u0628\u0627\u0632\u0627\u0631|\u0634\u0628\u0643\u0629|\u307f\u3093\u306a|\u4e2d\u4fe1|\u4e2d\u6587\u7f51|\u516c\u53f8|\u516c\u76ca|\u5728\u7ebf|\u6211\u7231\u4f60|\u653f\u52a1|\u6e38\u620f|\u79fb\u52a8|\u7f51\u7edc|\u96c6\u56e2|\uc0bc\uc131)(?=[^0-9a-zA-Z@]|$))")),
FlowdockText.regexen.validCCTLD=e(RegExp("(?:(?:ac|ad|ae|af|ag|ai|al|am|an|ao|aq|ar|as|at|au|aw|ax|az|ba|bb|bd|be|bf|bg|bh|bi|bj|bl|bm|bn|bo|bq|br|bs|bt|bv|bw|by|bz|ca|cc|cd|cf|cg|ch|ci|ck|cl|cm|cn|co|cr|cu|cv|cw|cx|cy|cz|de|dj|dk|dm|do|dz|ec|ee|eg|eh|er|es|et|eu|fi|fj|fk|fm|fo|fr|ga|gb|gd|ge|gf|gg|gh|gi|gl|gm|gn|gp|gq|gr|gs|gt|gu|gw|gy|hk|hm|hn|hr|ht|hu|id|ie|il|im|in|io|iq|ir|is|it|je|jm|jo|jp|ke|kg|kh|ki|km|kn|kp|kr|kw|ky|kz|la|lb|lc|li|lk|lr|ls|lt|lu|lv|ly|ma|mc|md|me|mf|mg|mh|mk|ml|mm|mn|mo|mp|mq|mr|ms|mt|mu|mv|mw|mx|my|mz|na|nc|ne|nf|ng|ni|nl|no|np|nr|nu|nz|om|pa|pe|pf|pg|ph|pk|pl|pm|pn|pr|ps|pt|pw|py|qa|re|ro|rs|ru|rw|sa|sb|sc|sd|se|sg|sh|si|sj|sk|sl|sm|sn|so|sr|ss|st|su|sv|sx|sy|sz|tc|td|tf|tg|th|tj|tk|tl|tm|tn|to|tp|tr|tt|tv|tw|tz|ua|ug|uk|um|us|uy|uz|va|vc|ve|vg|vi|vn|vu|wf|ws|ye|yt|za|zm|zw|\u043c\u043e\u043d|\u0440\u0444|\u0441\u0440\u0431|\u0443\u043a\u0440|\u049b\u0430\u0437|\u0627\u0644\u0627\u0631\u062f\u0646|\u0627\u0644\u062c\u0632\u0627\u0626\u0631|\u0627\u0644\u0633\u0639\u0648\u062f\u064a\u0629|\u0627\u0644\u0645\u063a\u0631\u0628|\u0627\u0645\u0627\u0631\u0627\u062a|\u0627\u06cc\u0631\u0627\u0646|\u0628\u06be\u0627\u0631\u062a|\u062a\u0648\u0646\u0633|\u0633\u0648\u062f\u0627\u0646|\u0633\u0648\u0631\u064a\u0629|\u0639\u0645\u0627\u0646|\u0641\u0644\u0633\u0637\u064a\u0646|\u0642\u0637\u0631|\u0645\u0635\u0631|\u0645\u0644\u064a\u0633\u064a\u0627|\u067e\u0627\u06a9\u0633\u062a\u0627\u0646|\u092d\u093e\u0930\u0924|\u09ac\u09be\u0982\u09b2\u09be|\u09ad\u09be\u09b0\u09a4|\u0a2d\u0a3e\u0a30\u0a24|\u0aad\u0abe\u0ab0\u0aa4|\u0b87\u0ba8\u0bcd\u0ba4\u0bbf\u0baf\u0bbe|\u0b87\u0bb2\u0b99\u0bcd\u0b95\u0bc8|\u0b9a\u0bbf\u0b99\u0bcd\u0b95\u0baa\u0bcd\u0baa\u0bc2\u0bb0\u0bcd|\u0c2d\u0c3e\u0c30\u0c24\u0c4d|\u0dbd\u0d82\u0d9a\u0dcf|\u0e44\u0e17\u0e22|\u10d2\u10d4|\u4e2d\u56fd|\u4e2d\u570b|\u53f0\u6e7e|\u53f0\u7063|\u65b0\u52a0\u5761|\u9999\u6e2f|\ud55c\uad6d)(?=[^0-9a-zA-Z@]|$))")),
FlowdockText.regexen.validPunycode=e(/(?:xn--[0-9a-z]+)/),FlowdockText.regexen.validDomain=e(/(?:#{validSubdomain}*#{validDomainName}(?:#{validGTLD}|#{validCCTLD}|#{validPunycode}))/),FlowdockText.regexen.pseudoValidIP=e(/(?:\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3})/),FlowdockText.regexen.validAsciiDomain=e(/(?:(?:[a-z0-9#{latinAccentChars}\-]+)\.)+(?:#{validGTLD}|#{validCCTLD}|#{validPunycode})/gi),FlowdockText.regexen.validPortNumber=e(/[0-9]+/),FlowdockText.regexen.validGeneralUrlPathChars=e(/[a-z0-9!\*';:=\+,\.\$\/%#\[\]\-_~|&#{latinAccentChars}]/i),FlowdockText.regexen.validUrlBalancedParens=e(/\(#{validGeneralUrlPathChars}+\)/i),FlowdockText.regexen.validUrlPathEndingChars=e(/[\+\-a-z0-9=_#\/#{latinAccentChars}]|(?:#{validUrlBalancedParens})/i),FlowdockText.regexen.validUrlPath=e("(?:(?:#{validGeneralUrlPathChars}*(?:#{validUrlBalancedParens}#{validGeneralUrlPathChars}*)*#{validUrlPathEndingChars})|(?:(@|@@)#{validGeneralUrlPathChars}*/?#{validUrlPathEndingChars}+))","i"),FlowdockText.regexen.validUrlQueryChars=/[a-z0-9!?\*'\(\);:&=\+\$\/%#\[\]\-_\.,~|]/i,
FlowdockText.regexen.validUrlQueryEndingChars=/[a-z0-9_&=#\/\)\]]/i,FlowdockText.regexen.extractUrl=e("((#{validPrecedingChars})((?:(?:(https?:\\/\\/)?(#{validDomain}|#{pseudoValidIP}))|(?:(https?:\\/\\/)(#{validDomainName}*(?:#{validDomainChars}|-){2,})(?=:|/|#{spaces}|$)))(?::(#{validPortNumber}))?(\\/#{validUrlPath}*)?(\\?#{validUrlQueryChars}*#{validUrlQueryEndingChars})?))","gi"),FlowdockText.regexen.quoted=e("((^|\\n)\\s{4}.*)","m"),FlowdockText.regexen.singleUrl=e("(#{validPrecedingChars})((?:(?:(https?:\\/\\/)?(#{validDomain}|#{pseudoValidIP}))|(?:(https?:\\/\\/)(#{validDomainName}*(?:#{validDomainChars}|-){2,})(?=:|/|#{spaces}|$)))(?::(#{validPortNumber}))?(\\/#{validUrlPath}*)?(\\?#{validUrlQueryChars}*#{validUrlQueryEndingChars})?)","i"),FlowdockText.regexen.validTcoUrl=/^https?:\/\/t\.co\/[a-z0-9]+/i,FlowdockText.regexen.validateUrlUnreserved=/[a-z0-9\-._~]/i,FlowdockText.regexen.validateUrlPctEncoded=/(?:%[0-9a-f]{2})/i,FlowdockText.regexen.validateUrlSubDelims=/[!$&'()*+,;=]/i,FlowdockText.regexen.validateUrlPchar=e("(?:#{validateUrlUnreserved}|#{validateUrlPctEncoded}|#{validateUrlSubDelims}|[:|@])","i"),
FlowdockText.regexen.validateUrlScheme=/(?:[a-z][a-z0-9+\-.]*)/i,FlowdockText.regexen.validateUrlUserinfo=e("(?:#{validateUrlUnreserved}|#{validateUrlPctEncoded}|#{validateUrlSubDelims}|:)*","i"),FlowdockText.regexen.validateUrlDecOctet=/(?:[0-9]|(?:[1-9][0-9])|(?:1[0-9]{2})|(?:2[0-4][0-9])|(?:25[0-5]))/i,FlowdockText.regexen.validateUrlIpv4=e(/(?:#{validateUrlDecOctet}(?:\.#{validateUrlDecOctet}){3})/i),FlowdockText.regexen.validateUrlIpv6=/(?:\[[a-f0-9:\.]+\])/i,FlowdockText.regexen.validateUrlIp=e("(?:#{validateUrlIpv4}|#{validateUrlIpv6})","i"),FlowdockText.regexen.validateUrlSubDomainSegment=/(?:[a-z0-9](?:[a-z0-9_\-]*[a-z0-9])?)/i,FlowdockText.regexen.validateUrlDomainSegment=/(?:[a-z0-9](?:[a-z0-9\-]*[a-z0-9])?)/i,FlowdockText.regexen.validateUrlDomainTld=/(?:[a-z](?:[a-z0-9\-]*[a-z0-9])?)/i,FlowdockText.regexen.validateUrlDomain=e(/(?:(?:#{validateUrlSubDomainSegment]}\.)*(?:#{validateUrlDomainSegment]}\.)#{validateUrlDomainTld})/i),FlowdockText.regexen.validateUrlHost=e("(?:#{validateUrlIp}|#{validateUrlDomain})","i"),
FlowdockText.regexen.validateUrlUnicodeSubDomainSegment=/(?:(?:[a-z0-9]|[^\u0000-\u007f])(?:(?:[a-z0-9_\-]|[^\u0000-\u007f])*(?:[a-z0-9]|[^\u0000-\u007f]))?)/i,FlowdockText.regexen.validateUrlUnicodeDomainSegment=/(?:(?:[a-z0-9]|[^\u0000-\u007f])(?:(?:[a-z0-9\-]|[^\u0000-\u007f])*(?:[a-z0-9]|[^\u0000-\u007f]))?)/i,FlowdockText.regexen.validateUrlUnicodeDomainTld=/(?:(?:[a-z]|[^\u0000-\u007f])(?:(?:[a-z0-9\-]|[^\u0000-\u007f])*(?:[a-z0-9]|[^\u0000-\u007f]))?)/i,FlowdockText.regexen.validateUrlUnicodeDomain=e(/(?:(?:#{validateUrlUnicodeSubDomainSegment}\.)*(?:#{validateUrlUnicodeDomainSegment}\.)#{validateUrlUnicodeDomainTld})/i),FlowdockText.regexen.validateUrlUnicodeHost=e("(?:#{validateUrlIp}|#{validateUrlUnicodeDomain})","i"),FlowdockText.regexen.validateUrlPort=/[0-9]{1,5}/,FlowdockText.regexen.validateUrlUnicodeAuthority=e("(?:(#{validateUrlUserinfo})@)?(#{validateUrlUnicodeHost})(?::(#{validateUrlPort}))?","i"),FlowdockText.regexen.validateUrlAuthority=e("(?:(#{validateUrlUserinfo})@)?(#{validateUrlHost})(?::(#{validateUrlPort}))?","i"),
FlowdockText.regexen.validateUrlPath=e(/(\/#{validateUrlPchar}*)*/i),FlowdockText.regexen.validateUrlQuery=e(/(#{validateUrlPchar}|\/|\?)*/i),FlowdockText.regexen.validateUrlFragment=e(/(#{validateUrlPchar}|\/|\?)*/i),FlowdockText.regexen.validateUrlUnencoded=e("^(?:([^:/?#]+):\\/\\/)?([^/?#]*)([^?#]*)(?:\\?([^#]*))?(?:#(.*))?$","i"),FlowdockText.regexen.validEmailLocalPart=e("[A-z|0-9|.|_|%|+|-]+"),FlowdockText.regexen.email=e(/#{validEmailLocalPart}@#{validDomain}/,"gi"),FlowdockText.regexen.extractEmails=e(/(?:^|\s|,|"|')?(#{email})/,"gi"),FlowdockText.regexen.singleEmail=e(/(?:^|\s|,|"|')?(#{email})/,"i");var j="app-tag-link",$=[{type:"quote",regex:FlowdockText.regexen.quoted,check:function(){return!0}},{type:"url",regex:FlowdockText.regexen.singleUrl,check:function(){return!0}},{type:"hash",regex:FlowdockText.regexen.singleHashTag,check:i},{type:"mention",regex:FlowdockText.regexen.singleMention,check:i},{type:"email",regex:FlowdockText.regexen.singleEmail,check:function(){return!0}}];FlowdockText.autoLink=function(e,t,n){
return b(e,t,n)},FlowdockText.autoLinkHashtags=function(e,t){return b(e,t,{},"hash")},FlowdockText.autoLinkEmails=function(e,t){return b(e,t,{},"email")},FlowdockText.autoLinkUrlsCustom=function(e,t){return b(e,{},t,"url")},FlowdockText.autoLinkMentions=function(e,t){return b(e,t,{},"mention")},FlowdockText.extractEmails=function(e){var t=FlowdockText.extractEmailsWithIndices(e);return t.map(y)},FlowdockText.extractEmailsWithIndices=function(e){return FlowdockText.extractAllWithIndices(e).emails},FlowdockText.extractUrls=function(e){var t=FlowdockText.extractUrlsWithIndices(e);return t.map(w)},FlowdockText.extractUrlsWithIndices=function(e){return FlowdockText.extractAllWithIndices(e).urls},FlowdockText.extractHashtags=function(e){var t=FlowdockText.extractHashtagsWithIndices(e);return t.map(x)},FlowdockText.extractHashtagsWithIndices=function(e){return FlowdockText.extractAllWithIndices(e).hashtags},FlowdockText.modifyIndicesFromUnicodeToUTF16=function(e,t){FlowdockText.shiftIndices(e,t,1)},FlowdockText.modifyIndicesFromUTF16ToUnicode=function(e,t){
FlowdockText.shiftIndices(e,t,-1)},FlowdockText.shiftIndices=function(e,t,n){for(var r=0;r<e.length-1;r++){var o=e.charCodeAt(r),i=e.charCodeAt(r+1);if(o>=55296&&56319>=o&&i>=56320&&57343>=i){r++;for(var s=0;s<t.length;s++)t[s].indices[0]>=r&&(t[s].indices[0]+=n,t[s].indices[1]+=n)}}},FlowdockText.extractMentions=function(e,t){var n=FlowdockText.extractMentionsWithIndices(e,t);return n.map(E)},FlowdockText.extractMentionsWithIndices=function(e,t){return FlowdockText.extractAllWithIndices(e,t).mentions},FlowdockText.extractAllWithIndices=function(e,t){if(!e)return{hashtags:[],mentions:[],emails:[],urls:[]};var n=u(e);return{hashtags:C(n),mentions:T(n,t),emails:_(n),urls:k(n)}},FlowdockText.extractAll=function(e,t){var n=FlowdockText.extractAllWithIndices(e,t);return{hashtags:n.hashtags.map(x),mentions:n.mentions.map(E),emails:n.emails.map(y),urls:n.urls.map(w)}},FlowdockText.mentionsTags=function(e,t){return F(e)?F(t)?t.some(function(t){return-1!==A(e).indexOf(t)}):-1!==A(e).indexOf(t):FlowdockText.mentionsTags(FlowdockText.extractMentions(e),t);
},FlowdockText.mentionsUser=function(e,t){return F(e)?-1!==A(e).indexOf(D(t).toLowerCase()):FlowdockText.extractMentions(e,[D(t)]).length>0},FlowdockText.isValidUrl=function(e,t,n){if(null==t&&(t=!0),null==n&&(n=!0),!e)return!1;var r=e.match(FlowdockText.regexen.validateUrlUnencoded);if(!r||r[0]!==e)return!1;var o=r[1],i=r[2],s=r[3],a=r[4],u=r[5];return(!n||S(o,FlowdockText.regexen.validateUrlScheme)&&o.match(/^https?$/i))&&S(s,FlowdockText.regexen.validateUrlPath)&&S(a,FlowdockText.regexen.validateUrlQuery,!0)&&S(u,FlowdockText.regexen.validateUrlFragment,!0)?t&&S(i,FlowdockText.regexen.validateUrlUnicodeAuthority)||!t&&S(i,FlowdockText.regexen.validateUrlAuthority):!1},"undefined"!=typeof t&&t.exports&&(t.exports=FlowdockText)}()},{}],552:[function(e,t,n){/**
 * @license
 * Fuse - Lightweight fuzzy-search
 *
 * Copyright (c) 2012 Kirollos Risk <kirollos@gmail.com>.
 * All Rights Reserved. Apache Software License 2.0
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
!function(e){function r(e,t){this.list=e,this.options=t=t||{};var n,o,i,s;for(n=0,s=["sort","includeScore","shouldSort"],o=s.length;o>n;n++)i=s[n],this.options[i]=i in t?t[i]:r.defaultOptions[i];for(n=0,s=["searchFn","sortFn","keys","getFn"],o=s.length;o>n;n++)i=s[n],this.options[i]=t[i]||r.defaultOptions[i]}var o=function(e,t){if(t=t||{},this.options=t,this.options.location=t.location||o.defaultOptions.location,this.options.distance="distance"in t?t.distance:o.defaultOptions.distance,this.options.threshold="threshold"in t?t.threshold:o.defaultOptions.threshold,this.options.maxPatternLength=t.maxPatternLength||o.defaultOptions.maxPatternLength,this.pattern=t.caseSensitive?e:e.toLowerCase(),this.patternLen=e.length,this.patternLen>this.options.maxPatternLength)throw new Error("Pattern length is too long");this.matchmask=1<<this.patternLen-1,this.patternAlphabet=this._calculatePatternAlphabet()};o.defaultOptions={location:0,distance:100,threshold:.6,maxPatternLength:32},o.prototype._calculatePatternAlphabet=function(){
var e={},t=0;for(t=0;t<this.patternLen;t++)e[this.pattern.charAt(t)]=0;for(t=0;t<this.patternLen;t++)e[this.pattern.charAt(t)]|=1<<this.pattern.length-t-1;return e},o.prototype._bitapScore=function(e,t){var n=e/this.patternLen,r=Math.abs(this.options.location-t);return this.options.distance?n+r/this.options.distance:r?1:n},o.prototype.search=function(e){if(e=this.options.caseSensitive?e:e.toLowerCase(),this.pattern===e)return{isMatch:!0,score:0};var t,n,r,o,i,s,a,u,l,c=e.length,p=this.options.location,d=this.options.threshold,h=e.indexOf(this.pattern,p),f=this.patternLen+c,m=1,g=[];for(-1!=h&&(d=Math.min(this._bitapScore(0,h),d),h=e.lastIndexOf(this.pattern,p+this.patternLen),-1!=h&&(d=Math.min(this._bitapScore(0,h),d))),h=-1,t=0;t<this.patternLen;t++){for(r=0,o=f;o>r;)this._bitapScore(t,p+o)<=d?r=o:f=o,o=Math.floor((f-r)/2+r);for(f=o,i=Math.max(1,p-o+1),s=Math.min(p+o,c)+this.patternLen,a=Array(s+2),a[s+1]=(1<<t)-1,n=s;n>=i;n--)if(l=this.patternAlphabet[e.charAt(n-1)],0===t?a[n]=(a[n+1]<<1|1)&l:a[n]=(a[n+1]<<1|1)&l|((u[n+1]|u[n])<<1|1)|u[n+1],
a[n]&this.matchmask&&(m=this._bitapScore(t,n-1),d>=m)){if(d=m,h=n-1,g.push(h),!(h>p))break;i=Math.max(1,2*p-h)}if(this._bitapScore(t+1,p)>d)break;u=a}return{isMatch:h>=0,score:m}};var i=function(e,t,n){var r,o,a;if(t){a=t.indexOf("."),-1!==a?(r=t.slice(0,a),o=t.slice(a+1)):r=t;var u=e[r];if(u)if(o||"string"!=typeof u&&"number"!=typeof u)if(s.isArray(u))for(var l=0,c=u.length;c>l;l++)i(u[l],o,n);else o&&i(u,o,n);else n.push(u)}else n.push(e);return n},s={deepValue:function(e,t){return i(e,t,[])},isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)}};r.defaultOptions={id:null,caseSensitive:!1,includeScore:!1,shouldSort:!0,searchFn:o,sortFn:function(e,t){return e.score-t.score},getFn:s.deepValue,keys:[]},r.prototype.search=function(e){var t,n,r,o,i=new this.options.searchFn(e,this.options),a=this.list,u=a.length,l=this.options,c=this.options.keys,p=c.length,d=[],h={},f=[],m=function(e,t,n){if(void 0!==e&&null!==e)if("string"==typeof e)r=i.search(e),r.isMatch&&(o=h[n],o?o.score=Math.min(o.score,r.score):(h[n]={
item:t,score:r.score},d.push(h[n])));else if(s.isArray(e))for(var a=0;a<e.length;a++)m(e[a],t,n)};if("string"==typeof a[0])for(var g=0;u>g;g++)m(a[g],g,g);else for(var g=0;u>g;g++)for(n=a[g],t=0;p>t;t++)m(l.getFn(n,c[t]),n,g);l.shouldSort&&d.sort(l.sortFn);for(var v=l.includeScore?function(e){return d[e]}:function(e){return d[e].item},b=l.id?function(e){d[e].item=l.getFn(d[e].item,l.id)[0]}:function(){},g=0,y=d.length;y>g;g++)b(g),f.push(v(g));return f},"object"==typeof n?t.exports=r:"function"==typeof define&&define.amd?define(function(){return r}):e.Fuse=r}(this)},{}],553:[function(e,t,n){!function(e){"undefined"!=typeof n?e(n):(window.hljs=e({}),"function"==typeof define&&define.amd&&define("hljs",[],function(){return window.hljs}))}(function(e){function t(e){return e.replace(/&/gm,"&amp;").replace(/</gm,"&lt;").replace(/>/gm,"&gt;")}function n(e){return e.nodeName.toLowerCase()}function r(e,t){var n=e&&e.exec(t);return n&&0==n.index}function o(e){return/^(no-?highlight|plain|text)$/i.test(e)}function i(e){
var t,n,r,i=e.className+" ";if(i+=e.parentNode?e.parentNode.className:"",n=/\blang(?:uage)?-([\w-]+)\b/i.exec(i))return _(n[1])?n[1]:"no-highlight";for(i=i.split(/\s+/),t=0,r=i.length;r>t;t++)if(_(i[t])||o(i[t]))return i[t]}function s(e,t){var n,r={};for(n in e)r[n]=e[n];if(t)for(n in t)r[n]=t[n];return r}function a(e){var t=[];return function r(e,o){for(var i=e.firstChild;i;i=i.nextSibling)3==i.nodeType?o+=i.nodeValue.length:1==i.nodeType&&(t.push({event:"start",offset:o,node:i}),o=r(i,o),n(i).match(/br|hr|img|input/)||t.push({event:"stop",offset:o,node:i}));return o}(e,0),t}function u(e,r,o){function i(){return e.length&&r.length?e[0].offset!=r[0].offset?e[0].offset<r[0].offset?e:r:"start"==r[0].event?e:r:e.length?e:r}function s(e){function r(e){return" "+e.nodeName+'="'+t(e.value)+'"'}c+="<"+n(e)+Array.prototype.map.call(e.attributes,r).join("")+">"}function a(e){c+="</"+n(e)+">"}function u(e){("start"==e.event?s:a)(e.node)}for(var l=0,c="",p=[];e.length||r.length;){var d=i();if(c+=t(o.substr(l,d[0].offset-l)),
l=d[0].offset,d==e){p.reverse().forEach(a);do u(d.splice(0,1)[0]),d=i();while(d==e&&d.length&&d[0].offset==l);p.reverse().forEach(s)}else"start"==d[0].event?p.push(d[0].node):p.pop(),u(d.splice(0,1)[0])}return c+t(o.substr(l))}function l(e){function t(e){return e&&e.source||e}function n(n,r){return new RegExp(t(n),"m"+(e.case_insensitive?"i":"")+(r?"g":""))}function r(o,i){if(!o.compiled){if(o.compiled=!0,o.keywords=o.keywords||o.beginKeywords,o.keywords){var a={},u=function(t,n){e.case_insensitive&&(n=n.toLowerCase()),n.split(" ").forEach(function(e){var n=e.split("|");a[n[0]]=[t,n[1]?Number(n[1]):1]})};"string"==typeof o.keywords?u("keyword",o.keywords):Object.keys(o.keywords).forEach(function(e){u(e,o.keywords[e])}),o.keywords=a}o.lexemesRe=n(o.lexemes||/\b\w+\b/,!0),i&&(o.beginKeywords&&(o.begin="\\b("+o.beginKeywords.split(" ").join("|")+")\\b"),o.begin||(o.begin=/\B|\b/),o.beginRe=n(o.begin),o.end||o.endsWithParent||(o.end=/\B|\b/),o.end&&(o.endRe=n(o.end)),o.terminator_end=t(o.end)||"",o.endsWithParent&&i.terminator_end&&(o.terminator_end+=(o.end?"|":"")+i.terminator_end)),
o.illegal&&(o.illegalRe=n(o.illegal)),void 0===o.relevance&&(o.relevance=1),o.contains||(o.contains=[]);var l=[];o.contains.forEach(function(e){e.variants?e.variants.forEach(function(t){l.push(s(e,t))}):l.push("self"==e?o:e)}),o.contains=l,o.contains.forEach(function(e){r(e,o)}),o.starts&&r(o.starts,i);var c=o.contains.map(function(e){return e.beginKeywords?"\\.?("+e.begin+")\\.?":e.begin}).concat([o.terminator_end,o.illegal]).map(t).filter(Boolean);o.terminators=c.length?n(c.join("|"),!0):{exec:function(){return null}}}}r(e)}function c(e,n,o,i){function s(e,t){for(var n=0;n<t.contains.length;n++)if(r(t.contains[n].beginRe,e))return t.contains[n]}function a(e,t){if(r(e.endRe,t)){for(;e.endsParent&&e.parent;)e=e.parent;return e}return e.endsWithParent?a(e.parent,t):void 0}function u(e,t){return!o&&r(t.illegalRe,e)}function d(e,t){var n=y.case_insensitive?t[0].toLowerCase():t[0];return e.keywords.hasOwnProperty(n)&&e.keywords[n]}function h(e,t,n,r){var o=r?"":w.classPrefix,i='<span class="'+o,s=n?"":"</span>";return i+=e+'">',
i+t+s}function f(){if(!C.keywords)return t(S);var e="",n=0;C.lexemesRe.lastIndex=0;for(var r=C.lexemesRe.exec(S);r;){e+=t(S.substr(n,r.index-n));var o=d(C,r);o?(D+=o[1],e+=h(o[0],t(r[0]))):e+=t(r[0]),n=C.lexemesRe.lastIndex,r=C.lexemesRe.exec(S)}return e+t(S.substr(n))}function m(){var e="string"==typeof C.subLanguage;if(e&&!k[C.subLanguage])return t(S);var n=e?c(C.subLanguage,S,!0,E[C.subLanguage]):p(S,C.subLanguage.length?C.subLanguage:void 0);return C.relevance>0&&(D+=n.relevance),e&&(E[C.subLanguage]=n.top),h(n.language,n.value,!1,!0)}function g(){return void 0!==C.subLanguage?m():f()}function v(e,n){var r=e.className?h(e.className,"",!0):"";e.returnBegin?(T+=r,S=""):e.excludeBegin?(T+=t(n)+r,S=""):(T+=r,S=n),C=Object.create(e,{parent:{value:C}})}function b(e,n){if(S+=e,void 0===n)return T+=g(),0;var r=s(n,C);if(r)return T+=g(),v(r,n),r.returnBegin?0:n.length;var o=a(C,n);if(o){var i=C;i.returnEnd||i.excludeEnd||(S+=n),T+=g();do C.className&&(T+="</span>"),D+=C.relevance,C=C.parent;while(C!=o.parent);return i.excludeEnd&&(T+=t(n)),
S="",o.starts&&v(o.starts,""),i.returnEnd?0:n.length}if(u(n,C))throw new Error('Illegal lexeme "'+n+'" for mode "'+(C.className||"<unnamed>")+'"');return S+=n,n.length||1}var y=_(e);if(!y)throw new Error('Unknown language: "'+e+'"');l(y);var x,C=i||y,E={},T="";for(x=C;x!=y;x=x.parent)x.className&&(T=h(x.className,"",!0)+T);var S="",D=0;try{for(var A,M,F=0;;){if(C.terminators.lastIndex=F,A=C.terminators.exec(n),!A)break;M=b(n.substr(F,A.index-F),A[0]),F=A.index+M}for(b(n.substr(F)),x=C;x.parent;x=x.parent)x.className&&(T+="</span>");return{relevance:D,value:T,language:e,top:C}}catch(N){if(-1!=N.message.indexOf("Illegal"))return{relevance:0,value:t(n)};throw N}}function p(e,n){n=n||w.languages||Object.keys(k);var r={relevance:0,value:t(e)},o=r;return n.forEach(function(t){if(_(t)){var n=c(t,e,!1);n.language=t,n.relevance>o.relevance&&(o=n),n.relevance>r.relevance&&(o=r,r=n)}}),o.language&&(r.second_best=o),r}function d(e){return w.tabReplace&&(e=e.replace(/^((<[^>]+>|\t)+)/gm,function(e,t){return t.replace(/\t/g,w.tabReplace);
})),w.useBR&&(e=e.replace(/\n/g,"<br>")),e}function h(e,t,n){var r=t?x[t]:n,o=[e.trim()];return e.match(/\bhljs\b/)||o.push("hljs"),-1===e.indexOf(r)&&o.push(r),o.join(" ").trim()}function f(e){var t=i(e);if(!o(t)){var n;w.useBR?(n=document.createElementNS("http://www.w3.org/1999/xhtml","div"),n.innerHTML=e.innerHTML.replace(/\n/g,"").replace(/<br[ \/]*>/g,"\n")):n=e;var r=n.textContent,s=t?c(t,r,!0):p(r),l=a(n);if(l.length){var f=document.createElementNS("http://www.w3.org/1999/xhtml","div");f.innerHTML=s.value,s.value=u(l,a(f),r)}s.value=d(s.value),e.innerHTML=s.value,e.className=h(e.className,t,s.language),e.result={language:s.language,re:s.relevance},s.second_best&&(e.second_best={language:s.second_best.language,re:s.second_best.relevance})}}function m(e){w=s(w,e)}function g(){if(!g.called){g.called=!0;var e=document.querySelectorAll("pre code");Array.prototype.forEach.call(e,f)}}function v(){addEventListener("DOMContentLoaded",g,!1),addEventListener("load",g,!1)}function b(t,n){var r=k[t]=n(e);r.aliases&&r.aliases.forEach(function(e){
x[e]=t})}function y(){return Object.keys(k)}function _(e){return e=e.toLowerCase(),k[e]||k[x[e]]}var w={classPrefix:"hljs-",tabReplace:null,useBR:!1,languages:void 0},k={},x={};return e.highlight=c,e.highlightAuto=p,e.fixMarkup=d,e.highlightBlock=f,e.configure=m,e.initHighlighting=g,e.initHighlightingOnLoad=v,e.registerLanguage=b,e.listLanguages=y,e.getLanguage=_,e.inherit=s,e.IDENT_RE="[a-zA-Z]\\w*",e.UNDERSCORE_IDENT_RE="[a-zA-Z_]\\w*",e.NUMBER_RE="\\b\\d+(\\.\\d+)?",e.C_NUMBER_RE="(\\b0[xX][a-fA-F0-9]+|(\\b\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)",e.BINARY_NUMBER_RE="\\b(0b[01]+)",e.RE_STARTERS_RE="!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~",e.BACKSLASH_ESCAPE={begin:"\\\\[\\s\\S]",relevance:0},e.APOS_STRING_MODE={className:"string",begin:"'",end:"'",illegal:"\\n",contains:[e.BACKSLASH_ESCAPE]},e.QUOTE_STRING_MODE={className:"string",begin:'"',end:'"',illegal:"\\n",contains:[e.BACKSLASH_ESCAPE]},e.PHRASAL_WORDS_MODE={
begin:/\b(a|an|the|are|I|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such)\b/},e.COMMENT=function(t,n,r){var o=e.inherit({className:"comment",begin:t,end:n,contains:[]},r||{});return o.contains.push(e.PHRASAL_WORDS_MODE),o.contains.push({className:"doctag",begin:"(?:TODO|FIXME|NOTE|BUG|XXX):",relevance:0}),o},e.C_LINE_COMMENT_MODE=e.COMMENT("//","$"),e.C_BLOCK_COMMENT_MODE=e.COMMENT("/\\*","\\*/"),e.HASH_COMMENT_MODE=e.COMMENT("#","$"),e.NUMBER_MODE={className:"number",begin:e.NUMBER_RE,relevance:0},e.C_NUMBER_MODE={className:"number",begin:e.C_NUMBER_RE,relevance:0},e.BINARY_NUMBER_MODE={className:"number",begin:e.BINARY_NUMBER_RE,relevance:0},e.CSS_NUMBER_MODE={className:"number",begin:e.NUMBER_RE+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},e.REGEXP_MODE={className:"regexp",begin:/\//,end:/\/[gimuy]*/,illegal:/\n/,contains:[e.BACKSLASH_ESCAPE,{begin:/\[/,end:/\]/,relevance:0,contains:[e.BACKSLASH_ESCAPE]
}]},e.TITLE_MODE={className:"title",begin:e.IDENT_RE,relevance:0},e.UNDERSCORE_TITLE_MODE={className:"title",begin:e.UNDERSCORE_IDENT_RE,relevance:0},e})},{}],554:[function(e,t,n){t.exports=function(e){var t={className:"number",begin:"[\\$%]\\d+"};return{aliases:["apacheconf"],case_insensitive:!0,contains:[e.HASH_COMMENT_MODE,{className:"tag",begin:"</?",end:">"},{className:"keyword",begin:/\w+/,relevance:0,keywords:{common:"order deny allow setenv rewriterule rewriteengine rewritecond documentroot sethandler errordocument loadmodule options header listen serverroot servername"},starts:{end:/$/,relevance:0,keywords:{literal:"on off all"},contains:[{className:"sqbracket",begin:"\\s\\[",end:"\\]$"},{className:"cbracket",begin:"[\\$%]\\{",end:"\\}",contains:["self",t]},t,e.QUOTE_STRING_MODE]}}],illegal:/\S/}}},{}],555:[function(e,t,n){t.exports=function(e){var t={className:"variable",variants:[{begin:/\$[\w\d#@][\w\d_]*/},{begin:/\$\{(.*?)}/}]},n={className:"string",begin:/"/,end:/"/,contains:[e.BACKSLASH_ESCAPE,t,{
className:"variable",begin:/\$\(/,end:/\)/,contains:[e.BACKSLASH_ESCAPE]}]},r={className:"string",begin:/'/,end:/'/};return{aliases:["sh","zsh"],lexemes:/-?[a-z\.]+/,keywords:{keyword:"if then else elif fi for while in do done case esac function",literal:"true false",built_in:"break cd continue eval exec exit export getopts hash pwd readonly return shift test times trap umask unset alias bind builtin caller command declare echo enable help let local logout mapfile printf read readarray source type typeset ulimit unalias set shopt autoload bg bindkey bye cap chdir clone comparguments compcall compctl compdescribe compfiles compgroups compquote comptags comptry compvalues dirs disable disown echotc echoti emulate fc fg float functions getcap getln history integer jobs kill limit log noglob popd print pushd pushln rehash sched setcap setopt stat suspend ttyctl unfunction unhash unlimit unsetopt vared wait whence where which zcompile zformat zftp zle zmodload zparseopts zprof zpty zregexparse zsocket zstyle ztcp",
operator:"-ne -eq -lt -gt -f -d -e -s -l -a"},contains:[{className:"shebang",begin:/^#![^\n]+sh\s*$/,relevance:10},{className:"function",begin:/\w[\w\d_]*\s*\(\s*\)\s*\{/,returnBegin:!0,contains:[e.inherit(e.TITLE_MODE,{begin:/\w[\w\d_]*/})],relevance:0},e.HASH_COMMENT_MODE,e.NUMBER_MODE,n,r,t]}}},{}],556:[function(e,t,n){t.exports=function(e){var t={built_in:"def defonce cond apply if-not if-let if not not= = < > <= >= == + / * - rem quot neg? pos? delay? symbol? keyword? true? false? integer? empty? coll? list? set? ifn? fn? associative? sequential? sorted? counted? reversible? number? decimal? class? distinct? isa? float? rational? reduced? ratio? odd? even? char? seq? vector? string? map? nil? contains? zero? instance? not-every? not-any? libspec? -> ->> .. . inc compare do dotimes mapcat take remove take-while drop letfn drop-last take-last drop-while while intern condp case reduced cycle split-at split-with repeat replicate iterate range merge zipmap declare line-seq sort comparator sort-by dorun doall nthnext nthrest partition eval doseq await await-for let agent atom send send-off release-pending-sends add-watch mapv filterv remove-watch agent-error restart-agent set-error-handler error-handler set-error-mode! error-mode shutdown-agents quote var fn loop recur throw try monitor-enter monitor-exit defmacro defn defn- macroexpand macroexpand-1 for dosync and or when when-not when-let comp juxt partial sequence memoize constantly complement identity assert peek pop doto proxy defstruct first rest cons defprotocol cast coll deftype defrecord last butlast sigs reify second ffirst fnext nfirst nnext defmulti defmethod meta with-meta ns in-ns create-ns import refer keys select-keys vals key val rseq name namespace promise into transient persistent! conj! assoc! dissoc! pop! disj! use class type num float double short byte boolean bigint biginteger bigdec print-method print-dup throw-if printf format load compile get-in update-in pr pr-on newline flush read slurp read-line subvec with-open memfn time re-find re-groups rand-int rand mod locking assert-valid-fdecl alias resolve ref deref refset swap! reset! set-validator! compare-and-set! alter-meta! reset-meta! commute get-validator alter ref-set ref-history-count ref-min-history ref-max-history ensure sync io! new next conj set! to-array future future-call into-array aset gen-class reduce map filter find empty hash-map hash-set sorted-map sorted-map-by sorted-set sorted-set-by vec vector seq flatten reverse assoc dissoc list disj get union difference intersection extend extend-type extend-protocol int nth delay count concat chunk chunk-buffer chunk-append chunk-first chunk-rest max min dec unchecked-inc-int unchecked-inc unchecked-dec-inc unchecked-dec unchecked-negate unchecked-add-int unchecked-add unchecked-subtract-int unchecked-subtract chunk-next chunk-cons chunked-seq? prn vary-meta lazy-seq spread list* str find-keyword keyword symbol gensym force rationalize"
},n="a-zA-Z_\\-!.?+*=<>&#'",r="["+n+"]["+n+"0-9/;:]*",o="[-+]?\\d+(\\.\\d+)?",i={begin:r,relevance:0},s={className:"number",begin:o,relevance:0},a=e.inherit(e.QUOTE_STRING_MODE,{illegal:null}),u=e.COMMENT(";","$",{relevance:0}),l={className:"literal",begin:/\b(true|false|nil)\b/},c={className:"collection",begin:"[\\[\\{]",end:"[\\]\\}]"},p={className:"comment",begin:"\\^"+r},d=e.COMMENT("\\^\\{","\\}"),h={className:"attribute",begin:"[:]"+r},f={className:"list",begin:"\\(",end:"\\)"},m={endsWithParent:!0,relevance:0},g={keywords:t,lexemes:r,className:"keyword",begin:r,starts:m},v=[f,a,p,d,u,h,c,s,l,i];return f.contains=[e.COMMENT("comment",""),g,m],m.contains=v,c.contains=v,{aliases:["clj"],illegal:/\S/,contains:[f,a,p,d,u,h,c,s,l]}}},{}],557:[function(e,t,n){t.exports=function(e){var t={keyword:"in if for while finally new do return else break catch instanceof throw try this switch continue typeof delete debugger super then unless until loop of by when and or is isnt not",literal:"true false null undefined yes no on off",
built_in:"npm require console print module global window document"},n="[A-Za-z$_][0-9A-Za-z$_]*",r={className:"subst",begin:/#\{/,end:/}/,keywords:t},o=[e.BINARY_NUMBER_MODE,e.inherit(e.C_NUMBER_MODE,{starts:{end:"(\\s*/)?",relevance:0}}),{className:"string",variants:[{begin:/'''/,end:/'''/,contains:[e.BACKSLASH_ESCAPE]},{begin:/'/,end:/'/,contains:[e.BACKSLASH_ESCAPE]},{begin:/"""/,end:/"""/,contains:[e.BACKSLASH_ESCAPE,r]},{begin:/"/,end:/"/,contains:[e.BACKSLASH_ESCAPE,r]}]},{className:"regexp",variants:[{begin:"///",end:"///",contains:[r,e.HASH_COMMENT_MODE]},{begin:"//[gim]*",relevance:0},{begin:/\/(?![ *])(\\\/|.)*?\/[gim]*(?=\W|$)/}]},{className:"property",begin:"@"+n},{begin:"`",end:"`",excludeBegin:!0,excludeEnd:!0,subLanguage:"javascript"}];r.contains=o;var i=e.inherit(e.TITLE_MODE,{begin:n}),s="(\\(.*\\))?\\s*\\B[-=]>",a={className:"params",begin:"\\([^\\(]",returnBegin:!0,contains:[{begin:/\(/,end:/\)/,keywords:t,contains:["self"].concat(o)}]};return{aliases:["coffee","cson","iced"],keywords:t,illegal:/\/\*/,
contains:o.concat([e.COMMENT("###","###"),e.HASH_COMMENT_MODE,{className:"function",begin:"^\\s*"+n+"\\s*=\\s*"+s,end:"[-=]>",returnBegin:!0,contains:[i,a]},{begin:/[:\(,=]\s*/,relevance:0,contains:[{className:"function",begin:s,end:"[-=]>",returnBegin:!0,contains:[a]}]},{className:"class",beginKeywords:"class",end:"$",illegal:/[:="\[\]]/,contains:[{beginKeywords:"extends",endsWithParent:!0,illegal:/[:="\[\]]/,contains:[i]},i]},{className:"attribute",begin:n+":",end:":",returnBegin:!0,returnEnd:!0,relevance:0}])}}},{}],558:[function(e,t,n){t.exports=function(e){var t={className:"keyword",begin:"\\b[a-z\\d_]*_t\\b"},n={className:"string",variants:[e.inherit(e.QUOTE_STRING_MODE,{begin:'((u8?|U)|L)?"'}),{begin:'(u8?|U)?R"',end:'"',contains:[e.BACKSLASH_ESCAPE]},{begin:"'\\\\?.",end:"'",illegal:"."}]},r={className:"number",variants:[{begin:"\\b(\\d+(\\.\\d*)?|\\.\\d+)(u|U|l|L|ul|UL|f|F)"},{begin:e.C_NUMBER_RE}]},o={className:"preprocessor",begin:"#",end:"$",keywords:"if else elif endif define undef warning error line pragma ifdef ifndef",
contains:[{begin:/\\\n/,relevance:0},{beginKeywords:"include",end:"$",contains:[n,{className:"string",begin:"<",end:">",illegal:"\\n"}]},n,r,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},i=e.IDENT_RE+"\\s*\\(",s={keyword:"int float while private char catch export virtual operator sizeof dynamic_cast|10 typedef const_cast|10 const struct for static_cast|10 union namespace unsigned long volatile static protected bool template mutable if public friend do goto auto void enum else break extern using class asm case typeid short reinterpret_cast|10 default double register explicit signed typename try this switch continue inline delete alignof constexpr decltype noexcept static_assert thread_local restrict _Bool complex _Complex _Imaginary atomic_bool atomic_char atomic_schar atomic_uchar atomic_short atomic_ushort atomic_int atomic_uint atomic_long atomic_ulong atomic_llong atomic_ullong",built_in:"std string cin cout cerr clog stdin stdout stderr stringstream istringstream ostringstream auto_ptr deque list queue stack vector map set bitset multiset multimap unordered_set unordered_map unordered_multiset unordered_multimap array shared_ptr abort abs acos asin atan2 atan calloc ceil cosh cos exit exp fabs floor fmod fprintf fputs free frexp fscanf isalnum isalpha iscntrl isdigit isgraph islower isprint ispunct isspace isupper isxdigit tolower toupper labs ldexp log10 log malloc realloc memchr memcmp memcpy memset modf pow printf putchar puts scanf sinh sin snprintf sprintf sqrt sscanf strcat strchr strcmp strcpy strcspn strlen strncat strncmp strncpy strpbrk strrchr strspn strstr tanh tan vfprintf vprintf vsprintf",
literal:"true false nullptr NULL"};return{aliases:["c","cc","h","c++","h++","hpp"],keywords:s,illegal:"</",contains:[t,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,r,n,o,{begin:"\\b(deque|list|queue|stack|vector|map|set|bitset|multiset|multimap|unordered_map|unordered_set|unordered_multiset|unordered_multimap|array)\\s*<",end:">",keywords:s,contains:["self",t]},{begin:e.IDENT_RE+"::",keywords:s},{beginKeywords:"new throw return else",relevance:0},{className:"function",begin:"("+e.IDENT_RE+"[\\*&\\s]+)+"+i,returnBegin:!0,end:/[{;=]/,excludeEnd:!0,keywords:s,illegal:/[^\w\s\*&]/,contains:[{begin:i,returnBegin:!0,contains:[e.TITLE_MODE],relevance:0},{className:"params",begin:/\(/,end:/\)/,keywords:s,relevance:0,contains:[e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,n,r]},e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,o]}]}}},{}],559:[function(e,t,n){t.exports=function(e){var t="abstract as base bool break byte case catch char checked const continue decimal dynamic default delegate do double else enum event explicit extern false finally fixed float for foreach goto if implicit in int interface internal is lock long null when object operator out override params private protected public readonly ref sbyte sealed short sizeof stackalloc static string struct switch this true try typeof uint ulong unchecked unsafe ushort using virtual volatile void while async protected public private internal ascending descending from get group into join let orderby partial select set value var where yield",n=e.IDENT_RE+"(<"+e.IDENT_RE+">)?";
return{aliases:["csharp"],keywords:t,illegal:/::/,contains:[e.COMMENT("///","$",{returnBegin:!0,contains:[{className:"xmlDocTag",variants:[{begin:"///",relevance:0},{begin:"<!--|-->"},{begin:"</?",end:">"}]}]}),e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,{className:"preprocessor",begin:"#",end:"$",keywords:"if else elif endif define undef warning error line region endregion pragma checksum"},{className:"string",begin:'@"',end:'"',contains:[{begin:'""'}]},e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,e.C_NUMBER_MODE,{beginKeywords:"class interface",end:/[{;=]/,illegal:/[^\s:]/,contains:[e.TITLE_MODE,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},{beginKeywords:"namespace",end:/[{;=]/,illegal:/[^\s:]/,contains:[{className:"title",begin:"[a-zA-Z](\\.?\\w)*",relevance:0},e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},{beginKeywords:"new return throw await",relevance:0},{className:"function",begin:"("+n+"\\s+)+"+e.IDENT_RE+"\\s*\\(",returnBegin:!0,end:/[{;=]/,excludeEnd:!0,keywords:t,contains:[{begin:e.IDENT_RE+"\\s*\\(",
returnBegin:!0,contains:[e.TITLE_MODE],relevance:0},{className:"params",begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:t,relevance:0,contains:[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,e.C_NUMBER_MODE,e.C_BLOCK_COMMENT_MODE]},e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]}]}}},{}],560:[function(e,t,n){t.exports=function(e){var t="[a-zA-Z-][a-zA-Z0-9_-]*",n={className:"function",begin:t+"\\(",returnBegin:!0,excludeEnd:!0,end:"\\("},r={className:"rule",begin:/[A-Z\_\.\-]+\s*:/,returnBegin:!0,end:";",endsWithParent:!0,contains:[{className:"attribute",begin:/\S/,end:":",excludeEnd:!0,starts:{className:"value",endsWithParent:!0,excludeEnd:!0,contains:[n,e.CSS_NUMBER_MODE,e.QUOTE_STRING_MODE,e.APOS_STRING_MODE,e.C_BLOCK_COMMENT_MODE,{className:"hexcolor",begin:"#[0-9A-Fa-f]+"},{className:"important",begin:"!important"}]}}]};return{case_insensitive:!0,illegal:/[=\/|'\$]/,contains:[e.C_BLOCK_COMMENT_MODE,r,{className:"id",begin:/\#[A-Za-z0-9_-]+/},{className:"class",begin:/\.[A-Za-z0-9_-]+/},{className:"attr_selector",
begin:/\[/,end:/\]/,illegal:"$"},{className:"pseudo",begin:/:(:)?[a-zA-Z0-9\_\-\+\(\)"']+/},{className:"at_rule",begin:"@(font-face|page)",lexemes:"[a-z-]+",keywords:"font-face page"},{className:"at_rule",begin:"@",end:"[{;]",contains:[{className:"keyword",begin:/\S+/},{begin:/\s/,endsWithParent:!0,excludeEnd:!0,relevance:0,contains:[n,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,e.CSS_NUMBER_MODE]}]},{className:"tag",begin:t,relevance:0},{className:"rules",begin:"{",end:"}",illegal:/\S/,contains:[e.C_BLOCK_COMMENT_MODE,r]}]}}},{}],561:[function(e,t,n){t.exports=function(e){return{aliases:["patch"],contains:[{className:"chunk",relevance:10,variants:[{begin:/^@@ +\-\d+,\d+ +\+\d+,\d+ +@@$/},{begin:/^\*\*\* +\d+,\d+ +\*\*\*\*$/},{begin:/^\-\-\- +\d+,\d+ +\-\-\-\-$/}]},{className:"header",variants:[{begin:/Index: /,end:/$/},{begin:/=====/,end:/=====$/},{begin:/^\-\-\-/,end:/$/},{begin:/^\*{3} /,end:/$/},{begin:/^\+\+\+/,end:/$/},{begin:/\*{5}/,end:/\*{5}$/}]},{className:"addition",begin:"^\\+",end:"$"},{className:"deletion",
begin:"^\\-",end:"$"},{className:"change",begin:"^\\!",end:"$"}]}}},{}],562:[function(e,t,n){t.exports=function(e){return{subLanguage:"xml",contains:[e.COMMENT("<%#","%>"),{begin:"<%[%=-]?",end:"[%-]?%>",subLanguage:"ruby",excludeBegin:!0,excludeEnd:!0}]}}},{}],563:[function(e,t,n){t.exports=function(e){var t={keyword:"break default func interface select case map struct chan else goto package switch const fallthrough if range type continue for import return var go defer",constant:"true false iota nil",typename:"bool byte complex64 complex128 float32 float64 int8 int16 int32 int64 string uint8 uint16 uint32 uint64 int uint uintptr rune",built_in:"append cap close complex copy imag len make new panic print println real recover delete"};return{aliases:["golang"],keywords:t,illegal:"</",contains:[e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,e.QUOTE_STRING_MODE,{className:"string",begin:"'",end:"[^\\\\]'"},{className:"string",begin:"`",end:"`"},{className:"number",begin:e.C_NUMBER_RE+"[dflsi]?",relevance:0},e.C_NUMBER_MODE]
}}},{}],564:[function(e,t,n){t.exports=function(e){return{case_insensitive:!0,contains:[{className:"doctype",begin:"^!!!( (5|1\\.1|Strict|Frameset|Basic|Mobile|RDFa|XML\\b.*))?$",relevance:10},e.COMMENT("^\\s*(!=#|=#|-#|/).*$",!1,{relevance:0}),{begin:"^\\s*(-|=|!=)(?!#)",starts:{end:"\\n",subLanguage:"ruby"}},{className:"tag",begin:"^\\s*%",contains:[{className:"title",begin:"\\w+"},{className:"value",begin:"[#\\.][\\w-]+"},{begin:"{\\s*",end:"\\s*}",excludeEnd:!0,contains:[{begin:":\\w+\\s*=>",end:",\\s+",returnBegin:!0,endsWithParent:!0,contains:[{className:"symbol",begin:":\\w+"},e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,{begin:"\\w+",relevance:0}]}]},{begin:"\\(\\s*",end:"\\s*\\)",excludeEnd:!0,contains:[{begin:"\\w+\\s*=",end:"\\s+",returnBegin:!0,endsWithParent:!0,contains:[{className:"attribute",begin:"\\w+",relevance:0},e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,{begin:"\\w+",relevance:0}]}]}]},{className:"bullet",begin:"^\\s*[=~]\\s*",relevance:0},{begin:"#{",starts:{end:"}",subLanguage:"ruby"}}]}}},{}],565:[function(e,t,n){
t.exports=function(e){var t=[e.COMMENT("--","$"),e.COMMENT("{-","-}",{contains:["self"]})],n={className:"pragma",begin:"{-#",end:"#-}"},r={className:"preprocessor",begin:"^#",end:"$"},o={className:"type",begin:"\\b[A-Z][\\w']*",relevance:0},i={className:"container",begin:"\\(",end:"\\)",illegal:'"',contains:[n,r,{className:"type",begin:"\\b[A-Z][\\w]*(\\((\\.\\.|,|\\w+)\\))?"},e.inherit(e.TITLE_MODE,{begin:"[_a-z][\\w']*"})].concat(t)},s={className:"container",begin:"{",end:"}",contains:i.contains};return{aliases:["hs"],keywords:"let in if then else case of where do module import hiding qualified type data newtype deriving class instance as default infix infixl infixr foreign export ccall stdcall cplusplus jvm dotnet safe unsafe family forall mdo proc rec",contains:[{className:"module",begin:"\\bmodule\\b",end:"where",keywords:"module where",contains:[i].concat(t),illegal:"\\W\\.|;"},{className:"import",begin:"\\bimport\\b",end:"$",keywords:"import|0 qualified as hiding",contains:[i].concat(t),illegal:"\\W\\.|;"
},{className:"class",begin:"^(\\s*)?(class|instance)\\b",end:"where",keywords:"class family instance where",contains:[o,i].concat(t)},{className:"typedef",begin:"\\b(data|(new)?type)\\b",end:"$",keywords:"data family type newtype deriving",contains:[n,o,i,s].concat(t)},{className:"default",beginKeywords:"default",end:"$",contains:[o,i].concat(t)},{className:"infix",beginKeywords:"infix infixl infixr",end:"$",contains:[e.C_NUMBER_MODE].concat(t)},{className:"foreign",begin:"\\bforeign\\b",end:"$",keywords:"foreign import export ccall stdcall cplusplus jvm dotnet safe unsafe",contains:[o,e.QUOTE_STRING_MODE].concat(t)},{className:"shebang",begin:"#!\\/usr\\/bin\\/env runhaskell",end:"$"},n,r,e.QUOTE_STRING_MODE,e.C_NUMBER_MODE,o,e.inherit(e.TITLE_MODE,{begin:"^[_a-z][\\w']*"}),{begin:"->|<-"}].concat(t)}}},{}],566:[function(e,t,n){t.exports=function(e){return{aliases:["https"],illegal:"\\S",contains:[{className:"status",begin:"^HTTP/[0-9\\.]+",end:"$",contains:[{className:"number",begin:"\\b\\d{3}\\b"}]},{className:"request",
begin:"^[A-Z]+ (.*?) HTTP/[0-9\\.]+$",returnBegin:!0,end:"$",contains:[{className:"string",begin:" ",end:" ",excludeBegin:!0,excludeEnd:!0}]},{className:"attribute",begin:"^\\w",end:": ",excludeEnd:!0,illegal:"\\n|\\s|=",starts:{className:"string",end:"$"}},{begin:"\\n\\n",starts:{subLanguage:[],endsWithParent:!0}}]}}},{}],567:[function(e,t,n){t.exports=function(e){var t={className:"string",contains:[e.BACKSLASH_ESCAPE],variants:[{begin:"'''",end:"'''",relevance:10},{begin:'"""',end:'"""',relevance:10},{begin:'"',end:'"'},{begin:"'",end:"'"}]};return{aliases:["toml"],case_insensitive:!0,illegal:/\S/,contains:[e.COMMENT(";","$"),e.HASH_COMMENT_MODE,{className:"title",begin:/^\s*\[+/,end:/\]+/},{className:"setting",begin:/^[a-z0-9\[\]_-]+\s*=\s*/,end:"$",contains:[{className:"value",endsWithParent:!0,keywords:"on off true false yes no",contains:[{className:"variable",variants:[{begin:/\$[\w\d"][\w\d_]*/},{begin:/\$\{(.*?)}/}]},t,{className:"number",begin:/([\+\-]+)?[\d]+_[\d_]+/},e.NUMBER_MODE],relevance:0}]}]}};
},{}],568:[function(e,t,n){t.exports=function(e){var t=e.UNDERSCORE_IDENT_RE+"(<"+e.UNDERSCORE_IDENT_RE+">)?",n="false synchronized int abstract float private char boolean static null if const for true while long strictfp finally protected import native final void enum else break transient catch instanceof byte super volatile case assert short package default double public try this switch continue throws protected public private",r="\\b(0[bB]([01]+[01_]+[01]+|[01]+)|0[xX]([a-fA-F0-9]+[a-fA-F0-9_]+[a-fA-F0-9]+|[a-fA-F0-9]+)|(([\\d]+[\\d_]+[\\d]+|[\\d]+)(\\.([\\d]+[\\d_]+[\\d]+|[\\d]+))?|\\.([\\d]+[\\d_]+[\\d]+|[\\d]+))([eE][-+]?\\d+)?)[lLfF]?",o={className:"number",begin:r,relevance:0};return{aliases:["jsp"],keywords:n,illegal:/<\/|#/,contains:[e.COMMENT("/\\*\\*","\\*/",{relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"}]}),e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,{className:"class",beginKeywords:"class interface",end:/[{;=]/,excludeEnd:!0,keywords:"class interface",
illegal:/[:"\[\]]/,contains:[{beginKeywords:"extends implements"},e.UNDERSCORE_TITLE_MODE]},{beginKeywords:"new throw return else",relevance:0},{className:"function",begin:"("+t+"\\s+)+"+e.UNDERSCORE_IDENT_RE+"\\s*\\(",returnBegin:!0,end:/[{;=]/,excludeEnd:!0,keywords:n,contains:[{begin:e.UNDERSCORE_IDENT_RE+"\\s*\\(",returnBegin:!0,relevance:0,contains:[e.UNDERSCORE_TITLE_MODE]},{className:"params",begin:/\(/,end:/\)/,keywords:n,relevance:0,contains:[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,e.C_NUMBER_MODE,e.C_BLOCK_COMMENT_MODE]},e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},o,{className:"annotation",begin:"@[A-Za-z]+"}]}}},{}],569:[function(e,t,n){t.exports=function(e){return{aliases:["js"],keywords:{keyword:"in of if for while finally var new function do return void else break catch instanceof with throw case default try this switch continue typeof delete let yield const export super debugger as async await",literal:"true false null undefined NaN Infinity",built_in:"eval isFinite isNaN parseFloat parseInt decodeURI decodeURIComponent encodeURI encodeURIComponent escape unescape Object Function Boolean Error EvalError InternalError RangeError ReferenceError StopIteration SyntaxError TypeError URIError Number Math Date String RegExp Array Float32Array Float64Array Int16Array Int32Array Int8Array Uint16Array Uint32Array Uint8Array Uint8ClampedArray ArrayBuffer DataView JSON Intl arguments require module console window document Symbol Set Map WeakSet WeakMap Proxy Reflect Promise"
},contains:[{className:"pi",relevance:10,begin:/^\s*['"]use (strict|asm)['"]/},e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,{className:"string",begin:"`",end:"`",contains:[e.BACKSLASH_ESCAPE,{className:"subst",begin:"\\$\\{",end:"\\}"}]},e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,{className:"number",variants:[{begin:"\\b(0[bB][01]+)"},{begin:"\\b(0[oO][0-7]+)"},{begin:e.C_NUMBER_RE}],relevance:0},{begin:"("+e.RE_STARTERS_RE+"|\\b(case|return|throw)\\b)\\s*",keywords:"return throw case",contains:[e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,e.REGEXP_MODE,{begin:/</,end:/>\s*[);\]]/,relevance:0,subLanguage:"xml"}],relevance:0},{className:"function",beginKeywords:"function",end:/\{/,excludeEnd:!0,contains:[e.inherit(e.TITLE_MODE,{begin:/[A-Za-z$_][0-9A-Za-z$_]*/}),{className:"params",begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,contains:[e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]}],illegal:/\[|%/},{begin:/\$[(.]/},{begin:"\\."+e.IDENT_RE,relevance:0},{beginKeywords:"import",end:"[;$]",keywords:"import from as",
contains:[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE]},{className:"class",beginKeywords:"class",end:/[{;=]/,excludeEnd:!0,illegal:/[:"\[\]]/,contains:[{beginKeywords:"extends"},e.UNDERSCORE_TITLE_MODE]}],illegal:/#/}}},{}],570:[function(e,t,n){t.exports=function(e){var t={literal:"true false null"},n=[e.QUOTE_STRING_MODE,e.C_NUMBER_MODE],r={className:"value",end:",",endsWithParent:!0,excludeEnd:!0,contains:n,keywords:t},o={begin:"{",end:"}",contains:[{className:"attribute",begin:'\\s*"',end:'"\\s*:\\s*',excludeBegin:!0,excludeEnd:!0,contains:[e.BACKSLASH_ESCAPE],illegal:"\\n",starts:r}],illegal:"\\S"},i={begin:"\\[",end:"\\]",contains:[e.inherit(r,{className:null})],illegal:"\\S"};return n.splice(n.length,0,o,i),{contains:n,keywords:t,illegal:"\\S"}}},{}],571:[function(e,t,n){t.exports=function(e){var t="[a-zA-Z_\\-\\+\\*\\/\\<\\=\\>\\&\\#][a-zA-Z0-9_\\-\\+\\*\\/\\<\\=\\>\\&\\#!]*",n="\\|[^]*?\\|",r="(\\-|\\+)?\\d+(\\.\\d+|\\/\\d+)?((d|e|f|l|s|D|E|F|L|S)(\\+|\\-)?\\d+)?",o={className:"shebang",begin:"^#!",end:"$"},i={
className:"literal",begin:"\\b(t{1}|nil)\\b"},s={className:"number",variants:[{begin:r,relevance:0},{begin:"#(b|B)[0-1]+(/[0-1]+)?"},{begin:"#(o|O)[0-7]+(/[0-7]+)?"},{begin:"#(x|X)[0-9a-fA-F]+(/[0-9a-fA-F]+)?"},{begin:"#(c|C)\\("+r+" +"+r,end:"\\)"}]},a=e.inherit(e.QUOTE_STRING_MODE,{illegal:null}),u=e.COMMENT(";","$",{relevance:0}),l={className:"variable",begin:"\\*",end:"\\*"},c={className:"keyword",begin:"[:&]"+t},p={begin:t,relevance:0},d={begin:n},h={begin:"\\(",end:"\\)",contains:["self",i,a,s,p]},f={className:"quoted",contains:[s,a,l,c,h,p],variants:[{begin:"['`]\\(",end:"\\)"},{begin:"\\(quote ",end:"\\)",keywords:"quote"},{begin:"'"+n}]},m={className:"quoted",variants:[{begin:"'"+t},{begin:"#'"+t+"(::"+t+")*"}]},g={className:"list",begin:"\\(\\s*",end:"\\)"},v={endsWithParent:!0,relevance:0};return g.contains=[{className:"keyword",variants:[{begin:t},{begin:n}]},v],v.contains=[f,m,g,i,s,a,u,l,c,d,p],{illegal:/\S/,contains:[s,o,i,a,u,f,m,g,p]}}},{}],572:[function(e,t,n){t.exports=function(e){var t="\\[=*\\[",n="\\]=*\\]",r={
begin:t,end:n,contains:["self"]},o=[e.COMMENT("--(?!"+t+")","$"),e.COMMENT("--"+t,n,{contains:[r],relevance:10})];return{lexemes:e.UNDERSCORE_IDENT_RE,keywords:{keyword:"and break do else elseif end false for if in local nil not or repeat return then true until while",built_in:"_G _VERSION assert collectgarbage dofile error getfenv getmetatable ipairs load loadfile loadstring module next pairs pcall print rawequal rawget rawset require select setfenv setmetatable tonumber tostring type unpack xpcall coroutine debug io math os package string table"},contains:o.concat([{className:"function",beginKeywords:"function",end:"\\)",contains:[e.inherit(e.TITLE_MODE,{begin:"([_a-zA-Z]\\w*\\.)*([_a-zA-Z]\\w*:)?[_a-zA-Z]\\w*"}),{className:"params",begin:"\\(",endsWithParent:!0,contains:o}].concat(o)},e.C_NUMBER_MODE,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,{className:"string",begin:t,end:n,contains:[r],relevance:5}])}}},{}],573:[function(e,t,n){t.exports=function(e){var t={className:"variable",begin:/\$\(/,end:/\)/,contains:[e.BACKSLASH_ESCAPE]
};return{aliases:["mk","mak"],contains:[e.HASH_COMMENT_MODE,{begin:/^\w+\s*\W*=/,returnBegin:!0,relevance:0,starts:{className:"constant",end:/\s*\W*=/,excludeEnd:!0,starts:{end:/$/,relevance:0,contains:[t]}}},{className:"title",begin:/^[\w]+:\s*$/},{className:"phony",begin:/^\.PHONY:/,end:/$/,keywords:".PHONY",lexemes:/[\.\w]+/},{begin:/^\t+/,end:/$/,relevance:0,contains:[e.QUOTE_STRING_MODE,t]}]}}},{}],574:[function(e,t,n){t.exports=function(e){return{aliases:["md","mkdown","mkd"],contains:[{className:"header",variants:[{begin:"^#{1,6}",end:"$"},{begin:"^.+?\\n[=-]{2,}$"}]},{begin:"<",end:">",subLanguage:"xml",relevance:0},{className:"bullet",begin:"^([*+-]|(\\d+\\.))\\s+"},{className:"strong",begin:"[*_]{2}.+?[*_]{2}"},{className:"emphasis",variants:[{begin:"\\*.+?\\*"},{begin:"_.+?_",relevance:0}]},{className:"blockquote",begin:"^>\\s+",end:"$"},{className:"code",variants:[{begin:"`.+?`"},{begin:"^( {4}|	)",end:"$",relevance:0}]},{className:"horizontal_rule",begin:"^[-\\*]{3,}",end:"$"},{begin:"\\[.+?\\][\\(\\[].*?[\\)\\]]",
returnBegin:!0,contains:[{className:"link_label",begin:"\\[",end:"\\]",excludeBegin:!0,returnEnd:!0,relevance:0},{className:"link_url",begin:"\\]\\(",end:"\\)",excludeBegin:!0,excludeEnd:!0},{className:"link_reference",begin:"\\]\\[",end:"\\]",excludeBegin:!0,excludeEnd:!0}],relevance:10},{begin:"^\\[.+\\]:",returnBegin:!0,contains:[{className:"link_reference",begin:"\\[",end:"\\]:",excludeBegin:!0,excludeEnd:!0,starts:{className:"link_url",end:"$"}}]}]}}},{}],575:[function(e,t,n){t.exports=function(e){var t={className:"variable",variants:[{begin:/\$\d+/},{begin:/\$\{/,end:/}/},{begin:"[\\$\\@]"+e.UNDERSCORE_IDENT_RE}]},n={endsWithParent:!0,lexemes:"[a-z/_]+",keywords:{built_in:"on off yes no true false none blocked debug info notice warn error crit select break last permanent redirect kqueue rtsig epoll poll /dev/poll"},relevance:0,illegal:"=>",contains:[e.HASH_COMMENT_MODE,{className:"string",contains:[e.BACKSLASH_ESCAPE,t],variants:[{begin:/"/,end:/"/},{begin:/'/,end:/'/}]},{className:"url",begin:"([a-z]+):/",
end:"\\s",endsWithParent:!0,excludeEnd:!0,contains:[t]},{className:"regexp",contains:[e.BACKSLASH_ESCAPE,t],variants:[{begin:"\\s\\^",end:"\\s|{|;",returnEnd:!0},{begin:"~\\*?\\s+",end:"\\s|{|;",returnEnd:!0},{begin:"\\*(\\.[a-z\\-]+)+"},{begin:"([a-z\\-]+\\.)+\\*"}]},{className:"number",begin:"\\b\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}(:\\d{1,5})?\\b"},{className:"number",begin:"\\b\\d+[kKmMgGdshdwy]*\\b",relevance:0},t]};return{aliases:["nginxconf"],contains:[e.HASH_COMMENT_MODE,{begin:e.UNDERSCORE_IDENT_RE+"\\s",end:";|{",returnBegin:!0,contains:[{className:"title",begin:e.UNDERSCORE_IDENT_RE,starts:n}],relevance:0}],illegal:"[^\\s\\}]"}}},{}],576:[function(e,t,n){t.exports=function(e){return{aliases:["ml"],keywords:{keyword:"and as assert asr begin class constraint do done downto else end exception external for fun function functor if in include inherit! inherit initializer land lazy let lor lsl lsr lxor match method!|10 method mod module mutable new object of open! open or private rec sig struct then to try type val! val virtual when while with parser value",
built_in:"array bool bytes char exn|5 float int int32 int64 list lazy_t|5 nativeint|5 string unit in_channel out_channel ref",literal:"true false"},illegal:/\/\/|>>/,lexemes:"[a-z_]\\w*!?",contains:[{className:"literal",begin:"\\[(\\|\\|)?\\]|\\(\\)",relevance:0},e.COMMENT("\\(\\*","\\*\\)",{contains:["self"]}),{className:"symbol",begin:"'[A-Za-z_](?!')[\\w']*"},{className:"tag",begin:"`[A-Z][\\w']*"},{className:"type",begin:"\\b[A-Z][\\w']*",relevance:0},{begin:"[a-z_]\\w*'[\\w']*"},e.inherit(e.APOS_STRING_MODE,{className:"char",relevance:0}),e.inherit(e.QUOTE_STRING_MODE,{illegal:null}),{className:"number",begin:"\\b(0[xX][a-fA-F0-9_]+[Lln]?|0[oO][0-7_]+[Lln]?|0[bB][01_]+[Lln]?|[0-9][0-9_]*([Lln]|(\\.[0-9_]*)?([eE][-+]?[0-9_]+)?)?)",relevance:0},{begin:/[-=]>/}]}}},{}],577:[function(e,t,n){t.exports=function(e){var t="getpwent getservent quotemeta msgrcv scalar kill dbmclose undef lc ma syswrite tr send umask sysopen shmwrite vec qx utime local oct semctl localtime readpipe do return format read sprintf dbmopen pop getpgrp not getpwnam rewinddir qqfileno qw endprotoent wait sethostent bless s|0 opendir continue each sleep endgrent shutdown dump chomp connect getsockname die socketpair close flock exists index shmgetsub for endpwent redo lstat msgctl setpgrp abs exit select print ref gethostbyaddr unshift fcntl syscall goto getnetbyaddr join gmtime symlink semget splice x|0 getpeername recv log setsockopt cos last reverse gethostbyname getgrnam study formline endhostent times chop length gethostent getnetent pack getprotoent getservbyname rand mkdir pos chmod y|0 substr endnetent printf next open msgsnd readdir use unlink getsockopt getpriority rindex wantarray hex system getservbyport endservent int chr untie rmdir prototype tell listen fork shmread ucfirst setprotoent else sysseek link getgrgid shmctl waitpid unpack getnetbyname reset chdir grep split require caller lcfirst until warn while values shift telldir getpwuid my getprotobynumber delete and sort uc defined srand accept package seekdir getprotobyname semop our rename seek if q|0 chroot sysread setpwent no crypt getc chown sqrt write setnetent setpriority foreach tie sin msgget map stat getlogin unless elsif truncate exec keys glob tied closedirioctl socket readlink eval xor readline binmode setservent eof ord bind alarm pipe atan2 getgrent exp time push setgrent gt lt or ne m|0 break given say state when",n={
className:"subst",begin:"[$@]\\{",end:"\\}",keywords:t},r={begin:"->{",end:"}"},o={className:"variable",variants:[{begin:/\$\d/},{begin:/[\$%@](\^\w\b|#\w+(::\w+)*|{\w+}|\w+(::\w*)*)/},{begin:/[\$%@][^\s\w{]/,relevance:0}]},i=[e.BACKSLASH_ESCAPE,n,o],s=[o,e.HASH_COMMENT_MODE,e.COMMENT("^\\=\\w","\\=cut",{endsWithParent:!0}),r,{className:"string",contains:i,variants:[{begin:"q[qwxr]?\\s*\\(",end:"\\)",relevance:5},{begin:"q[qwxr]?\\s*\\[",end:"\\]",relevance:5},{begin:"q[qwxr]?\\s*\\{",end:"\\}",relevance:5},{begin:"q[qwxr]?\\s*\\|",end:"\\|",relevance:5},{begin:"q[qwxr]?\\s*\\<",end:"\\>",relevance:5},{begin:"qw\\s+q",end:"q",relevance:5},{begin:"'",end:"'",contains:[e.BACKSLASH_ESCAPE]},{begin:'"',end:'"'},{begin:"`",end:"`",contains:[e.BACKSLASH_ESCAPE]},{begin:"{\\w+}",contains:[],relevance:0},{begin:"-?\\w+\\s*\\=\\>",contains:[],relevance:0}]},{className:"number",begin:"(\\b0[0-7_]+)|(\\b0x[0-9a-fA-F_]+)|(\\b[1-9][0-9_]*(\\.[0-9_]+)?)|[0_]\\b",relevance:0},{begin:"(\\/\\/|"+e.RE_STARTERS_RE+"|\\b(split|return|print|reverse|grep)\\b)\\s*",
keywords:"split return print reverse grep",relevance:0,contains:[e.HASH_COMMENT_MODE,{className:"regexp",begin:"(s|tr|y)/(\\\\.|[^/])*/(\\\\.|[^/])*/[a-z]*",relevance:10},{className:"regexp",begin:"(m|qr)?/",end:"/[a-z]*",contains:[e.BACKSLASH_ESCAPE],relevance:0}]},{className:"sub",beginKeywords:"sub",end:"(\\s*\\(.*?\\))?[;{]",relevance:5},{className:"operator",begin:"-\\w\\b",relevance:0},{begin:"^__DATA__$",end:"^__END__$",subLanguage:"mojolicious",contains:[{begin:"^@@.*",end:"$",className:"comment"}]}];return n.contains=s,r.contains=s,{aliases:["pl"],keywords:t,contains:s}}},{}],578:[function(e,t,n){t.exports=function(e){var t={className:"variable",begin:"\\$+[a-zA-Z_-\xff][a-zA-Z0-9_-\xff]*"},n={className:"preprocessor",begin:/<\?(php)?|\?>/},r={className:"string",contains:[e.BACKSLASH_ESCAPE,n],variants:[{begin:'b"',end:'"'},{begin:"b'",end:"'"},e.inherit(e.APOS_STRING_MODE,{illegal:null}),e.inherit(e.QUOTE_STRING_MODE,{illegal:null})]},o={variants:[e.BINARY_NUMBER_MODE,e.C_NUMBER_MODE]};return{aliases:["php3","php4","php5","php6"],
case_insensitive:!0,keywords:"and include_once list abstract global private echo interface as static endswitch array null if endwhile or const for endforeach self var while isset public protected exit foreach throw elseif include __FILE__ empty require_once do xor return parent clone use __CLASS__ __LINE__ else break print eval new catch __METHOD__ case exception default die require __FUNCTION__ enddeclare final try switch continue endfor endif declare unset true false trait goto instanceof insteadof __DIR__ __NAMESPACE__ yield finally",contains:[e.C_LINE_COMMENT_MODE,e.HASH_COMMENT_MODE,e.COMMENT("/\\*","\\*/",{contains:[{className:"doctag",begin:"@[A-Za-z]+"},n]}),e.COMMENT("__halt_compiler.+?;",!1,{endsWithParent:!0,keywords:"__halt_compiler",lexemes:e.UNDERSCORE_IDENT_RE}),{className:"string",begin:/<<<['"]?\w+['"]?$/,end:/^\w+;?$/,contains:[e.BACKSLASH_ESCAPE,{className:"subst",variants:[{begin:/\$\w+/},{begin:/\{\$/,end:/\}/}]}]},n,t,{begin:/(::|->)+[a-zA-Z_\x7f-\xff][a-zA-Z0-9_\x7f-\xff]*/},{className:"function",
beginKeywords:"function",end:/[;{]/,excludeEnd:!0,illegal:"\\$|\\[|%",contains:[e.UNDERSCORE_TITLE_MODE,{className:"params",begin:"\\(",end:"\\)",contains:["self",t,e.C_BLOCK_COMMENT_MODE,r,o]}]},{className:"class",beginKeywords:"class interface",end:"{",excludeEnd:!0,illegal:/[:\(\$"]/,contains:[{beginKeywords:"extends implements"},e.UNDERSCORE_TITLE_MODE]},{beginKeywords:"namespace",end:";",illegal:/[\.']/,contains:[e.UNDERSCORE_TITLE_MODE]},{beginKeywords:"use",end:";",contains:[e.UNDERSCORE_TITLE_MODE]},{begin:"=>"},r,o]}}},{}],579:[function(e,t,n){t.exports=function(e){var t={className:"prompt",begin:/^(>>>|\.\.\.) /},n={className:"string",contains:[e.BACKSLASH_ESCAPE],variants:[{begin:/(u|b)?r?'''/,end:/'''/,contains:[t],relevance:10},{begin:/(u|b)?r?"""/,end:/"""/,contains:[t],relevance:10},{begin:/(u|r|ur)'/,end:/'/,relevance:10},{begin:/(u|r|ur)"/,end:/"/,relevance:10},{begin:/(b|br)'/,end:/'/},{begin:/(b|br)"/,end:/"/},e.APOS_STRING_MODE,e.QUOTE_STRING_MODE]},r={className:"number",relevance:0,variants:[{
begin:e.BINARY_NUMBER_RE+"[lLjJ]?"},{begin:"\\b(0o[0-7]+)[lLjJ]?"},{begin:e.C_NUMBER_RE+"[lLjJ]?"}]},o={className:"params",begin:/\(/,end:/\)/,contains:["self",t,r,n]};return{aliases:["py","gyp"],keywords:{keyword:"and elif is global as in if from raise for except finally print import pass return exec else break not with class assert yield try while continue del or def lambda async await nonlocal|10 None True False",built_in:"Ellipsis NotImplemented"},illegal:/(<\/|->|\?)/,contains:[t,r,n,e.HASH_COMMENT_MODE,{variants:[{className:"function",beginKeywords:"def",relevance:10},{className:"class",beginKeywords:"class"}],end:/:/,illegal:/[${=;\n,]/,contains:[e.UNDERSCORE_TITLE_MODE,o]},{className:"decorator",begin:/^[\t ]*@/,end:/$/},{begin:/\b(print|exec)\(/}]}}},{}],580:[function(e,t,n){t.exports=function(e){var t="[a-zA-Z_]\\w*[!?=]?|[-+~]\\@|<<|>>|=~|===?|<=>|[<>]=?|\\*\\*|[-/+%^&*~`|]|\\[\\]=?",n="and false then defined module in return redo if BEGIN retry end for true self when next until do begin unless END rescue nil else break undef not super class case require yield alias while ensure elsif or include attr_reader attr_writer attr_accessor",r={
className:"doctag",begin:"@[A-Za-z]+"},o={className:"value",begin:"#<",end:">"},i=[e.COMMENT("#","$",{contains:[r]}),e.COMMENT("^\\=begin","^\\=end",{contains:[r],relevance:10}),e.COMMENT("^__END__","\\n$")],s={className:"subst",begin:"#\\{",end:"}",keywords:n},a={className:"string",contains:[e.BACKSLASH_ESCAPE,s],variants:[{begin:/'/,end:/'/},{begin:/"/,end:/"/},{begin:/`/,end:/`/},{begin:"%[qQwWx]?\\(",end:"\\)"},{begin:"%[qQwWx]?\\[",end:"\\]"},{begin:"%[qQwWx]?{",end:"}"},{begin:"%[qQwWx]?<",end:">"},{begin:"%[qQwWx]?/",end:"/"},{begin:"%[qQwWx]?%",end:"%"},{begin:"%[qQwWx]?-",end:"-"},{begin:"%[qQwWx]?\\|",end:"\\|"},{begin:/\B\?(\\\d{1,3}|\\x[A-Fa-f0-9]{1,2}|\\u[A-Fa-f0-9]{4}|\\?\S)\b/}]},u={className:"params",begin:"\\(",end:"\\)",keywords:n},l=[a,o,{className:"class",beginKeywords:"class module",end:"$|;",illegal:/=/,contains:[e.inherit(e.TITLE_MODE,{begin:"[A-Za-z_]\\w*(::\\w+)*(\\?|\\!)?"}),{className:"inheritance",begin:"<\\s*",contains:[{className:"parent",begin:"("+e.IDENT_RE+"::)?"+e.IDENT_RE}]}].concat(i)
},{className:"function",beginKeywords:"def",end:"$|;",contains:[e.inherit(e.TITLE_MODE,{begin:t}),u].concat(i)},{className:"constant",begin:"(::)?(\\b[A-Z]\\w*(::)?)+",relevance:0},{className:"symbol",begin:e.UNDERSCORE_IDENT_RE+"(\\!|\\?)?:",relevance:0},{className:"symbol",begin:":",contains:[a,{begin:t}],relevance:0},{className:"number",begin:"(\\b0[0-7_]+)|(\\b0x[0-9a-fA-F_]+)|(\\b[1-9][0-9_]*(\\.[0-9_]+)?)|[0_]\\b",relevance:0},{className:"variable",begin:"(\\$\\W)|((\\$|\\@\\@?)(\\w+))"},{begin:"("+e.RE_STARTERS_RE+")\\s*",contains:[o,{className:"regexp",contains:[e.BACKSLASH_ESCAPE,s],illegal:/\n/,variants:[{begin:"/",end:"/[a-z]*"},{begin:"%r{",end:"}[a-z]*"},{begin:"%r\\(",end:"\\)[a-z]*"},{begin:"%r!",end:"![a-z]*"},{begin:"%r\\[",end:"\\][a-z]*"}]}].concat(i),relevance:0}].concat(i);s.contains=l,u.contains=l;var c="[>?]>",p="[\\w#]+\\(\\w+\\):\\d+:\\d+>",d="(\\w+-)?\\d+\\.\\d+\\.\\d(p\\d+)?[^>]+>",h=[{begin:/^\s*=>/,className:"status",starts:{end:"$",contains:l}},{className:"prompt",begin:"^("+c+"|"+p+"|"+d+")",
starts:{end:"$",contains:l}}];return{aliases:["rb","gemspec","podspec","thor","irb"],keywords:n,contains:i.concat(h).concat(l)}}},{}],581:[function(e,t,n){t.exports=function(e){var t={className:"annotation",begin:"@[A-Za-z]+"},n={className:"string",begin:'u?r?"""',end:'"""',relevance:10},r={className:"symbol",begin:"'\\w[\\w\\d_]*(?!')"},o={className:"type",begin:"\\b[A-Z][A-Za-z0-9_]*",relevance:0},i={className:"title",begin:/[^0-9\n\t "'(),.`{}\[\]:;][^\n\t "'(),.`{}\[\]:;]+|[^0-9\n\t "'(),.`{}\[\]:;=]/,relevance:0},s={className:"class",beginKeywords:"class object trait type",end:/[:={\[(\n;]/,contains:[{className:"keyword",beginKeywords:"extends with",relevance:10},i]},a={className:"function",beginKeywords:"def val",end:/[:={\[(\n;]/,contains:[i]};return{keywords:{literal:"true false null",keyword:"type yield lazy override def with val var sealed abstract private trait object if forSome for while throw finally protected extends import final return else break new catch super class case package default try this match continue throws implicit"
},contains:[e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,n,e.QUOTE_STRING_MODE,r,o,a,s,e.C_NUMBER_MODE,t]}}},{}],582:[function(e,t,n){t.exports=function(e){var t=e.COMMENT("--","$");return{case_insensitive:!0,illegal:/[<>{}*]/,contains:[{className:"operator",beginKeywords:"begin end start commit rollback savepoint lock alter create drop rename call delete do handler insert load replace select truncate update set show pragma grant merge describe use explain help declare prepare execute deallocate release unlock purge reset change stop analyze cache flush optimize repair kill install uninstall checksum restore check backup revoke",end:/;/,endsWithParent:!0,keywords:{keyword:"abort abs absolute acc acce accep accept access accessed accessible account acos action activate add addtime admin administer advanced advise aes_decrypt aes_encrypt after agent aggregate ali alia alias allocate allow alter always analyze ancillary and any anydata anydataset anyschema anytype apply archive archived archivelog are as asc ascii asin assembly assertion associate asynchronous at atan atn2 attr attri attrib attribu attribut attribute attributes audit authenticated authentication authid authors auto autoallocate autodblink autoextend automatic availability avg backup badfile basicfile before begin beginning benchmark between bfile bfile_base big bigfile bin binary_double binary_float binlog bit_and bit_count bit_length bit_or bit_xor bitmap blob_base block blocksize body both bound buffer_cache buffer_pool build bulk by byte byteordermark bytes c cache caching call calling cancel capacity cascade cascaded case cast catalog category ceil ceiling chain change changed char_base char_length character_length characters characterset charindex charset charsetform charsetid check checksum checksum_agg child choose chr chunk class cleanup clear client clob clob_base clone close cluster_id cluster_probability cluster_set clustering coalesce coercibility col collate collation collect colu colum column column_value columns columns_updated comment commit compact compatibility compiled complete composite_limit compound compress compute concat concat_ws concurrent confirm conn connec connect connect_by_iscycle connect_by_isleaf connect_by_root connect_time connection consider consistent constant constraint constraints constructor container content contents context contributors controlfile conv convert convert_tz corr corr_k corr_s corresponding corruption cos cost count count_big counted covar_pop covar_samp cpu_per_call cpu_per_session crc32 create creation critical cross cube cume_dist curdate current current_date current_time current_timestamp current_user cursor curtime customdatum cycle d data database databases datafile datafiles datalength date_add date_cache date_format date_sub dateadd datediff datefromparts datename datepart datetime2fromparts day day_to_second dayname dayofmonth dayofweek dayofyear days db_role_change dbtimezone ddl deallocate declare decode decompose decrement decrypt deduplicate def defa defau defaul default defaults deferred defi defin define degrees delayed delegate delete delete_all delimited demand dense_rank depth dequeue des_decrypt des_encrypt des_key_file desc descr descri describ describe descriptor deterministic diagnostics difference dimension direct_load directory disable disable_all disallow disassociate discardfile disconnect diskgroup distinct distinctrow distribute distributed div do document domain dotnet double downgrade drop dumpfile duplicate duration e each edition editionable editions element ellipsis else elsif elt empty enable enable_all enclosed encode encoding encrypt end end-exec endian enforced engine engines enqueue enterprise entityescaping eomonth error errors escaped evalname evaluate event eventdata events except exception exceptions exchange exclude excluding execu execut execute exempt exists exit exp expire explain export export_set extended extent external external_1 external_2 externally extract f failed failed_login_attempts failover failure far fast feature_set feature_value fetch field fields file file_name_convert filesystem_like_logging final finish first first_value fixed flash_cache flashback floor flush following follows for forall force form forma format found found_rows freelist freelists freepools fresh from from_base64 from_days ftp full function g general generated get get_format get_lock getdate getutcdate global global_name globally go goto grant grants greatest group group_concat group_id grouping grouping_id groups gtid_subtract guarantee guard handler hash hashkeys having hea head headi headin heading heap help hex hierarchy high high_priority hosts hour http i id ident_current ident_incr ident_seed identified identity idle_time if ifnull ignore iif ilike ilm immediate import in include including increment index indexes indexing indextype indicator indices inet6_aton inet6_ntoa inet_aton inet_ntoa infile initial initialized initially initrans inmemory inner innodb input insert install instance instantiable instr interface interleaved intersect into invalidate invisible is is_free_lock is_ipv4 is_ipv4_compat is_not is_not_null is_used_lock isdate isnull isolation iterate java join json json_exists k keep keep_duplicates key keys kill l language large last last_day last_insert_id last_value lax lcase lead leading least leaves left len lenght length less level levels library like like2 like4 likec limit lines link list listagg little ln load load_file lob lobs local localtime localtimestamp locate locator lock locked log log10 log2 logfile logfiles logging logical logical_reads_per_call logoff logon logs long loop low low_priority lower lpad lrtrim ltrim m main make_set makedate maketime managed management manual map mapping mask master master_pos_wait match matched materialized max maxextents maximize maxinstances maxlen maxlogfiles maxloghistory maxlogmembers maxsize maxtrans md5 measures median medium member memcompress memory merge microsecond mid migration min minextents minimum mining minus minute minvalue missing mod mode model modification modify module monitoring month months mount move movement multiset mutex n name name_const names nan national native natural nav nchar nclob nested never new newline next nextval no no_write_to_binlog noarchivelog noaudit nobadfile nocheck nocompress nocopy nocycle nodelay nodiscardfile noentityescaping noguarantee nokeep nologfile nomapping nomaxvalue nominimize nominvalue nomonitoring none noneditionable nonschema noorder nopr nopro noprom nopromp noprompt norely noresetlogs noreverse normal norowdependencies noschemacheck noswitch not nothing notice notrim novalidate now nowait nth_value nullif nulls num numb numbe nvarchar nvarchar2 object ocicoll ocidate ocidatetime ociduration ociinterval ociloblocator ocinumber ociref ocirefcursor ocirowid ocistring ocitype oct octet_length of off offline offset oid oidindex old on online only opaque open operations operator optimal optimize option optionally or oracle oracle_date oradata ord ordaudio orddicom orddoc order ordimage ordinality ordvideo organization orlany orlvary out outer outfile outline output over overflow overriding p package pad parallel parallel_enable parameters parent parse partial partition partitions pascal passing password password_grace_time password_lock_time password_reuse_max password_reuse_time password_verify_function patch path patindex pctincrease pctthreshold pctused pctversion percent percent_rank percentile_cont percentile_disc performance period period_add period_diff permanent physical pi pipe pipelined pivot pluggable plugin policy position post_transaction pow power pragma prebuilt precedes preceding precision prediction prediction_cost prediction_details prediction_probability prediction_set prepare present preserve prior priority private private_sga privileges procedural procedure procedure_analyze processlist profiles project prompt protection public publishingservername purge quarter query quick quiesce quota quotename radians raise rand range rank raw read reads readsize rebuild record records recover recovery recursive recycle redo reduced ref reference referenced references referencing refresh regexp_like register regr_avgx regr_avgy regr_count regr_intercept regr_r2 regr_slope regr_sxx regr_sxy reject rekey relational relative relaylog release release_lock relies_on relocate rely rem remainder rename repair repeat replace replicate replication required reset resetlogs resize resource respect restore restricted result result_cache resumable resume retention return returning returns reuse reverse revoke right rlike role roles rollback rolling rollup round row row_count rowdependencies rowid rownum rows rtrim rules safe salt sample save savepoint sb1 sb2 sb4 scan schema schemacheck scn scope scroll sdo_georaster sdo_topo_geometry search sec_to_time second section securefile security seed segment select self sequence sequential serializable server servererror session session_user sessions_per_user set sets settings sha sha1 sha2 share shared shared_pool short show shrink shutdown si_averagecolor si_colorhistogram si_featurelist si_positionalcolor si_stillimage si_texture siblings sid sign sin size size_t sizes skip slave sleep smalldatetimefromparts smallfile snapshot some soname sort soundex source space sparse spfile split sql sql_big_result sql_buffer_result sql_cache sql_calc_found_rows sql_small_result sql_variant_property sqlcode sqldata sqlerror sqlname sqlstate sqrt square standalone standby start starting startup statement static statistics stats_binomial_test stats_crosstab stats_ks_test stats_mode stats_mw_test stats_one_way_anova stats_t_test_ stats_t_test_indep stats_t_test_one stats_t_test_paired stats_wsr_test status std stddev stddev_pop stddev_samp stdev stop storage store stored str str_to_date straight_join strcmp strict string struct stuff style subdate subpartition subpartitions substitutable substr substring subtime subtring_index subtype success sum suspend switch switchoffset switchover sync synchronous synonym sys sys_xmlagg sysasm sysaux sysdate sysdatetimeoffset sysdba sysoper system system_user sysutcdatetime t table tables tablespace tan tdo template temporary terminated tertiary_weights test than then thread through tier ties time time_format time_zone timediff timefromparts timeout timestamp timestampadd timestampdiff timezone_abbr timezone_minute timezone_region to to_base64 to_date to_days to_seconds todatetimeoffset trace tracking transaction transactional translate translation treat trigger trigger_nestlevel triggers trim truncate try_cast try_convert try_parse type ub1 ub2 ub4 ucase unarchived unbounded uncompress under undo unhex unicode uniform uninstall union unique unix_timestamp unknown unlimited unlock unpivot unrecoverable unsafe unsigned until untrusted unusable unused update updated upgrade upped upper upsert url urowid usable usage use use_stored_outlines user user_data user_resources users using utc_date utc_timestamp uuid uuid_short validate validate_password_strength validation valist value values var var_samp varcharc vari varia variab variabl variable variables variance varp varraw varrawc varray verify version versions view virtual visible void wait wallet warning warnings week weekday weekofyear wellformed when whene whenev wheneve whenever where while whitespace with within without work wrapped xdb xml xmlagg xmlattributes xmlcast xmlcolattval xmlelement xmlexists xmlforest xmlindex xmlnamespaces xmlpi xmlquery xmlroot xmlschema xmlserialize xmltable xmltype xor year year_to_month years yearweek",
literal:"true false null",built_in:"array bigint binary bit blob boolean char character date dec decimal float int int8 integer interval number numeric real record serial serial8 smallint text varchar varying void"},contains:[{className:"string",begin:"'",end:"'",contains:[e.BACKSLASH_ESCAPE,{begin:"''"}]},{className:"string",begin:'"',end:'"',contains:[e.BACKSLASH_ESCAPE,{begin:'""'}]},{className:"string",begin:"`",end:"`",contains:[e.BACKSLASH_ESCAPE]},e.C_NUMBER_MODE,e.C_BLOCK_COMMENT_MODE,t]},e.C_BLOCK_COMMENT_MODE,t]}}},{}],583:[function(e,t,n){t.exports=function(e){var t={keyword:"class deinit enum extension func init let protocol static struct subscript typealias var break case continue default do else fallthrough if in for return switch where while as dynamicType is new super self Self Type __COLUMN__ __FILE__ __FUNCTION__ __LINE__ associativity didSet get infix inout left mutating none nonmutating operator override postfix precedence prefix right set unowned unowned safe unsafe weak willSet",literal:"true false nil",
built_in:"abs advance alignof alignofValue assert bridgeFromObjectiveC bridgeFromObjectiveCUnconditional bridgeToObjectiveC bridgeToObjectiveCUnconditional c contains count countElements countLeadingZeros debugPrint debugPrintln distance dropFirst dropLast dump encodeBitsAsWords enumerate equal filter find getBridgedObjectiveCType getVaList indices insertionSort isBridgedToObjectiveC isBridgedVerbatimToObjectiveC isUniquelyReferenced join lexicographicalCompare map max maxElement min minElement numericCast partition posix print println quickSort reduce reflect reinterpretCast reverse roundUpToAlignment sizeof sizeofValue sort split startsWith strideof strideofValue swap swift toString transcode underestimateCount unsafeReflect withExtendedLifetime withObjectAtPlusZero withUnsafePointer withUnsafePointerToObject withUnsafePointers withVaList"},n={className:"type",begin:"\\b[A-Z][\\w']*",relevance:0},r=e.COMMENT("/\\*","\\*/",{contains:["self"]}),o={className:"subst",begin:/\\\(/,end:"\\)",keywords:t,contains:[]
},i={className:"number",begin:"\\b([\\d_]+(\\.[\\deE_]+)?|0x[a-fA-F0-9_]+(\\.[a-fA-F0-9p_]+)?|0b[01_]+|0o[0-7_]+)\\b",relevance:0},s=e.inherit(e.QUOTE_STRING_MODE,{contains:[o,e.BACKSLASH_ESCAPE]});return o.contains=[i],{keywords:t,contains:[s,e.C_LINE_COMMENT_MODE,r,n,i,{className:"func",beginKeywords:"func",end:"{",excludeEnd:!0,contains:[e.inherit(e.TITLE_MODE,{begin:/[A-Za-z$_][0-9A-Za-z$_]*/,illegal:/\(/}),{className:"generics",begin:/</,end:/>/,illegal:/>/},{className:"params",begin:/\(/,end:/\)/,endsParent:!0,keywords:t,contains:["self",i,s,e.C_BLOCK_COMMENT_MODE,{begin:":"}],illegal:/["']/}],illegal:/\[|%/},{className:"class",beginKeywords:"struct protocol class extension enum",keywords:t,end:"\\{",excludeEnd:!0,contains:[e.inherit(e.TITLE_MODE,{begin:/[A-Za-z$_][0-9A-Za-z$_]*/})]},{className:"preprocessor",begin:"(@assignment|@class_protocol|@exported|@final|@lazy|@noreturn|@NSCopying|@NSManaged|@objc|@optional|@required|@auto_closure|@noreturn|@IBAction|@IBDesignable|@IBInspectable|@IBOutlet|@infix|@prefix|@postfix)"
},{beginKeywords:"import",end:/$/,contains:[e.C_LINE_COMMENT_MODE,r]}]}}},{}],584:[function(e,t,n){t.exports=function(e){var t="[A-Za-z0-9\\._:-]+",n={begin:/<\?(php)?(?!\w)/,end:/\?>/,subLanguage:"php"},r={endsWithParent:!0,illegal:/</,relevance:0,contains:[n,{className:"attribute",begin:t,relevance:0},{begin:"=",relevance:0,contains:[{className:"value",contains:[n],variants:[{begin:/"/,end:/"/},{begin:/'/,end:/'/},{begin:/[^\s\/>]+/}]}]}]};return{aliases:["html","xhtml","rss","atom","xsl","plist"],case_insensitive:!0,contains:[{className:"doctype",begin:"<!DOCTYPE",end:">",relevance:10,contains:[{begin:"\\[",end:"\\]"}]},e.COMMENT("<!--","-->",{relevance:10}),{className:"cdata",begin:"<\\!\\[CDATA\\[",end:"\\]\\]>",relevance:10},{className:"tag",begin:"<style(?=\\s|>|$)",end:">",keywords:{title:"style"},contains:[r],starts:{end:"</style>",returnEnd:!0,subLanguage:"css"}},{className:"tag",begin:"<script(?=\\s|>|$)",end:">",keywords:{title:"script"},contains:[r],starts:{end:"</script>",returnEnd:!0,subLanguage:["actionscript","javascript","handlebars"]
}},n,{className:"pi",begin:/<\?\w+/,end:/\?>/,relevance:10},{className:"tag",begin:"</?",end:"/?>",contains:[{className:"title",begin:/[^ \/><\n\t]+/,relevance:0},r]}]}}},{}],585:[function(e,t,n){/*
 *  Copyright 2011 Twitter, Inc.
 *  Licensed under the Apache License, Version 2.0 (the "License");
 *  you may not use this file except in compliance with the License.
 *  You may obtain a copy of the License at
 *
 *  http://www.apache.org/licenses/LICENSE-2.0
 *
 *  Unless required by applicable law or agreed to in writing, software
 *  distributed under the License is distributed on an "AS IS" BASIS,
 *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 *  See the License for the specific language governing permissions and
 *  limitations under the License.
 */
!function(e){function t(e){"}"===e.n.substr(e.n.length-1)&&(e.n=e.n.substring(0,e.n.length-1))}function n(e){return e.trim?e.trim():e.replace(/^\s*|\s*$/g,"")}function r(e,t,n){if(t.charAt(n)!=e.charAt(0))return!1;for(var r=1,o=e.length;o>r;r++)if(t.charAt(n+r)!=e.charAt(r))return!1;return!0}function o(t,n,r,a){var u=[],l=null,c=null,p=null;for(c=r[r.length-1];t.length>0;){if(p=t.shift(),c&&"<"==c.tag&&!(p.tag in w))throw new Error("Illegal content in < super tag.");if(e.tags[p.tag]<=e.tags.$||i(p,a))r.push(p),p.nodes=o(t,p.tag,r,a);else{if("/"==p.tag){if(0===r.length)throw new Error("Closing tag without opener: /"+p.n);if(l=r.pop(),p.n!=l.n&&!s(p.n,l.n,a))throw new Error("Nesting error: "+l.n+" vs. "+p.n);return l.end=p.i,u}"\n"==p.tag&&(p.last=0==t.length||"\n"==t[0].tag)}u.push(p)}if(r.length>0)throw new Error("missing closing tag: "+r.pop().n);return u}function i(e,t){for(var n=0,r=t.length;r>n;n++)if(t[n].o==e.n)return e.tag="#",!0}function s(e,t,n){for(var r=0,o=n.length;o>r;r++)if(n[r].c==e&&n[r].o==t)return!0;
}function a(e){var t=[];for(var n in e)t.push('"'+l(n)+'": function(c,p,t,i) {'+e[n]+"}");return"{ "+t.join(",")+" }"}function u(e){var t=[];for(var n in e.partials)t.push('"'+l(n)+'":{name:"'+l(e.partials[n].name)+'", '+u(e.partials[n])+"}");return"partials: {"+t.join(",")+"}, subs: "+a(e.subs)}function l(e){return e.replace(b,"\\\\").replace(m,'\\"').replace(g,"\\n").replace(v,"\\r").replace(y,"\\u2028").replace(_,"\\u2029")}function c(e){return~e.indexOf(".")?"d":"f"}function p(e,t){var n="<"+(t.prefix||""),r=n+e.n+k++;return t.partials[r]={name:e.n,partials:{}},t.code+='t.b(t.rp("'+l(r)+'",c,p,"'+(e.indent||"")+'"));',r}function d(e,t){t.code+="t.b(t.t(t."+c(e.n)+'("'+l(e.n)+'",c,p,0)));'}function h(e){return"t.b("+e+");"}var f=/\S/,m=/\"/g,g=/\n/g,v=/\r/g,b=/\\/g,y=/\u2028/,_=/\u2029/;e.tags={"#":1,"^":2,"<":3,$:4,"/":5,"!":6,">":7,"=":8,_v:9,"{":10,"&":11,_t:12},e.scan=function(o,i){function s(){b.length>0&&(y.push({tag:"_t",text:new String(b)}),b="")}function a(){for(var t=!0,n=k;n<y.length;n++)if(t=e.tags[y[n].tag]<e.tags._v||"_t"==y[n].tag&&null===y[n].text.match(f),
!t)return!1;return t}function u(e,t){if(s(),e&&a())for(var n,r=k;r<y.length;r++)y[r].text&&((n=y[r+1])&&">"==n.tag&&(n.indent=y[r].text.toString()),y.splice(r,1));else t||y.push({tag:"\n"});_=!1,k=y.length}function l(e,t){var r="="+C,o=e.indexOf(r,t),i=n(e.substring(e.indexOf("=",t)+1,o)).split(" ");return x=i[0],C=i[i.length-1],o+r.length-1}var c=o.length,p=0,d=1,h=2,m=p,g=null,v=null,b="",y=[],_=!1,w=0,k=0,x="{{",C="}}";for(i&&(i=i.split(" "),x=i[0],C=i[1]),w=0;c>w;w++)m==p?r(x,o,w)?(--w,s(),m=d):"\n"==o.charAt(w)?u(_):b+=o.charAt(w):m==d?(w+=x.length-1,v=e.tags[o.charAt(w+1)],g=v?o.charAt(w+1):"_v","="==g?(w=l(o,w),m=p):(v&&w++,m=h),_=w):r(C,o,w)?(y.push({tag:g,n:n(b),otag:x,ctag:C,i:"/"==g?_-x.length:w+C.length}),b="",w+=C.length-1,m=p,"{"==g&&("}}"==C?w++:t(y[y.length-1]))):b+=o.charAt(w);return u(_,!0),y};var w={_t:!0,"\n":!0,$:!0,"/":!0};e.stringify=function(t,n,r){return"{code: function (c,p,i) { "+e.wrapMain(t.code)+" },"+u(t)+"}"};var k=0;e.generate=function(t,n,r){k=0;var o={code:"",subs:{},partials:{}
};return e.walk(t,o),r.asString?this.stringify(o,n,r):this.makeTemplate(o,n,r)},e.wrapMain=function(e){return'var t=this;t.b(i=i||"");'+e+"return t.fl();"},e.template=e.Template,e.makeTemplate=function(e,t,n){var r=this.makePartials(e);return r.code=new Function("c","p","i",this.wrapMain(e.code)),new this.template(r,t,this,n)},e.makePartials=function(e){var t,n={subs:{},partials:e.partials,name:e.name};for(t in n.partials)n.partials[t]=this.makePartials(n.partials[t]);for(t in e.subs)n.subs[t]=new Function("c","p","t","i",e.subs[t]);return n},e.codegen={"#":function(t,n){n.code+="if(t.s(t."+c(t.n)+'("'+l(t.n)+'",c,p,1),c,p,0,'+t.i+","+t.end+',"'+t.otag+" "+t.ctag+'")){t.rs(c,p,function(c,p,t){',e.walk(t.nodes,n),n.code+="});c.pop();}"},"^":function(t,n){n.code+="if(!t.s(t."+c(t.n)+'("'+l(t.n)+'",c,p,1),c,p,1,0,0,"")){',e.walk(t.nodes,n),n.code+="};"},">":p,"<":function(t,n){var r={partials:{},code:"",subs:{},inPartial:!0};e.walk(t.nodes,r);var o=n.partials[p(t,n)];o.subs=r.subs,o.partials=r.partials},$:function(t,n){
var r={subs:{},code:"",partials:n.partials,prefix:t.n};e.walk(t.nodes,r),n.subs[t.n]=r.code,n.inPartial||(n.code+='t.sub("'+l(t.n)+'",c,p,i);')},"\n":function(e,t){t.code+=h('"\\n"'+(e.last?"":" + i"))},_v:function(e,t){t.code+="t.b(t.v(t."+c(e.n)+'("'+l(e.n)+'",c,p,0)));'},_t:function(e,t){t.code+=h('"'+l(e.text)+'"')},"{":d,"&":d},e.walk=function(t,n){for(var r,o=0,i=t.length;i>o;o++)r=e.codegen[t[o].tag],r&&r(t[o],n);return n},e.parse=function(e,t,n){return n=n||{},o(e,"",[],n.sectionTags||[])},e.cache={},e.cacheKey=function(e,t){return[e,!!t.asString,!!t.disableLambda,t.delimiters,!!t.modelGet].join("||")},e.compile=function(t,n){n=n||{};var r=e.cacheKey(t,n),o=this.cache[r];if(o){var i=o.partials;for(var s in i)delete i[s].instance;return o}return o=this.generate(this.parse(this.scan(t,n.delimiters),t,n),t,n),this.cache[r]=o}}("undefined"!=typeof n?n:Hogan)},{}],586:[function(e,t,n){/*
 *  Copyright 2011 Twitter, Inc.
 *  Licensed under the Apache License, Version 2.0 (the "License");
 *  you may not use this file except in compliance with the License.
 *  You may obtain a copy of the License at
 *
 *  http://www.apache.org/licenses/LICENSE-2.0
 *
 *  Unless required by applicable law or agreed to in writing, software
 *  distributed under the License is distributed on an "AS IS" BASIS,
 *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 *  See the License for the specific language governing permissions and
 *  limitations under the License.
 */
var r=e("./compiler");r.Template=e("./template").Template,r.template=r.Template,t.exports=r},{"./compiler":585,"./template":587}],587:[function(e,t,n){/*
 *  Copyright 2011 Twitter, Inc.
 *  Licensed under the Apache License, Version 2.0 (the "License");
 *  you may not use this file except in compliance with the License.
 *  You may obtain a copy of the License at
 *
 *  http://www.apache.org/licenses/LICENSE-2.0
 *
 *  Unless required by applicable law or agreed to in writing, software
 *  distributed under the License is distributed on an "AS IS" BASIS,
 *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 *  See the License for the specific language governing permissions and
 *  limitations under the License.
 */
var r={};!function(e){function t(e,t,n){var r;return t&&"object"==typeof t&&(void 0!==t[e]?r=t[e]:n&&t.get&&"function"==typeof t.get&&(r=t.get(e))),r}function n(e,t,n,r,o,i){function s(){}function a(){}s.prototype=e,a.prototype=e.subs;var u,l=new s;l.subs=new a,l.subsText={},l.buf="",r=r||{},l.stackSubs=r,l.subsText=i;for(u in t)r[u]||(r[u]=t[u]);for(u in r)l.subs[u]=r[u];o=o||{},l.stackPartials=o;for(u in n)o[u]||(o[u]=n[u]);for(u in o)l.partials[u]=o[u];return l}function r(e){return String(null===e||void 0===e?"":e)}function o(e){return e=r(e),c.test(e)?e.replace(i,"&amp;").replace(s,"&lt;").replace(a,"&gt;").replace(u,"&#39;").replace(l,"&quot;"):e}e.Template=function(e,t,n,r){e=e||{},this.r=e.code||this.r,this.c=n,this.options=r||{},this.text=t||"",this.partials=e.partials||{},this.subs=e.subs||{},this.buf=""},e.Template.prototype={r:function(e,t,n){return""},v:o,t:r,render:function(e,t,n){return this.ri([e],t||{},n)},ri:function(e,t,n){return this.r(e,t,n)},ep:function(e,t){var r=this.partials[e],o=t[r.name];
if(r.instance&&r.base==o)return r.instance;if("string"==typeof o){if(!this.c)throw new Error("No compiler available.");o=this.c.compile(o,this.options)}if(!o)return null;if(this.partials[e].base=o,r.subs){t.stackText||(t.stackText={});for(key in r.subs)t.stackText[key]||(t.stackText[key]=void 0!==this.activeSub&&t.stackText[this.activeSub]?t.stackText[this.activeSub]:this.text);o=n(o,r.subs,r.partials,this.stackSubs,this.stackPartials,t.stackText)}return this.partials[e].instance=o,o},rp:function(e,t,n,r){var o=this.ep(e,n);return o?o.ri(t,n,r):""},rs:function(e,t,n){var r=e[e.length-1];if(!p(r))return void n(e,t,this);for(var o=0;o<r.length;o++)e.push(r[o]),n(e,t,this),e.pop()},s:function(e,t,n,r,o,i,s){var a;return p(e)&&0===e.length?!1:("function"==typeof e&&(e=this.ms(e,t,n,r,o,i,s)),a=!!e,!r&&a&&t&&t.push("object"==typeof e?e:t[t.length-1]),a)},d:function(e,n,r,o){var i,s=e.split("."),a=this.f(s[0],n,r,o),u=this.options.modelGet,l=null;if("."===e&&p(n[n.length-2]))a=n[n.length-1];else for(var c=1;c<s.length;c++)i=t(s[c],a,u),
void 0!==i?(l=a,a=i):a="";return o&&!a?!1:(o||"function"!=typeof a||(n.push(l),a=this.mv(a,n,r),n.pop()),a)},f:function(e,n,r,o){for(var i=!1,s=null,a=!1,u=this.options.modelGet,l=n.length-1;l>=0;l--)if(s=n[l],i=t(e,s,u),void 0!==i){a=!0;break}return a?(o||"function"!=typeof i||(i=this.mv(i,n,r)),i):o?!1:""},ls:function(e,t,n,o,i){var s=this.options.delimiters;return this.options.delimiters=i,this.b(this.ct(r(e.call(t,o)),t,n)),this.options.delimiters=s,!1},ct:function(e,t,n){if(this.options.disableLambda)throw new Error("Lambda features disabled.");return this.c.compile(e,this.options).render(t,n)},b:function(e){this.buf+=e},fl:function(){var e=this.buf;return this.buf="",e},ms:function(e,t,n,r,o,i,s){var a,u=t[t.length-1],l=e.call(u);return"function"==typeof l?r?!0:(a=this.activeSub&&this.subsText&&this.subsText[this.activeSub]?this.subsText[this.activeSub]:this.text,this.ls(l,u,n,a.substring(o,i),s)):l},mv:function(e,t,n){var o=t[t.length-1],i=e.call(o);return"function"==typeof i?this.ct(r(i.call(o)),o,n):i;
},sub:function(e,t,n,r){var o=this.subs[e];o&&(this.activeSub=e,o(t,n,this,r),this.activeSub=!1)}};var i=/&/g,s=/</g,a=/>/g,u=/\'/g,l=/\"/g,c=/[&<>\"\']/,p=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}}("undefined"!=typeof n?n:r)},{}],588:[function(e,t,n){(function(e){/*!
 *  howler.js v2.0.12
 *  howlerjs.com
 *
 *  (c) 2013-2018, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */
!function(){"use strict";var t=function(){this.init()};t.prototype={init:function(){var e=this||r;return e._counter=1e3,e._codecs={},e._howls=[],e._muted=!1,e._volume=1,e._canPlayEvent="canplaythrough",e._navigator="undefined"!=typeof window&&window.navigator?window.navigator:null,e.masterGain=null,e.noAudio=!1,e.usingWebAudio=!0,e.autoSuspend=!0,e.ctx=null,e.mobileAutoEnable=!0,e._setup(),e},volume:function(e){var t=this||r;if(e=parseFloat(e),t.ctx||p(),"undefined"!=typeof e&&e>=0&&1>=e){if(t._volume=e,t._muted)return t;t.usingWebAudio&&t.masterGain.gain.setValueAtTime(e,r.ctx.currentTime);for(var n=0;n<t._howls.length;n++)if(!t._howls[n]._webAudio)for(var o=t._howls[n]._getSoundIds(),i=0;i<o.length;i++){var s=t._howls[n]._soundById(o[i]);s&&s._node&&(s._node.volume=s._volume*e)}return t}return t._volume},mute:function(e){var t=this||r;t.ctx||p(),t._muted=e,t.usingWebAudio&&t.masterGain.gain.setValueAtTime(e?0:t._volume,r.ctx.currentTime);for(var n=0;n<t._howls.length;n++)if(!t._howls[n]._webAudio)for(var o=t._howls[n]._getSoundIds(),i=0;i<o.length;i++){
var s=t._howls[n]._soundById(o[i]);s&&s._node&&(s._node.muted=e?!0:s._muted)}return t},unload:function(){for(var e=this||r,t=e._howls.length-1;t>=0;t--)e._howls[t].unload();return e.usingWebAudio&&e.ctx&&"undefined"!=typeof e.ctx.close&&(e.ctx.close(),e.ctx=null,p()),e},codecs:function(e){return(this||r)._codecs[e.replace(/^x-/,"")]},_setup:function(){var e=this||r;if(e.state=e.ctx?e.ctx.state||"running":"running",e._autoSuspend(),!e.usingWebAudio)if("undefined"!=typeof Audio)try{var t=new Audio;"undefined"==typeof t.oncanplaythrough&&(e._canPlayEvent="canplay")}catch(n){e.noAudio=!0}else e.noAudio=!0;try{var t=new Audio;t.muted&&(e.noAudio=!0)}catch(n){}return e.noAudio||e._setupCodecs(),e},_setupCodecs:function(){var e=this||r,t=null;try{t="undefined"!=typeof Audio?new Audio:null}catch(n){return e}if(!t||"function"!=typeof t.canPlayType)return e;var o=t.canPlayType("audio/mpeg;").replace(/^no$/,""),i=e._navigator&&e._navigator.userAgent.match(/OPR\/([0-6].)/g),s=i&&parseInt(i[0].split("/")[1],10)<33;return e._codecs={
mp3:!(s||!o&&!t.canPlayType("audio/mp3;").replace(/^no$/,"")),mpeg:!!o,opus:!!t.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!t.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!t.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!t.canPlayType('audio/wav; codecs="1"').replace(/^no$/,""),aac:!!t.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!t.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(t.canPlayType("audio/x-m4a;")||t.canPlayType("audio/m4a;")||t.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(t.canPlayType("audio/x-mp4;")||t.canPlayType("audio/mp4;")||t.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!t.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,""),webm:!!t.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,""),dolby:!!t.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(t.canPlayType("audio/x-flac;")||t.canPlayType("audio/flac;")).replace(/^no$/,"")},e},_enableMobileAudio:function(){var e=this||r,t=/iPhone|iPad|iPod|Android|BlackBerry|BB10|Silk|Mobi/i.test(e._navigator&&e._navigator.userAgent),n=!!("ontouchend"in window||e._navigator&&e._navigator.maxTouchPoints>0||e._navigator&&e._navigator.msMaxTouchPoints>0);
if(!e._mobileEnabled&&e.ctx&&(t||n)){e._mobileEnabled=!1,e._mobileUnloaded||44100===e.ctx.sampleRate||(e._mobileUnloaded=!0,e.unload()),e._scratchBuffer=e.ctx.createBuffer(1,1,22050);var o=function(){r._autoResume();var t=e.ctx.createBufferSource();t.buffer=e._scratchBuffer,t.connect(e.ctx.destination),"undefined"==typeof t.start?t.noteOn(0):t.start(0),"function"==typeof e.ctx.resume&&e.ctx.resume(),t.onended=function(){t.disconnect(0),e._mobileEnabled=!0,e.mobileAutoEnable=!1,document.removeEventListener("touchstart",o,!0),document.removeEventListener("touchend",o,!0)}};return document.addEventListener("touchstart",o,!0),document.addEventListener("touchend",o,!0),e}},_autoSuspend:function(){var e=this;if(e.autoSuspend&&e.ctx&&"undefined"!=typeof e.ctx.suspend&&r.usingWebAudio){for(var t=0;t<e._howls.length;t++)if(e._howls[t]._webAudio)for(var n=0;n<e._howls[t]._sounds.length;n++)if(!e._howls[t]._sounds[n]._paused)return e;return e._suspendTimer&&clearTimeout(e._suspendTimer),e._suspendTimer=setTimeout(function(){
e.autoSuspend&&(e._suspendTimer=null,e.state="suspending",e.ctx.suspend().then(function(){e.state="suspended",e._resumeAfterSuspend&&(delete e._resumeAfterSuspend,e._autoResume())}))},3e4),e}},_autoResume:function(){var e=this;if(e.ctx&&"undefined"!=typeof e.ctx.resume&&r.usingWebAudio)return"running"===e.state&&e._suspendTimer?(clearTimeout(e._suspendTimer),e._suspendTimer=null):"suspended"===e.state?(e.ctx.resume().then(function(){e.state="running";for(var t=0;t<e._howls.length;t++)e._howls[t]._emit("resume")}),e._suspendTimer&&(clearTimeout(e._suspendTimer),e._suspendTimer=null)):"suspending"===e.state&&(e._resumeAfterSuspend=!0),e}};var r=new t,o=function(e){var t=this;return e.src&&0!==e.src.length?void t.init(e):void console.error("An array of source files must be passed with any new Howl.")};o.prototype={init:function(e){var t=this;return r.ctx||p(),t._autoplay=e.autoplay||!1,t._format="string"!=typeof e.format?e.format:[e.format],t._html5=e.html5||!1,t._muted=e.mute||!1,t._loop=e.loop||!1,t._pool=e.pool||5,
t._preload="boolean"==typeof e.preload?e.preload:!0,t._rate=e.rate||1,t._sprite=e.sprite||{},t._src="string"!=typeof e.src?e.src:[e.src],t._volume=void 0!==e.volume?e.volume:1,t._xhrWithCredentials=e.xhrWithCredentials||!1,t._duration=0,t._state="unloaded",t._sounds=[],t._endTimers={},t._queue=[],t._playLock=!1,t._onend=e.onend?[{fn:e.onend}]:[],t._onfade=e.onfade?[{fn:e.onfade}]:[],t._onload=e.onload?[{fn:e.onload}]:[],t._onloaderror=e.onloaderror?[{fn:e.onloaderror}]:[],t._onplayerror=e.onplayerror?[{fn:e.onplayerror}]:[],t._onpause=e.onpause?[{fn:e.onpause}]:[],t._onplay=e.onplay?[{fn:e.onplay}]:[],t._onstop=e.onstop?[{fn:e.onstop}]:[],t._onmute=e.onmute?[{fn:e.onmute}]:[],t._onvolume=e.onvolume?[{fn:e.onvolume}]:[],t._onrate=e.onrate?[{fn:e.onrate}]:[],t._onseek=e.onseek?[{fn:e.onseek}]:[],t._onresume=[],t._webAudio=r.usingWebAudio&&!t._html5,"undefined"!=typeof r.ctx&&r.ctx&&r.mobileAutoEnable&&r._enableMobileAudio(),r._howls.push(t),t._autoplay&&t._queue.push({event:"play",action:function(){t.play()}}),t._preload&&t.load(),
t},load:function(){var e=this,t=null;if(r.noAudio)return void e._emit("loaderror",null,"No audio support.");"string"==typeof e._src&&(e._src=[e._src]);for(var n=0;n<e._src.length;n++){var o,s;if(e._format&&e._format[n])o=e._format[n];else{if(s=e._src[n],"string"!=typeof s){e._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}o=/^data:audio\/([^;,]+);/i.exec(s),o||(o=/\.([^.]+)$/.exec(s.split("?",1)[0])),o&&(o=o[1].toLowerCase())}if(o||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),o&&r.codecs(o)){t=e._src[n];break}}return t?(e._src=t,e._state="loading","https:"===window.location.protocol&&"http:"===t.slice(0,5)&&(e._html5=!0,e._webAudio=!1),new i(e),e._webAudio&&a(e),e):void e._emit("loaderror",null,"No codec support for selected audio sources.")},play:function(e,t){var n=this,o=null;if("number"==typeof e)o=e,e=null;else{if("string"==typeof e&&"loaded"===n._state&&!n._sprite[e])return null;if("undefined"==typeof e){
e="__default";for(var i=0,s=0;s<n._sounds.length;s++)n._sounds[s]._paused&&!n._sounds[s]._ended&&(i++,o=n._sounds[s]._id);1===i?e=null:o=null}}var a=o?n._soundById(o):n._inactiveSound();if(!a)return null;if(o&&!e&&(e=a._sprite||"__default"),"loaded"!==n._state){a._sprite=e,a._ended=!1;var u=a._id;return n._queue.push({event:"play",action:function(){n.play(u)}}),u}if(o&&!a._paused)return t||n._loadQueue("play"),a._id;n._webAudio&&r._autoResume();var l=Math.max(0,a._seek>0?a._seek:n._sprite[e][0]/1e3),c=Math.max(0,(n._sprite[e][0]+n._sprite[e][1])/1e3-l),p=1e3*c/Math.abs(a._rate);a._paused=!1,a._ended=!1,a._sprite=e,a._seek=l,a._start=n._sprite[e][0]/1e3,a._stop=(n._sprite[e][0]+n._sprite[e][1])/1e3,a._loop=!(!a._loop&&!n._sprite[e][2]);var d=a._node;if(n._webAudio){var h=function(){n._refreshBuffer(a);var e=a._muted||n._muted?0:a._volume;d.gain.setValueAtTime(e,r.ctx.currentTime),a._playStart=r.ctx.currentTime,"undefined"==typeof d.bufferSource.start?a._loop?d.bufferSource.noteGrainOn(0,l,86400):d.bufferSource.noteGrainOn(0,l,c):a._loop?d.bufferSource.start(0,l,86400):d.bufferSource.start(0,l,c),
p!==1/0&&(n._endTimers[a._id]=setTimeout(n._ended.bind(n,a),p)),t||setTimeout(function(){n._emit("play",a._id)},0)};"running"===r.state?h():(n.once("resume",h),n._clearTimer(a._id))}else{var f=function(){d.currentTime=l,d.muted=a._muted||n._muted||r._muted||d.muted,d.volume=a._volume*r.volume(),d.playbackRate=a._rate;try{var o=d.play();if("undefined"!=typeof Promise&&o instanceof Promise){n._playLock=!0;var i=function(){n._playLock=!1,t||n._emit("play",a._id)};o.then(i,i)}else t||n._emit("play",a._id);if(d.playbackRate=a._rate,d.paused)return void n._emit("playerror",a._id,"Playback was unable to start. This is most commonly an issue on mobile devices where playback was not within a user interaction.");"__default"!==e||a._loop?n._endTimers[a._id]=setTimeout(n._ended.bind(n,a),p):(n._endTimers[a._id]=function(){n._ended(a),d.removeEventListener("ended",n._endTimers[a._id],!1)},d.addEventListener("ended",n._endTimers[a._id],!1))}catch(s){n._emit("playerror",a._id,s)}},m=window&&window.ejecta||!d.readyState&&r._navigator.isCocoonJS;
if(d.readyState>=3||m)f();else{var g=function(){f(),d.removeEventListener(r._canPlayEvent,g,!1)};d.addEventListener(r._canPlayEvent,g,!1),n._clearTimer(a._id)}}return a._id},pause:function(e){var t=this;if("loaded"!==t._state||t._playLock)return t._queue.push({event:"pause",action:function(){t.pause(e)}}),t;for(var n=t._getSoundIds(e),r=0;r<n.length;r++){t._clearTimer(n[r]);var o=t._soundById(n[r]);if(o&&!o._paused&&(o._seek=t.seek(n[r]),o._rateSeek=0,o._paused=!0,t._stopFade(n[r]),o._node))if(t._webAudio){if(!o._node.bufferSource)continue;"undefined"==typeof o._node.bufferSource.stop?o._node.bufferSource.noteOff(0):o._node.bufferSource.stop(0),t._cleanBuffer(o._node)}else isNaN(o._node.duration)&&o._node.duration!==1/0||o._node.pause();arguments[1]||t._emit("pause",o?o._id:null)}return t},stop:function(e,t){var n=this;if("loaded"!==n._state)return n._queue.push({event:"stop",action:function(){n.stop(e)}}),n;for(var r=n._getSoundIds(e),o=0;o<r.length;o++){n._clearTimer(r[o]);var i=n._soundById(r[o]);i&&(i._seek=i._start||0,
i._rateSeek=0,i._paused=!0,i._ended=!0,n._stopFade(r[o]),i._node&&(n._webAudio?i._node.bufferSource&&("undefined"==typeof i._node.bufferSource.stop?i._node.bufferSource.noteOff(0):i._node.bufferSource.stop(0),n._cleanBuffer(i._node)):isNaN(i._node.duration)&&i._node.duration!==1/0||(i._node.currentTime=i._start||0,i._node.pause())),t||n._emit("stop",i._id))}return n},mute:function(e,t){var n=this;if("loaded"!==n._state)return n._queue.push({event:"mute",action:function(){n.mute(e,t)}}),n;if("undefined"==typeof t){if("boolean"!=typeof e)return n._muted;n._muted=e}for(var o=n._getSoundIds(t),i=0;i<o.length;i++){var s=n._soundById(o[i]);s&&(s._muted=e,s._interval&&n._stopFade(s._id),n._webAudio&&s._node?s._node.gain.setValueAtTime(e?0:s._volume,r.ctx.currentTime):s._node&&(s._node.muted=r._muted?!0:e),n._emit("mute",s._id))}return n},volume:function(){var e,t,n=this,o=arguments;if(0===o.length)return n._volume;if(1===o.length||2===o.length&&"undefined"==typeof o[1]){var i=n._getSoundIds(),s=i.indexOf(o[0]);s>=0?t=parseInt(o[0],10):e=parseFloat(o[0]);
}else o.length>=2&&(e=parseFloat(o[0]),t=parseInt(o[1],10));var a;if(!("undefined"!=typeof e&&e>=0&&1>=e))return a=t?n._soundById(t):n._sounds[0],a?a._volume:0;if("loaded"!==n._state)return n._queue.push({event:"volume",action:function(){n.volume.apply(n,o)}}),n;"undefined"==typeof t&&(n._volume=e),t=n._getSoundIds(t);for(var u=0;u<t.length;u++)a=n._soundById(t[u]),a&&(a._volume=e,o[2]||n._stopFade(t[u]),n._webAudio&&a._node&&!a._muted?a._node.gain.setValueAtTime(e,r.ctx.currentTime):a._node&&!a._muted&&(a._node.volume=e*r.volume()),n._emit("volume",a._id));return n},fade:function(e,t,n,o){var i=this;if("loaded"!==i._state)return i._queue.push({event:"fade",action:function(){i.fade(e,t,n,o)}}),i;i.volume(e,o);for(var s=i._getSoundIds(o),a=0;a<s.length;a++){var u=i._soundById(s[a]);if(u){if(o||i._stopFade(s[a]),i._webAudio&&!u._muted){var l=r.ctx.currentTime,c=l+n/1e3;u._volume=e,u._node.gain.setValueAtTime(e,l),u._node.gain.linearRampToValueAtTime(t,c)}i._startFadeInterval(u,e,t,n,s[a],"undefined"==typeof o)}}
return i},_startFadeInterval:function(e,t,n,r,o,i){var s=this,a=t,u=n-t,l=Math.abs(u/.01),c=Math.max(4,l>0?r/l:r),p=Date.now();e._fadeTo=n,e._interval=setInterval(function(){var o=(Date.now()-p)/r;p=Date.now(),a+=u*o,a=Math.max(0,a),a=Math.min(1,a),a=Math.round(100*a)/100,s._webAudio?e._volume=a:s.volume(a,e._id,!0),i&&(s._volume=a),(t>n&&n>=a||n>t&&a>=n)&&(clearInterval(e._interval),e._interval=null,e._fadeTo=null,s.volume(n,e._id),s._emit("fade",e._id))},c)},_stopFade:function(e){var t=this,n=t._soundById(e);return n&&n._interval&&(t._webAudio&&n._node.gain.cancelScheduledValues(r.ctx.currentTime),clearInterval(n._interval),n._interval=null,t.volume(n._fadeTo,e),n._fadeTo=null,t._emit("fade",e)),t},loop:function(){var e,t,n,r=this,o=arguments;if(0===o.length)return r._loop;if(1===o.length){if("boolean"!=typeof o[0])return n=r._soundById(parseInt(o[0],10)),n?n._loop:!1;e=o[0],r._loop=e}else 2===o.length&&(e=o[0],t=parseInt(o[1],10));for(var i=r._getSoundIds(t),s=0;s<i.length;s++)n=r._soundById(i[s]),n&&(n._loop=e,
r._webAudio&&n._node&&n._node.bufferSource&&(n._node.bufferSource.loop=e,e&&(n._node.bufferSource.loopStart=n._start||0,n._node.bufferSource.loopEnd=n._stop)));return r},rate:function(){var e,t,n=this,o=arguments;if(0===o.length)t=n._sounds[0]._id;else if(1===o.length){var i=n._getSoundIds(),s=i.indexOf(o[0]);s>=0?t=parseInt(o[0],10):e=parseFloat(o[0])}else 2===o.length&&(e=parseFloat(o[0]),t=parseInt(o[1],10));var a;if("number"!=typeof e)return a=n._soundById(t),a?a._rate:n._rate;if("loaded"!==n._state)return n._queue.push({event:"rate",action:function(){n.rate.apply(n,o)}}),n;"undefined"==typeof t&&(n._rate=e),t=n._getSoundIds(t);for(var u=0;u<t.length;u++)if(a=n._soundById(t[u])){a._rateSeek=n.seek(t[u]),a._playStart=n._webAudio?r.ctx.currentTime:a._playStart,a._rate=e,n._webAudio&&a._node&&a._node.bufferSource?a._node.bufferSource.playbackRate.setValueAtTime(e,r.ctx.currentTime):a._node&&(a._node.playbackRate=e);var l=n.seek(t[u]),c=(n._sprite[a._sprite][0]+n._sprite[a._sprite][1])/1e3-l,p=1e3*c/Math.abs(a._rate);
(n._endTimers[t[u]]||!a._paused)&&(n._clearTimer(t[u]),n._endTimers[t[u]]=setTimeout(n._ended.bind(n,a),p)),n._emit("rate",a._id)}return n},seek:function(){var e,t,n=this,o=arguments;if(0===o.length)t=n._sounds[0]._id;else if(1===o.length){var i=n._getSoundIds(),s=i.indexOf(o[0]);s>=0?t=parseInt(o[0],10):n._sounds.length&&(t=n._sounds[0]._id,e=parseFloat(o[0]))}else 2===o.length&&(e=parseFloat(o[0]),t=parseInt(o[1],10));if("undefined"==typeof t)return n;if("loaded"!==n._state)return n._queue.push({event:"seek",action:function(){n.seek.apply(n,o)}}),n;var a=n._soundById(t);if(a){if(!("number"==typeof e&&e>=0)){if(n._webAudio){var u=n.playing(t)?r.ctx.currentTime-a._playStart:0,l=a._rateSeek?a._rateSeek-a._seek:0;return a._seek+(l+u*Math.abs(a._rate))}return a._node.currentTime}var c=n.playing(t);if(c&&n.pause(t,!0),a._seek=e,a._ended=!1,n._clearTimer(t),c&&n.play(t,!0),!n._webAudio&&a._node&&(a._node.currentTime=e),c&&!n._webAudio){var p=function(){n._playLock?setTimeout(p,0):n._emit("seek",t)};setTimeout(p,0)}else n._emit("seek",t);
}return n},playing:function(e){var t=this;if("number"==typeof e){var n=t._soundById(e);return n?!n._paused:!1}for(var r=0;r<t._sounds.length;r++)if(!t._sounds[r]._paused)return!0;return!1},duration:function(e){var t=this,n=t._duration,r=t._soundById(e);return r&&(n=t._sprite[r._sprite][1]/1e3),n},state:function(){return this._state},unload:function(){for(var e=this,t=e._sounds,n=0;n<t.length;n++){if(t[n]._paused||e.stop(t[n]._id),!e._webAudio){var o=/MSIE |Trident\//.test(r._navigator&&r._navigator.userAgent);o||(t[n]._node.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"),t[n]._node.removeEventListener("error",t[n]._errorFn,!1),t[n]._node.removeEventListener(r._canPlayEvent,t[n]._loadFn,!1)}delete t[n]._node,e._clearTimer(t[n]._id);var i=r._howls.indexOf(e);i>=0&&r._howls.splice(i,1)}var a=!0;for(n=0;n<r._howls.length;n++)if(r._howls[n]._src===e._src){a=!1;break}return s&&a&&delete s[e._src],r.noAudio=!1,e._state="unloaded",e._sounds=[],e=null,null},on:function(e,t,n,r){
var o=this,i=o["_on"+e];return"function"==typeof t&&i.push(r?{id:n,fn:t,once:r}:{id:n,fn:t}),o},off:function(e,t,n){var r=this,o=r["_on"+e],i=0;if("number"==typeof t&&(n=t,t=null),t||n)for(i=0;i<o.length;i++){var s=n===o[i].id;if(t===o[i].fn&&s||!t&&s){o.splice(i,1);break}}else if(e)r["_on"+e]=[];else{var a=Object.keys(r);for(i=0;i<a.length;i++)0===a[i].indexOf("_on")&&Array.isArray(r[a[i]])&&(r[a[i]]=[])}return r},once:function(e,t,n){var r=this;return r.on(e,t,n,1),r},_emit:function(e,t,n){for(var r=this,o=r["_on"+e],i=o.length-1;i>=0;i--)o[i].id&&o[i].id!==t&&"load"!==e||(setTimeout(function(e){e.call(this,t,n)}.bind(r,o[i].fn),0),o[i].once&&r.off(e,o[i].fn,o[i].id));return r._loadQueue(e),r},_loadQueue:function(e){var t=this;if(t._queue.length>0){var n=t._queue[0];n.event===e&&(t._queue.shift(),t._loadQueue()),e||n.action()}return t},_ended:function(e){var t=this,n=e._sprite;if(!t._webAudio&&e._node&&!e._node.paused&&!e._node.ended&&e._node.currentTime<e._stop)return setTimeout(t._ended.bind(t,e),100),t;var o=!(!e._loop&&!t._sprite[n][2]);
if(t._emit("end",e._id),!t._webAudio&&o&&t.stop(e._id,!0).play(e._id),t._webAudio&&o){t._emit("play",e._id),e._seek=e._start||0,e._rateSeek=0,e._playStart=r.ctx.currentTime;var i=1e3*(e._stop-e._start)/Math.abs(e._rate);t._endTimers[e._id]=setTimeout(t._ended.bind(t,e),i)}return t._webAudio&&!o&&(e._paused=!0,e._ended=!0,e._seek=e._start||0,e._rateSeek=0,t._clearTimer(e._id),t._cleanBuffer(e._node),r._autoSuspend()),t._webAudio||o||t.stop(e._id),t},_clearTimer:function(e){var t=this;if(t._endTimers[e]){if("function"!=typeof t._endTimers[e])clearTimeout(t._endTimers[e]);else{var n=t._soundById(e);n&&n._node&&n._node.removeEventListener("ended",t._endTimers[e],!1)}delete t._endTimers[e]}return t},_soundById:function(e){for(var t=this,n=0;n<t._sounds.length;n++)if(e===t._sounds[n]._id)return t._sounds[n];return null},_inactiveSound:function(){var e=this;e._drain();for(var t=0;t<e._sounds.length;t++)if(e._sounds[t]._ended)return e._sounds[t].reset();return new i(e)},_drain:function(){var e=this,t=e._pool,n=0,r=0;if(!(e._sounds.length<t)){
for(r=0;r<e._sounds.length;r++)e._sounds[r]._ended&&n++;for(r=e._sounds.length-1;r>=0;r--){if(t>=n)return;e._sounds[r]._ended&&(e._webAudio&&e._sounds[r]._node&&e._sounds[r]._node.disconnect(0),e._sounds.splice(r,1),n--)}}},_getSoundIds:function(e){var t=this;if("undefined"==typeof e){for(var n=[],r=0;r<t._sounds.length;r++)n.push(t._sounds[r]._id);return n}return[e]},_refreshBuffer:function(e){var t=this;return e._node.bufferSource=r.ctx.createBufferSource(),e._node.bufferSource.buffer=s[t._src],e._panner?e._node.bufferSource.connect(e._panner):e._node.bufferSource.connect(e._node),e._node.bufferSource.loop=e._loop,e._loop&&(e._node.bufferSource.loopStart=e._start||0,e._node.bufferSource.loopEnd=e._stop),e._node.bufferSource.playbackRate.setValueAtTime(e._rate,r.ctx.currentTime),t},_cleanBuffer:function(e){var t=this;if(r._scratchBuffer){e.bufferSource.onended=null,e.bufferSource.disconnect(0);try{e.bufferSource.buffer=r._scratchBuffer}catch(n){}}return e.bufferSource=null,t}};var i=function(e){this._parent=e,
this.init()};i.prototype={init:function(){var e=this,t=e._parent;return e._muted=t._muted,e._loop=t._loop,e._volume=t._volume,e._rate=t._rate,e._seek=0,e._paused=!0,e._ended=!0,e._sprite="__default",e._id=++r._counter,t._sounds.push(e),e.create(),e},create:function(){var e=this,t=e._parent,n=r._muted||e._muted||e._parent._muted?0:e._volume;return t._webAudio?(e._node="undefined"==typeof r.ctx.createGain?r.ctx.createGainNode():r.ctx.createGain(),e._node.gain.setValueAtTime(n,r.ctx.currentTime),e._node.paused=!0,e._node.connect(r.masterGain)):(e._node=new Audio,e._errorFn=e._errorListener.bind(e),e._node.addEventListener("error",e._errorFn,!1),e._loadFn=e._loadListener.bind(e),e._node.addEventListener(r._canPlayEvent,e._loadFn,!1),e._node.src=t._src,e._node.preload="auto",e._node.volume=n*r.volume(),e._node.load()),e},reset:function(){var e=this,t=e._parent;return e._muted=t._muted,e._loop=t._loop,e._volume=t._volume,e._rate=t._rate,e._seek=0,e._rateSeek=0,e._paused=!0,e._ended=!0,e._sprite="__default",e._id=++r._counter,
e},_errorListener:function(){var e=this;e._parent._emit("loaderror",e._id,e._node.error?e._node.error.code:0),e._node.removeEventListener("error",e._errorFn,!1)},_loadListener:function(){var e=this,t=e._parent;t._duration=Math.ceil(10*e._node.duration)/10,0===Object.keys(t._sprite).length&&(t._sprite={__default:[0,1e3*t._duration]}),"loaded"!==t._state&&(t._state="loaded",t._emit("load"),t._loadQueue()),e._node.removeEventListener(r._canPlayEvent,e._loadFn,!1)}};var s={},a=function(e){var t=e._src;if(s[t])return e._duration=s[t].duration,void c(e);if(/^data:[^;]+;base64,/.test(t)){for(var n=atob(t.split(",")[1]),r=new Uint8Array(n.length),o=0;o<n.length;++o)r[o]=n.charCodeAt(o);l(r.buffer,e)}else{var i=new XMLHttpRequest;i.open("GET",t,!0),i.withCredentials=e._xhrWithCredentials,i.responseType="arraybuffer",i.onload=function(){var t=(i.status+"")[0];return"0"!==t&&"2"!==t&&"3"!==t?void e._emit("loaderror",null,"Failed loading audio file with status: "+i.status+"."):void l(i.response,e)},i.onerror=function(){e._webAudio&&(e._html5=!0,
e._webAudio=!1,e._sounds=[],delete s[t],e.load())},u(i)}},u=function(e){try{e.send()}catch(t){e.onerror()}},l=function(e,t){r.ctx.decodeAudioData(e,function(e){e&&t._sounds.length>0&&(s[t._src]=e,c(t,e))},function(){t._emit("loaderror",null,"Decoding audio data failed.")})},c=function(e,t){t&&!e._duration&&(e._duration=t.duration),0===Object.keys(e._sprite).length&&(e._sprite={__default:[0,1e3*e._duration]}),"loaded"!==e._state&&(e._state="loaded",e._emit("load"),e._loadQueue())},p=function(){try{"undefined"!=typeof AudioContext?r.ctx=new AudioContext:"undefined"!=typeof webkitAudioContext?r.ctx=new webkitAudioContext:r.usingWebAudio=!1}catch(e){r.usingWebAudio=!1}var t=/iP(hone|od|ad)/.test(r._navigator&&r._navigator.platform),n=r._navigator&&r._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),o=n?parseInt(n[1],10):null;if(t&&o&&9>o){var i=/safari/.test(r._navigator&&r._navigator.userAgent.toLowerCase());(r._navigator&&r._navigator.standalone&&!i||r._navigator&&!r._navigator.standalone&&!i)&&(r.usingWebAudio=!1);
}r.usingWebAudio&&(r.masterGain="undefined"==typeof r.ctx.createGain?r.ctx.createGainNode():r.ctx.createGain(),r.masterGain.gain.setValueAtTime(r._muted?0:1,r.ctx.currentTime),r.masterGain.connect(r.ctx.destination)),r._setup()};"function"==typeof define&&define.amd&&define([],function(){return{Howler:r,Howl:o}}),"undefined"!=typeof n&&(n.Howler=r,n.Howl=o),"undefined"!=typeof window?(window.HowlerGlobal=t,window.Howler=r,window.Howl=o,window.Sound=i):"undefined"!=typeof e&&(e.HowlerGlobal=t,e.Howler=r,e.Howl=o,e.Sound=i)}(),/*!
 *  Spatial Plugin - Adds support for stereo and 3D audio where Web Audio is supported.
 *  
 *  howler.js v2.0.12
 *  howlerjs.com
 *
 *  (c) 2013-2018, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */
function(){"use strict";HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(e){var t=this;if(!t.ctx||!t.ctx.listener)return t;for(var n=t._howls.length-1;n>=0;n--)t._howls[n].stereo(e);return t},HowlerGlobal.prototype.pos=function(e,t,n){var r=this;return r.ctx&&r.ctx.listener?(t="number"!=typeof t?r._pos[1]:t,n="number"!=typeof n?r._pos[2]:n,"number"!=typeof e?r._pos:(r._pos=[e,t,n],"undefined"!=typeof r.ctx.listener.positionX?(r.ctx.listener.positionX.setTargetAtTime(r._pos[0],Howler.ctx.currentTime,.1),r.ctx.listener.positionY.setTargetAtTime(r._pos[1],Howler.ctx.currentTime,.1),r.ctx.listener.positionZ.setTargetAtTime(r._pos[2],Howler.ctx.currentTime,.1)):r.ctx.listener.setPosition(r._pos[0],r._pos[1],r._pos[2]),r)):r},HowlerGlobal.prototype.orientation=function(e,t,n,r,o,i){var s=this;if(!s.ctx||!s.ctx.listener)return s;var a=s._orientation;return t="number"!=typeof t?a[1]:t,n="number"!=typeof n?a[2]:n,r="number"!=typeof r?a[3]:r,o="number"!=typeof o?a[4]:o,
i="number"!=typeof i?a[5]:i,"number"!=typeof e?a:(s._orientation=[e,t,n,r,o,i],"undefined"!=typeof s.ctx.listener.forwardX?(s.ctx.listener.forwardX.setTargetAtTime(e,Howler.ctx.currentTime,.1),s.ctx.listener.forwardY.setTargetAtTime(t,Howler.ctx.currentTime,.1),s.ctx.listener.forwardZ.setTargetAtTime(n,Howler.ctx.currentTime,.1),s.ctx.listener.upX.setTargetAtTime(e,Howler.ctx.currentTime,.1),s.ctx.listener.upY.setTargetAtTime(t,Howler.ctx.currentTime,.1),s.ctx.listener.upZ.setTargetAtTime(n,Howler.ctx.currentTime,.1)):s.ctx.listener.setOrientation(e,t,n,r,o,i),s)},Howl.prototype.init=function(e){return function(t){var n=this;return n._orientation=t.orientation||[1,0,0],n._stereo=t.stereo||null,n._pos=t.pos||null,n._pannerAttr={coneInnerAngle:"undefined"!=typeof t.coneInnerAngle?t.coneInnerAngle:360,coneOuterAngle:"undefined"!=typeof t.coneOuterAngle?t.coneOuterAngle:360,coneOuterGain:"undefined"!=typeof t.coneOuterGain?t.coneOuterGain:0,distanceModel:"undefined"!=typeof t.distanceModel?t.distanceModel:"inverse",
maxDistance:"undefined"!=typeof t.maxDistance?t.maxDistance:1e4,panningModel:"undefined"!=typeof t.panningModel?t.panningModel:"HRTF",refDistance:"undefined"!=typeof t.refDistance?t.refDistance:1,rolloffFactor:"undefined"!=typeof t.rolloffFactor?t.rolloffFactor:1},n._onstereo=t.onstereo?[{fn:t.onstereo}]:[],n._onpos=t.onpos?[{fn:t.onpos}]:[],n._onorientation=t.onorientation?[{fn:t.onorientation}]:[],e.call(this,t)}}(Howl.prototype.init),Howl.prototype.stereo=function(t,n){var r=this;if(!r._webAudio)return r;if("loaded"!==r._state)return r._queue.push({event:"stereo",action:function(){r.stereo(t,n)}}),r;var o="undefined"==typeof Howler.ctx.createStereoPanner?"spatial":"stereo";if("undefined"==typeof n){if("number"!=typeof t)return r._stereo;r._stereo=t,r._pos=[t,0,0]}for(var i=r._getSoundIds(n),s=0;s<i.length;s++){var a=r._soundById(i[s]);if(a){if("number"!=typeof t)return a._stereo;a._stereo=t,a._pos=[t,0,0],a._node&&(a._pannerAttr.panningModel="equalpower",a._panner&&a._panner.pan||e(a,o),"spatial"===o?"undefined"!=typeof a._panner.positionX?(a._panner.positionX.setValueAtTime(t,Howler.ctx.currentTime),
a._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),a._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):a._panner.setPosition(t,0,0):a._panner.pan.setValueAtTime(t,Howler.ctx.currentTime)),r._emit("stereo",a._id)}}return r},Howl.prototype.pos=function(t,n,r,o){var i=this;if(!i._webAudio)return i;if("loaded"!==i._state)return i._queue.push({event:"pos",action:function(){i.pos(t,n,r,o)}}),i;if(n="number"!=typeof n?0:n,r="number"!=typeof r?-.5:r,"undefined"==typeof o){if("number"!=typeof t)return i._pos;i._pos=[t,n,r]}for(var s=i._getSoundIds(o),a=0;a<s.length;a++){var u=i._soundById(s[a]);if(u){if("number"!=typeof t)return u._pos;u._pos=[t,n,r],u._node&&((!u._panner||u._panner.pan)&&e(u,"spatial"),"undefined"!=typeof u._panner.positionX?(u._panner.positionX.setValueAtTime(t,Howler.ctx.currentTime),u._panner.positionY.setValueAtTime(n,Howler.ctx.currentTime),u._panner.positionZ.setValueAtTime(r,Howler.ctx.currentTime)):u._panner.setOrientation(t,n,r)),i._emit("pos",u._id)}}return i},Howl.prototype.orientation=function(t,n,r,o){
var i=this;if(!i._webAudio)return i;if("loaded"!==i._state)return i._queue.push({event:"orientation",action:function(){i.orientation(t,n,r,o)}}),i;if(n="number"!=typeof n?i._orientation[1]:n,r="number"!=typeof r?i._orientation[2]:r,"undefined"==typeof o){if("number"!=typeof t)return i._orientation;i._orientation=[t,n,r]}for(var s=i._getSoundIds(o),a=0;a<s.length;a++){var u=i._soundById(s[a]);if(u){if("number"!=typeof t)return u._orientation;u._orientation=[t,n,r],u._node&&(u._panner||(u._pos||(u._pos=i._pos||[0,0,-.5]),e(u,"spatial")),u._panner.orientationX.setValueAtTime(t,Howler.ctx.currentTime),u._panner.orientationY.setValueAtTime(n,Howler.ctx.currentTime),u._panner.orientationZ.setValueAtTime(r,Howler.ctx.currentTime)),i._emit("orientation",u._id)}}return i},Howl.prototype.pannerAttr=function(){var t,n,r,o=this,i=arguments;if(!o._webAudio)return o;if(0===i.length)return o._pannerAttr;if(1===i.length){if("object"!=typeof i[0])return r=o._soundById(parseInt(i[0],10)),r?r._pannerAttr:o._pannerAttr;t=i[0],"undefined"==typeof n&&(t.pannerAttr||(t.pannerAttr={
coneInnerAngle:t.coneInnerAngle,coneOuterAngle:t.coneOuterAngle,coneOuterGain:t.coneOuterGain,distanceModel:t.distanceModel,maxDistance:t.maxDistance,refDistance:t.refDistance,rolloffFactor:t.rolloffFactor,panningModel:t.panningModel}),o._pannerAttr={coneInnerAngle:"undefined"!=typeof t.pannerAttr.coneInnerAngle?t.pannerAttr.coneInnerAngle:o._coneInnerAngle,coneOuterAngle:"undefined"!=typeof t.pannerAttr.coneOuterAngle?t.pannerAttr.coneOuterAngle:o._coneOuterAngle,coneOuterGain:"undefined"!=typeof t.pannerAttr.coneOuterGain?t.pannerAttr.coneOuterGain:o._coneOuterGain,distanceModel:"undefined"!=typeof t.pannerAttr.distanceModel?t.pannerAttr.distanceModel:o._distanceModel,maxDistance:"undefined"!=typeof t.pannerAttr.maxDistance?t.pannerAttr.maxDistance:o._maxDistance,refDistance:"undefined"!=typeof t.pannerAttr.refDistance?t.pannerAttr.refDistance:o._refDistance,rolloffFactor:"undefined"!=typeof t.pannerAttr.rolloffFactor?t.pannerAttr.rolloffFactor:o._rolloffFactor,panningModel:"undefined"!=typeof t.pannerAttr.panningModel?t.pannerAttr.panningModel:o._panningModel
})}else 2===i.length&&(t=i[0],n=parseInt(i[1],10));for(var s=o._getSoundIds(n),a=0;a<s.length;a++)if(r=o._soundById(s[a])){var u=r._pannerAttr;u={coneInnerAngle:"undefined"!=typeof t.coneInnerAngle?t.coneInnerAngle:u.coneInnerAngle,coneOuterAngle:"undefined"!=typeof t.coneOuterAngle?t.coneOuterAngle:u.coneOuterAngle,coneOuterGain:"undefined"!=typeof t.coneOuterGain?t.coneOuterGain:u.coneOuterGain,distanceModel:"undefined"!=typeof t.distanceModel?t.distanceModel:u.distanceModel,maxDistance:"undefined"!=typeof t.maxDistance?t.maxDistance:u.maxDistance,refDistance:"undefined"!=typeof t.refDistance?t.refDistance:u.refDistance,rolloffFactor:"undefined"!=typeof t.rolloffFactor?t.rolloffFactor:u.rolloffFactor,panningModel:"undefined"!=typeof t.panningModel?t.panningModel:u.panningModel};var l=r._panner;l?(l.coneInnerAngle=u.coneInnerAngle,l.coneOuterAngle=u.coneOuterAngle,l.coneOuterGain=u.coneOuterGain,l.distanceModel=u.distanceModel,l.maxDistance=u.maxDistance,l.refDistance=u.refDistance,l.rolloffFactor=u.rolloffFactor,
l.panningModel=u.panningModel):(r._pos||(r._pos=o._pos||[0,0,-.5]),e(r,"spatial"))}return o},Sound.prototype.init=function(e){return function(){var t=this,n=t._parent;t._orientation=n._orientation,t._stereo=n._stereo,t._pos=n._pos,t._pannerAttr=n._pannerAttr,e.call(this),t._stereo?n.stereo(t._stereo):t._pos&&n.pos(t._pos[0],t._pos[1],t._pos[2],t._id)}}(Sound.prototype.init),Sound.prototype.reset=function(e){return function(){var t=this,n=t._parent;return t._orientation=n._orientation,t._pos=n._pos,t._pannerAttr=n._pannerAttr,e.call(this)}}(Sound.prototype.reset);var e=function(e,t){t=t||"spatial","spatial"===t?(e._panner=Howler.ctx.createPanner(),e._panner.coneInnerAngle=e._pannerAttr.coneInnerAngle,e._panner.coneOuterAngle=e._pannerAttr.coneOuterAngle,e._panner.coneOuterGain=e._pannerAttr.coneOuterGain,e._panner.distanceModel=e._pannerAttr.distanceModel,e._panner.maxDistance=e._pannerAttr.maxDistance,e._panner.refDistance=e._pannerAttr.refDistance,e._panner.rolloffFactor=e._pannerAttr.rolloffFactor,e._panner.panningModel=e._pannerAttr.panningModel,
"undefined"!=typeof e._panner.positionX?(e._panner.positionX.setValueAtTime(e._pos[0],Howler.ctx.currentTime),e._panner.positionY.setValueAtTime(e._pos[1],Howler.ctx.currentTime),e._panner.positionZ.setValueAtTime(e._pos[2],Howler.ctx.currentTime)):e._panner.setPosition(e._pos[0],e._pos[1],e._pos[2]),"undefined"!=typeof e._panner.orientationX?(e._panner.orientationX.setValueAtTime(e._orientation[0],Howler.ctx.currentTime),e._panner.orientationY.setValueAtTime(e._orientation[1],Howler.ctx.currentTime),e._panner.orientationZ.setValueAtTime(e._orientation[2],Howler.ctx.currentTime)):e._panner.setOrientation(e._orientation[0],e._orientation[1],e._orientation[2])):(e._panner=Howler.ctx.createStereoPanner(),e._panner.pan.setValueAtTime(e._stereo,Howler.ctx.currentTime)),e._panner.connect(e._node),e._paused||e._parent.pause(e._id,!0).play(e._id,!0)}}()}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],589:[function(e,t,n){t.exports=Array.isArray||function(e){
return"[object Array]"==Object.prototype.toString.call(e)}},{}],590:[function(e,t,n){/*!
 * jQuery JavaScript Library v2.1.4
 * http://jquery.com/
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 *
 * Copyright 2005, 2014 jQuery Foundation, Inc. and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2015-04-28T16:01Z
 */
!function(e,n){"object"==typeof t&&"object"==typeof t.exports?t.exports=e.document?n(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return n(e)}:n(e)}("undefined"!=typeof window?window:this,function(e,t){function n(e){var t="length"in e&&e.length,n=X.type(e);return"function"===n||X.isWindow(e)?!1:1===e.nodeType&&t?!0:"array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e}function r(e,t,n){if(X.isFunction(t))return X.grep(e,function(e,r){return!!t.call(e,r,e)!==n});if(t.nodeType)return X.grep(e,function(e){return e===t!==n});if("string"==typeof t){if(ae.test(t))return X.filter(t,e,n);t=X.filter(t,e)}return X.grep(e,function(e){return W.call(t,e)>=0!==n})}function o(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}function i(e){var t=fe[e]={};return X.each(e.match(he)||[],function(e,n){t[n]=!0}),t}function s(){J.removeEventListener("DOMContentLoaded",s,!1),e.removeEventListener("load",s,!1),X.ready()}function a(){Object.defineProperty(this.cache={},0,{get:function(){return{};
}}),this.expando=X.expando+a.uid++}function u(e,t,n){var r;if(void 0===n&&1===e.nodeType)if(r="data-"+t.replace(_e,"-$1").toLowerCase(),n=e.getAttribute(r),"string"==typeof n){try{n="true"===n?!0:"false"===n?!1:"null"===n?null:+n+""===n?+n:ye.test(n)?X.parseJSON(n):n}catch(o){}be.set(e,t,n)}else n=void 0;return n}function l(){return!0}function c(){return!1}function p(){try{return J.activeElement}catch(e){}}function d(e,t){return X.nodeName(e,"table")&&X.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function h(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function f(e){var t=Le.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function m(e,t){for(var n=0,r=e.length;r>n;n++)ve.set(e[n],"globalEval",!t||ve.get(t[n],"globalEval"))}function g(e,t){var n,r,o,i,s,a,u,l;if(1===t.nodeType){if(ve.hasData(e)&&(i=ve.access(e),s=ve.set(t,i),l=i.events)){delete s.handle,s.events={};for(o in l)for(n=0,r=l[o].length;r>n;n++)X.event.add(t,o,l[o][n]);
}be.hasData(e)&&(a=be.access(e),u=X.extend({},a),be.set(t,u))}}function v(e,t){var n=e.getElementsByTagName?e.getElementsByTagName(t||"*"):e.querySelectorAll?e.querySelectorAll(t||"*"):[];return void 0===t||t&&X.nodeName(e,t)?X.merge([e],n):n}function b(e,t){var n=t.nodeName.toLowerCase();"input"===n&&Ce.test(e.type)?t.checked=e.checked:("input"===n||"textarea"===n)&&(t.defaultValue=e.defaultValue)}function y(t,n){var r,o=X(n.createElement(t)).appendTo(n.body),i=e.getDefaultComputedStyle&&(r=e.getDefaultComputedStyle(o[0]))?r.display:X.css(o[0],"display");return o.detach(),i}function _(e){var t=J,n=$e[e];return n||(n=y(e,t),"none"!==n&&n||(je=(je||X("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement),t=je[0].contentDocument,t.write(),t.close(),n=y(e,t),je.detach()),$e[e]=n),n}function w(e,t,n){var r,o,i,s,a=e.style;return n=n||He(e),n&&(s=n.getPropertyValue(t)||n[t]),n&&(""!==s||X.contains(e.ownerDocument,e)||(s=X.style(e,t)),Ve.test(s)&&Ue.test(t)&&(r=a.width,o=a.minWidth,i=a.maxWidth,
a.minWidth=a.maxWidth=a.width=s,s=n.width,a.width=r,a.minWidth=o,a.maxWidth=i)),void 0!==s?s+"":s}function k(e,t){return{get:function(){return e()?void delete this.get:(this.get=t).apply(this,arguments)}}}function x(e,t){if(t in e)return t;for(var n=t[0].toUpperCase()+t.slice(1),r=t,o=Ke.length;o--;)if(t=Ke[o]+n,t in e)return t;return r}function C(e,t,n){var r=qe.exec(t);return r?Math.max(0,r[1]-(n||0))+(r[2]||"px"):t}function E(e,t,n,r,o){for(var i=n===(r?"border":"content")?4:"width"===t?1:0,s=0;4>i;i+=2)"margin"===n&&(s+=X.css(e,n+ke[i],!0,o)),r?("content"===n&&(s-=X.css(e,"padding"+ke[i],!0,o)),"margin"!==n&&(s-=X.css(e,"border"+ke[i]+"Width",!0,o))):(s+=X.css(e,"padding"+ke[i],!0,o),"padding"!==n&&(s+=X.css(e,"border"+ke[i]+"Width",!0,o)));return s}function T(e,t,n){var r=!0,o="width"===t?e.offsetWidth:e.offsetHeight,i=He(e),s="border-box"===X.css(e,"boxSizing",!1,i);if(0>=o||null==o){if(o=w(e,t,i),(0>o||null==o)&&(o=e.style[t]),Ve.test(o))return o;r=s&&(Z.boxSizingReliable()||o===e.style[t]),o=parseFloat(o)||0;
}return o+E(e,t,n||(s?"border":"content"),r,i)+"px"}function S(e,t){for(var n,r,o,i=[],s=0,a=e.length;a>s;s++)r=e[s],r.style&&(i[s]=ve.get(r,"olddisplay"),n=r.style.display,t?(i[s]||"none"!==n||(r.style.display=""),""===r.style.display&&xe(r)&&(i[s]=ve.access(r,"olddisplay",_(r.nodeName)))):(o=xe(r),"none"===n&&o||ve.set(r,"olddisplay",o?n:X.css(r,"display"))));for(s=0;a>s;s++)r=e[s],r.style&&(t&&"none"!==r.style.display&&""!==r.style.display||(r.style.display=t?i[s]||"":"none"));return e}function D(e,t,n,r,o){return new D.prototype.init(e,t,n,r,o)}function A(){return setTimeout(function(){Ze=void 0}),Ze=X.now()}function M(e,t){var n,r=0,o={height:e};for(t=t?1:0;4>r;r+=2-t)n=ke[r],o["margin"+n]=o["padding"+n]=e;return t&&(o.opacity=o.width=e),o}function F(e,t,n){for(var r,o=(nt[t]||[]).concat(nt["*"]),i=0,s=o.length;s>i;i++)if(r=o[i].call(n,t,e))return r}function N(e,t,n){var r,o,i,s,a,u,l,c,p=this,d={},h=e.style,f=e.nodeType&&xe(e),m=ve.get(e,"fxshow");n.queue||(a=X._queueHooks(e,"fx"),null==a.unqueued&&(a.unqueued=0,
u=a.empty.fire,a.empty.fire=function(){a.unqueued||u()}),a.unqueued++,p.always(function(){p.always(function(){a.unqueued--,X.queue(e,"fx").length||a.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[h.overflow,h.overflowX,h.overflowY],l=X.css(e,"display"),c="none"===l?ve.get(e,"olddisplay")||_(e.nodeName):l,"inline"===c&&"none"===X.css(e,"float")&&(h.display="inline-block")),n.overflow&&(h.overflow="hidden",p.always(function(){h.overflow=n.overflow[0],h.overflowX=n.overflow[1],h.overflowY=n.overflow[2]}));for(r in t)if(o=t[r],Qe.exec(o)){if(delete t[r],i=i||"toggle"===o,o===(f?"hide":"show")){if("show"!==o||!m||void 0===m[r])continue;f=!0}d[r]=m&&m[r]||X.style(e,r)}else l=void 0;if(X.isEmptyObject(d))"inline"===("none"===l?_(e.nodeName):l)&&(h.display=l);else{m?"hidden"in m&&(f=m.hidden):m=ve.access(e,"fxshow",{}),i&&(m.hidden=!f),f?X(e).show():p.done(function(){X(e).hide()}),p.done(function(){var t;ve.remove(e,"fxshow");for(t in d)X.style(e,t,d[t])});for(r in d)s=F(f?m[r]:0,r,p),r in m||(m[r]=s.start,
f&&(s.end=s.start,s.start="width"===r||"height"===r?1:0))}}function O(e,t){var n,r,o,i,s;for(n in e)if(r=X.camelCase(n),o=t[r],i=e[n],X.isArray(i)&&(o=i[1],i=e[n]=i[0]),n!==r&&(e[r]=i,delete e[n]),s=X.cssHooks[r],s&&"expand"in s){i=s.expand(i),delete e[r];for(n in i)n in e||(e[n]=i[n],t[n]=o)}else t[r]=o}function I(e,t,n){var r,o,i=0,s=tt.length,a=X.Deferred().always(function(){delete u.elem}),u=function(){if(o)return!1;for(var t=Ze||A(),n=Math.max(0,l.startTime+l.duration-t),r=n/l.duration||0,i=1-r,s=0,u=l.tweens.length;u>s;s++)l.tweens[s].run(i);return a.notifyWith(e,[l,i,n]),1>i&&u?n:(a.resolveWith(e,[l]),!1)},l=a.promise({elem:e,props:X.extend({},t),opts:X.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:Ze||A(),duration:n.duration,tweens:[],createTween:function(t,n){var r=X.Tween(e,l.opts,t,n,l.opts.specialEasing[t]||l.opts.easing);return l.tweens.push(r),r},stop:function(t){var n=0,r=t?l.tweens.length:0;if(o)return this;for(o=!0;r>n;n++)l.tweens[n].run(1);return t?a.resolveWith(e,[l,t]):a.rejectWith(e,[l,t]),
this}}),c=l.props;for(O(c,l.opts.specialEasing);s>i;i++)if(r=tt[i].call(l,e,c,l.opts))return r;return X.map(c,F,l),X.isFunction(l.opts.start)&&l.opts.start.call(e,l),X.fx.timer(X.extend(u,{elem:e,anim:l,queue:l.opts.queue})),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always)}function P(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,o=0,i=t.toLowerCase().match(he)||[];if(X.isFunction(n))for(;r=i[o++];)"+"===r[0]?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function L(e,t,n,r){function o(a){var u;return i[a]=!0,X.each(e[a]||[],function(e,a){var l=a(t,n,r);return"string"!=typeof l||s||i[l]?s?!(u=l):void 0:(t.dataTypes.unshift(l),o(l),!1)}),u}var i={},s=e===yt;return o(t.dataTypes[0])||!i["*"]&&o("*")}function R(e,t){var n,r,o=X.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((o[n]?e:r||(r={}))[n]=t[n]);return r&&X.extend(!0,e,r),e}function B(e,t,n){for(var r,o,i,s,a=e.contents,u=e.dataTypes;"*"===u[0];)u.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));
if(r)for(o in a)if(a[o]&&a[o].test(r)){u.unshift(o);break}if(u[0]in n)i=u[0];else{for(o in n){if(!u[0]||e.converters[o+" "+u[0]]){i=o;break}s||(s=o)}i=i||s}return i?(i!==u[0]&&u.unshift(i),n[i]):void 0}function j(e,t,n,r){var o,i,s,a,u,l={},c=e.dataTypes.slice();if(c[1])for(s in e.converters)l[s.toLowerCase()]=e.converters[s];for(i=c.shift();i;)if(e.responseFields[i]&&(n[e.responseFields[i]]=t),!u&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),u=i,i=c.shift())if("*"===i)i=u;else if("*"!==u&&u!==i){if(s=l[u+" "+i]||l["* "+i],!s)for(o in l)if(a=o.split(" "),a[1]===i&&(s=l[u+" "+a[0]]||l["* "+a[0]])){s===!0?s=l[o]:l[o]!==!0&&(i=a[0],c.unshift(a[1]));break}if(s!==!0)if(s&&e["throws"])t=s(t);else try{t=s(t)}catch(p){return{state:"parsererror",error:s?p:"No conversion from "+u+" to "+i}}}return{state:"success",data:t}}function $(e,t,n,r){var o;if(X.isArray(t))X.each(t,function(t,o){n||Ct.test(e)?r(e,o):$(e+"["+("object"==typeof o?t:"")+"]",o,n,r)});else if(n||"object"!==X.type(t))r(e,t);else for(o in t)$(e+"["+o+"]",t[o],n,r);
}function U(e){return X.isWindow(e)?e:9===e.nodeType&&e.defaultView}var V=[],H=V.slice,z=V.concat,q=V.push,W=V.indexOf,Y={},G=Y.toString,K=Y.hasOwnProperty,Z={},J=e.document,Q="2.1.4",X=function(e,t){return new X.fn.init(e,t)},ee=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,te=/^-ms-/,ne=/-([\da-z])/gi,re=function(e,t){return t.toUpperCase()};X.fn=X.prototype={jquery:Q,constructor:X,selector:"",length:0,toArray:function(){return H.call(this)},get:function(e){return null!=e?0>e?this[e+this.length]:this[e]:H.call(this)},pushStack:function(e){var t=X.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return X.each(this,e,t)},map:function(e){return this.pushStack(X.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(H.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(0>e?t:0);return this.pushStack(n>=0&&t>n?[this[n]]:[])},end:function(){return this.prevObject||this.constructor(null);
},push:q,sort:V.sort,splice:V.splice},X.extend=X.fn.extend=function(){var e,t,n,r,o,i,s=arguments[0]||{},a=1,u=arguments.length,l=!1;for("boolean"==typeof s&&(l=s,s=arguments[a]||{},a++),"object"==typeof s||X.isFunction(s)||(s={}),a===u&&(s=this,a--);u>a;a++)if(null!=(e=arguments[a]))for(t in e)n=s[t],r=e[t],s!==r&&(l&&r&&(X.isPlainObject(r)||(o=X.isArray(r)))?(o?(o=!1,i=n&&X.isArray(n)?n:[]):i=n&&X.isPlainObject(n)?n:{},s[t]=X.extend(l,i,r)):void 0!==r&&(s[t]=r));return s},X.extend({expando:"jQuery"+(Q+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===X.type(e)},isArray:Array.isArray,isWindow:function(e){return null!=e&&e===e.window},isNumeric:function(e){return!X.isArray(e)&&e-parseFloat(e)+1>=0},isPlainObject:function(e){return"object"!==X.type(e)||e.nodeType||X.isWindow(e)?!1:e.constructor&&!K.call(e.constructor.prototype,"isPrototypeOf")?!1:!0},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},type:function(e){
return null==e?e+"":"object"==typeof e||"function"==typeof e?Y[G.call(e)]||"object":typeof e},globalEval:function(e){var t,n=eval;e=X.trim(e),e&&(1===e.indexOf("use strict")?(t=J.createElement("script"),t.text=e,J.head.appendChild(t).parentNode.removeChild(t)):n(e))},camelCase:function(e){return e.replace(te,"ms-").replace(ne,re)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,r){var o,i=0,s=e.length,a=n(e);if(r){if(a)for(;s>i&&(o=t.apply(e[i],r),o!==!1);i++);else for(i in e)if(o=t.apply(e[i],r),o===!1)break}else if(a)for(;s>i&&(o=t.call(e[i],i,e[i]),o!==!1);i++);else for(i in e)if(o=t.call(e[i],i,e[i]),o===!1)break;return e},trim:function(e){return null==e?"":(e+"").replace(ee,"")},makeArray:function(e,t){var r=t||[];return null!=e&&(n(Object(e))?X.merge(r,"string"==typeof e?[e]:e):q.call(r,e)),r},inArray:function(e,t,n){return null==t?-1:W.call(t,e,n)},merge:function(e,t){for(var n=+t.length,r=0,o=e.length;n>r;r++)e[o++]=t[r];return e.length=o,e},grep:function(e,t,n){
for(var r,o=[],i=0,s=e.length,a=!n;s>i;i++)r=!t(e[i],i),r!==a&&o.push(e[i]);return o},map:function(e,t,r){var o,i=0,s=e.length,a=n(e),u=[];if(a)for(;s>i;i++)o=t(e[i],i,r),null!=o&&u.push(o);else for(i in e)o=t(e[i],i,r),null!=o&&u.push(o);return z.apply([],u)},guid:1,proxy:function(e,t){var n,r,o;return"string"==typeof t&&(n=e[t],t=e,e=n),X.isFunction(e)?(r=H.call(arguments,2),o=function(){return e.apply(t||this,r.concat(H.call(arguments)))},o.guid=e.guid=e.guid||X.guid++,o):void 0},now:Date.now,support:Z}),X.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){Y["[object "+t+"]"]=t.toLowerCase()});var oe=/*!
 * Sizzle CSS Selector Engine v2.2.0-pre
 * http://sizzlejs.com/
 *
 * Copyright 2008, 2014 jQuery Foundation, Inc. and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2014-12-16
 */
function(e){function t(e,t,n,r){var o,i,s,a,u,l,p,h,f,m;if((t?t.ownerDocument||t:$)!==N&&F(t),t=t||N,n=n||[],a=t.nodeType,"string"!=typeof e||!e||1!==a&&9!==a&&11!==a)return n;if(!r&&I){if(11!==a&&(o=be.exec(e)))if(s=o[1]){if(9===a){if(i=t.getElementById(s),!i||!i.parentNode)return n;if(i.id===s)return n.push(i),n}else if(t.ownerDocument&&(i=t.ownerDocument.getElementById(s))&&B(t,i)&&i.id===s)return n.push(i),n}else{if(o[2])return Q.apply(n,t.getElementsByTagName(e)),n;if((s=o[3])&&w.getElementsByClassName)return Q.apply(n,t.getElementsByClassName(s)),n}if(w.qsa&&(!P||!P.test(e))){if(h=p=j,f=t,m=1!==a&&e,1===a&&"object"!==t.nodeName.toLowerCase()){for(l=E(e),(p=t.getAttribute("id"))?h=p.replace(_e,"\\$&"):t.setAttribute("id",h),h="[id='"+h+"'] ",u=l.length;u--;)l[u]=h+d(l[u]);f=ye.test(e)&&c(t.parentNode)||t,m=l.join(",")}if(m)try{return Q.apply(n,f.querySelectorAll(m)),n}catch(g){}finally{p||t.removeAttribute("id")}}}return S(e.replace(ue,"$1"),t,n,r)}function n(){function e(n,r){return t.push(n+" ")>k.cacheLength&&delete e[t.shift()],
e[n+" "]=r}var t=[];return e}function r(e){return e[j]=!0,e}function o(e){var t=N.createElement("div");try{return!!e(t)}catch(n){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function i(e,t){for(var n=e.split("|"),r=e.length;r--;)k.attrHandle[n[r]]=t}function s(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||Y)-(~e.sourceIndex||Y);if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function a(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function u(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function l(e){return r(function(t){return t=+t,r(function(n,r){for(var o,i=e([],n.length,t),s=i.length;s--;)n[o=i[s]]&&(n[o]=!(r[o]=n[o]))})})}function c(e){return e&&"undefined"!=typeof e.getElementsByTagName&&e}function p(){}function d(e){for(var t=0,n=e.length,r="";n>t;t++)r+=e[t].value;return r}function h(e,t,n){var r=t.dir,o=n&&"parentNode"===r,i=V++;return t.first?function(t,n,i){
for(;t=t[r];)if(1===t.nodeType||o)return e(t,n,i)}:function(t,n,s){var a,u,l=[U,i];if(s){for(;t=t[r];)if((1===t.nodeType||o)&&e(t,n,s))return!0}else for(;t=t[r];)if(1===t.nodeType||o){if(u=t[j]||(t[j]={}),(a=u[r])&&a[0]===U&&a[1]===i)return l[2]=a[2];if(u[r]=l,l[2]=e(t,n,s))return!0}}}function f(e){return e.length>1?function(t,n,r){for(var o=e.length;o--;)if(!e[o](t,n,r))return!1;return!0}:e[0]}function m(e,n,r){for(var o=0,i=n.length;i>o;o++)t(e,n[o],r);return r}function g(e,t,n,r,o){for(var i,s=[],a=0,u=e.length,l=null!=t;u>a;a++)(i=e[a])&&(!n||n(i,r,o))&&(s.push(i),l&&t.push(a));return s}function v(e,t,n,o,i,s){return o&&!o[j]&&(o=v(o)),i&&!i[j]&&(i=v(i,s)),r(function(r,s,a,u){var l,c,p,d=[],h=[],f=s.length,v=r||m(t||"*",a.nodeType?[a]:a,[]),b=!e||!r&&t?v:g(v,d,e,a,u),y=n?i||(r?e:f||o)?[]:s:b;if(n&&n(b,y,a,u),o)for(l=g(y,h),o(l,[],a,u),c=l.length;c--;)(p=l[c])&&(y[h[c]]=!(b[h[c]]=p));if(r){if(i||e){if(i){for(l=[],c=y.length;c--;)(p=y[c])&&l.push(b[c]=p);i(null,y=[],l,u)}for(c=y.length;c--;)(p=y[c])&&(l=i?ee(r,p):d[c])>-1&&(r[l]=!(s[l]=p));
}}else y=g(y===s?y.splice(f,y.length):y),i?i(null,s,y,u):Q.apply(s,y)})}function b(e){for(var t,n,r,o=e.length,i=k.relative[e[0].type],s=i||k.relative[" "],a=i?1:0,u=h(function(e){return e===t},s,!0),l=h(function(e){return ee(t,e)>-1},s,!0),c=[function(e,n,r){var o=!i&&(r||n!==D)||((t=n).nodeType?u(e,n,r):l(e,n,r));return t=null,o}];o>a;a++)if(n=k.relative[e[a].type])c=[h(f(c),n)];else{if(n=k.filter[e[a].type].apply(null,e[a].matches),n[j]){for(r=++a;o>r&&!k.relative[e[r].type];r++);return v(a>1&&f(c),a>1&&d(e.slice(0,a-1).concat({value:" "===e[a-2].type?"*":""})).replace(ue,"$1"),n,r>a&&b(e.slice(a,r)),o>r&&b(e=e.slice(r)),o>r&&d(e))}c.push(n)}return f(c)}function y(e,n){var o=n.length>0,i=e.length>0,s=function(r,s,a,u,l){var c,p,d,h=0,f="0",m=r&&[],v=[],b=D,y=r||i&&k.find.TAG("*",l),_=U+=null==b?1:Math.random()||.1,w=y.length;for(l&&(D=s!==N&&s);f!==w&&null!=(c=y[f]);f++){if(i&&c){for(p=0;d=e[p++];)if(d(c,s,a)){u.push(c);break}l&&(U=_)}o&&((c=!d&&c)&&h--,r&&m.push(c))}if(h+=f,o&&f!==h){for(p=0;d=n[p++];)d(m,v,s,a);
if(r){if(h>0)for(;f--;)m[f]||v[f]||(v[f]=Z.call(u));v=g(v)}Q.apply(u,v),l&&!r&&v.length>0&&h+n.length>1&&t.uniqueSort(u)}return l&&(U=_,D=b),m};return o?r(s):s}var _,w,k,x,C,E,T,S,D,A,M,F,N,O,I,P,L,R,B,j="sizzle"+1*new Date,$=e.document,U=0,V=0,H=n(),z=n(),q=n(),W=function(e,t){return e===t&&(M=!0),0},Y=1<<31,G={}.hasOwnProperty,K=[],Z=K.pop,J=K.push,Q=K.push,X=K.slice,ee=function(e,t){for(var n=0,r=e.length;r>n;n++)if(e[n]===t)return n;return-1},te="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ne="[\\x20\\t\\r\\n\\f]",re="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",oe=re.replace("w","w#"),ie="\\["+ne+"*("+re+")(?:"+ne+"*([*^$|!~]?=)"+ne+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+oe+"))|)"+ne+"*\\]",se=":("+re+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+ie+")*)|.*)\\)|)",ae=new RegExp(ne+"+","g"),ue=new RegExp("^"+ne+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ne+"+$","g"),le=new RegExp("^"+ne+"*,"+ne+"*"),ce=new RegExp("^"+ne+"*([>+~]|"+ne+")"+ne+"*"),pe=new RegExp("="+ne+"*([^\\]'\"]*?)"+ne+"*\\]","g"),de=new RegExp(se),he=new RegExp("^"+oe+"$"),fe={
ID:new RegExp("^#("+re+")"),CLASS:new RegExp("^\\.("+re+")"),TAG:new RegExp("^("+re.replace("w","w*")+")"),ATTR:new RegExp("^"+ie),PSEUDO:new RegExp("^"+se),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ne+"*(even|odd|(([+-]|)(\\d*)n|)"+ne+"*(?:([+-]|)"+ne+"*(\\d+)|))"+ne+"*\\)|)","i"),bool:new RegExp("^(?:"+te+")$","i"),needsContext:new RegExp("^"+ne+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ne+"*((?:-\\d)?\\d*)"+ne+"*\\)|)(?=[^-]|$)","i")},me=/^(?:input|select|textarea|button)$/i,ge=/^h\d$/i,ve=/^[^{]+\{\s*\[native \w/,be=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ye=/[+~]/,_e=/'|\\/g,we=new RegExp("\\\\([\\da-f]{1,6}"+ne+"?|("+ne+")|.)","ig"),ke=function(e,t,n){var r="0x"+t-65536;return r!==r||n?t:0>r?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)},xe=function(){F()};try{Q.apply(K=X.call($.childNodes),$.childNodes),K[$.childNodes.length].nodeType}catch(Ce){Q={apply:K.length?function(e,t){J.apply(e,X.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);
e.length=n-1}}}w=t.support={},C=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?"HTML"!==t.nodeName:!1},F=t.setDocument=function(e){var t,n,r=e?e.ownerDocument||e:$;return r!==N&&9===r.nodeType&&r.documentElement?(N=r,O=r.documentElement,n=r.defaultView,n&&n!==n.top&&(n.addEventListener?n.addEventListener("unload",xe,!1):n.attachEvent&&n.attachEvent("onunload",xe)),I=!C(r),w.attributes=o(function(e){return e.className="i",!e.getAttribute("className")}),w.getElementsByTagName=o(function(e){return e.appendChild(r.createComment("")),!e.getElementsByTagName("*").length}),w.getElementsByClassName=ve.test(r.getElementsByClassName),w.getById=o(function(e){return O.appendChild(e).id=j,!r.getElementsByName||!r.getElementsByName(j).length}),w.getById?(k.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&I){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},k.filter.ID=function(e){var t=e.replace(we,ke);return function(e){return e.getAttribute("id")===t}}):(delete k.find.ID,k.filter.ID=function(e){
var t=e.replace(we,ke);return function(e){var n="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}}),k.find.TAG=w.getElementsByTagName?function(e,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e):w.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],o=0,i=t.getElementsByTagName(e);if("*"===e){for(;n=i[o++];)1===n.nodeType&&r.push(n);return r}return i},k.find.CLASS=w.getElementsByClassName&&function(e,t){return I?t.getElementsByClassName(e):void 0},L=[],P=[],(w.qsa=ve.test(r.querySelectorAll))&&(o(function(e){O.appendChild(e).innerHTML="<a id='"+j+"'></a><select id='"+j+"-\f]' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&P.push("[*^$]="+ne+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||P.push("\\["+ne+"*(?:value|"+te+")"),e.querySelectorAll("[id~="+j+"-]").length||P.push("~="),e.querySelectorAll(":checked").length||P.push(":checked"),e.querySelectorAll("a#"+j+"+*").length||P.push(".#.+[+~]");
}),o(function(e){var t=r.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&P.push("name"+ne+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||P.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),P.push(",.*:")})),(w.matchesSelector=ve.test(R=O.matches||O.webkitMatchesSelector||O.mozMatchesSelector||O.oMatchesSelector||O.msMatchesSelector))&&o(function(e){w.disconnectedMatch=R.call(e,"div"),R.call(e,"[s!='']:x"),L.push("!=",se)}),P=P.length&&new RegExp(P.join("|")),L=L.length&&new RegExp(L.join("|")),t=ve.test(O.compareDocumentPosition),B=t||ve.test(O.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},W=t?function(e,t){if(e===t)return M=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;
return n?n:(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&n||!w.sortDetached&&t.compareDocumentPosition(e)===n?e===r||e.ownerDocument===$&&B($,e)?-1:t===r||t.ownerDocument===$&&B($,t)?1:A?ee(A,e)-ee(A,t):0:4&n?-1:1)}:function(e,t){if(e===t)return M=!0,0;var n,o=0,i=e.parentNode,a=t.parentNode,u=[e],l=[t];if(!i||!a)return e===r?-1:t===r?1:i?-1:a?1:A?ee(A,e)-ee(A,t):0;if(i===a)return s(e,t);for(n=e;n=n.parentNode;)u.unshift(n);for(n=t;n=n.parentNode;)l.unshift(n);for(;u[o]===l[o];)o++;return o?s(u[o],l[o]):u[o]===$?-1:l[o]===$?1:0},r):N},t.matches=function(e,n){return t(e,null,null,n)},t.matchesSelector=function(e,n){if((e.ownerDocument||e)!==N&&F(e),n=n.replace(pe,"='$1']"),w.matchesSelector&&I&&(!L||!L.test(n))&&(!P||!P.test(n)))try{var r=R.call(e,n);if(r||w.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(o){}return t(n,N,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==N&&F(e),B(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==N&&F(e);
var n=k.attrHandle[t.toLowerCase()],r=n&&G.call(k.attrHandle,t.toLowerCase())?n(e,t,!I):void 0;return void 0!==r?r:w.attributes||!I?e.getAttribute(t):(r=e.getAttributeNode(t))&&r.specified?r.value:null},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,n=[],r=0,o=0;if(M=!w.detectDuplicates,A=!w.sortStable&&e.slice(0),e.sort(W),M){for(;t=e[o++];)t===e[o]&&(r=n.push(o));for(;r--;)e.splice(n[r],1)}return A=null,e},x=t.getText=function(e){var t,n="",r=0,o=e.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=x(e)}else if(3===o||4===o)return e.nodeValue}else for(;t=e[r++];)n+=x(t);return n},k=t.selectors={cacheLength:50,createPseudo:r,match:fe,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(we,ke),e[3]=(e[3]||e[4]||e[5]||"").replace(we,ke),
"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return fe.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&de.test(n)&&(t=E(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(we,ke).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=H[e+" "];return t||(t=new RegExp("(^|"+ne+")"+e+"("+ne+"|$)"))&&H(e,function(e){return t.test("string"==typeof e.className&&e.className||"undefined"!=typeof e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,n,r){return function(o){var i=t.attr(o,e);return null==i?"!="===n:n?(i+="","="===n?i===r:"!="===n?i!==r:"^="===n?r&&0===i.indexOf(r):"*="===n?r&&i.indexOf(r)>-1:"$="===n?r&&i.slice(-r.length)===r:"~="===n?(" "+i.replace(ae," ")+" ").indexOf(r)>-1:"|="===n?i===r||i.slice(0,r.length+1)===r+"-":!1):!0;
}},CHILD:function(e,t,n,r,o){var i="nth"!==e.slice(0,3),s="last"!==e.slice(-4),a="of-type"===t;return 1===r&&0===o?function(e){return!!e.parentNode}:function(t,n,u){var l,c,p,d,h,f,m=i!==s?"nextSibling":"previousSibling",g=t.parentNode,v=a&&t.nodeName.toLowerCase(),b=!u&&!a;if(g){if(i){for(;m;){for(p=t;p=p[m];)if(a?p.nodeName.toLowerCase()===v:1===p.nodeType)return!1;f=m="only"===e&&!f&&"nextSibling"}return!0}if(f=[s?g.firstChild:g.lastChild],s&&b){for(c=g[j]||(g[j]={}),l=c[e]||[],h=l[0]===U&&l[1],d=l[0]===U&&l[2],p=h&&g.childNodes[h];p=++h&&p&&p[m]||(d=h=0)||f.pop();)if(1===p.nodeType&&++d&&p===t){c[e]=[U,h,d];break}}else if(b&&(l=(t[j]||(t[j]={}))[e])&&l[0]===U)d=l[1];else for(;(p=++h&&p&&p[m]||(d=h=0)||f.pop())&&((a?p.nodeName.toLowerCase()!==v:1!==p.nodeType)||!++d||(b&&((p[j]||(p[j]={}))[e]=[U,d]),p!==t)););return d-=o,d===r||d%r===0&&d/r>=0}}},PSEUDO:function(e,n){var o,i=k.pseudos[e]||k.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return i[j]?i(n):i.length>1?(o=[e,e,"",n],k.setFilters.hasOwnProperty(e.toLowerCase())?r(function(e,t){
for(var r,o=i(e,n),s=o.length;s--;)r=ee(e,o[s]),e[r]=!(t[r]=o[s])}):function(e){return i(e,0,o)}):i}},pseudos:{not:r(function(e){var t=[],n=[],o=T(e.replace(ue,"$1"));return o[j]?r(function(e,t,n,r){for(var i,s=o(e,null,r,[]),a=e.length;a--;)(i=s[a])&&(e[a]=!(t[a]=i))}):function(e,r,i){return t[0]=e,o(t,null,i,n),t[0]=null,!n.pop()}}),has:r(function(e){return function(n){return t(e,n).length>0}}),contains:r(function(e){return e=e.replace(we,ke),function(t){return(t.textContent||t.innerText||x(t)).indexOf(e)>-1}}),lang:r(function(e){return he.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(we,ke).toLowerCase(),function(t){var n;do if(n=I?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===O},focus:function(e){return e===N.activeElement&&(!N.hasFocus||N.hasFocus())&&!!(e.type||e.href||~e.tabIndex);
},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!k.pseudos.empty(e)},header:function(e){return ge.test(e.nodeName)},input:function(e){return me.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:l(function(){return[0]}),last:l(function(e,t){return[t-1]}),eq:l(function(e,t,n){return[0>n?n+t:n]}),even:l(function(e,t){for(var n=0;t>n;n+=2)e.push(n);return e}),odd:l(function(e,t){for(var n=1;t>n;n+=2)e.push(n);return e}),lt:l(function(e,t,n){for(var r=0>n?n+t:n;--r>=0;)e.push(r);
return e}),gt:l(function(e,t,n){for(var r=0>n?n+t:n;++r<t;)e.push(r);return e})}},k.pseudos.nth=k.pseudos.eq;for(_ in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})k.pseudos[_]=a(_);for(_ in{submit:!0,reset:!0})k.pseudos[_]=u(_);return p.prototype=k.filters=k.pseudos,k.setFilters=new p,E=t.tokenize=function(e,n){var r,o,i,s,a,u,l,c=z[e+" "];if(c)return n?0:c.slice(0);for(a=e,u=[],l=k.preFilter;a;){(!r||(o=le.exec(a)))&&(o&&(a=a.slice(o[0].length)||a),u.push(i=[])),r=!1,(o=ce.exec(a))&&(r=o.shift(),i.push({value:r,type:o[0].replace(ue," ")}),a=a.slice(r.length));for(s in k.filter)!(o=fe[s].exec(a))||l[s]&&!(o=l[s](o))||(r=o.shift(),i.push({value:r,type:s,matches:o}),a=a.slice(r.length));if(!r)break}return n?a.length:a?t.error(e):z(e,u).slice(0)},T=t.compile=function(e,t){var n,r=[],o=[],i=q[e+" "];if(!i){for(t||(t=E(e)),n=t.length;n--;)i=b(t[n]),i[j]?r.push(i):o.push(i);i=q(e,y(o,r)),i.selector=e}return i},S=t.select=function(e,t,n,r){var o,i,s,a,u,l="function"==typeof e&&e,p=!r&&E(e=l.selector||e);if(n=n||[],
1===p.length){if(i=p[0]=p[0].slice(0),i.length>2&&"ID"===(s=i[0]).type&&w.getById&&9===t.nodeType&&I&&k.relative[i[1].type]){if(t=(k.find.ID(s.matches[0].replace(we,ke),t)||[])[0],!t)return n;l&&(t=t.parentNode),e=e.slice(i.shift().value.length)}for(o=fe.needsContext.test(e)?0:i.length;o--&&(s=i[o],!k.relative[a=s.type]);)if((u=k.find[a])&&(r=u(s.matches[0].replace(we,ke),ye.test(i[0].type)&&c(t.parentNode)||t))){if(i.splice(o,1),e=r.length&&d(i),!e)return Q.apply(n,r),n;break}}return(l||T(e,p))(r,t,!I,n,ye.test(e)&&c(t.parentNode)||t),n},w.sortStable=j.split("").sort(W).join("")===j,w.detectDuplicates=!!M,F(),w.sortDetached=o(function(e){return 1&e.compareDocumentPosition(N.createElement("div"))}),o(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||i("type|href|height|width",function(e,t,n){return n?void 0:e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),w.attributes&&o(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value");
})||i("value",function(e,t,n){return n||"input"!==e.nodeName.toLowerCase()?void 0:e.defaultValue}),o(function(e){return null==e.getAttribute("disabled")})||i(te,function(e,t,n){var r;return n?void 0:e[t]===!0?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),t}(e);X.find=oe,X.expr=oe.selectors,X.expr[":"]=X.expr.pseudos,X.unique=oe.uniqueSort,X.text=oe.getText,X.isXMLDoc=oe.isXML,X.contains=oe.contains;var ie=X.expr.match.needsContext,se=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,ae=/^.[^:#\[\.,]*$/;X.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?X.find.matchesSelector(r,e)?[r]:[]:X.find.matches(e,X.grep(t,function(e){return 1===e.nodeType}))},X.fn.extend({find:function(e){var t,n=this.length,r=[],o=this;if("string"!=typeof e)return this.pushStack(X(e).filter(function(){for(t=0;n>t;t++)if(X.contains(o[t],this))return!0}));for(t=0;n>t;t++)X.find(e,o[t],r);return r=this.pushStack(n>1?X.unique(r):r),r.selector=this.selector?this.selector+" "+e:e,r},filter:function(e){
return this.pushStack(r(this,e||[],!1))},not:function(e){return this.pushStack(r(this,e||[],!0))},is:function(e){return!!r(this,"string"==typeof e&&ie.test(e)?X(e):e||[],!1).length}});var ue,le=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,ce=X.fn.init=function(e,t){var n,r;if(!e)return this;if("string"==typeof e){if(n="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:le.exec(e),!n||!n[1]&&t)return!t||t.jquery?(t||ue).find(e):this.constructor(t).find(e);if(n[1]){if(t=t instanceof X?t[0]:t,X.merge(this,X.parseHTML(n[1],t&&t.nodeType?t.ownerDocument||t:J,!0)),se.test(n[1])&&X.isPlainObject(t))for(n in t)X.isFunction(this[n])?this[n](t[n]):this.attr(n,t[n]);return this}return r=J.getElementById(n[2]),r&&r.parentNode&&(this.length=1,this[0]=r),this.context=J,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):X.isFunction(e)?"undefined"!=typeof ue.ready?ue.ready(e):e(X):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),X.makeArray(e,this))};ce.prototype=X.fn,ue=X(J);
var pe=/^(?:parents|prev(?:Until|All))/,de={children:!0,contents:!0,next:!0,prev:!0};X.extend({dir:function(e,t,n){for(var r=[],o=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(o&&X(e).is(n))break;r.push(e)}return r},sibling:function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}}),X.fn.extend({has:function(e){var t=X(e,this),n=t.length;return this.filter(function(){for(var e=0;n>e;e++)if(X.contains(this,t[e]))return!0})},closest:function(e,t){for(var n,r=0,o=this.length,i=[],s=ie.test(e)||"string"!=typeof e?X(e,t||this.context):0;o>r;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(s?s.index(n)>-1:1===n.nodeType&&X.find.matchesSelector(n,e))){i.push(n);break}return this.pushStack(i.length>1?X.unique(i):i)},index:function(e){return e?"string"==typeof e?W.call(X(e),this[0]):W.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(X.unique(X.merge(this.get(),X(e,t))))},addBack:function(e){
return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),X.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return X.dir(e,"parentNode")},parentsUntil:function(e,t,n){return X.dir(e,"parentNode",n)},next:function(e){return o(e,"nextSibling")},prev:function(e){return o(e,"previousSibling")},nextAll:function(e){return X.dir(e,"nextSibling")},prevAll:function(e){return X.dir(e,"previousSibling")},nextUntil:function(e,t,n){return X.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return X.dir(e,"previousSibling",n)},siblings:function(e){return X.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return X.sibling(e.firstChild)},contents:function(e){return e.contentDocument||X.merge([],e.childNodes)}},function(e,t){X.fn[e]=function(n,r){var o=X.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(o=X.filter(r,o)),this.length>1&&(de[e]||X.unique(o),pe.test(e)&&o.reverse()),this.pushStack(o)}});var he=/\S+/g,fe={};X.Callbacks=function(e){
e="string"==typeof e?fe[e]||i(e):X.extend({},e);var t,n,r,o,s,a,u=[],l=!e.once&&[],c=function(i){for(t=e.memory&&i,n=!0,a=o||0,o=0,s=u.length,r=!0;u&&s>a;a++)if(u[a].apply(i[0],i[1])===!1&&e.stopOnFalse){t=!1;break}r=!1,u&&(l?l.length&&c(l.shift()):t?u=[]:p.disable())},p={add:function(){if(u){var n=u.length;!function i(t){X.each(t,function(t,n){var r=X.type(n);"function"===r?e.unique&&p.has(n)||u.push(n):n&&n.length&&"string"!==r&&i(n)})}(arguments),r?s=u.length:t&&(o=n,c(t))}return this},remove:function(){return u&&X.each(arguments,function(e,t){for(var n;(n=X.inArray(t,u,n))>-1;)u.splice(n,1),r&&(s>=n&&s--,a>=n&&a--)}),this},has:function(e){return e?X.inArray(e,u)>-1:!(!u||!u.length)},empty:function(){return u=[],s=0,this},disable:function(){return u=l=t=void 0,this},disabled:function(){return!u},lock:function(){return l=void 0,t||p.disable(),this},locked:function(){return!l},fireWith:function(e,t){return!u||n&&!l||(t=t||[],t=[e,t.slice?t.slice():t],r?l.push(t):c(t)),this},fire:function(){return p.fireWith(this,arguments),
this},fired:function(){return!!n}};return p},X.extend({Deferred:function(e){var t=[["resolve","done",X.Callbacks("once memory"),"resolved"],["reject","fail",X.Callbacks("once memory"),"rejected"],["notify","progress",X.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return o.done(arguments).fail(arguments),this},then:function(){var e=arguments;return X.Deferred(function(n){X.each(t,function(t,i){var s=X.isFunction(e[t])&&e[t];o[i[1]](function(){var e=s&&s.apply(this,arguments);e&&X.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[i[0]+"With"](this===r?n.promise():this,s?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?X.extend(e,r):r}},o={};return r.pipe=r.then,X.each(t,function(e,i){var s=i[2],a=i[3];r[i[1]]=s.add,a&&s.add(function(){n=a},t[1^e][2].disable,t[2][2].lock),o[i[0]]=function(){return o[i[0]+"With"](this===o?r:this,arguments),this},o[i[0]+"With"]=s.fireWith}),r.promise(o),e&&e.call(o,o),o},when:function(e){
var t,n,r,o=0,i=H.call(arguments),s=i.length,a=1!==s||e&&X.isFunction(e.promise)?s:0,u=1===a?e:X.Deferred(),l=function(e,n,r){return function(o){n[e]=this,r[e]=arguments.length>1?H.call(arguments):o,r===t?u.notifyWith(n,r):--a||u.resolveWith(n,r)}};if(s>1)for(t=new Array(s),n=new Array(s),r=new Array(s);s>o;o++)i[o]&&X.isFunction(i[o].promise)?i[o].promise().done(l(o,r,i)).fail(u.reject).progress(l(o,n,t)):--a;return a||u.resolveWith(r,i),u.promise()}});var me;X.fn.ready=function(e){return X.ready.promise().done(e),this},X.extend({isReady:!1,readyWait:1,holdReady:function(e){e?X.readyWait++:X.ready(!0)},ready:function(e){(e===!0?--X.readyWait:X.isReady)||(X.isReady=!0,e!==!0&&--X.readyWait>0||(me.resolveWith(J,[X]),X.fn.triggerHandler&&(X(J).triggerHandler("ready"),X(J).off("ready"))))}}),X.ready.promise=function(t){return me||(me=X.Deferred(),"complete"===J.readyState?setTimeout(X.ready):(J.addEventListener("DOMContentLoaded",s,!1),e.addEventListener("load",s,!1))),me.promise(t)},X.ready.promise();var ge=X.access=function(e,t,n,r,o,i,s){
var a=0,u=e.length,l=null==n;if("object"===X.type(n)){o=!0;for(a in n)X.access(e,t,a,n[a],!0,i,s)}else if(void 0!==r&&(o=!0,X.isFunction(r)||(s=!0),l&&(s?(t.call(e,r),t=null):(l=t,t=function(e,t,n){return l.call(X(e),n)})),t))for(;u>a;a++)t(e[a],n,s?r:r.call(e[a],a,t(e[a],n)));return o?e:l?t.call(e):u?t(e[0],n):i};X.acceptData=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType},a.uid=1,a.accepts=X.acceptData,a.prototype={key:function(e){if(!a.accepts(e))return 0;var t={},n=e[this.expando];if(!n){n=a.uid++;try{t[this.expando]={value:n},Object.defineProperties(e,t)}catch(r){t[this.expando]=n,X.extend(e,t)}}return this.cache[n]||(this.cache[n]={}),n},set:function(e,t,n){var r,o=this.key(e),i=this.cache[o];if("string"==typeof t)i[t]=n;else if(X.isEmptyObject(i))X.extend(this.cache[o],t);else for(r in t)i[r]=t[r];return i},get:function(e,t){var n=this.cache[this.key(e)];return void 0===t?n:n[t]},access:function(e,t,n){var r;return void 0===t||t&&"string"==typeof t&&void 0===n?(r=this.get(e,t),void 0!==r?r:this.get(e,X.camelCase(t))):(this.set(e,t,n),
void 0!==n?n:t)},remove:function(e,t){var n,r,o,i=this.key(e),s=this.cache[i];if(void 0===t)this.cache[i]={};else{X.isArray(t)?r=t.concat(t.map(X.camelCase)):(o=X.camelCase(t),t in s?r=[t,o]:(r=o,r=r in s?[r]:r.match(he)||[])),n=r.length;for(;n--;)delete s[r[n]]}},hasData:function(e){return!X.isEmptyObject(this.cache[e[this.expando]]||{})},discard:function(e){e[this.expando]&&delete this.cache[e[this.expando]]}};var ve=new a,be=new a,ye=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,_e=/([A-Z])/g;X.extend({hasData:function(e){return be.hasData(e)||ve.hasData(e)},data:function(e,t,n){return be.access(e,t,n)},removeData:function(e,t){be.remove(e,t)},_data:function(e,t,n){return ve.access(e,t,n)},_removeData:function(e,t){ve.remove(e,t)}}),X.fn.extend({data:function(e,t){var n,r,o,i=this[0],s=i&&i.attributes;if(void 0===e){if(this.length&&(o=be.get(i),1===i.nodeType&&!ve.get(i,"hasDataAttrs"))){for(n=s.length;n--;)s[n]&&(r=s[n].name,0===r.indexOf("data-")&&(r=X.camelCase(r.slice(5)),u(i,r,o[r])));ve.set(i,"hasDataAttrs",!0)}return o;
}return"object"==typeof e?this.each(function(){be.set(this,e)}):ge(this,function(t){var n,r=X.camelCase(e);if(i&&void 0===t){if(n=be.get(i,e),void 0!==n)return n;if(n=be.get(i,r),void 0!==n)return n;if(n=u(i,r,void 0),void 0!==n)return n}else this.each(function(){var n=be.get(this,r);be.set(this,r,t),-1!==e.indexOf("-")&&void 0!==n&&be.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){be.remove(this,e)})}}),X.extend({queue:function(e,t,n){var r;return e?(t=(t||"fx")+"queue",r=ve.get(e,t),n&&(!r||X.isArray(n)?r=ve.access(e,t,X.makeArray(n)):r.push(n)),r||[]):void 0},dequeue:function(e,t){t=t||"fx";var n=X.queue(e,t),r=n.length,o=n.shift(),i=X._queueHooks(e,t),s=function(){X.dequeue(e,t)};"inprogress"===o&&(o=n.shift(),r--),o&&("fx"===t&&n.unshift("inprogress"),delete i.stop,o.call(e,s,i)),!r&&i&&i.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return ve.get(e,n)||ve.access(e,n,{empty:X.Callbacks("once memory").add(function(){ve.remove(e,[t+"queue",n]);
})})}}),X.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?X.queue(this[0],e):void 0===t?this:this.each(function(){var n=X.queue(this,e,t);X._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&X.dequeue(this,e)})},dequeue:function(e){return this.each(function(){X.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,o=X.Deferred(),i=this,s=this.length,a=function(){--r||o.resolveWith(i,[i])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";s--;)n=ve.get(i[s],e+"queueHooks"),n&&n.empty&&(r++,n.empty.add(a));return a(),o.promise(t)}});var we=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ke=["Top","Right","Bottom","Left"],xe=function(e,t){return e=t||e,"none"===X.css(e,"display")||!X.contains(e.ownerDocument,e)},Ce=/^(?:checkbox|radio)$/i;!function(){var e=J.createDocumentFragment(),t=e.appendChild(J.createElement("div")),n=J.createElement("input");n.setAttribute("type","radio"),n.setAttribute("checked","checked"),
n.setAttribute("name","t"),t.appendChild(n),Z.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,t.innerHTML="<textarea>x</textarea>",Z.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue}();var Ee="undefined";Z.focusinBubbles="onfocusin"in e;var Te=/^key/,Se=/^(?:mouse|pointer|contextmenu)|click/,De=/^(?:focusinfocus|focusoutblur)$/,Ae=/^([^.]*)(?:\.(.+)|)$/;X.event={global:{},add:function(e,t,n,r,o){var i,s,a,u,l,c,p,d,h,f,m,g=ve.get(e);if(g)for(n.handler&&(i=n,n=i.handler,o=i.selector),n.guid||(n.guid=X.guid++),(u=g.events)||(u=g.events={}),(s=g.handle)||(s=g.handle=function(t){return typeof X!==Ee&&X.event.triggered!==t.type?X.event.dispatch.apply(e,arguments):void 0}),t=(t||"").match(he)||[""],l=t.length;l--;)a=Ae.exec(t[l])||[],h=m=a[1],f=(a[2]||"").split(".").sort(),h&&(p=X.event.special[h]||{},h=(o?p.delegateType:p.bindType)||h,p=X.event.special[h]||{},c=X.extend({type:h,origType:m,data:r,handler:n,guid:n.guid,selector:o,needsContext:o&&X.expr.match.needsContext.test(o),namespace:f.join(".")
},i),(d=u[h])||(d=u[h]=[],d.delegateCount=0,p.setup&&p.setup.call(e,r,f,s)!==!1||e.addEventListener&&e.addEventListener(h,s,!1)),p.add&&(p.add.call(e,c),c.handler.guid||(c.handler.guid=n.guid)),o?d.splice(d.delegateCount++,0,c):d.push(c),X.event.global[h]=!0)},remove:function(e,t,n,r,o){var i,s,a,u,l,c,p,d,h,f,m,g=ve.hasData(e)&&ve.get(e);if(g&&(u=g.events)){for(t=(t||"").match(he)||[""],l=t.length;l--;)if(a=Ae.exec(t[l])||[],h=m=a[1],f=(a[2]||"").split(".").sort(),h){for(p=X.event.special[h]||{},h=(r?p.delegateType:p.bindType)||h,d=u[h]||[],a=a[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=i=d.length;i--;)c=d[i],!o&&m!==c.origType||n&&n.guid!==c.guid||a&&!a.test(c.namespace)||r&&r!==c.selector&&("**"!==r||!c.selector)||(d.splice(i,1),c.selector&&d.delegateCount--,p.remove&&p.remove.call(e,c));s&&!d.length&&(p.teardown&&p.teardown.call(e,f,g.handle)!==!1||X.removeEvent(e,h,g.handle),delete u[h])}else for(h in u)X.event.remove(e,h+t[l],n,r,!0);X.isEmptyObject(u)&&(delete g.handle,ve.remove(e,"events"));
}},trigger:function(t,n,r,o){var i,s,a,u,l,c,p,d=[r||J],h=K.call(t,"type")?t.type:t,f=K.call(t,"namespace")?t.namespace.split("."):[];if(s=a=r=r||J,3!==r.nodeType&&8!==r.nodeType&&!De.test(h+X.event.triggered)&&(h.indexOf(".")>=0&&(f=h.split("."),h=f.shift(),f.sort()),l=h.indexOf(":")<0&&"on"+h,t=t[X.expando]?t:new X.Event(h,"object"==typeof t&&t),t.isTrigger=o?2:3,t.namespace=f.join("."),t.namespace_re=t.namespace?new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=r),n=null==n?[t]:X.makeArray(n,[t]),p=X.event.special[h]||{},o||!p.trigger||p.trigger.apply(r,n)!==!1)){if(!o&&!p.noBubble&&!X.isWindow(r)){for(u=p.delegateType||h,De.test(u+h)||(s=s.parentNode);s;s=s.parentNode)d.push(s),a=s;a===(r.ownerDocument||J)&&d.push(a.defaultView||a.parentWindow||e)}for(i=0;(s=d[i++])&&!t.isPropagationStopped();)t.type=i>1?u:p.bindType||h,c=(ve.get(s,"events")||{})[t.type]&&ve.get(s,"handle"),c&&c.apply(s,n),c=l&&s[l],c&&c.apply&&X.acceptData(s)&&(t.result=c.apply(s,n),t.result===!1&&t.preventDefault());
return t.type=h,o||t.isDefaultPrevented()||p._default&&p._default.apply(d.pop(),n)!==!1||!X.acceptData(r)||l&&X.isFunction(r[h])&&!X.isWindow(r)&&(a=r[l],a&&(r[l]=null),X.event.triggered=h,r[h](),X.event.triggered=void 0,a&&(r[l]=a)),t.result}},dispatch:function(e){e=X.event.fix(e);var t,n,r,o,i,s=[],a=H.call(arguments),u=(ve.get(this,"events")||{})[e.type]||[],l=X.event.special[e.type]||{};if(a[0]=e,e.delegateTarget=this,!l.preDispatch||l.preDispatch.call(this,e)!==!1){for(s=X.event.handlers.call(this,e,u),t=0;(o=s[t++])&&!e.isPropagationStopped();)for(e.currentTarget=o.elem,n=0;(i=o.handlers[n++])&&!e.isImmediatePropagationStopped();)(!e.namespace_re||e.namespace_re.test(i.namespace))&&(e.handleObj=i,e.data=i.data,r=((X.event.special[i.origType]||{}).handle||i.handler).apply(o.elem,a),void 0!==r&&(e.result=r)===!1&&(e.preventDefault(),e.stopPropagation()));return l.postDispatch&&l.postDispatch.call(this,e),e.result}},handlers:function(e,t){var n,r,o,i,s=[],a=t.delegateCount,u=e.target;if(a&&u.nodeType&&(!e.button||"click"!==e.type))for(;u!==this;u=u.parentNode||this)if(u.disabled!==!0||"click"!==e.type){
for(r=[],n=0;a>n;n++)i=t[n],o=i.selector+" ",void 0===r[o]&&(r[o]=i.needsContext?X(o,this).index(u)>=0:X.find(o,this,null,[u]).length),r[o]&&r.push(i);r.length&&s.push({elem:u,handlers:r})}return a<t.length&&s.push({elem:this,handlers:t.slice(a)}),s},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,r,o,i=t.button;return null==e.pageX&&null!=t.clientX&&(n=e.target.ownerDocument||J,r=n.documentElement,o=n.body,e.pageX=t.clientX+(r&&r.scrollLeft||o&&o.scrollLeft||0)-(r&&r.clientLeft||o&&o.clientLeft||0),e.pageY=t.clientY+(r&&r.scrollTop||o&&o.scrollTop||0)-(r&&r.clientTop||o&&o.clientTop||0)),e.which||void 0===i||(e.which=1&i?1:2&i?3:4&i?2:0),
e}},fix:function(e){if(e[X.expando])return e;var t,n,r,o=e.type,i=e,s=this.fixHooks[o];for(s||(this.fixHooks[o]=s=Se.test(o)?this.mouseHooks:Te.test(o)?this.keyHooks:{}),r=s.props?this.props.concat(s.props):this.props,e=new X.Event(i),t=r.length;t--;)n=r[t],e[n]=i[n];return e.target||(e.target=J),3===e.target.nodeType&&(e.target=e.target.parentNode),s.filter?s.filter(e,i):e},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==p()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===p()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&X.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(e){return X.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,r){var o=X.extend(new X.Event,n,{type:e,isSimulated:!0,originalEvent:{}});r?X.event.trigger(o,null,t):X.event.dispatch.call(t,o),
o.isDefaultPrevented()&&n.preventDefault()}},X.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)},X.Event=function(e,t){return this instanceof X.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&e.returnValue===!1?l:c):this.type=e,t&&X.extend(this,t),this.timeStamp=e&&e.timeStamp||X.now(),void(this[X.expando]=!0)):new X.Event(e,t)},X.Event.prototype={isDefaultPrevented:c,isPropagationStopped:c,isImmediatePropagationStopped:c,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=l,e&&e.preventDefault&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=l,e&&e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=l,e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),this.stopPropagation()}},X.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",
pointerleave:"pointerout"},function(e,t){X.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,o=e.relatedTarget,i=e.handleObj;return(!o||o!==r&&!X.contains(r,o))&&(e.type=i.origType,n=i.handler.apply(this,arguments),e.type=t),n}}}),Z.focusinBubbles||X.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){X.event.simulate(t,e.target,X.event.fix(e),!0)};X.event.special[t]={setup:function(){var r=this.ownerDocument||this,o=ve.access(r,t);o||r.addEventListener(e,n,!0),ve.access(r,t,(o||0)+1)},teardown:function(){var r=this.ownerDocument||this,o=ve.access(r,t)-1;o?ve.access(r,t,o):(r.removeEventListener(e,n,!0),ve.remove(r,t))}}}),X.fn.extend({on:function(e,t,n,r,o){var i,s;if("object"==typeof e){"string"!=typeof t&&(n=n||t,t=void 0);for(s in e)this.on(s,t,n,e[s],o);return this}if(null==n&&null==r?(r=t,n=t=void 0):null==r&&("string"==typeof t?(r=n,n=void 0):(r=n,n=t,t=void 0)),r===!1)r=c;else if(!r)return this;return 1===o&&(i=r,r=function(e){return X().off(e),i.apply(this,arguments);
},r.guid=i.guid||(i.guid=X.guid++)),this.each(function(){X.event.add(this,e,r,n,t)})},one:function(e,t,n,r){return this.on(e,t,n,r,1)},off:function(e,t,n){var r,o;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,X(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(o in e)this.off(o,t,e[o]);return this}return(t===!1||"function"==typeof t)&&(n=t,t=void 0),n===!1&&(n=c),this.each(function(){X.event.remove(this,e,n,t)})},trigger:function(e,t){return this.each(function(){X.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];return n?X.event.trigger(e,t,n,!0):void 0}});var Me=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Fe=/<([\w:]+)/,Ne=/<|&#?\w+;/,Oe=/<(?:script|style|link)/i,Ie=/checked\s*(?:[^=]|=\s*.checked.)/i,Pe=/^$|\/(?:java|ecma)script/i,Le=/^true\/(.*)/,Re=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Be={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],
col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Be.optgroup=Be.option,Be.tbody=Be.tfoot=Be.colgroup=Be.caption=Be.thead,Be.th=Be.td,X.extend({clone:function(e,t,n){var r,o,i,s,a=e.cloneNode(!0),u=X.contains(e.ownerDocument,e);if(!(Z.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||X.isXMLDoc(e)))for(s=v(a),i=v(e),r=0,o=i.length;o>r;r++)b(i[r],s[r]);if(t)if(n)for(i=i||v(e),s=s||v(a),r=0,o=i.length;o>r;r++)g(i[r],s[r]);else g(e,a);return s=v(a,"script"),s.length>0&&m(s,!u&&v(e,"script")),a},buildFragment:function(e,t,n,r){for(var o,i,s,a,u,l,c=t.createDocumentFragment(),p=[],d=0,h=e.length;h>d;d++)if(o=e[d],o||0===o)if("object"===X.type(o))X.merge(p,o.nodeType?[o]:o);else if(Ne.test(o)){for(i=i||c.appendChild(t.createElement("div")),s=(Fe.exec(o)||["",""])[1].toLowerCase(),a=Be[s]||Be._default,i.innerHTML=a[1]+o.replace(Me,"<$1></$2>")+a[2],l=a[0];l--;)i=i.lastChild;X.merge(p,i.childNodes),i=c.firstChild,
i.textContent=""}else p.push(t.createTextNode(o));for(c.textContent="",d=0;o=p[d++];)if((!r||-1===X.inArray(o,r))&&(u=X.contains(o.ownerDocument,o),i=v(c.appendChild(o),"script"),u&&m(i),n))for(l=0;o=i[l++];)Pe.test(o.type||"")&&n.push(o);return c},cleanData:function(e){for(var t,n,r,o,i=X.event.special,s=0;void 0!==(n=e[s]);s++){if(X.acceptData(n)&&(o=n[ve.expando],o&&(t=ve.cache[o]))){if(t.events)for(r in t.events)i[r]?X.event.remove(n,r):X.removeEvent(n,r,t.handle);ve.cache[o]&&delete ve.cache[o]}delete be.cache[n[be.expando]]}}}),X.fn.extend({text:function(e){return ge(this,function(e){return void 0===e?X.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=e)})},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=d(this,e);t.appendChild(e)}})},prepend:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){
var t=d(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){for(var n,r=e?X.filter(e,this):this,o=0;null!=(n=r[o]);o++)t||1!==n.nodeType||X.cleanData(v(n)),n.parentNode&&(t&&X.contains(n.ownerDocument,n)&&m(v(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(X.cleanData(v(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return X.clone(this,e,t)})},html:function(e){return ge(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Oe.test(e)&&!Be[(Fe.exec(e)||["",""])[1].toLowerCase()]){e=e.replace(Me,"<$1></$2>");try{for(;r>n;n++)t=this[n]||{},1===t.nodeType&&(X.cleanData(v(t,!1)),
t.innerHTML=e);t=0}catch(o){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=arguments[0];return this.domManip(arguments,function(t){e=this.parentNode,X.cleanData(v(this)),e&&e.replaceChild(t,this)}),e&&(e.length||e.nodeType)?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,t){e=z.apply([],e);var n,r,o,i,s,a,u=0,l=this.length,c=this,p=l-1,d=e[0],m=X.isFunction(d);if(m||l>1&&"string"==typeof d&&!Z.checkClone&&Ie.test(d))return this.each(function(n){var r=c.eq(n);m&&(e[0]=d.call(this,n,r.html())),r.domManip(e,t)});if(l&&(n=X.buildFragment(e,this[0].ownerDocument,!1,this),r=n.firstChild,1===n.childNodes.length&&(n=r),r)){for(o=X.map(v(n,"script"),h),i=o.length;l>u;u++)s=n,u!==p&&(s=X.clone(s,!0,!0),i&&X.merge(o,v(s,"script"))),t.call(this[u],s,u);if(i)for(a=o[o.length-1].ownerDocument,X.map(o,f),u=0;i>u;u++)s=o[u],Pe.test(s.type||"")&&!ve.access(s,"globalEval")&&X.contains(a,s)&&(s.src?X._evalUrl&&X._evalUrl(s.src):X.globalEval(s.textContent.replace(Re,"")));
}return this}}),X.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){X.fn[e]=function(e){for(var n,r=[],o=X(e),i=o.length-1,s=0;i>=s;s++)n=s===i?this:this.clone(!0),X(o[s])[t](n),q.apply(r,n.get());return this.pushStack(r)}});var je,$e={},Ue=/^margin/,Ve=new RegExp("^("+we+")(?!px)[a-z%]+$","i"),He=function(t){return t.ownerDocument.defaultView.opener?t.ownerDocument.defaultView.getComputedStyle(t,null):e.getComputedStyle(t,null)};!function(){function t(){s.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",s.innerHTML="",o.appendChild(i);var t=e.getComputedStyle(s,null);n="1%"!==t.top,r="4px"===t.width,o.removeChild(i)}var n,r,o=J.documentElement,i=J.createElement("div"),s=J.createElement("div");s.style&&(s.style.backgroundClip="content-box",s.cloneNode(!0).style.backgroundClip="",Z.clearCloneStyle="content-box"===s.style.backgroundClip,
i.style.cssText="border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;position:absolute",i.appendChild(s),e.getComputedStyle&&X.extend(Z,{pixelPosition:function(){return t(),n},boxSizingReliable:function(){return null==r&&t(),r},reliableMarginRight:function(){var t,n=s.appendChild(J.createElement("div"));return n.style.cssText=s.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",n.style.marginRight=n.style.width="0",s.style.width="1px",o.appendChild(i),t=!parseFloat(e.getComputedStyle(n,null).marginRight),o.removeChild(i),s.removeChild(n),t}}))}(),X.swap=function(e,t,n,r){var o,i,s={};for(i in t)s[i]=e.style[i],e.style[i]=t[i];o=n.apply(e,r||[]);for(i in t)e.style[i]=s[i];return o};var ze=/^(none|table(?!-c[ea]).+)/,qe=new RegExp("^("+we+")(.*)$","i"),We=new RegExp("^([+-])=("+we+")","i"),Ye={position:"absolute",visibility:"hidden",display:"block"},Ge={letterSpacing:"0",fontWeight:"400"},Ke=["Webkit","O","Moz","ms"];
X.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=w(e,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var o,i,s,a=X.camelCase(t),u=e.style;return t=X.cssProps[a]||(X.cssProps[a]=x(u,a)),s=X.cssHooks[t]||X.cssHooks[a],void 0===n?s&&"get"in s&&void 0!==(o=s.get(e,!1,r))?o:u[t]:(i=typeof n,"string"===i&&(o=We.exec(n))&&(n=(o[1]+1)*o[2]+parseFloat(X.css(e,t)),i="number"),null!=n&&n===n&&("number"!==i||X.cssNumber[a]||(n+="px"),Z.clearCloneStyle||""!==n||0!==t.indexOf("background")||(u[t]="inherit"),s&&"set"in s&&void 0===(n=s.set(e,n,r))||(u[t]=n)),void 0)}},css:function(e,t,n,r){var o,i,s,a=X.camelCase(t);return t=X.cssProps[a]||(X.cssProps[a]=x(e.style,a)),s=X.cssHooks[t]||X.cssHooks[a],s&&"get"in s&&(o=s.get(e,!0,n)),void 0===o&&(o=w(e,t,r)),"normal"===o&&t in Ge&&(o=Ge[t]),
""===n||n?(i=parseFloat(o),n===!0||X.isNumeric(i)?i||0:o):o}}),X.each(["height","width"],function(e,t){X.cssHooks[t]={get:function(e,n,r){return n?ze.test(X.css(e,"display"))&&0===e.offsetWidth?X.swap(e,Ye,function(){return T(e,t,r)}):T(e,t,r):void 0},set:function(e,n,r){var o=r&&He(e);return C(e,n,r?E(e,t,r,"border-box"===X.css(e,"boxSizing",!1,o),o):0)}}}),X.cssHooks.marginRight=k(Z.reliableMarginRight,function(e,t){return t?X.swap(e,{display:"inline-block"},w,[e,"marginRight"]):void 0}),X.each({margin:"",padding:"",border:"Width"},function(e,t){X.cssHooks[e+t]={expand:function(n){for(var r=0,o={},i="string"==typeof n?n.split(" "):[n];4>r;r++)o[e+ke[r]+t]=i[r]||i[r-2]||i[0];return o}},Ue.test(e)||(X.cssHooks[e+t].set=C)}),X.fn.extend({css:function(e,t){return ge(this,function(e,t,n){var r,o,i={},s=0;if(X.isArray(t)){for(r=He(e),o=t.length;o>s;s++)i[t[s]]=X.css(e,t[s],!1,r);return i}return void 0!==n?X.style(e,t,n):X.css(e,t)},e,t,arguments.length>1)},show:function(){return S(this,!0)},hide:function(){return S(this);
},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){xe(this)?X(this).show():X(this).hide()})}}),X.Tween=D,D.prototype={constructor:D,init:function(e,t,n,r,o,i){this.elem=e,this.prop=n,this.easing=o||"swing",this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=i||(X.cssNumber[n]?"":"px")},cur:function(){var e=D.propHooks[this.prop];return e&&e.get?e.get(this):D.propHooks._default.get(this)},run:function(e){var t,n=D.propHooks[this.prop];return this.options.duration?this.pos=t=X.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):D.propHooks._default.set(this),this}},D.prototype.init.prototype=D.prototype,D.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=X.css(e.elem,e.prop,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){
X.fx.step[e.prop]?X.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[X.cssProps[e.prop]]||X.cssHooks[e.prop])?X.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},D.propHooks.scrollTop=D.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},X.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},X.fx=D.prototype.init,X.fx.step={};var Ze,Je,Qe=/^(?:toggle|show|hide)$/,Xe=new RegExp("^(?:([+-])=|)("+we+")([a-z%]*)$","i"),et=/queueHooks$/,tt=[N],nt={"*":[function(e,t){var n=this.createTween(e,t),r=n.cur(),o=Xe.exec(t),i=o&&o[3]||(X.cssNumber[e]?"":"px"),s=(X.cssNumber[e]||"px"!==i&&+r)&&Xe.exec(X.css(n.elem,e)),a=1,u=20;if(s&&s[3]!==i){i=i||s[3],o=o||[],s=+r||1;do a=a||".5",s/=a,X.style(n.elem,e,s+i);while(a!==(a=n.cur()/r)&&1!==a&&--u)}return o&&(s=n.start=+s||+r||0,n.unit=i,n.end=o[1]?s+(o[1]+1)*o[2]:+o[2]),n}]};X.Animation=X.extend(I,{tweener:function(e,t){X.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var n,r=0,o=e.length;o>r;r++)n=e[r],
nt[n]=nt[n]||[],nt[n].unshift(t)},prefilter:function(e,t){t?tt.unshift(e):tt.push(e)}}),X.speed=function(e,t,n){var r=e&&"object"==typeof e?X.extend({},e):{complete:n||!n&&t||X.isFunction(e)&&e,duration:e,easing:n&&t||t&&!X.isFunction(t)&&t};return r.duration=X.fx.off?0:"number"==typeof r.duration?r.duration:r.duration in X.fx.speeds?X.fx.speeds[r.duration]:X.fx.speeds._default,(null==r.queue||r.queue===!0)&&(r.queue="fx"),r.old=r.complete,r.complete=function(){X.isFunction(r.old)&&r.old.call(this),r.queue&&X.dequeue(this,r.queue)},r},X.fn.extend({fadeTo:function(e,t,n,r){return this.filter(xe).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var o=X.isEmptyObject(e),i=X.speed(t,n,r),s=function(){var t=I(this,X.extend({},e),i);(o||ve.get(this,"finish"))&&t.stop(!0)};return s.finish=s,o||i.queue===!1?this.each(s):this.queue(i.queue,s)},stop:function(e,t,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&e!==!1&&this.queue(e||"fx",[]),
this.each(function(){var t=!0,o=null!=e&&e+"queueHooks",i=X.timers,s=ve.get(this);if(o)s[o]&&s[o].stop&&r(s[o]);else for(o in s)s[o]&&s[o].stop&&et.test(o)&&r(s[o]);for(o=i.length;o--;)i[o].elem!==this||null!=e&&i[o].queue!==e||(i[o].anim.stop(n),t=!1,i.splice(o,1));(t||!n)&&X.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,n=ve.get(this),r=n[e+"queue"],o=n[e+"queueHooks"],i=X.timers,s=r?r.length:0;for(n.finish=!0,X.queue(this,e,[]),o&&o.stop&&o.stop.call(this,!0),t=i.length;t--;)i[t].elem===this&&i[t].queue===e&&(i[t].anim.stop(!0),i.splice(t,1));for(t=0;s>t;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish})}}),X.each(["toggle","show","hide"],function(e,t){var n=X.fn[t];X.fn[t]=function(e,r,o){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(M(t,!0),e,r,o)}}),X.each({slideDown:M("show"),slideUp:M("hide"),slideToggle:M("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){X.fn[e]=function(e,n,r){
return this.animate(t,e,n,r)}}),X.timers=[],X.fx.tick=function(){var e,t=0,n=X.timers;for(Ze=X.now();t<n.length;t++)e=n[t],e()||n[t]!==e||n.splice(t--,1);n.length||X.fx.stop(),Ze=void 0},X.fx.timer=function(e){X.timers.push(e),e()?X.fx.start():X.timers.pop()},X.fx.interval=13,X.fx.start=function(){Je||(Je=setInterval(X.fx.tick,X.fx.interval))},X.fx.stop=function(){clearInterval(Je),Je=null},X.fx.speeds={slow:600,fast:200,_default:400},X.fn.delay=function(e,t){return e=X.fx?X.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var r=setTimeout(t,e);n.stop=function(){clearTimeout(r)}})},function(){var e=J.createElement("input"),t=J.createElement("select"),n=t.appendChild(J.createElement("option"));e.type="checkbox",Z.checkOn=""!==e.value,Z.optSelected=n.selected,t.disabled=!0,Z.optDisabled=!n.disabled,e=J.createElement("input"),e.value="t",e.type="radio",Z.radioValue="t"===e.value}();var rt,ot,it=X.expr.attrHandle;X.fn.extend({attr:function(e,t){return ge(this,X.attr,e,t,arguments.length>1)},removeAttr:function(e){
return this.each(function(){X.removeAttr(this,e)})}}),X.extend({attr:function(e,t,n){var r,o,i=e.nodeType;if(e&&3!==i&&8!==i&&2!==i)return typeof e.getAttribute===Ee?X.prop(e,t,n):(1===i&&X.isXMLDoc(e)||(t=t.toLowerCase(),r=X.attrHooks[t]||(X.expr.match.bool.test(t)?ot:rt)),void 0===n?r&&"get"in r&&null!==(o=r.get(e,t))?o:(o=X.find.attr(e,t),null==o?void 0:o):null!==n?r&&"set"in r&&void 0!==(o=r.set(e,n,t))?o:(e.setAttribute(t,n+""),n):void X.removeAttr(e,t))},removeAttr:function(e,t){var n,r,o=0,i=t&&t.match(he);if(i&&1===e.nodeType)for(;n=i[o++];)r=X.propFix[n]||n,X.expr.match.bool.test(n)&&(e[r]=!1),e.removeAttribute(n)},attrHooks:{type:{set:function(e,t){if(!Z.radioValue&&"radio"===t&&X.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}}}),ot={set:function(e,t,n){return t===!1?X.removeAttr(e,n):e.setAttribute(n,n),n}},X.each(X.expr.match.bool.source.match(/\w+/g),function(e,t){var n=it[t]||X.find.attr;it[t]=function(e,t,r){var o,i;return r||(i=it[t],it[t]=o,o=null!=n(e,t,r)?t.toLowerCase():null,
it[t]=i),o}});var st=/^(?:input|select|textarea|button)$/i;X.fn.extend({prop:function(e,t){return ge(this,X.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[X.propFix[e]||e]})}}),X.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(e,t,n){var r,o,i,s=e.nodeType;if(e&&3!==s&&8!==s&&2!==s)return i=1!==s||!X.isXMLDoc(e),i&&(t=X.propFix[t]||t,o=X.propHooks[t]),void 0!==n?o&&"set"in o&&void 0!==(r=o.set(e,n,t))?r:e[t]=n:o&&"get"in o&&null!==(r=o.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){return e.hasAttribute("tabindex")||st.test(e.nodeName)||e.href?e.tabIndex:-1}}}}),Z.optSelected||(X.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null}}),X.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){X.propFix[this.toLowerCase()]=this});var at=/[\t\r\n\f]/g;X.fn.extend({addClass:function(e){var t,n,r,o,i,s,a="string"==typeof e&&e,u=0,l=this.length;
if(X.isFunction(e))return this.each(function(t){X(this).addClass(e.call(this,t,this.className))});if(a)for(t=(e||"").match(he)||[];l>u;u++)if(n=this[u],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(at," "):" ")){for(i=0;o=t[i++];)r.indexOf(" "+o+" ")<0&&(r+=o+" ");s=X.trim(r),n.className!==s&&(n.className=s)}return this},removeClass:function(e){var t,n,r,o,i,s,a=0===arguments.length||"string"==typeof e&&e,u=0,l=this.length;if(X.isFunction(e))return this.each(function(t){X(this).removeClass(e.call(this,t,this.className))});if(a)for(t=(e||"").match(he)||[];l>u;u++)if(n=this[u],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(at," "):"")){for(i=0;o=t[i++];)for(;r.indexOf(" "+o+" ")>=0;)r=r.replace(" "+o+" "," ");s=e?X.trim(r):"",n.className!==s&&(n.className=s)}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):X.isFunction(e)?this.each(function(n){X(this).toggleClass(e.call(this,n,this.className,t),t)}):this.each(function(){
if("string"===n)for(var t,r=0,o=X(this),i=e.match(he)||[];t=i[r++];)o.hasClass(t)?o.removeClass(t):o.addClass(t);else(n===Ee||"boolean"===n)&&(this.className&&ve.set(this,"__className__",this.className),this.className=this.className||e===!1?"":ve.get(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",n=0,r=this.length;r>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(at," ").indexOf(t)>=0)return!0;return!1}});var ut=/\r/g;X.fn.extend({val:function(e){var t,n,r,o=this[0];{if(arguments.length)return r=X.isFunction(e),this.each(function(n){var o;1===this.nodeType&&(o=r?e.call(this,n,X(this).val()):e,null==o?o="":"number"==typeof o?o+="":X.isArray(o)&&(o=X.map(o,function(e){return null==e?"":e+""})),t=X.valHooks[this.type]||X.valHooks[this.nodeName.toLowerCase()],t&&"set"in t&&void 0!==t.set(this,o,"value")||(this.value=o))});if(o)return t=X.valHooks[o.type]||X.valHooks[o.nodeName.toLowerCase()],t&&"get"in t&&void 0!==(n=t.get(o,"value"))?n:(n=o.value,"string"==typeof n?n.replace(ut,""):null==n?"":n);
}}}),X.extend({valHooks:{option:{get:function(e){var t=X.find.attr(e,"value");return null!=t?t:X.trim(X.text(e))}},select:{get:function(e){for(var t,n,r=e.options,o=e.selectedIndex,i="select-one"===e.type||0>o,s=i?null:[],a=i?o+1:r.length,u=0>o?a:i?o:0;a>u;u++)if(n=r[u],(n.selected||u===o)&&(Z.optDisabled?!n.disabled:null===n.getAttribute("disabled"))&&(!n.parentNode.disabled||!X.nodeName(n.parentNode,"optgroup"))){if(t=X(n).val(),i)return t;s.push(t)}return s},set:function(e,t){for(var n,r,o=e.options,i=X.makeArray(t),s=o.length;s--;)r=o[s],(r.selected=X.inArray(r.value,i)>=0)&&(n=!0);return n||(e.selectedIndex=-1),i}}}}),X.each(["radio","checkbox"],function(){X.valHooks[this]={set:function(e,t){return X.isArray(t)?e.checked=X.inArray(X(e).val(),t)>=0:void 0}},Z.checkOn||(X.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),X.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){
X.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),X.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}});var lt=X.now(),ct=/\?/;X.parseJSON=function(e){return JSON.parse(e+"")},X.parseXML=function(e){var t,n;if(!e||"string"!=typeof e)return null;try{n=new DOMParser,t=n.parseFromString(e,"text/xml")}catch(r){t=void 0}return(!t||t.getElementsByTagName("parsererror").length)&&X.error("Invalid XML: "+e),t};var pt=/#.*$/,dt=/([?&])_=[^&]*/,ht=/^(.*?):[ \t]*([^\r\n]*)$/gm,ft=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,mt=/^(?:GET|HEAD)$/,gt=/^\/\//,vt=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,bt={},yt={},_t="*/".concat("*"),wt=e.location.href,kt=vt.exec(wt.toLowerCase())||[];X.extend({
active:0,lastModified:{},etag:{},ajaxSettings:{url:wt,type:"GET",isLocal:ft.test(kt[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":_t,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":X.parseJSON,"text xml":X.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?R(R(e,X.ajaxSettings),t):R(X.ajaxSettings,e)},ajaxPrefilter:P(bt),ajaxTransport:P(yt),ajax:function(e,t){function n(e,t,n,s){var u,c,v,b,_,k=t;2!==y&&(y=2,a&&clearTimeout(a),r=void 0,i=s||"",w.readyState=e>0?4:0,u=e>=200&&300>e||304===e,n&&(b=B(p,w,n)),b=j(p,b,w,u),u?(p.ifModified&&(_=w.getResponseHeader("Last-Modified"),_&&(X.lastModified[o]=_),_=w.getResponseHeader("etag"),_&&(X.etag[o]=_)),204===e||"HEAD"===p.type?k="nocontent":304===e?k="notmodified":(k=b.state,
c=b.data,v=b.error,u=!v)):(v=k,(e||!k)&&(k="error",0>e&&(e=0))),w.status=e,w.statusText=(t||k)+"",u?f.resolveWith(d,[c,k,w]):f.rejectWith(d,[w,k,v]),w.statusCode(g),g=void 0,l&&h.trigger(u?"ajaxSuccess":"ajaxError",[w,p,u?c:v]),m.fireWith(d,[w,k]),l&&(h.trigger("ajaxComplete",[w,p]),--X.active||X.event.trigger("ajaxStop")))}"object"==typeof e&&(t=e,e=void 0),t=t||{};var r,o,i,s,a,u,l,c,p=X.ajaxSetup({},t),d=p.context||p,h=p.context&&(d.nodeType||d.jquery)?X(d):X.event,f=X.Deferred(),m=X.Callbacks("once memory"),g=p.statusCode||{},v={},b={},y=0,_="canceled",w={readyState:0,getResponseHeader:function(e){var t;if(2===y){if(!s)for(s={};t=ht.exec(i);)s[t[1].toLowerCase()]=t[2];t=s[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===y?i:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return y||(e=b[n]=b[n]||e,v[e]=t),this},overrideMimeType:function(e){return y||(p.mimeType=e),this},statusCode:function(e){var t;if(e)if(2>y)for(t in e)g[t]=[g[t],e[t]];else w.always(e[w.status]);
return this},abort:function(e){var t=e||_;return r&&r.abort(t),n(0,t),this}};if(f.promise(w).complete=m.add,w.success=w.done,w.error=w.fail,p.url=((e||p.url||wt)+"").replace(pt,"").replace(gt,kt[1]+"//"),p.type=t.method||t.type||p.method||p.type,p.dataTypes=X.trim(p.dataType||"*").toLowerCase().match(he)||[""],null==p.crossDomain&&(u=vt.exec(p.url.toLowerCase()),p.crossDomain=!(!u||u[1]===kt[1]&&u[2]===kt[2]&&(u[3]||("http:"===u[1]?"80":"443"))===(kt[3]||("http:"===kt[1]?"80":"443")))),p.data&&p.processData&&"string"!=typeof p.data&&(p.data=X.param(p.data,p.traditional)),L(bt,p,t,w),2===y)return w;l=X.event&&p.global,l&&0===X.active++&&X.event.trigger("ajaxStart"),p.type=p.type.toUpperCase(),p.hasContent=!mt.test(p.type),o=p.url,p.hasContent||(p.data&&(o=p.url+=(ct.test(o)?"&":"?")+p.data,delete p.data),p.cache===!1&&(p.url=dt.test(o)?o.replace(dt,"$1_="+lt++):o+(ct.test(o)?"&":"?")+"_="+lt++)),p.ifModified&&(X.lastModified[o]&&w.setRequestHeader("If-Modified-Since",X.lastModified[o]),X.etag[o]&&w.setRequestHeader("If-None-Match",X.etag[o])),
(p.data&&p.hasContent&&p.contentType!==!1||t.contentType)&&w.setRequestHeader("Content-Type",p.contentType),w.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+_t+"; q=0.01":""):p.accepts["*"]);for(c in p.headers)w.setRequestHeader(c,p.headers[c]);if(p.beforeSend&&(p.beforeSend.call(d,w,p)===!1||2===y))return w.abort();_="abort";for(c in{success:1,error:1,complete:1})w[c](p[c]);if(r=L(yt,p,t,w)){w.readyState=1,l&&h.trigger("ajaxSend",[w,p]),p.async&&p.timeout>0&&(a=setTimeout(function(){w.abort("timeout")},p.timeout));try{y=1,r.send(v,n)}catch(k){if(!(2>y))throw k;n(-1,k)}}else n(-1,"No Transport");return w},getJSON:function(e,t,n){return X.get(e,t,n,"json")},getScript:function(e,t){return X.get(e,void 0,t,"script")}}),X.each(["get","post"],function(e,t){X[t]=function(e,n,r,o){return X.isFunction(n)&&(o=o||r,r=n,n=void 0),X.ajax({url:e,type:t,dataType:o,data:n,success:r})}}),X._evalUrl=function(e){return X.ajax({url:e,type:"GET",dataType:"script",
async:!1,global:!1,"throws":!0})},X.fn.extend({wrapAll:function(e){var t;return X.isFunction(e)?this.each(function(t){X(this).wrapAll(e.call(this,t))}):(this[0]&&(t=X(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this)},wrapInner:function(e){return X.isFunction(e)?this.each(function(t){X(this).wrapInner(e.call(this,t))}):this.each(function(){var t=X(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=X.isFunction(e);return this.each(function(n){X(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){X.nodeName(this,"body")||X(this).replaceWith(this.childNodes)}).end()}}),X.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0},X.expr.filters.visible=function(e){return!X.expr.filters.hidden(e)};var xt=/%20/g,Ct=/\[\]$/,Et=/\r?\n/g,Tt=/^(?:submit|button|image|reset|file)$/i,St=/^(?:input|select|textarea|keygen)/i;
X.param=function(e,t){var n,r=[],o=function(e,t){t=X.isFunction(t)?t():null==t?"":t,r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=X.ajaxSettings&&X.ajaxSettings.traditional),X.isArray(e)||e.jquery&&!X.isPlainObject(e))X.each(e,function(){o(this.name,this.value)});else for(n in e)$(n,e[n],t,o);return r.join("&").replace(xt,"+")},X.fn.extend({serialize:function(){return X.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=X.prop(this,"elements");return e?X.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!X(this).is(":disabled")&&St.test(this.nodeName)&&!Tt.test(e)&&(this.checked||!Ce.test(e))}).map(function(e,t){var n=X(this).val();return null==n?null:X.isArray(n)?X.map(n,function(e){return{name:t.name,value:e.replace(Et,"\r\n")}}):{name:t.name,value:n.replace(Et,"\r\n")}}).get()}}),X.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(e){}};var Dt=0,At={},Mt={0:200,1223:204},Ft=X.ajaxSettings.xhr();e.attachEvent&&e.attachEvent("onunload",function(){
for(var e in At)At[e]()}),Z.cors=!!Ft&&"withCredentials"in Ft,Z.ajax=Ft=!!Ft,X.ajaxTransport(function(e){var t;return Z.cors||Ft&&!e.crossDomain?{send:function(n,r){var o,i=e.xhr(),s=++Dt;if(i.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(o in e.xhrFields)i[o]=e.xhrFields[o];e.mimeType&&i.overrideMimeType&&i.overrideMimeType(e.mimeType),e.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest");for(o in n)i.setRequestHeader(o,n[o]);t=function(e){return function(){t&&(delete At[s],t=i.onload=i.onerror=null,"abort"===e?i.abort():"error"===e?r(i.status,i.statusText):r(Mt[i.status]||i.status,i.statusText,"string"==typeof i.responseText?{text:i.responseText}:void 0,i.getAllResponseHeaders()))}},i.onload=t(),i.onerror=t("error"),t=At[s]=t("abort");try{i.send(e.hasContent&&e.data||null)}catch(a){if(t)throw a}},abort:function(){t&&t()}}:void 0}),X.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/
},converters:{"text script":function(e){return X.globalEval(e),e}}}),X.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),X.ajaxTransport("script",function(e){if(e.crossDomain){var t,n;return{send:function(r,o){t=X("<script>").prop({async:!0,charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&o("error"===e.type?404:200,e.type)}),J.head.appendChild(t[0])},abort:function(){n&&n()}}}});var Nt=[],Ot=/(=)\?(?=&|$)|\?\?/;X.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Nt.pop()||X.expando+"_"+lt++;return this[e]=!0,e}}),X.ajaxPrefilter("json jsonp",function(t,n,r){var o,i,s,a=t.jsonp!==!1&&(Ot.test(t.url)?"url":"string"==typeof t.data&&!(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Ot.test(t.data)&&"data");return a||"jsonp"===t.dataTypes[0]?(o=t.jsonpCallback=X.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,a?t[a]=t[a].replace(Ot,"$1"+o):t.jsonp!==!1&&(t.url+=(ct.test(t.url)?"&":"?")+t.jsonp+"="+o),
t.converters["script json"]=function(){return s||X.error(o+" was not called"),s[0]},t.dataTypes[0]="json",i=e[o],e[o]=function(){s=arguments},r.always(function(){e[o]=i,t[o]&&(t.jsonpCallback=n.jsonpCallback,Nt.push(o)),s&&X.isFunction(i)&&i(s[0]),s=i=void 0}),"script"):void 0}),X.parseHTML=function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||J;var r=se.exec(e),o=!n&&[];return r?[t.createElement(r[1])]:(r=X.buildFragment([e],t,o),o&&o.length&&X(o).remove(),X.merge([],r.childNodes))};var It=X.fn.load;X.fn.load=function(e,t,n){if("string"!=typeof e&&It)return It.apply(this,arguments);var r,o,i,s=this,a=e.indexOf(" ");return a>=0&&(r=X.trim(e.slice(a)),e=e.slice(0,a)),X.isFunction(t)?(n=t,t=void 0):t&&"object"==typeof t&&(o="POST"),s.length>0&&X.ajax({url:e,type:o,dataType:"html",data:t}).done(function(e){i=arguments,s.html(r?X("<div>").append(X.parseHTML(e)).find(r):e)}).complete(n&&function(e,t){s.each(n,i||[e.responseText,t,e])}),this},X.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){
X.fn[t]=function(e){return this.on(t,e)}}),X.expr.filters.animated=function(e){return X.grep(X.timers,function(t){return e===t.elem}).length};var Pt=e.document.documentElement;X.offset={setOffset:function(e,t,n){var r,o,i,s,a,u,l,c=X.css(e,"position"),p=X(e),d={};"static"===c&&(e.style.position="relative"),a=p.offset(),i=X.css(e,"top"),u=X.css(e,"left"),l=("absolute"===c||"fixed"===c)&&(i+u).indexOf("auto")>-1,l?(r=p.position(),s=r.top,o=r.left):(s=parseFloat(i)||0,o=parseFloat(u)||0),X.isFunction(t)&&(t=t.call(e,n,a)),null!=t.top&&(d.top=t.top-a.top+s),null!=t.left&&(d.left=t.left-a.left+o),"using"in t?t.using.call(e,d):p.css(d)}},X.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){X.offset.setOffset(this,e,t)});var t,n,r=this[0],o={top:0,left:0},i=r&&r.ownerDocument;if(i)return t=i.documentElement,X.contains(t,r)?(typeof r.getBoundingClientRect!==Ee&&(o=r.getBoundingClientRect()),n=U(i),{top:o.top+n.pageYOffset-t.clientTop,left:o.left+n.pageXOffset-t.clientLeft}):o;
},position:function(){if(this[0]){var e,t,n=this[0],r={top:0,left:0};return"fixed"===X.css(n,"position")?t=n.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),X.nodeName(e[0],"html")||(r=e.offset()),r.top+=X.css(e[0],"borderTopWidth",!0),r.left+=X.css(e[0],"borderLeftWidth",!0)),{top:t.top-r.top-X.css(n,"marginTop",!0),left:t.left-r.left-X.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||Pt;e&&!X.nodeName(e,"html")&&"static"===X.css(e,"position");)e=e.offsetParent;return e||Pt})}}),X.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,n){var r="pageYOffset"===n;X.fn[t]=function(o){return ge(this,function(t,o,i){var s=U(t);return void 0===i?s?s[n]:t[o]:void(s?s.scrollTo(r?e.pageXOffset:i,r?i:e.pageYOffset):t[o]=i)},t,o,arguments.length,null)}}),X.each(["top","left"],function(e,t){X.cssHooks[t]=k(Z.pixelPosition,function(e,n){return n?(n=w(e,t),Ve.test(n)?X(e).position()[t]+"px":n):void 0})}),X.each({Height:"height",Width:"width"
},function(e,t){X.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,r){X.fn[r]=function(r,o){var i=arguments.length&&(n||"boolean"!=typeof r),s=n||(r===!0||o===!0?"margin":"border");return ge(this,function(t,n,r){var o;return X.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(o=t.documentElement,Math.max(t.body["scroll"+e],o["scroll"+e],t.body["offset"+e],o["offset"+e],o["client"+e])):void 0===r?X.css(t,n,s):X.style(t,n,r,s)},t,i?r:void 0,i,null)}})}),X.fn.size=function(){return this.length},X.fn.andSelf=X.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return X});var Lt=e.jQuery,Rt=e.$;return X.noConflict=function(t){return e.$===X&&(e.$=Rt),t&&e.jQuery===X&&(e.jQuery=Lt),X},typeof t===Ee&&(e.jQuery=e.$=X),X})},{}],591:[function(e,t,n){t.exports=e("./lib/")},{"./lib/":592}],592:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e){return e.replace(y,"")}function i(e){return o(g.inspect(e,{depth:1/0,showHidden:!0
}))}function s(e){var t="[keykey]";if(!Array.isArray(e))throw new TypeError(t+" Must call with an array.")}function a(e,t){var n={};return e.forEach(t.bind(t,n,e)),n}function u(e){var t=i(e);return _.set(t,e)}function l(e,t){s(e);var n=a(e,function(e,t,n){e[n]=n});return!t&&u(n),n}function c(e){return _.get(i(e))||l(e)}function p(e){return"undefined"==typeof e}function d(e){return"boolean"==typeof e}function h(e){return e[e.length-1]}function f(e){return!p(e)&&!d(e)}function m(e,t){if(f(t)){e=[].slice.call(arguments);var n=h(e);d(n)?(t=n,e.pop()):t=!1}return t?l(e,t):c(e)}var g=e("util"),v=e("lru-cache"),b=r(v),y=/\s+/g,_=b["default"](100);t.exports=m,t.exports.reset=function(){return _.reset()},t.exports.resetCache=t.exports.reset,t.exports.cacheKeys=function(){return _.keys()},t.exports.cacheValues=function(){return _.values()}},{"lru-cache":593,util:509}],593:[function(e,t,n){function r(){return 1}function o(e){return this instanceof o?("number"==typeof e&&(e={max:e}),e||(e={}),this._max=e.max,(!this._max||"number"!=typeof this._max||this._max<=0)&&(this._max=1/0),
this._lengthCalculator=e.length||r,"function"!=typeof this._lengthCalculator&&(this._lengthCalculator=r),this._allowStale=e.stale||!1,this._maxAge=e.maxAge||null,this._dispose=e.dispose,void this.reset()):new o(e)}function i(e){var t=e.size,n=new Array(t),r=t;return e.forEach(function(e,t){n[--r]=t}),n}function s(e,t,n,r){u(e,n)&&(d(e,n),e._allowStale||(n=void 0)),n&&t.call(r,n.value,n.key,e)}function a(e,t,n){var r=e._cache.get(t);return r&&(u(e,r)?(d(e,r),e._allowStale||(r=void 0)):n&&l(e,r),r&&(r=r.value)),r}function u(e,t){if(!t||!t.maxAge&&!e._maxAge)return!1;var n=!1,r=Date.now()-t.now;return n=t.maxAge?r>t.maxAge:e._maxAge&&r>e._maxAge}function l(e,t){p(e,t),t.lu=e._mru,m(e),e._lruList.set(t.lu,t)}function c(e){if(e._length>e._max)for(var t=i(e._lruList),n=t.length-1;e._length>e._max;n--)e._lru=t[n-1],d(e,e._lruList.get(t[n]))}function p(e,t){e._lruList["delete"](t.lu),t.lu===e._lru&&(e._lru=i(e._lruList).pop())}function d(e,t){t&&(e._dispose&&e._dispose(t.key,t.value),e._length-=t.length,e._cache["delete"](t.key),
p(e,t))}function h(e,t,n,r,o,i){this.key=e,this.value=t,this.lu=n,this.length=r,this.now=o,i&&(this.maxAge=i)}function f(e){return e===v?0:e+1}function m(e){do e._mru=f(e._mru);while(e._lruList.has(e._mru))}t.exports=o;var g=e("pseudomap");Object.defineProperty(o.prototype,"max",{set:function(e){(!e||"number"!=typeof e||0>=e)&&(e=1/0),this._max=e,this._length>this._max&&c(this)},get:function(){return this._max},enumerable:!0}),Object.defineProperty(o.prototype,"lengthCalculator",{set:function(e){"function"!=typeof e?(this._lengthCalculator=r,this._length=this._lruList.size,this._cache.forEach(function(e,t){e.length=1})):(this._lengthCalculator=e,this._length=0,this._cache.forEach(function(e,t){e.length=this._lengthCalculator(e.value,t),this._length+=e.length},this)),this._length>this._max&&c(this)},get:function(){return this._lengthCalculator},enumerable:!0}),Object.defineProperty(o.prototype,"length",{get:function(){return this._length},enumerable:!0}),Object.defineProperty(o.prototype,"itemCount",{get:function(){
return this._lruList.size},enumerable:!0}),o.prototype.rforEach=function(e,t){t=t||this,this._lruList.forEach(function(n){s(this,e,n,t)},this)},o.prototype.forEach=function(e,t){t=t||this;for(var n=i(this._lruList),r=0;r<n.length;r++){var o=this._lruList.get(n[r]);s(this,e,o,t)}},o.prototype.keys=function(){return i(this._lruList).map(function(e){return this._lruList.get(e).key},this)},o.prototype.values=function(){return i(this._lruList).map(function(e){return this._lruList.get(e).value},this)},o.prototype.reset=function(){this._dispose&&this._cache&&this._cache.forEach(function(e,t){this._dispose(t,e.value)},this),this._cache=new g,this._lruList=new g,this._mru=0,this._lru=0,this._length=0},o.prototype.dump=function(){this._lruList.size;return i(this._lruList).map(function(e){var t=this._lruList.get(e);return u(this,t)?void 0:{k:t.key,v:t.value,e:t.now+(t.maxAge||0)}},this).filter(function(e){return e})},o.prototype.dumpLru=function(){return this._lruList},o.prototype.set=function(e,t,n){n=n||this._maxAge;var r=n?Date.now():0,o=this._lengthCalculator(t,e);
if(this._cache.has(e)){if(o>this._max)return d(this,this._cache.get(e)),!1;var i=this._cache.get(e);return this._dispose&&this._dispose(e,i.value),i.now=r,i.maxAge=n,i.value=t,this._length+=o-i.length,i.length=o,this.get(e),this._length>this._max&&c(this),!0}var s=new h(e,t,this._mru,o,r,n);return m(this),s.length>this._max?(this._dispose&&this._dispose(e,t),!1):(this._length+=s.length,this._cache.set(e,s),this._lruList.set(s.lu,s),this._length>this._max&&c(this),!0)},o.prototype.has=function(e){if(!this._cache.has(e))return!1;var t=this._cache.get(e);return u(this,t)?!1:!0},o.prototype.get=function(e){return a(this,e,!0)},o.prototype.peek=function(e){return a(this,e,!1)},o.prototype.pop=function(){var e=this._lruList.get(this._lru);return d(this,e),e||null},o.prototype.del=function(e){d(this,this._cache.get(e))},o.prototype.load=function(e){this.reset();for(var t=Date.now(),n=e.length-1;n>=0;n--){var r=e[n],o=r.e||0;if(0===o)this.set(r.k,r.v);else{var i=o-t;i>0&&this.set(r.k,r.v,i)}}};var v=Number.MAX_SAFE_INTEGER||9007199254740991;
},{pseudomap:594}],594:[function(e,t,n){(function(n){"pseudomap"===n.env.npm_package_name&&"test"===n.env.npm_lifecycle_script&&(n.env.TEST_PSEUDOMAP="true"),"function"!=typeof Map||n.env.TEST_PSEUDOMAP?t.exports=e("./pseudomap"):t.exports=Map}).call(this,e("_process"))},{"./pseudomap":595,_process:505}],595:[function(e,t,n){function r(e){if(!(this instanceof r))throw new TypeError("Constructor PseudoMap requires 'new'");if(this.clear(),e)if(e instanceof r||"function"==typeof Map&&e instanceof Map)e.forEach(function(e,t){this.set(t,e)},this);else{if(!Array.isArray(e))throw new TypeError("invalid argument");e.forEach(function(e){this.set(e[0],e[1])},this)}}function o(e,t){return e===t||e!==e&&t!==t}function i(e,t,n){this.key=e,this.value=t,this._index=n}function s(e,t){for(var n=0,r="_"+t,i=r;u.call(e,i);i=r+n++)if(o(e[i].key,t))return e[i]}function a(e,t,n){for(var r=0,s="_"+t,a=s;u.call(e,a);a=s+r++)if(o(e[a].key,t))return void(e[a].value=n);e.size++,e[a]=new i(t,n,a)}var u=Object.prototype.hasOwnProperty;t.exports=r,
r.prototype.forEach=function(e,t){t=t||this,Object.keys(this._data).forEach(function(n){"size"!==n&&e.call(t,this._data[n].value,this._data[n].key)},this)},r.prototype.has=function(e){return!!s(this._data,e)},r.prototype.get=function(e){var t=s(this._data,e);return t&&t.value},r.prototype.set=function(e,t){a(this._data,e,t)},r.prototype["delete"]=function(e){var t=s(this._data,e);t&&(delete this._data[t._index],this._data.size--)},r.prototype.clear=function(){var e=Object.create(null);e.size=0,Object.defineProperty(this,"_data",{value:e,enumerable:!1,configurable:!0,writable:!1})},Object.defineProperty(r.prototype,"size",{get:function(){return this._data.size},set:function(e){},enumerable:!0,configurable:!0}),r.prototype.values=r.prototype.keys=r.prototype.entries=function(){throw new Error("iterators are not implemented in this version")}},{}],596:[function(e,t,n){(function(){"use strict";var e,t;if(e=window.location,!e.origin){t=e.protocol+"//"+e.hostname+(e.port?":"+e.port:"");try{Object.defineProperty(e,"origin",{
value:t,enumerable:!0})}catch(n){e.origin=t}}}).call(this)},{}],597:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){var n=e[t].content,r=e[t].markup;return'<a class="tag">'+r+n+"</a>"}Object.defineProperty(n,"__esModule",{value:!0});var i=e("./parser"),s=r(i);n["default"]=function(e,t){var n="#|\uff03",r=s["default"](e,"hashtag",new RegExp(n));e.core.ruler.push("hashtag",r),e.renderer.rules.hashtag=o},t.exports=n["default"]},{"./parser":600}],598:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var o=e("./hashtag"),i=r(o),s=e("./mention"),a=r(s),u=e("./url"),l=r(u);n["default"]=function(e,t){i["default"](e,t),a["default"](e,t),l["default"](e,t)},t.exports=n["default"]},{"./hashtag":597,"./mention":599,"./url":602}],599:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){var n=e[t].content,r=e[t].markup;return'<a class="mention">'+r+n+"</a>";
}Object.defineProperty(n,"__esModule",{value:!0});var i=e("./parser"),s=r(i);n["default"]=function(e,t){var n="@|\uff20",r=s["default"](e,"mention",new RegExp(n));e.core.ruler.push("mention",r),e.renderer.rules.mention=o},t.exports=n["default"]},{"./parser":600}],600:[function(e,t,n){"use strict";function r(e){return"[^"+e.slice(1)}function o(e,t,n){return new RegExp("(?:^|$|"+r(n)+")((?:"+e+")(?:"+t+")*(?:"+n+")+)","g")}function i(e,t,n,r,o){var i=e.content,s=e.level,a=i.match(n);if(null!==a){for(var u=[],l=0;l<a.length;l++){var c=a[l].search(t),p=a[l].slice(c+1),d=i.indexOf(a[l])+c;if(d>0){var h=new r("text","",0);h.content=i.slice(0,d),h.level=s,u.push(h)}var f=new r(o,"",0);f.content=p,f.markup=a[l][c],f.level=s,u.push(f),i=i.slice(d+1+p.length)}if(i.length>0){var f=new r("text","",0);f.content=i,f.level=s,u.push(f)}return u}}Object.defineProperty(n,"__esModule",{value:!0});var s=e("./unicode");n["default"]=function(e,t,n){var r=e.utils.arrayReplaceAt,a=o(n.source,s.tagCharacter,s.tagEnd);return function(e){
for(var o,s=e.tokens,u=0;u<s.length;u++)if("inline"===s[u].type){o=s[u].children;for(var l=o.length-1;l>=0;l--){var c=o[l];if("link_close"!==c.type){if("text"===c.type){var p=i(c,n,a,e.Token,t);p&&(s[u].children=o=r(o,l,p))}}else for(l--;o[l].level!==c.level&&"link_open"!==o[l].type;)l--}}}},t.exports=n["default"]},{"./unicode":601}],601:[function(e,t,n){t.exports={tagEnd:"[\\-0-9A-Z_a-z\\xAA\\xB2\\xB3\\xB5\\xB9\\xBA\\xBC-\\xBE\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0300-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u0483-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u058A\\u0591-\\u05BF\\u05C1\\u05C2\\u05C4\\u05C5\\u05C7\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0610-\\u061A\\u0620-\\u0669\\u066E-\\u06D3\\u06D5-\\u06DC\\u06DF-\\u06E8\\u06EA-\\u06FC\\u06FF\\u0710-\\u074A\\u074D-\\u07B1\\u07C0-\\u07F5\\u07FA\\u0800-\\u082D\\u0840-\\u085B\\u08A0-\\u08B2\\u08E4-\\u0963\\u0966-\\u096F\\u0971-\\u0983\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BC-\\u09C4\\u09C7\\u09C8\\u09CB-\\u09CE\\u09D7\\u09DC\\u09DD\\u09DF-\\u09E3\\u09E6-\\u09F1\\u09F4-\\u09F9\\u0A01-\\u0A03\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A3C\\u0A3E-\\u0A42\\u0A47\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A59-\\u0A5C\\u0A5E\\u0A66-\\u0A75\\u0A81-\\u0A83\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABC-\\u0AC5\\u0AC7-\\u0AC9\\u0ACB-\\u0ACD\\u0AD0\\u0AE0-\\u0AE3\\u0AE6-\\u0AEF\\u0B01-\\u0B03\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3C-\\u0B44\\u0B47\\u0B48\\u0B4B-\\u0B4D\\u0B56\\u0B57\\u0B5C\\u0B5D\\u0B5F-\\u0B63\\u0B66-\\u0B6F\\u0B71-\\u0B77\\u0B82\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BBE-\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCD\\u0BD0\\u0BD7\\u0BE6-\\u0BF2\\u0C00-\\u0C03\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D-\\u0C44\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55\\u0C56\\u0C58\\u0C59\\u0C60-\\u0C63\\u0C66-\\u0C6F\\u0C78-\\u0C7E\\u0C81-\\u0C83\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBC-\\u0CC4\\u0CC6-\\u0CC8\\u0CCA-\\u0CCD\\u0CD5\\u0CD6\\u0CDE\\u0CE0-\\u0CE3\\u0CE6-\\u0CEF\\u0CF1\\u0CF2\\u0D01-\\u0D03\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D-\\u0D44\\u0D46-\\u0D48\\u0D4A-\\u0D4E\\u0D57\\u0D60-\\u0D63\\u0D66-\\u0D75\\u0D7A-\\u0D7F\\u0D82\\u0D83\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0DCA\\u0DCF-\\u0DD4\\u0DD6\\u0DD8-\\u0DDF\\u0DE6-\\u0DEF\\u0DF2\\u0DF3\\u0E01-\\u0E3A\\u0E40-\\u0E4E\\u0E50-\\u0E59\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB9\\u0EBB-\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EC8-\\u0ECD\\u0ED0-\\u0ED9\\u0EDC-\\u0EDF\\u0F00\\u0F18\\u0F19\\u0F20-\\u0F33\\u0F35\\u0F37\\u0F39\\u0F3E-\\u0F47\\u0F49-\\u0F6C\\u0F71-\\u0F84\\u0F86-\\u0F97\\u0F99-\\u0FBC\\u0FC6\\u1000-\\u1049\\u1050-\\u109D\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u135D-\\u135F\\u1369-\\u137C\\u1380-\\u138F\\u13A0-\\u13F4\\u1400-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1714\\u1720-\\u1734\\u1740-\\u1753\\u1760-\\u176C\\u176E-\\u1770\\u1772\\u1773\\u1780-\\u17D3\\u17D7\\u17DC\\u17DD\\u17E0-\\u17E9\\u17F0-\\u17F9\\u1806\\u180B-\\u180D\\u1810-\\u1819\\u1820-\\u1877\\u1880-\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1920-\\u192B\\u1930-\\u193B\\u1946-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19B0-\\u19C9\\u19D0-\\u19DA\\u1A00-\\u1A1B\\u1A20-\\u1A5E\\u1A60-\\u1A7C\\u1A7F-\\u1A89\\u1A90-\\u1A99\\u1AA7\\u1AB0-\\u1ABE\\u1B00-\\u1B4B\\u1B50-\\u1B59\\u1B6B-\\u1B73\\u1B80-\\u1BF3\\u1C00-\\u1C37\\u1C40-\\u1C49\\u1C4D-\\u1C7D\\u1CD0-\\u1CD2\\u1CD4-\\u1CF6\\u1CF8\\u1CF9\\u1D00-\\u1DF5\\u1DFC-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2010-\\u2015\\u203F\\u2040\\u2054\\u2070\\u2071\\u2074-\\u2079\\u207F-\\u2089\\u2090-\\u209C\\u20D0-\\u20F0\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2150-\\u2189\\u2460-\\u249B\\u24EA-\\u24FF\\u2776-\\u2793\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CF3\\u2CFD\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D7F-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2DE0-\\u2DFF\\u2E17\\u2E1A\\u2E2F\\u2E3A\\u2E3B\\u2E40\\u3005-\\u3007\\u301C\\u3021-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u3099\\u309A\\u309D-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u3192-\\u3195\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3220-\\u3229\\u3248-\\u324F\\u3251-\\u325F\\u3280-\\u3289\\u32B1-\\u32BF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA62B\\uA640-\\uA672\\uA674-\\uA67D\\uA67F-\\uA69D\\uA69F-\\uA6F1\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA827\\uA830-\\uA835\\uA840-\\uA873\\uA880-\\uA8C4\\uA8D0-\\uA8D9\\uA8E0-\\uA8F7\\uA8FB\\uA900-\\uA92D\\uA930-\\uA953\\uA960-\\uA97C\\uA980-\\uA9C0\\uA9CF-\\uA9D9\\uA9E0-\\uA9FE\\uAA00-\\uAA36\\uAA40-\\uAA4D\\uAA50-\\uAA59\\uAA60-\\uAA76\\uAA7A-\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEF\\uAAF2-\\uAAF6\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABEA\\uABEC\\uABED\\uABF0-\\uABF9\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE00-\\uFE0F\\uFE20-\\uFE2D\\uFE31-\\uFE34\\uFE4D-\\uFE4F\\uFE58\\uFE63\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF0D\\uFF10-\\uFF19\\uFF21-\\uFF3A\\uFF3F\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]|\\uD800[\\uDC00-\\uDC0B\\uDC0D-\\uDC26\\uDC28-\\uDC3A\\uDC3C\\uDC3D\\uDC3F-\\uDC4D\\uDC50-\\uDC5D\\uDC80-\\uDCFA\\uDD07-\\uDD33\\uDD40-\\uDD78\\uDD8A\\uDD8B\\uDDFD\\uDE80-\\uDE9C\\uDEA0-\\uDED0\\uDEE0-\\uDEFB\\uDF00-\\uDF23\\uDF30-\\uDF4A\\uDF50-\\uDF7A\\uDF80-\\uDF9D\\uDFA0-\\uDFC3\\uDFC8-\\uDFCF\\uDFD1-\\uDFD5]|\\uD801[\\uDC00-\\uDC9D\\uDCA0-\\uDCA9\\uDD00-\\uDD27\\uDD30-\\uDD63\\uDE00-\\uDF36\\uDF40-\\uDF55\\uDF60-\\uDF67]|\\uD802[\\uDC00-\\uDC05\\uDC08\\uDC0A-\\uDC35\\uDC37\\uDC38\\uDC3C\\uDC3F-\\uDC55\\uDC58-\\uDC76\\uDC79-\\uDC9E\\uDCA7-\\uDCAF\\uDD00-\\uDD1B\\uDD20-\\uDD39\\uDD80-\\uDDB7\\uDDBE\\uDDBF\\uDE00-\\uDE03\\uDE05\\uDE06\\uDE0C-\\uDE13\\uDE15-\\uDE17\\uDE19-\\uDE33\\uDE38-\\uDE3A\\uDE3F-\\uDE47\\uDE60-\\uDE7E\\uDE80-\\uDE9F\\uDEC0-\\uDEC7\\uDEC9-\\uDEE6\\uDEEB-\\uDEEF\\uDF00-\\uDF35\\uDF40-\\uDF55\\uDF58-\\uDF72\\uDF78-\\uDF91\\uDFA9-\\uDFAF]|\\uD803[\\uDC00-\\uDC48\\uDE60-\\uDE7E]|\\uD804[\\uDC00-\\uDC46\\uDC52-\\uDC6F\\uDC7F-\\uDCBA\\uDCD0-\\uDCE8\\uDCF0-\\uDCF9\\uDD00-\\uDD34\\uDD36-\\uDD3F\\uDD50-\\uDD73\\uDD76\\uDD80-\\uDDC4\\uDDD0-\\uDDDA\\uDDE1-\\uDDF4\\uDE00-\\uDE11\\uDE13-\\uDE37\\uDEB0-\\uDEEA\\uDEF0-\\uDEF9\\uDF01-\\uDF03\\uDF05-\\uDF0C\\uDF0F\\uDF10\\uDF13-\\uDF28\\uDF2A-\\uDF30\\uDF32\\uDF33\\uDF35-\\uDF39\\uDF3C-\\uDF44\\uDF47\\uDF48\\uDF4B-\\uDF4D\\uDF57\\uDF5D-\\uDF63\\uDF66-\\uDF6C\\uDF70-\\uDF74]|\\uD805[\\uDC80-\\uDCC5\\uDCC7\\uDCD0-\\uDCD9\\uDD80-\\uDDB5\\uDDB8-\\uDDC0\\uDE00-\\uDE40\\uDE44\\uDE50-\\uDE59\\uDE80-\\uDEB7\\uDEC0-\\uDEC9]|\\uD806[\\uDCA0-\\uDCF2\\uDCFF\\uDEC0-\\uDEF8]|\\uD808[\\uDC00-\\uDF98]|\\uD809[\\uDC00-\\uDC6E]|[\\uD80C\\uD840-\\uD868\\uD86A-\\uD86C][\\uDC00-\\uDFFF]|\\uD80D[\\uDC00-\\uDC2E]|\\uD81A[\\uDC00-\\uDE38\\uDE40-\\uDE5E\\uDE60-\\uDE69\\uDED0-\\uDEED\\uDEF0-\\uDEF4\\uDF00-\\uDF36\\uDF40-\\uDF43\\uDF50-\\uDF59\\uDF5B-\\uDF61\\uDF63-\\uDF77\\uDF7D-\\uDF8F]|\\uD81B[\\uDF00-\\uDF44\\uDF50-\\uDF7E\\uDF8F-\\uDF9F]|\\uD82C[\\uDC00\\uDC01]|\\uD82F[\\uDC00-\\uDC6A\\uDC70-\\uDC7C\\uDC80-\\uDC88\\uDC90-\\uDC99\\uDC9D\\uDC9E]|\\uD834[\\uDD65-\\uDD69\\uDD6D-\\uDD72\\uDD7B-\\uDD82\\uDD85-\\uDD8B\\uDDAA-\\uDDAD\\uDE42-\\uDE44\\uDF60-\\uDF71]|\\uD835[\\uDC00-\\uDC54\\uDC56-\\uDC9C\\uDC9E\\uDC9F\\uDCA2\\uDCA5\\uDCA6\\uDCA9-\\uDCAC\\uDCAE-\\uDCB9\\uDCBB\\uDCBD-\\uDCC3\\uDCC5-\\uDD05\\uDD07-\\uDD0A\\uDD0D-\\uDD14\\uDD16-\\uDD1C\\uDD1E-\\uDD39\\uDD3B-\\uDD3E\\uDD40-\\uDD44\\uDD46\\uDD4A-\\uDD50\\uDD52-\\uDEA5\\uDEA8-\\uDEC0\\uDEC2-\\uDEDA\\uDEDC-\\uDEFA\\uDEFC-\\uDF14\\uDF16-\\uDF34\\uDF36-\\uDF4E\\uDF50-\\uDF6E\\uDF70-\\uDF88\\uDF8A-\\uDFA8\\uDFAA-\\uDFC2\\uDFC4-\\uDFCB\\uDFCE-\\uDFFF]|\\uD83A[\\uDC00-\\uDCC4\\uDCC7-\\uDCD6]|\\uD83B[\\uDE00-\\uDE03\\uDE05-\\uDE1F\\uDE21\\uDE22\\uDE24\\uDE27\\uDE29-\\uDE32\\uDE34-\\uDE37\\uDE39\\uDE3B\\uDE42\\uDE47\\uDE49\\uDE4B\\uDE4D-\\uDE4F\\uDE51\\uDE52\\uDE54\\uDE57\\uDE59\\uDE5B\\uDE5D\\uDE5F\\uDE61\\uDE62\\uDE64\\uDE67-\\uDE6A\\uDE6C-\\uDE72\\uDE74-\\uDE77\\uDE79-\\uDE7C\\uDE7E\\uDE80-\\uDE89\\uDE8B-\\uDE9B\\uDEA1-\\uDEA3\\uDEA5-\\uDEA9\\uDEAB-\\uDEBB]|\\uD83C[\\uDD00-\\uDD0C]|\\uD869[\\uDC00-\\uDED6\\uDF00-\\uDFFF]|\\uD86D[\\uDC00-\\uDF34\\uDF40-\\uDFFF]|\\uD86E[\\uDC00-\\uDC1D]|\\uD87E[\\uDC00-\\uDE1D]|\\uDB40[\\uDD00-\\uDDEF]",
tagCharacter:"[\\-\\.0-9A-Z_a-z\\xAA\\xB2\\xB3\\xB5\\xB9\\xBA\\xBC-\\xBE\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0300-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u0483-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u058A\\u0591-\\u05BF\\u05C1\\u05C2\\u05C4\\u05C5\\u05C7\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0610-\\u061A\\u0620-\\u0669\\u066E-\\u06D3\\u06D5-\\u06DC\\u06DF-\\u06E8\\u06EA-\\u06FC\\u06FF\\u0710-\\u074A\\u074D-\\u07B1\\u07C0-\\u07F5\\u07FA\\u0800-\\u082D\\u0840-\\u085B\\u08A0-\\u08B2\\u08E4-\\u0963\\u0966-\\u096F\\u0971-\\u0983\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BC-\\u09C4\\u09C7\\u09C8\\u09CB-\\u09CE\\u09D7\\u09DC\\u09DD\\u09DF-\\u09E3\\u09E6-\\u09F1\\u09F4-\\u09F9\\u0A01-\\u0A03\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A3C\\u0A3E-\\u0A42\\u0A47\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A59-\\u0A5C\\u0A5E\\u0A66-\\u0A75\\u0A81-\\u0A83\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABC-\\u0AC5\\u0AC7-\\u0AC9\\u0ACB-\\u0ACD\\u0AD0\\u0AE0-\\u0AE3\\u0AE6-\\u0AEF\\u0B01-\\u0B03\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3C-\\u0B44\\u0B47\\u0B48\\u0B4B-\\u0B4D\\u0B56\\u0B57\\u0B5C\\u0B5D\\u0B5F-\\u0B63\\u0B66-\\u0B6F\\u0B71-\\u0B77\\u0B82\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BBE-\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCD\\u0BD0\\u0BD7\\u0BE6-\\u0BF2\\u0C00-\\u0C03\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D-\\u0C44\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55\\u0C56\\u0C58\\u0C59\\u0C60-\\u0C63\\u0C66-\\u0C6F\\u0C78-\\u0C7E\\u0C81-\\u0C83\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBC-\\u0CC4\\u0CC6-\\u0CC8\\u0CCA-\\u0CCD\\u0CD5\\u0CD6\\u0CDE\\u0CE0-\\u0CE3\\u0CE6-\\u0CEF\\u0CF1\\u0CF2\\u0D01-\\u0D03\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D-\\u0D44\\u0D46-\\u0D48\\u0D4A-\\u0D4E\\u0D57\\u0D60-\\u0D63\\u0D66-\\u0D75\\u0D7A-\\u0D7F\\u0D82\\u0D83\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0DCA\\u0DCF-\\u0DD4\\u0DD6\\u0DD8-\\u0DDF\\u0DE6-\\u0DEF\\u0DF2\\u0DF3\\u0E01-\\u0E3A\\u0E40-\\u0E4E\\u0E50-\\u0E59\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB9\\u0EBB-\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EC8-\\u0ECD\\u0ED0-\\u0ED9\\u0EDC-\\u0EDF\\u0F00\\u0F18\\u0F19\\u0F20-\\u0F33\\u0F35\\u0F37\\u0F39\\u0F3E-\\u0F47\\u0F49-\\u0F6C\\u0F71-\\u0F84\\u0F86-\\u0F97\\u0F99-\\u0FBC\\u0FC6\\u1000-\\u1049\\u1050-\\u109D\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u135D-\\u135F\\u1369-\\u137C\\u1380-\\u138F\\u13A0-\\u13F4\\u1400-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1714\\u1720-\\u1734\\u1740-\\u1753\\u1760-\\u176C\\u176E-\\u1770\\u1772\\u1773\\u1780-\\u17D3\\u17D7\\u17DC\\u17DD\\u17E0-\\u17E9\\u17F0-\\u17F9\\u1806\\u180B-\\u180D\\u1810-\\u1819\\u1820-\\u1877\\u1880-\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1920-\\u192B\\u1930-\\u193B\\u1946-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19B0-\\u19C9\\u19D0-\\u19DA\\u1A00-\\u1A1B\\u1A20-\\u1A5E\\u1A60-\\u1A7C\\u1A7F-\\u1A89\\u1A90-\\u1A99\\u1AA7\\u1AB0-\\u1ABE\\u1B00-\\u1B4B\\u1B50-\\u1B59\\u1B6B-\\u1B73\\u1B80-\\u1BF3\\u1C00-\\u1C37\\u1C40-\\u1C49\\u1C4D-\\u1C7D\\u1CD0-\\u1CD2\\u1CD4-\\u1CF6\\u1CF8\\u1CF9\\u1D00-\\u1DF5\\u1DFC-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2010-\\u2015\\u203F\\u2040\\u2054\\u2070\\u2071\\u2074-\\u2079\\u207F-\\u2089\\u2090-\\u209C\\u20D0-\\u20F0\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2150-\\u2189\\u2460-\\u249B\\u24EA-\\u24FF\\u2776-\\u2793\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CF3\\u2CFD\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D7F-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2DE0-\\u2DFF\\u2E17\\u2E1A\\u2E2F\\u2E3A\\u2E3B\\u2E40\\u3005-\\u3007\\u301C\\u3021-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u3099\\u309A\\u309D-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u3192-\\u3195\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3220-\\u3229\\u3248-\\u324F\\u3251-\\u325F\\u3280-\\u3289\\u32B1-\\u32BF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA62B\\uA640-\\uA672\\uA674-\\uA67D\\uA67F-\\uA69D\\uA69F-\\uA6F1\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA827\\uA830-\\uA835\\uA840-\\uA873\\uA880-\\uA8C4\\uA8D0-\\uA8D9\\uA8E0-\\uA8F7\\uA8FB\\uA900-\\uA92D\\uA930-\\uA953\\uA960-\\uA97C\\uA980-\\uA9C0\\uA9CF-\\uA9D9\\uA9E0-\\uA9FE\\uAA00-\\uAA36\\uAA40-\\uAA4D\\uAA50-\\uAA59\\uAA60-\\uAA76\\uAA7A-\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEF\\uAAF2-\\uAAF6\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABEA\\uABEC\\uABED\\uABF0-\\uABF9\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE00-\\uFE0F\\uFE20-\\uFE2D\\uFE31-\\uFE34\\uFE4D-\\uFE4F\\uFE58\\uFE63\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF0D\\uFF10-\\uFF19\\uFF21-\\uFF3A\\uFF3F\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]|\\uD800[\\uDC00-\\uDC0B\\uDC0D-\\uDC26\\uDC28-\\uDC3A\\uDC3C\\uDC3D\\uDC3F-\\uDC4D\\uDC50-\\uDC5D\\uDC80-\\uDCFA\\uDD07-\\uDD33\\uDD40-\\uDD78\\uDD8A\\uDD8B\\uDDFD\\uDE80-\\uDE9C\\uDEA0-\\uDED0\\uDEE0-\\uDEFB\\uDF00-\\uDF23\\uDF30-\\uDF4A\\uDF50-\\uDF7A\\uDF80-\\uDF9D\\uDFA0-\\uDFC3\\uDFC8-\\uDFCF\\uDFD1-\\uDFD5]|\\uD801[\\uDC00-\\uDC9D\\uDCA0-\\uDCA9\\uDD00-\\uDD27\\uDD30-\\uDD63\\uDE00-\\uDF36\\uDF40-\\uDF55\\uDF60-\\uDF67]|\\uD802[\\uDC00-\\uDC05\\uDC08\\uDC0A-\\uDC35\\uDC37\\uDC38\\uDC3C\\uDC3F-\\uDC55\\uDC58-\\uDC76\\uDC79-\\uDC9E\\uDCA7-\\uDCAF\\uDD00-\\uDD1B\\uDD20-\\uDD39\\uDD80-\\uDDB7\\uDDBE\\uDDBF\\uDE00-\\uDE03\\uDE05\\uDE06\\uDE0C-\\uDE13\\uDE15-\\uDE17\\uDE19-\\uDE33\\uDE38-\\uDE3A\\uDE3F-\\uDE47\\uDE60-\\uDE7E\\uDE80-\\uDE9F\\uDEC0-\\uDEC7\\uDEC9-\\uDEE6\\uDEEB-\\uDEEF\\uDF00-\\uDF35\\uDF40-\\uDF55\\uDF58-\\uDF72\\uDF78-\\uDF91\\uDFA9-\\uDFAF]|\\uD803[\\uDC00-\\uDC48\\uDE60-\\uDE7E]|\\uD804[\\uDC00-\\uDC46\\uDC52-\\uDC6F\\uDC7F-\\uDCBA\\uDCD0-\\uDCE8\\uDCF0-\\uDCF9\\uDD00-\\uDD34\\uDD36-\\uDD3F\\uDD50-\\uDD73\\uDD76\\uDD80-\\uDDC4\\uDDD0-\\uDDDA\\uDDE1-\\uDDF4\\uDE00-\\uDE11\\uDE13-\\uDE37\\uDEB0-\\uDEEA\\uDEF0-\\uDEF9\\uDF01-\\uDF03\\uDF05-\\uDF0C\\uDF0F\\uDF10\\uDF13-\\uDF28\\uDF2A-\\uDF30\\uDF32\\uDF33\\uDF35-\\uDF39\\uDF3C-\\uDF44\\uDF47\\uDF48\\uDF4B-\\uDF4D\\uDF57\\uDF5D-\\uDF63\\uDF66-\\uDF6C\\uDF70-\\uDF74]|\\uD805[\\uDC80-\\uDCC5\\uDCC7\\uDCD0-\\uDCD9\\uDD80-\\uDDB5\\uDDB8-\\uDDC0\\uDE00-\\uDE40\\uDE44\\uDE50-\\uDE59\\uDE80-\\uDEB7\\uDEC0-\\uDEC9]|\\uD806[\\uDCA0-\\uDCF2\\uDCFF\\uDEC0-\\uDEF8]|\\uD808[\\uDC00-\\uDF98]|\\uD809[\\uDC00-\\uDC6E]|[\\uD80C\\uD840-\\uD868\\uD86A-\\uD86C][\\uDC00-\\uDFFF]|\\uD80D[\\uDC00-\\uDC2E]|\\uD81A[\\uDC00-\\uDE38\\uDE40-\\uDE5E\\uDE60-\\uDE69\\uDED0-\\uDEED\\uDEF0-\\uDEF4\\uDF00-\\uDF36\\uDF40-\\uDF43\\uDF50-\\uDF59\\uDF5B-\\uDF61\\uDF63-\\uDF77\\uDF7D-\\uDF8F]|\\uD81B[\\uDF00-\\uDF44\\uDF50-\\uDF7E\\uDF8F-\\uDF9F]|\\uD82C[\\uDC00\\uDC01]|\\uD82F[\\uDC00-\\uDC6A\\uDC70-\\uDC7C\\uDC80-\\uDC88\\uDC90-\\uDC99\\uDC9D\\uDC9E]|\\uD834[\\uDD65-\\uDD69\\uDD6D-\\uDD72\\uDD7B-\\uDD82\\uDD85-\\uDD8B\\uDDAA-\\uDDAD\\uDE42-\\uDE44\\uDF60-\\uDF71]|\\uD835[\\uDC00-\\uDC54\\uDC56-\\uDC9C\\uDC9E\\uDC9F\\uDCA2\\uDCA5\\uDCA6\\uDCA9-\\uDCAC\\uDCAE-\\uDCB9\\uDCBB\\uDCBD-\\uDCC3\\uDCC5-\\uDD05\\uDD07-\\uDD0A\\uDD0D-\\uDD14\\uDD16-\\uDD1C\\uDD1E-\\uDD39\\uDD3B-\\uDD3E\\uDD40-\\uDD44\\uDD46\\uDD4A-\\uDD50\\uDD52-\\uDEA5\\uDEA8-\\uDEC0\\uDEC2-\\uDEDA\\uDEDC-\\uDEFA\\uDEFC-\\uDF14\\uDF16-\\uDF34\\uDF36-\\uDF4E\\uDF50-\\uDF6E\\uDF70-\\uDF88\\uDF8A-\\uDFA8\\uDFAA-\\uDFC2\\uDFC4-\\uDFCB\\uDFCE-\\uDFFF]|\\uD83A[\\uDC00-\\uDCC4\\uDCC7-\\uDCD6]|\\uD83B[\\uDE00-\\uDE03\\uDE05-\\uDE1F\\uDE21\\uDE22\\uDE24\\uDE27\\uDE29-\\uDE32\\uDE34-\\uDE37\\uDE39\\uDE3B\\uDE42\\uDE47\\uDE49\\uDE4B\\uDE4D-\\uDE4F\\uDE51\\uDE52\\uDE54\\uDE57\\uDE59\\uDE5B\\uDE5D\\uDE5F\\uDE61\\uDE62\\uDE64\\uDE67-\\uDE6A\\uDE6C-\\uDE72\\uDE74-\\uDE77\\uDE79-\\uDE7C\\uDE7E\\uDE80-\\uDE89\\uDE8B-\\uDE9B\\uDEA1-\\uDEA3\\uDEA5-\\uDEA9\\uDEAB-\\uDEBB]|\\uD83C[\\uDD00-\\uDD0C]|\\uD869[\\uDC00-\\uDED6\\uDF00-\\uDFFF]|\\uD86D[\\uDC00-\\uDF34\\uDF40-\\uDFFF]|\\uD86E[\\uDC00-\\uDC1D]|\\uD87E[\\uDC00-\\uDE1D]|\\uDB40[\\uDD00-\\uDDEF]"
}},{}],602:[function(e,t,n){"use strict";function r(e){var t=!0;e:for(;t;){var n=e;r=o=i=void 0,t=!1;var r=n.match(/(\(<[^>]+>\))|<([^>]+)>\)/);if(void 0!==r&&null!==r){var o=r[2];if(void 0!==o&&null!==o){var i=n.replace("<"+r[2]+">)","<"+r[2]+")>");e=i,t=!0;continue e}}return n}}function o(e){var t=/([a-z-_.:]+:\/\/\S+[^)\W]-?\/?)/gi,n=e.replace(t,"<$1>");return r(n).replace(/(<_([^>]+)_>)/,"_[$2]($2)_").replace(/\[([^\]]+)\]\(<([^>]+)>\)/,"[$1]($2)").replace(/<(onenote:[^>]+)>/,"[$1]($1)").replace(/<<([^>]+)>>/gi,"<$1>")}function i(e){var t=e.indexOf("`");if(-1===t)return o(e);var n=e.slice(0,t),r=e.indexOf("`",t+1),s=-1===r?e.length:r+1,a=e.slice(t,s);return o(n)+a+i(e.slice(s))}function s(e){for(var t=e.tokens,n=0;n<t.length;n++){var r=t[n];"inline"===r.type&&(r.content=i(r.content))}}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=function(e,t){e.core.ruler.after("block","flowdock-url",s)},t.exports=n["default"]},{}],603:[function(e,t,n){"use strict";t.exports=e("./lib/")},{"./lib/":613}],604:[function(e,t,n){
"use strict";t.exports=e("entities/maps/entities.json")},{"entities/maps/entities.json":654}],605:[function(e,t,n){"use strict";t.exports=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","head","header","hr","html","legend","li","link","main","menu","menuitem","meta","nav","noframes","ol","optgroup","option","p","param","pre","section","source","title","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"]},{}],606:[function(e,t,n){"use strict";var r="[a-zA-Z_:][a-zA-Z0-9:._-]*",o="[^\"'=<>`\\x00-\\x20]+",i="'[^']*'",s='"[^"]*"',a="(?:"+o+"|"+i+"|"+s+")",u="(?:\\s+"+r+"(?:\\s*=\\s*"+a+")?)",l="<[A-Za-z][A-Za-z0-9\\-]*"+u+"*\\s*\\/?>",c="<\\/[A-Za-z][A-Za-z0-9\\-]*\\s*>",p="<!---->|<!--(?:-?[^>-])(?:-?[^-])*-->",d="<[?].*?[?]>",h="<![A-Z]+\\s+[^>]*>",f="<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",m=new RegExp("^(?:"+l+"|"+c+"|"+p+"|"+d+"|"+h+"|"+f+")"),g=new RegExp("^(?:"+l+"|"+c+")");
t.exports.HTML_TAG_RE=m,t.exports.HTML_OPEN_CLOSE_TAG_RE=g},{}],607:[function(e,t,n){"use strict";t.exports=["coap","doi","javascript","aaa","aaas","about","acap","cap","cid","crid","data","dav","dict","dns","file","ftp","geo","go","gopher","h323","http","https","iax","icap","im","imap","info","ipp","iris","iris.beep","iris.xpc","iris.xpcs","iris.lwz","ldap","mailto","mid","msrp","msrps","mtqp","mupdate","news","nfs","ni","nih","nntp","opaquelocktoken","pop","pres","rtsp","service","session","shttp","sieve","sip","sips","sms","snmp","soap.beep","soap.beeps","tag","tel","telnet","tftp","thismessage","tn3270","tip","tv","urn","vemmi","ws","wss","xcon","xcon-userid","xmlrpc.beep","xmlrpc.beeps","xmpp","z39.50r","z39.50s","adiumxtra","afp","afs","aim","apt","attachment","aw","beshare","bitcoin","bolo","callto","chrome","chrome-extension","com-eventbrite-attendee","content","cvs","dlna-playsingle","dlna-playcontainer","dtn","dvb","ed2k","facetime","feed","finger","fish","gg","git","gizmoproject","gtalk","hcp","icon","ipn","irc","irc6","ircs","itms","jar","jms","keyparc","lastfm","ldaps","magnet","maps","market","message","mms","ms-help","msnim","mumble","mvn","notes","oid","palm","paparazzi","platform","proxy","psyc","query","res","resource","rmi","rsync","rtmp","secondlife","sftp","sgn","skype","smb","soldat","spotify","ssh","steam","svn","teamspeak","things","udp","unreal","ut2004","ventrilo","view-source","webcal","wtai","wyciwyg","xfire","xri","ymsgr"];
},{}],608:[function(e,t,n){"use strict";function r(e){return Object.prototype.toString.call(e)}function o(e){return"[object String]"===r(e)}function i(e,t){return _.call(e,t)}function s(e){var t=Array.prototype.slice.call(arguments,1);return t.forEach(function(t){if(t){if("object"!=typeof t)throw new TypeError(t+"must be object");Object.keys(t).forEach(function(n){e[n]=t[n]})}}),e}function a(e,t,n){return[].concat(e.slice(0,t),n,e.slice(t+1))}function u(e){return e>=55296&&57343>=e?!1:e>=64976&&65007>=e?!1:65535===(65535&e)||65534===(65535&e)?!1:e>=0&&8>=e?!1:11===e?!1:e>=14&&31>=e?!1:e>=127&&159>=e?!1:e>1114111?!1:!0}function l(e){if(e>65535){e-=65536;var t=55296+(e>>10),n=56320+(1023&e);return String.fromCharCode(t,n)}return String.fromCharCode(e)}function c(e,t){var n=0;return i(E,t)?E[t]:35===t.charCodeAt(0)&&C.test(t)&&(n="x"===t[1].toLowerCase()?parseInt(t.slice(2),16):parseInt(t.slice(1),10),u(n))?l(n):e}function p(e){return e.indexOf("\\")<0?e:e.replace(w,"$1")}function d(e){return e.indexOf("\\")<0&&e.indexOf("&")<0?e:e.replace(x,function(e,t,n){
return t?t:c(e,n)})}function h(e){return D[e]}function f(e){return T.test(e)?e.replace(S,h):e}function m(e){return e.replace(A,"\\$&")}function g(e){if(e>=8192&&8202>=e)return!0;switch(e){case 9:case 10:case 11:case 12:case 13:case 32:case 160:case 5760:case 8239:case 8287:case 12288:return!0}return!1}function v(e){return M.test(e)}function b(e){switch(e){case 33:case 34:case 35:case 36:case 37:case 38:case 39:case 40:case 41:case 42:case 43:case 44:case 45:case 46:case 47:case 58:case 59:case 60:case 61:case 62:case 63:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 124:case 125:case 126:return!0;default:return!1}}function y(e){return e.trim().replace(/\s+/g," ").toUpperCase()}var _=Object.prototype.hasOwnProperty,w=/\\([!"#$%&'()*+,\-.\/:;<=>?@[\\\]^_`{|}~])/g,k=/&([a-z#][a-z0-9]{1,31});/gi,x=new RegExp(w.source+"|"+k.source,"gi"),C=/^#((?:x[a-f0-9]{1,8}|[0-9]{1,8}))/i,E=e("./entities"),T=/[&<>"]/,S=/[&<>"]/g,D={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"},A=/[.?*+^$[\]\\(){}|-]/g,M=e("uc.micro/categories/P/regex");
n.lib={},n.lib.mdurl=e("mdurl"),n.lib.ucmicro=e("uc.micro"),n.assign=s,n.isString=o,n.has=i,n.unescapeMd=p,n.unescapeAll=d,n.isValidEntityCode=u,n.fromCodePoint=l,n.escapeHtml=f,n.arrayReplaceAt=a,n.isWhiteSpace=g,n.isMdAsciiPunct=b,n.isPunctChar=v,n.escapeRE=m,n.normalizeReference=y},{"./entities":604,mdurl:660,"uc.micro":666,"uc.micro/categories/P/regex":664}],609:[function(e,t,n){"use strict";n.parseLinkLabel=e("./parse_link_label"),n.parseLinkDestination=e("./parse_link_destination"),n.parseLinkTitle=e("./parse_link_title")},{"./parse_link_destination":610,"./parse_link_label":611,"./parse_link_title":612}],610:[function(e,t,n){"use strict";var r=e("../common/utils").unescapeAll;t.exports=function(e,t,n){var o,i,s=0,a=t,u={ok:!1,pos:0,lines:0,str:""};if(60===e.charCodeAt(t)){for(t++;n>t;){if(o=e.charCodeAt(t),10===o)return u;if(62===o)return u.pos=t+1,u.str=r(e.slice(a+1,t)),u.ok=!0,u;92===o&&n>t+1?t+=2:t++}return u}for(i=0;n>t&&(o=e.charCodeAt(t),32!==o)&&!(32>o||127===o);)if(92===o&&n>t+1)t+=2;else{if(40===o&&(i++,
i>1))break;if(41===o&&(i--,0>i))break;t++}return a===t?u:(u.str=r(e.slice(a,t)),u.lines=s,u.pos=t,u.ok=!0,u)}},{"../common/utils":608}],611:[function(e,t,n){"use strict";t.exports=function(e,t,n){var r,o,i,s,a=-1,u=e.posMax,l=e.pos;for(e.pos=t+1,r=1;e.pos<u;){if(i=e.src.charCodeAt(e.pos),93===i&&(r--,0===r)){o=!0;break}if(s=e.pos,e.md.inline.skipToken(e),91===i)if(s===e.pos-1)r++;else if(n)return e.pos=l,-1}return o&&(a=e.pos),e.pos=l,a}},{}],612:[function(e,t,n){"use strict";var r=e("../common/utils").unescapeAll;t.exports=function(e,t,n){var o,i,s=0,a=t,u={ok:!1,pos:0,lines:0,str:""};if(t>=n)return u;if(i=e.charCodeAt(t),34!==i&&39!==i&&40!==i)return u;for(t++,40===i&&(i=41);n>t;){if(o=e.charCodeAt(t),o===i)return u.pos=t+1,u.lines=s,u.str=r(e.slice(a+1,t)),u.ok=!0,u;10===o?s++:92===o&&n>t+1&&(t++,10===e.charCodeAt(t)&&s++),t++}return u}},{"../common/utils":608}],613:[function(e,t,n){"use strict";function r(e){var t=e.trim().toLowerCase();return v.test(t)?b.test(t)?!0:!1:!0}function o(e){var t=f.parse(e,!0);if(t.hostname&&(!t.protocol||y.indexOf(t.protocol)>=0))try{
t.hostname=m.toASCII(t.hostname)}catch(n){}return f.encode(f.format(t))}function i(e){var t=f.parse(e,!0);if(t.hostname&&(!t.protocol||y.indexOf(t.protocol)>=0))try{t.hostname=m.toUnicode(t.hostname)}catch(n){}return f.decode(f.format(t))}function s(e,t){return this instanceof s?(t||a.isString(e)||(t=e||{},e="default"),this.inline=new d,this.block=new p,this.core=new c,this.renderer=new l,this.linkify=new h,this.validateLink=r,this.normalizeLink=o,this.normalizeLinkText=i,this.utils=a,this.helpers=u,this.options={},this.configure(e),void(t&&this.set(t))):new s(e,t)}var a=e("./common/utils"),u=e("./helpers"),l=e("./renderer"),c=e("./parser_core"),p=e("./parser_block"),d=e("./parser_inline"),h=e("linkify-it"),f=e("mdurl"),m=e("punycode"),g={"default":e("./presets/default"),zero:e("./presets/zero"),commonmark:e("./presets/commonmark")},v=/^(vbscript|javascript|file|data):/,b=/^data:image\/(gif|png|jpeg|webp);/,y=["http:","https:","mailto:"];s.prototype.set=function(e){return a.assign(this.options,e),this},s.prototype.configure=function(e){
var t,n=this;if(a.isString(e)&&(t=e,e=g[t],!e))throw new Error('Wrong `markdown-it` preset "'+t+'", check name');if(!e)throw new Error("Wrong `markdown-it` preset, can't be empty");return e.options&&n.set(e.options),e.components&&Object.keys(e.components).forEach(function(t){e.components[t].rules&&n[t].ruler.enableOnly(e.components[t].rules)}),this},s.prototype.enable=function(e,t){var n=[];Array.isArray(e)||(e=[e]),["core","block","inline"].forEach(function(t){n=n.concat(this[t].ruler.enable(e,!0))},this);var r=e.filter(function(e){return n.indexOf(e)<0});if(r.length&&!t)throw new Error("MarkdownIt. Failed to enable unknown rule(s): "+r);return this},s.prototype.disable=function(e,t){var n=[];Array.isArray(e)||(e=[e]),["core","block","inline"].forEach(function(t){n=n.concat(this[t].ruler.disable(e,!0))},this);var r=e.filter(function(e){return n.indexOf(e)<0});if(r.length&&!t)throw new Error("MarkdownIt. Failed to disable unknown rule(s): "+r);return this},s.prototype.use=function(e){var t=[this].concat(Array.prototype.slice.call(arguments,1));
return e.apply(e,t),this},s.prototype.parse=function(e,t){var n=new this.core.State(e,this,t);return this.core.process(n),n.tokens},s.prototype.render=function(e,t){return t=t||{},this.renderer.render(this.parse(e,t),this.options,t)},s.prototype.parseInline=function(e,t){var n=new this.core.State(e,this,t);return n.inlineMode=!0,this.core.process(n),n.tokens},s.prototype.renderInline=function(e,t){return t=t||{},this.renderer.render(this.parseInline(e,t),this.options,t)},t.exports=s},{"./common/utils":608,"./helpers":609,"./parser_block":614,"./parser_core":615,"./parser_inline":616,"./presets/commonmark":617,"./presets/default":618,"./presets/zero":619,"./renderer":620,"linkify-it":655,mdurl:660,punycode:506}],614:[function(e,t,n){"use strict";function r(){this.ruler=new o;for(var e=0;e<i.length;e++)this.ruler.push(i[e][0],i[e][1],{alt:(i[e][2]||[]).slice()})}var o=e("./ruler"),i=[["code",e("./rules_block/code")],["fence",e("./rules_block/fence"),["paragraph","reference","blockquote","list"]],["blockquote",e("./rules_block/blockquote"),["paragraph","reference","list"]],["hr",e("./rules_block/hr"),["paragraph","reference","blockquote","list"]],["list",e("./rules_block/list"),["paragraph","reference","blockquote"]],["reference",e("./rules_block/reference")],["heading",e("./rules_block/heading"),["paragraph","reference","blockquote"]],["lheading",e("./rules_block/lheading")],["html_block",e("./rules_block/html_block"),["paragraph","reference","blockquote"]],["table",e("./rules_block/table"),["paragraph","reference"]],["paragraph",e("./rules_block/paragraph")]];
r.prototype.tokenize=function(e,t,n){for(var r,o,i=this.ruler.getRules(""),s=i.length,a=t,u=!1,l=e.md.options.maxNesting;n>a&&(e.line=a=e.skipEmptyLines(a),!(a>=n))&&!(e.tShift[a]<e.blkIndent);){if(e.level>=l){e.line=n;break}for(o=0;s>o&&!(r=i[o](e,a,n,!1));o++);if(e.tight=!u,e.isEmpty(e.line-1)&&(u=!0),a=e.line,n>a&&e.isEmpty(a)){if(u=!0,a++,n>a&&"list"===e.parentType&&e.isEmpty(a))break;e.line=a}}},r.prototype.parse=function(e,t,n,r){var o;return e?(o=new this.State(e,t,n,r),void this.tokenize(o,o.line,o.lineMax)):[]},r.prototype.State=e("./rules_block/state_block"),t.exports=r},{"./ruler":621,"./rules_block/blockquote":622,"./rules_block/code":623,"./rules_block/fence":624,"./rules_block/heading":625,"./rules_block/hr":626,"./rules_block/html_block":627,"./rules_block/lheading":628,"./rules_block/list":629,"./rules_block/paragraph":630,"./rules_block/reference":631,"./rules_block/state_block":632,"./rules_block/table":633}],615:[function(e,t,n){"use strict";function r(){this.ruler=new o;for(var e=0;e<i.length;e++)this.ruler.push(i[e][0],i[e][1]);
}var o=e("./ruler"),i=[["normalize",e("./rules_core/normalize")],["block",e("./rules_core/block")],["inline",e("./rules_core/inline")],["linkify",e("./rules_core/linkify")],["replacements",e("./rules_core/replacements")],["smartquotes",e("./rules_core/smartquotes")]];r.prototype.process=function(e){var t,n,r;for(r=this.ruler.getRules(""),t=0,n=r.length;n>t;t++)r[t](e)},r.prototype.State=e("./rules_core/state_core"),t.exports=r},{"./ruler":621,"./rules_core/block":634,"./rules_core/inline":635,"./rules_core/linkify":636,"./rules_core/normalize":637,"./rules_core/replacements":638,"./rules_core/smartquotes":639,"./rules_core/state_core":640}],616:[function(e,t,n){"use strict";function r(){this.ruler=new o;for(var e=0;e<i.length;e++)this.ruler.push(i[e][0],i[e][1])}var o=e("./ruler"),i=[["text",e("./rules_inline/text")],["newline",e("./rules_inline/newline")],["escape",e("./rules_inline/escape")],["backticks",e("./rules_inline/backticks")],["strikethrough",e("./rules_inline/strikethrough")],["emphasis",e("./rules_inline/emphasis")],["link",e("./rules_inline/link")],["image",e("./rules_inline/image")],["autolink",e("./rules_inline/autolink")],["html_inline",e("./rules_inline/html_inline")],["entity",e("./rules_inline/entity")]];
r.prototype.skipToken=function(e){var t,n=e.pos,r=this.ruler.getRules(""),o=r.length,i=e.md.options.maxNesting,s=e.cache;if("undefined"!=typeof s[n])return void(e.pos=s[n]);if(e.level<i)for(t=0;o>t;t++)if(r[t](e,!0))return void(s[n]=e.pos);e.pos++,s[n]=e.pos},r.prototype.tokenize=function(e){for(var t,n,r=this.ruler.getRules(""),o=r.length,i=e.posMax,s=e.md.options.maxNesting;e.pos<i;){if(e.level<s)for(n=0;o>n&&!(t=r[n](e,!1));n++);if(t){if(e.pos>=i)break}else e.pending+=e.src[e.pos++]}e.pending&&e.pushPending()},r.prototype.parse=function(e,t,n,r){var o=new this.State(e,t,n,r);this.tokenize(o)},r.prototype.State=e("./rules_inline/state_inline"),t.exports=r},{"./ruler":621,"./rules_inline/autolink":641,"./rules_inline/backticks":642,"./rules_inline/emphasis":643,"./rules_inline/entity":644,"./rules_inline/escape":645,"./rules_inline/html_inline":646,"./rules_inline/image":647,"./rules_inline/link":648,"./rules_inline/newline":649,"./rules_inline/state_inline":650,"./rules_inline/strikethrough":651,"./rules_inline/text":652
}],617:[function(e,t,n){"use strict";t.exports={options:{html:!0,xhtmlOut:!0,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"\u201c\u201d\u2018\u2019",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline"]},block:{rules:["blockquote","code","fence","heading","hr","html_block","lheading","list","reference","paragraph"]},inline:{rules:["autolink","backticks","emphasis","entity","escape","html_inline","image","link","newline","text"]}}}},{}],618:[function(e,t,n){"use strict";t.exports={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"\u201c\u201d\u2018\u2019",highlight:null,maxNesting:20},components:{core:{},block:{},inline:{}}}},{}],619:[function(e,t,n){"use strict";t.exports={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"\u201c\u201d\u2018\u2019",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline"]},block:{rules:["paragraph"]},inline:{rules:["text"]
}}}},{}],620:[function(e,t,n){"use strict";function r(){this.rules=o({},a)}var o=e("./common/utils").assign,i=e("./common/utils").unescapeAll,s=e("./common/utils").escapeHtml,a={};a.code_inline=function(e,t){return"<code>"+s(e[t].content)+"</code>"},a.code_block=function(e,t){return"<pre><code>"+s(e[t].content)+"</code></pre>\n"},a.fence=function(e,t,n,r,o){var a,u=e[t],l=u.info?i(u.info).trim():"",c="";return l&&(c=l.split(/\s+/g)[0],u.attrPush(["class",n.langPrefix+c])),a=n.highlight?n.highlight(u.content,c)||s(u.content):s(u.content),"<pre><code"+o.renderAttrs(u)+">"+a+"</code></pre>\n"},a.image=function(e,t,n,r,o){var i=e[t];return i.attrs[i.attrIndex("alt")][1]=o.renderInlineAsText(i.children,n,r),o.renderToken(e,t,n)},a.hardbreak=function(e,t,n){return n.xhtmlOut?"<br />\n":"<br>\n"},a.softbreak=function(e,t,n){return n.breaks?n.xhtmlOut?"<br />\n":"<br>\n":"\n"},a.text=function(e,t){return s(e[t].content)},a.html_block=function(e,t){return e[t].content},a.html_inline=function(e,t){return e[t].content},r.prototype.renderAttrs=function(e){
var t,n,r;if(!e.attrs)return"";for(r="",t=0,n=e.attrs.length;n>t;t++)r+=" "+s(e.attrs[t][0])+'="'+s(e.attrs[t][1])+'"';return r},r.prototype.renderToken=function(e,t,n){var r,o="",i=!1,s=e[t];return s.hidden?"":(s.block&&-1!==s.nesting&&t&&e[t-1].hidden&&(o+="\n"),o+=(-1===s.nesting?"</":"<")+s.tag,o+=this.renderAttrs(s),0===s.nesting&&n.xhtmlOut&&(o+=" /"),s.block&&(i=!0,1===s.nesting&&t+1<e.length&&(r=e[t+1],"inline"===r.type||r.hidden?i=!1:-1===r.nesting&&r.tag===s.tag&&(i=!1))),o+=i?">\n":">")},r.prototype.renderInline=function(e,t,n){for(var r,o="",i=this.rules,s=0,a=e.length;a>s;s++)r=e[s].type,o+="undefined"!=typeof i[r]?i[r](e,s,t,n,this):this.renderToken(e,s,t);return o},r.prototype.renderInlineAsText=function(e,t,n){for(var r="",o=this.rules,i=0,s=e.length;s>i;i++)"text"===e[i].type?r+=o.text(e,i,t,n,this):"image"===e[i].type&&(r+=this.renderInlineAsText(e[i].children,t,n));return r},r.prototype.render=function(e,t,n){var r,o,i,s="",a=this.rules;for(r=0,o=e.length;o>r;r++)i=e[r].type,s+="inline"===i?this.renderInline(e[r].children,t,n):"undefined"!=typeof a[i]?a[e[r].type](e,r,t,n,this):this.renderToken(e,r,t,n);
return s},t.exports=r},{"./common/utils":608}],621:[function(e,t,n){"use strict";function r(){this.__rules__=[],this.__cache__=null}r.prototype.__find__=function(e){for(var t=0;t<this.__rules__.length;t++)if(this.__rules__[t].name===e)return t;return-1},r.prototype.__compile__=function(){var e=this,t=[""];e.__rules__.forEach(function(e){e.enabled&&e.alt.forEach(function(e){t.indexOf(e)<0&&t.push(e)})}),e.__cache__={},t.forEach(function(t){e.__cache__[t]=[],e.__rules__.forEach(function(n){n.enabled&&(t&&n.alt.indexOf(t)<0||e.__cache__[t].push(n.fn))})})},r.prototype.at=function(e,t,n){var r=this.__find__(e),o=n||{};if(-1===r)throw new Error("Parser rule not found: "+e);this.__rules__[r].fn=t,this.__rules__[r].alt=o.alt||[],this.__cache__=null},r.prototype.before=function(e,t,n,r){var o=this.__find__(e),i=r||{};if(-1===o)throw new Error("Parser rule not found: "+e);this.__rules__.splice(o,0,{name:t,enabled:!0,fn:n,alt:i.alt||[]}),this.__cache__=null},r.prototype.after=function(e,t,n,r){var o=this.__find__(e),i=r||{};
if(-1===o)throw new Error("Parser rule not found: "+e);this.__rules__.splice(o+1,0,{name:t,enabled:!0,fn:n,alt:i.alt||[]}),this.__cache__=null},r.prototype.push=function(e,t,n){var r=n||{};this.__rules__.push({name:e,enabled:!0,fn:t,alt:r.alt||[]}),this.__cache__=null},r.prototype.enable=function(e,t){Array.isArray(e)||(e=[e]);var n=[];return e.forEach(function(e){var r=this.__find__(e);if(0>r){if(t)return;throw new Error("Rules manager: invalid rule name "+e)}this.__rules__[r].enabled=!0,n.push(e)},this),this.__cache__=null,n},r.prototype.enableOnly=function(e,t){Array.isArray(e)||(e=[e]),this.__rules__.forEach(function(e){e.enabled=!1}),this.enable(e,t)},r.prototype.disable=function(e,t){Array.isArray(e)||(e=[e]);var n=[];return e.forEach(function(e){var r=this.__find__(e);if(0>r){if(t)return;throw new Error("Rules manager: invalid rule name "+e)}this.__rules__[r].enabled=!1,n.push(e)},this),this.__cache__=null,n},r.prototype.getRules=function(e){return null===this.__cache__&&this.__compile__(),this.__cache__[e]||[];
},t.exports=r},{}],622:[function(e,t,n){"use strict";t.exports=function(e,t,n,r){var o,i,s,a,u,l,c,p,d,h,f,m,g=e.bMarks[t]+e.tShift[t],v=e.eMarks[t];if(62!==e.src.charCodeAt(g++))return!1;if(r)return!0;for(32===e.src.charCodeAt(g)&&g++,u=e.blkIndent,e.blkIndent=0,a=[e.bMarks[t]],e.bMarks[t]=g,g=v>g?e.skipSpaces(g):g,i=g>=v,s=[e.tShift[t]],e.tShift[t]=g-e.bMarks[t],p=e.md.block.ruler.getRules("blockquote"),o=t+1;n>o&&!(e.tShift[o]<u)&&(g=e.bMarks[o]+e.tShift[o],v=e.eMarks[o],!(g>=v));o++)if(62!==e.src.charCodeAt(g++)){if(i)break;for(m=!1,h=0,f=p.length;f>h;h++)if(p[h](e,o,n,!0)){m=!0;break}if(m)break;a.push(e.bMarks[o]),s.push(e.tShift[o]),e.tShift[o]=-1}else 32===e.src.charCodeAt(g)&&g++,a.push(e.bMarks[o]),e.bMarks[o]=g,g=v>g?e.skipSpaces(g):g,i=g>=v,s.push(e.tShift[o]),e.tShift[o]=g-e.bMarks[o];for(l=e.parentType,e.parentType="blockquote",d=e.push("blockquote_open","blockquote",1),d.markup=">",d.map=c=[t,0],e.md.block.tokenize(e,t,o),d=e.push("blockquote_close","blockquote",-1),d.markup=">",e.parentType=l,c[1]=e.line,
h=0;h<s.length;h++)e.bMarks[h+t]=a[h],e.tShift[h+t]=s[h];return e.blkIndent=u,!0}},{}],623:[function(e,t,n){"use strict";t.exports=function(e,t,n){var r,o,i;if(e.tShift[t]-e.blkIndent<4)return!1;for(o=r=t+1;n>r;)if(e.isEmpty(r))r++;else{if(!(e.tShift[r]-e.blkIndent>=4))break;r++,o=r}return e.line=r,i=e.push("code_block","code",0),i.content=e.getLines(t,o,4+e.blkIndent,!0),i.map=[t,e.line],!0}},{}],624:[function(e,t,n){"use strict";t.exports=function(e,t,n,r){var o,i,s,a,u,l,c,p=!1,d=e.bMarks[t]+e.tShift[t],h=e.eMarks[t];if(d+3>h)return!1;if(o=e.src.charCodeAt(d),126!==o&&96!==o)return!1;if(u=d,d=e.skipChars(d,o),i=d-u,3>i)return!1;if(c=e.src.slice(u,d),s=e.src.slice(d,h),s.indexOf("`")>=0)return!1;if(r)return!0;for(a=t;(a++,!(a>=n))&&(d=u=e.bMarks[a]+e.tShift[a],h=e.eMarks[a],!(h>d&&e.tShift[a]<e.blkIndent));)if(e.src.charCodeAt(d)===o&&!(e.tShift[a]-e.blkIndent>=4||(d=e.skipChars(d,o),i>d-u||(d=e.skipSpaces(d),h>d)))){p=!0;break}return i=e.tShift[t],e.line=a+(p?1:0),l=e.push("fence","code",0),l.info=s,l.content=e.getLines(t+1,a,i,!0),
l.markup=c,l.map=[t,e.line],!0}},{}],625:[function(e,t,n){"use strict";t.exports=function(e,t,n,r){var o,i,s,a,u=e.bMarks[t]+e.tShift[t],l=e.eMarks[t];if(o=e.src.charCodeAt(u),35!==o||u>=l)return!1;for(i=1,o=e.src.charCodeAt(++u);35===o&&l>u&&6>=i;)i++,o=e.src.charCodeAt(++u);return i>6||l>u&&32!==o?!1:r?!0:(l=e.skipCharsBack(l,32,u),s=e.skipCharsBack(l,35,u),s>u&&32===e.src.charCodeAt(s-1)&&(l=s),e.line=t+1,a=e.push("heading_open","h"+String(i),1),a.markup="########".slice(0,i),a.map=[t,e.line],a=e.push("inline","",0),a.content=e.src.slice(u,l).trim(),a.map=[t,e.line],a.children=[],a=e.push("heading_close","h"+String(i),-1),a.markup="########".slice(0,i),!0)}},{}],626:[function(e,t,n){"use strict";t.exports=function(e,t,n,r){var o,i,s,a,u=e.bMarks[t]+e.tShift[t],l=e.eMarks[t];if(o=e.src.charCodeAt(u++),42!==o&&45!==o&&95!==o)return!1;for(i=1;l>u;){if(s=e.src.charCodeAt(u++),s!==o&&32!==s)return!1;s===o&&i++}return 3>i?!1:r?!0:(e.line=t+1,a=e.push("hr","hr",0),a.map=[t,e.line],a.markup=Array(i+1).join(String.fromCharCode(o)),
!0)}},{}],627:[function(e,t,n){"use strict";var r=e("../common/html_blocks"),o=e("../common/html_re").HTML_OPEN_CLOSE_TAG_RE,i=[[/^<(script|pre|style)(?=(\s|>|$))/i,/<\/(script|pre|style)>/i,!0],[/^<!--/,/-->/,!0],[/^<\?/,/\?>/,!0],[/^<![A-Z]/,/>/,!0],[/^<!\[CDATA\[/,/\]\]>/,!0],[new RegExp("^</?("+r.join("|")+")(?=(\\s|/?>|$))","i"),/^$/,!0],[new RegExp(o.source+"\\s*$"),/^$/,!1]];t.exports=function(e,t,n,r){var o,s,a,u,l=e.bMarks[t]+e.tShift[t],c=e.eMarks[t];if(!e.md.options.html)return!1;if(60!==e.src.charCodeAt(l))return!1;for(u=e.src.slice(l,c),o=0;o<i.length&&!i[o][0].test(u);o++);if(o===i.length)return!1;if(r)return i[o][2];if(s=t+1,!i[o][1].test(u))for(;n>s&&!(e.tShift[s]<e.blkIndent);s++)if(l=e.bMarks[s]+e.tShift[s],c=e.eMarks[s],u=e.src.slice(l,c),i[o][1].test(u)){0!==u.length&&s++;break}return e.line=s,a=e.push("html_block","",0),a.map=[t,s],a.content=e.getLines(t,s,e.blkIndent,!0),!0}},{"../common/html_blocks":605,"../common/html_re":606}],628:[function(e,t,n){"use strict";t.exports=function(e,t,n){
var r,o,i,s,a,u=t+1;return u>=n?!1:e.tShift[u]<e.blkIndent?!1:e.tShift[u]-e.blkIndent>3?!1:(o=e.bMarks[u]+e.tShift[u],i=e.eMarks[u],o>=i?!1:(r=e.src.charCodeAt(o),45!==r&&61!==r?!1:(o=e.skipChars(o,r),o=e.skipSpaces(o),i>o?!1:(o=e.bMarks[t]+e.tShift[t],e.line=u+1,a=61===r?1:2,s=e.push("heading_open","h"+String(a),1),s.markup=String.fromCharCode(r),s.map=[t,e.line],s=e.push("inline","",0),s.content=e.src.slice(o,e.eMarks[t]).trim(),s.map=[t,e.line-1],s.children=[],s=e.push("heading_close","h"+String(a),-1),s.markup=String.fromCharCode(r),!0))))}},{}],629:[function(e,t,n){"use strict";function r(e,t){var n,r,o;return r=e.bMarks[t]+e.tShift[t],o=e.eMarks[t],n=e.src.charCodeAt(r++),42!==n&&45!==n&&43!==n?-1:o>r&&32!==e.src.charCodeAt(r)?-1:r}function o(e,t){var n,r=e.bMarks[t]+e.tShift[t],o=r,i=e.eMarks[t];if(o+1>=i)return-1;if(n=e.src.charCodeAt(o++),48>n||n>57)return-1;for(;;){if(o>=i)return-1;n=e.src.charCodeAt(o++);{if(!(n>=48&&57>=n)){if(41===n||46===n)break;return-1}if(o-r>=10)return-1}}return i>o&&32!==e.src.charCodeAt(o)?-1:o;
}function i(e,t){var n,r,o=e.level+2;for(n=t+2,r=e.tokens.length-2;r>n;n++)e.tokens[n].level===o&&"paragraph_open"===e.tokens[n].type&&(e.tokens[n+2].hidden=!0,e.tokens[n].hidden=!0,n+=2)}t.exports=function(e,t,n,s){var a,u,l,c,p,d,h,f,m,g,v,b,y,_,w,k,x,C,E,T,S,D,A,M=!0;if((f=o(e,t))>=0)y=!0;else{if(!((f=r(e,t))>=0))return!1;y=!1}if(b=e.src.charCodeAt(f-1),s)return!0;for(w=e.tokens.length,y?(h=e.bMarks[t]+e.tShift[t],v=Number(e.src.substr(h,f-h-1)),T=e.push("ordered_list_open","ol",1),1!==v&&(T.attrs=[["start",v]])):T=e.push("bullet_list_open","ul",1),T.map=x=[t,0],T.markup=String.fromCharCode(b),a=t,k=!1,E=e.md.block.ruler.getRules("list");!(!(n>a)||(_=e.skipSpaces(f),m=e.eMarks[a],g=_>=m?1:_-f,g>4&&(g=1),u=f-e.bMarks[a]+g,T=e.push("list_item_open","li",1),T.markup=String.fromCharCode(b),T.map=C=[t,0],c=e.blkIndent,p=e.tight,l=e.tShift[t],d=e.parentType,e.tShift[t]=_-e.bMarks[t],e.blkIndent=u,e.tight=!0,e.parentType="list",e.md.block.tokenize(e,t,n,!0),(!e.tight||k)&&(M=!1),k=e.line-t>1&&e.isEmpty(e.line-1),e.blkIndent=c,
e.tShift[t]=l,e.tight=p,e.parentType=d,T=e.push("list_item_close","li",-1),T.markup=String.fromCharCode(b),a=t=e.line,C[1]=a,_=e.bMarks[t],a>=n)||e.isEmpty(a)||e.tShift[a]<e.blkIndent);){for(A=!1,S=0,D=E.length;D>S;S++)if(E[S](e,a,n,!0)){A=!0;break}if(A)break;if(y){if(f=o(e,a),0>f)break}else if(f=r(e,a),0>f)break;if(b!==e.src.charCodeAt(f-1))break}return T=y?e.push("ordered_list_close","ol",-1):e.push("bullet_list_close","ul",-1),T.markup=String.fromCharCode(b),x[1]=a,e.line=a,M&&i(e,w),!0}},{}],630:[function(e,t,n){"use strict";t.exports=function(e,t){for(var n,r,o,i,s,a=t+1,u=e.md.block.ruler.getRules("paragraph"),l=e.lineMax;l>a&&!e.isEmpty(a);a++)if(!(e.tShift[a]-e.blkIndent>3||e.tShift[a]<0)){for(r=!1,o=0,i=u.length;i>o;o++)if(u[o](e,a,l,!0)){r=!0;break}if(r)break}return n=e.getLines(t,a,e.blkIndent,!1).trim(),e.line=a,s=e.push("paragraph_open","p",1),s.map=[t,e.line],s=e.push("inline","",0),s.content=n,s.map=[t,e.line],s.children=[],s=e.push("paragraph_close","p",-1),!0}},{}],631:[function(e,t,n){"use strict";
var r=e("../helpers/parse_link_destination"),o=e("../helpers/parse_link_title"),i=e("../common/utils").normalizeReference;t.exports=function(e,t,n,s){var a,u,l,c,p,d,h,f,m,g,v,b,y,_,w,k=0,x=e.bMarks[t]+e.tShift[t],C=e.eMarks[t],E=t+1;if(91!==e.src.charCodeAt(x))return!1;for(;++x<C;)if(93===e.src.charCodeAt(x)&&92!==e.src.charCodeAt(x-1)){if(x+1===C)return!1;if(58!==e.src.charCodeAt(x+1))return!1;break}for(c=e.lineMax,_=e.md.block.ruler.getRules("reference");c>E&&!e.isEmpty(E);E++)if(!(e.tShift[E]-e.blkIndent>3||e.tShift[E]<0)){for(y=!1,d=0,h=_.length;h>d;d++)if(_[d](e,E,c,!0)){y=!0;break}if(y)break}for(b=e.getLines(t,E,e.blkIndent,!1).trim(),C=b.length,x=1;C>x;x++){if(a=b.charCodeAt(x),91===a)return!1;if(93===a){m=x;break}10===a?k++:92===a&&(x++,C>x&&10===b.charCodeAt(x)&&k++)}if(0>m||58!==b.charCodeAt(m+1))return!1;for(x=m+2;C>x;x++)if(a=b.charCodeAt(x),10===a)k++;else if(32!==a)break;if(g=r(b,x,C),!g.ok)return!1;if(p=e.md.normalizeLink(g.str),!e.md.validateLink(p))return!1;for(x=g.pos,k+=g.lines,u=x,l=k,v=x;C>x;x++)if(a=b.charCodeAt(x),
10===a)k++;else if(32!==a)break;for(g=o(b,x,C),C>x&&v!==x&&g.ok?(w=g.str,x=g.pos,k+=g.lines):(w="",x=u,k=l);C>x&&32===b.charCodeAt(x);)x++;if(C>x&&10!==b.charCodeAt(x)&&w)for(w="",x=u,k=l;C>x&&32===b.charCodeAt(x);)x++;return C>x&&10!==b.charCodeAt(x)?!1:(f=i(b.slice(1,m)))?s?!0:("undefined"==typeof e.env.references&&(e.env.references={}),"undefined"==typeof e.env.references[f]&&(e.env.references[f]={title:w,href:p}),e.line=t+k+1,!0):!1}},{"../common/utils":608,"../helpers/parse_link_destination":610,"../helpers/parse_link_title":612}],632:[function(e,t,n){"use strict";function r(e,t,n,r){var o,i,s,a,u,l,c;for(this.src=e,this.md=t,this.env=n,this.tokens=r,this.bMarks=[],this.eMarks=[],this.tShift=[],this.blkIndent=0,this.line=0,this.lineMax=0,this.tight=!1,this.parentType="root",this.ddIndent=-1,this.level=0,this.result="",i=this.src,l=0,c=!1,s=a=l=0,u=i.length;u>a;a++){if(o=i.charCodeAt(a),!c){if(32===o){l++;continue}c=!0}(10===o||a===u-1)&&(10!==o&&a++,this.bMarks.push(s),this.eMarks.push(a),this.tShift.push(l),
c=!1,l=0,s=a+1)}this.bMarks.push(i.length),this.eMarks.push(i.length),this.tShift.push(0),this.lineMax=this.bMarks.length-1}var o=e("../token");r.prototype.push=function(e,t,n){var r=new o(e,t,n);return r.block=!0,0>n&&this.level--,r.level=this.level,n>0&&this.level++,this.tokens.push(r),r},r.prototype.isEmpty=function(e){return this.bMarks[e]+this.tShift[e]>=this.eMarks[e]},r.prototype.skipEmptyLines=function(e){for(var t=this.lineMax;t>e&&!(this.bMarks[e]+this.tShift[e]<this.eMarks[e]);e++);return e},r.prototype.skipSpaces=function(e){for(var t=this.src.length;t>e&&32===this.src.charCodeAt(e);e++);return e},r.prototype.skipChars=function(e,t){for(var n=this.src.length;n>e&&this.src.charCodeAt(e)===t;e++);return e},r.prototype.skipCharsBack=function(e,t,n){if(n>=e)return e;for(;e>n;)if(t!==this.src.charCodeAt(--e))return e+1;return e},r.prototype.getLines=function(e,t,n,r){var o,i,s,a,u,l=e;if(e>=t)return"";if(l+1===t)return i=this.bMarks[l]+Math.min(this.tShift[l],n),s=this.eMarks[t-1]+(r?1:0),this.src.slice(i,s);
for(a=new Array(t-e),o=0;t>l;l++,o++)u=this.tShift[l],u>n&&(u=n),0>u&&(u=0),i=this.bMarks[l]+u,s=t>l+1||r?this.eMarks[l]+1:this.eMarks[l],a[o]=this.src.slice(i,s);return a.join("")},r.prototype.Token=o,t.exports=r},{"../token":653}],633:[function(e,t,n){"use strict";function r(e,t){var n=e.bMarks[t]+e.blkIndent,r=e.eMarks[t];return e.src.substr(n,r-n)}function o(e){var t,n=[],r=0,o=e.length,i=0,s=0,a=!1,u=0;for(t=e.charCodeAt(r);o>r;)96===t&&i%2===0?(a=!a,u=r):124!==t||i%2!==0||a?92===t?i++:i=0:(n.push(e.substring(s,r)),s=r+1),r++,r===o&&a&&(a=!1,r=u+1),t=e.charCodeAt(r);return n.push(e.substring(s)),n}t.exports=function(e,t,n,i){var s,a,u,l,c,p,d,h,f,m,g;if(t+2>n)return!1;if(c=t+1,e.tShift[c]<e.blkIndent)return!1;if(u=e.bMarks[c]+e.tShift[c],u>=e.eMarks[c])return!1;if(s=e.src.charCodeAt(u),124!==s&&45!==s&&58!==s)return!1;if(a=r(e,t+1),!/^[-:| ]+$/.test(a))return!1;if(p=a.split("|"),p.length<2)return!1;for(h=[],l=0;l<p.length;l++){if(f=p[l].trim(),!f){if(0===l||l===p.length-1)continue;return!1}if(!/^:?-+:?$/.test(f))return!1;
58===f.charCodeAt(f.length-1)?h.push(58===f.charCodeAt(0)?"center":"right"):58===f.charCodeAt(0)?h.push("left"):h.push("")}if(a=r(e,t).trim(),-1===a.indexOf("|"))return!1;if(p=o(a.replace(/^\||\|$/g,"")),h.length!==p.length)return!1;if(i)return!0;for(d=e.push("table_open","table",1),d.map=m=[t,0],d=e.push("thead_open","thead",1),d.map=[t,t+1],d=e.push("tr_open","tr",1),d.map=[t,t+1],l=0;l<p.length;l++)d=e.push("th_open","th",1),d.map=[t,t+1],h[l]&&(d.attrs=[["style","text-align:"+h[l]]]),d=e.push("inline","",0),d.content=p[l].trim(),d.map=[t,t+1],d.children=[],d=e.push("th_close","th",-1);for(d=e.push("tr_close","tr",-1),d=e.push("thead_close","thead",-1),d=e.push("tbody_open","tbody",1),d.map=g=[t+2,0],c=t+2;n>c&&!(e.tShift[c]<e.blkIndent)&&(a=r(e,c).trim(),-1!==a.indexOf("|"));c++){for(p=o(a.replace(/^\||\|$/g,"")),p.length=h.length,d=e.push("tr_open","tr",1),l=0;l<p.length;l++)d=e.push("td_open","td",1),h[l]&&(d.attrs=[["style","text-align:"+h[l]]]),d=e.push("inline","",0),d.content=p[l]?p[l].trim():"",d.children=[],
d=e.push("td_close","td",-1);d=e.push("tr_close","tr",-1)}return d=e.push("tbody_close","tbody",-1),d=e.push("table_close","table",-1),m[1]=g[1]=c,e.line=c,!0}},{}],634:[function(e,t,n){"use strict";t.exports=function(e){var t;e.inlineMode?(t=new e.Token("inline","",0),t.content=e.src,t.map=[0,1],t.children=[],e.tokens.push(t)):e.md.block.parse(e.src,e.md,e.env,e.tokens)}},{}],635:[function(e,t,n){"use strict";t.exports=function(e){var t,n,r,o=e.tokens;for(n=0,r=o.length;r>n;n++)t=o[n],"inline"===t.type&&e.md.inline.parse(t.content,e.md,e.env,t.children)}},{}],636:[function(e,t,n){"use strict";function r(e){return/^<a[>\s]/i.test(e)}function o(e){return/^<\/a\s*>/i.test(e)}var i=e("../common/utils").arrayReplaceAt;t.exports=function(e){var t,n,s,a,u,l,c,p,d,h,f,m,g,v,b,y,_,w=e.tokens;if(e.md.options.linkify)for(n=0,s=w.length;s>n;n++)if("inline"===w[n].type&&e.md.linkify.pretest(w[n].content))for(a=w[n].children,g=0,t=a.length-1;t>=0;t--)if(l=a[t],"link_close"!==l.type){if("html_inline"===l.type&&(r(l.content)&&g>0&&g--,
o(l.content)&&g++),!(g>0)&&"text"===l.type&&e.md.linkify.test(l.content)){for(d=l.content,_=e.md.linkify.match(d),c=[],m=l.level,f=0,p=0;p<_.length;p++)v=_[p].url,b=e.md.normalizeLink(v),e.md.validateLink(b)&&(y=_[p].text,y=_[p].schema?"mailto:"!==_[p].schema||/^mailto:/i.test(y)?e.md.normalizeLinkText(y):e.md.normalizeLinkText("mailto:"+y).replace(/^mailto:/,""):e.md.normalizeLinkText("http://"+y).replace(/^http:\/\//,""),h=_[p].index,h>f&&(u=new e.Token("text","",0),u.content=d.slice(f,h),u.level=m,c.push(u)),u=new e.Token("link_open","a",1),u.attrs=[["href",b]],u.level=m++,u.markup="linkify",u.info="auto",c.push(u),u=new e.Token("text","",0),u.content=y,u.level=m,c.push(u),u=new e.Token("link_close","a",-1),u.level=--m,u.markup="linkify",u.info="auto",c.push(u),f=_[p].lastIndex);f<d.length&&(u=new e.Token("text","",0),u.content=d.slice(f),u.level=m,c.push(u)),w[n].children=a=i(a,t,c)}}else for(t--;a[t].level!==l.level&&"link_open"!==a[t].type;)t--}},{"../common/utils":608}],637:[function(e,t,n){"use strict";
var r=/[\n\t]/g,o=/\r[\n\u0085]|[\u2424\u2028\u0085]/g,i=/\u0000/g;t.exports=function(e){var t,n,s;t=e.src.replace(o,"\n"),t=t.replace(i,"\ufffd"),t.indexOf("	")>=0&&(n=0,s=0,t=t.replace(r,function(e,r){var o;return 10===t.charCodeAt(r)?(n=r+1,s=0,e):(o="    ".slice((r-n-s)%4),s=r-n+1,o)})),e.src=t}},{}],638:[function(e,t,n){"use strict";function r(e,t){return l[t.toLowerCase()]}function o(e){var t,n;for(t=e.length-1;t>=0;t--)n=e[t],"text"===n.type&&(n.content=n.content.replace(u,r))}function i(e){var t,n;for(t=e.length-1;t>=0;t--)n=e[t],"text"===n.type&&s.test(n.content)&&(n.content=n.content.replace(/\+-/g,"\xb1").replace(/\.{2,}/g,"\u2026").replace(/([?!])\u2026/g,"$1..").replace(/([?!]){4,}/g,"$1$1$1").replace(/,{2,}/g,",").replace(/(^|[^-])---([^-]|$)/gm,"$1\u2014$2").replace(/(^|\s)--(\s|$)/gm,"$1\u2013$2").replace(/(^|[^-\s])--([^-\s]|$)/gm,"$1\u2013$2"))}var s=/\+-|\.\.|\?\?\?\?|!!!!|,,|--/,a=/\((c|tm|r|p)\)/i,u=/\((c|tm|r|p)\)/gi,l={c:"\xa9",r:"\xae",p:"\xa7",tm:"\u2122"};t.exports=function(e){var t;if(e.md.options.typographer)for(t=e.tokens.length-1;t>=0;t--)"inline"===e.tokens[t].type&&(a.test(e.tokens[t].content)&&o(e.tokens[t].children),
s.test(e.tokens[t].content)&&i(e.tokens[t].children))}},{}],639:[function(e,t,n){"use strict";function r(e,t,n){return e.substr(0,t)+n+e.substr(t+1)}function o(e,t){var n,o,u,p,d,h,f,m,g,v,b,y,_,w,k,x,C,E,T,S,D;for(T=[],n=0;n<e.length;n++){for(o=e[n],f=e[n].level,C=T.length-1;C>=0&&!(T[C].level<=f);C--);if(T.length=C+1,"text"===o.type){u=o.content,d=0,h=u.length;e:for(;h>d&&(l.lastIndex=d,p=l.exec(u));)if(k=x=!0,d=p.index+1,E="'"===p[0],g=p.index-1>=0?u.charCodeAt(p.index-1):32,v=h>d?u.charCodeAt(d):32,b=a(g)||s(String.fromCharCode(g)),y=a(v)||s(String.fromCharCode(v)),_=i(g),w=i(v),w?k=!1:y&&(_||b||(k=!1)),_?x=!1:b&&(w||y||(x=!1)),34===v&&'"'===p[0]&&g>=48&&57>=g&&(x=k=!1),k&&x&&(k=!1,x=y),k||x){if(x)for(C=T.length-1;C>=0&&(m=T[C],!(T[C].level<f));C--)if(m.single===E&&T[C].level===f){m=T[C],E?(S=t.md.options.quotes[2],D=t.md.options.quotes[3]):(S=t.md.options.quotes[0],D=t.md.options.quotes[1]),o.content=r(o.content,p.index,D),e[m.token].content=r(e[m.token].content,m.pos,S),d+=D.length-1,m.token===n&&(d+=S.length-1),
u=o.content,h=u.length,T.length=C;continue e}k?T.push({token:n,pos:p.index,single:E,level:f}):x&&E&&(o.content=r(o.content,p.index,c))}else E&&(o.content=r(o.content,p.index,c))}}}var i=e("../common/utils").isWhiteSpace,s=e("../common/utils").isPunctChar,a=e("../common/utils").isMdAsciiPunct,u=/['"]/,l=/['"]/g,c="\u2019";t.exports=function(e){var t;if(e.md.options.typographer)for(t=e.tokens.length-1;t>=0;t--)"inline"===e.tokens[t].type&&u.test(e.tokens[t].content)&&o(e.tokens[t].children,e)}},{"../common/utils":608}],640:[function(e,t,n){"use strict";function r(e,t,n){this.src=e,this.env=n,this.tokens=[],this.inlineMode=!1,this.md=t}var o=e("../token");r.prototype.Token=o,t.exports=r},{"../token":653}],641:[function(e,t,n){"use strict";var r=e("../common/url_schemas"),o=/^<([a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)>/,i=/^<([a-zA-Z.\-]{1,25}):([^<>\x00-\x20]*)>/;t.exports=function(e,t){var n,s,a,u,l,c,p=e.pos;return 60!==e.src.charCodeAt(p)?!1:(n=e.src.slice(p),
n.indexOf(">")<0?!1:i.test(n)?(s=n.match(i),r.indexOf(s[1].toLowerCase())<0?!1:(u=s[0].slice(1,-1),l=e.md.normalizeLink(u),e.md.validateLink(l)?(t||(c=e.push("link_open","a",1),c.attrs=[["href",l]],c=e.push("text","",0),c.content=e.md.normalizeLinkText(u),c=e.push("link_close","a",-1)),e.pos+=s[0].length,!0):!1)):o.test(n)?(a=n.match(o),u=a[0].slice(1,-1),l=e.md.normalizeLink("mailto:"+u),e.md.validateLink(l)?(t||(c=e.push("link_open","a",1),c.attrs=[["href",l]],c.markup="autolink",c.info="auto",c=e.push("text","",0),c.content=e.md.normalizeLinkText(u),c=e.push("link_close","a",-1),c.markup="autolink",c.info="auto"),e.pos+=a[0].length,!0):!1):!1)}},{"../common/url_schemas":607}],642:[function(e,t,n){"use strict";t.exports=function(e,t){var n,r,o,i,s,a,u=e.pos,l=e.src.charCodeAt(u);if(96!==l)return!1;for(n=u,u++,r=e.posMax;r>u&&96===e.src.charCodeAt(u);)u++;for(o=e.src.slice(n,u),i=s=u;-1!==(i=e.src.indexOf("`",s));){for(s=i+1;r>s&&96===e.src.charCodeAt(s);)s++;if(s-i===o.length)return t||(a=e.push("code_inline","code",0),
a.markup=o,a.content=e.src.slice(u,i).replace(/[ \n]+/g," ").trim()),e.pos=s,!0}return t||(e.pending+=o),e.pos+=o.length,!0}},{}],643:[function(e,t,n){"use strict";function r(e,t){var n,r,a,u,l,c,p,d,h,f=t,m=!0,g=!0,v=e.posMax,b=e.src.charCodeAt(t);for(n=t>0?e.src.charCodeAt(t-1):32;v>f&&e.src.charCodeAt(f)===b;)f++;return a=f-t,r=v>f?e.src.charCodeAt(f):32,p=s(n)||i(String.fromCharCode(n)),h=s(r)||i(String.fromCharCode(r)),c=o(n),d=o(r),d?m=!1:h&&(c||p||(m=!1)),c?g=!1:p&&(d||h||(g=!1)),95===b?(u=m&&(!g||p),l=g&&(!m||h)):(u=m,l=g),{can_open:u,can_close:l,delims:a}}var o=e("../common/utils").isWhiteSpace,i=e("../common/utils").isPunctChar,s=e("../common/utils").isMdAsciiPunct;t.exports=function(e,t){var n,o,i,s,a,u,l,c,p=e.posMax,d=e.pos,h=e.src.charCodeAt(d);if(95!==h&&42!==h)return!1;if(t)return!1;if(l=r(e,d),n=l.delims,!l.can_open)return e.pos+=n,e.pending+=e.src.slice(d,e.pos),!0;for(e.pos=d+n,u=[n];e.pos<p;)if(e.src.charCodeAt(e.pos)!==h)e.md.inline.skipToken(e);else{if(l=r(e,e.pos),o=l.delims,l.can_close){
for(s=u.pop(),a=o;s!==a;){if(s>a){u.push(s-a);break}if(a-=s,0===u.length)break;e.pos+=s,s=u.pop()}if(0===u.length){n=s,i=!0;break}e.pos+=o;continue}l.can_open&&u.push(o),e.pos+=o}if(!i)return e.pos=d,!1;for(e.posMax=e.pos,e.pos=d+n,o=n;o>1;o-=2)c=e.push("strong_open","strong",1),c.markup=String.fromCharCode(h)+String.fromCharCode(h);for(o%2&&(c=e.push("em_open","em",1),c.markup=String.fromCharCode(h)),e.md.inline.tokenize(e),o%2&&(c=e.push("em_close","em",-1),c.markup=String.fromCharCode(h)),o=n;o>1;o-=2)c=e.push("strong_close","strong",-1),c.markup=String.fromCharCode(h)+String.fromCharCode(h);return e.pos=e.posMax+n,e.posMax=p,!0}},{"../common/utils":608}],644:[function(e,t,n){"use strict";var r=e("../common/entities"),o=e("../common/utils").has,i=e("../common/utils").isValidEntityCode,s=e("../common/utils").fromCodePoint,a=/^&#((?:x[a-f0-9]{1,8}|[0-9]{1,8}));/i,u=/^&([a-z][a-z0-9]{1,31});/i;t.exports=function(e,t){var n,l,c,p=e.pos,d=e.posMax;if(38!==e.src.charCodeAt(p))return!1;if(d>p+1)if(n=e.src.charCodeAt(p+1),
35===n){if(c=e.src.slice(p).match(a))return t||(l="x"===c[1][0].toLowerCase()?parseInt(c[1].slice(1),16):parseInt(c[1],10),e.pending+=s(i(l)?l:65533)),e.pos+=c[0].length,!0}else if(c=e.src.slice(p).match(u),c&&o(r,c[1]))return t||(e.pending+=r[c[1]]),e.pos+=c[0].length,!0;return t||(e.pending+="&"),e.pos++,!0}},{"../common/entities":604,"../common/utils":608}],645:[function(e,t,n){"use strict";for(var r=[],o=0;256>o;o++)r.push(0);"\\!\"#$%&'()*+,./:;<=>?@[]^_`{|}~-".split("").forEach(function(e){r[e.charCodeAt(0)]=1}),t.exports=function(e,t){var n,o=e.pos,i=e.posMax;if(92!==e.src.charCodeAt(o))return!1;if(o++,i>o){if(n=e.src.charCodeAt(o),256>n&&0!==r[n])return t||(e.pending+=e.src[o]),e.pos+=2,!0;if(10===n){for(t||e.push("hardbreak","br",0),o++;i>o&&32===e.src.charCodeAt(o);)o++;return e.pos=o,!0}}return t||(e.pending+="\\"),e.pos++,!0}},{}],646:[function(e,t,n){"use strict";function r(e){var t=32|e;return t>=97&&122>=t}var o=e("../common/html_re").HTML_TAG_RE;t.exports=function(e,t){var n,i,s,a,u=e.pos;return e.md.options.html?(s=e.posMax,
60!==e.src.charCodeAt(u)||u+2>=s?!1:(n=e.src.charCodeAt(u+1),(33===n||63===n||47===n||r(n))&&(i=e.src.slice(u).match(o))?(t||(a=e.push("html_inline","",0),a.content=e.src.slice(u,u+i[0].length)),e.pos+=i[0].length,!0):!1)):!1}},{"../common/html_re":606}],647:[function(e,t,n){"use strict";var r=e("../helpers/parse_link_label"),o=e("../helpers/parse_link_destination"),i=e("../helpers/parse_link_title"),s=e("../common/utils").normalizeReference;t.exports=function(e,t){var n,a,u,l,c,p,d,h,f,m,g,v,b="",y=e.pos,_=e.posMax;if(33!==e.src.charCodeAt(e.pos))return!1;if(91!==e.src.charCodeAt(e.pos+1))return!1;if(c=e.pos+2,l=r(e,e.pos+1,!1),0>l)return!1;if(p=l+1,_>p&&40===e.src.charCodeAt(p)){for(p++;_>p&&(a=e.src.charCodeAt(p),32===a||10===a);p++);if(p>=_)return!1;for(v=p,h=o(e.src,p,e.posMax),h.ok&&(b=e.md.normalizeLink(h.str),e.md.validateLink(b)?p=h.pos:b=""),v=p;_>p&&(a=e.src.charCodeAt(p),32===a||10===a);p++);if(h=i(e.src,p,e.posMax),_>p&&v!==p&&h.ok)for(f=h.str,p=h.pos;_>p&&(a=e.src.charCodeAt(p),32===a||10===a);p++);else f="";
if(p>=_||41!==e.src.charCodeAt(p))return e.pos=y,!1;p++}else{if("undefined"==typeof e.env.references)return!1;for(;_>p&&(a=e.src.charCodeAt(p),32===a||10===a);p++);if(_>p&&91===e.src.charCodeAt(p)?(v=p+1,p=r(e,p),p>=0?u=e.src.slice(v,p++):p=l+1):p=l+1,u||(u=e.src.slice(c,l)),d=e.env.references[s(u)],!d)return e.pos=y,!1;b=d.href,f=d.title}if(!t){e.pos=c,e.posMax=l;var w=new e.md.inline.State(e.src.slice(c,l),e.md,e.env,g=[]);w.md.inline.tokenize(w),m=e.push("image","img",0),m.attrs=n=[["src",b],["alt",""]],m.children=g,f&&n.push(["title",f])}return e.pos=p,e.posMax=_,!0}},{"../common/utils":608,"../helpers/parse_link_destination":610,"../helpers/parse_link_label":611,"../helpers/parse_link_title":612}],648:[function(e,t,n){"use strict";var r=e("../helpers/parse_link_label"),o=e("../helpers/parse_link_destination"),i=e("../helpers/parse_link_title"),s=e("../common/utils").normalizeReference;t.exports=function(e,t){var n,a,u,l,c,p,d,h,f,m,g="",v=e.pos,b=e.posMax,y=e.pos;if(91!==e.src.charCodeAt(e.pos))return!1;if(c=e.pos+1,
l=r(e,e.pos,!0),0>l)return!1;if(p=l+1,b>p&&40===e.src.charCodeAt(p)){for(p++;b>p&&(a=e.src.charCodeAt(p),32===a||10===a);p++);if(p>=b)return!1;for(y=p,d=o(e.src,p,e.posMax),d.ok&&(g=e.md.normalizeLink(d.str),e.md.validateLink(g)?p=d.pos:g=""),y=p;b>p&&(a=e.src.charCodeAt(p),32===a||10===a);p++);if(d=i(e.src,p,e.posMax),b>p&&y!==p&&d.ok)for(f=d.str,p=d.pos;b>p&&(a=e.src.charCodeAt(p),32===a||10===a);p++);else f="";if(p>=b||41!==e.src.charCodeAt(p))return e.pos=v,!1;p++}else{if("undefined"==typeof e.env.references)return!1;for(;b>p&&(a=e.src.charCodeAt(p),32===a||10===a);p++);if(b>p&&91===e.src.charCodeAt(p)?(y=p+1,p=r(e,p),p>=0?u=e.src.slice(y,p++):p=l+1):p=l+1,u||(u=e.src.slice(c,l)),h=e.env.references[s(u)],!h)return e.pos=v,!1;g=h.href,f=h.title}return t||(e.pos=c,e.posMax=l,m=e.push("link_open","a",1),m.attrs=n=[["href",g]],f&&n.push(["title",f]),e.md.inline.tokenize(e),m=e.push("link_close","a",-1)),e.pos=p,e.posMax=b,!0}},{"../common/utils":608,"../helpers/parse_link_destination":610,"../helpers/parse_link_label":611,
"../helpers/parse_link_title":612}],649:[function(e,t,n){"use strict";t.exports=function(e,t){var n,r,o=e.pos;if(10!==e.src.charCodeAt(o))return!1;for(n=e.pending.length-1,r=e.posMax,t||(n>=0&&32===e.pending.charCodeAt(n)?n>=1&&32===e.pending.charCodeAt(n-1)?(e.pending=e.pending.replace(/ +$/,""),e.push("hardbreak","br",0)):(e.pending=e.pending.slice(0,-1),e.push("softbreak","br",0)):e.push("softbreak","br",0)),o++;r>o&&32===e.src.charCodeAt(o);)o++;return e.pos=o,!0}},{}],650:[function(e,t,n){"use strict";function r(e,t,n,r){this.src=e,this.env=n,this.md=t,this.tokens=r,this.pos=0,this.posMax=this.src.length,this.level=0,this.pending="",this.pendingLevel=0,this.cache={}}var o=e("../token");r.prototype.pushPending=function(){var e=new o("text","",0);return e.content=this.pending,e.level=this.pendingLevel,this.tokens.push(e),this.pending="",e},r.prototype.push=function(e,t,n){this.pending&&this.pushPending();var r=new o(e,t,n);return 0>n&&this.level--,r.level=this.level,n>0&&this.level++,this.pendingLevel=this.level,
this.tokens.push(r),r},r.prototype.Token=o,t.exports=r},{"../token":653}],651:[function(e,t,n){"use strict";function r(e,t){var n,r,a,u,l,c,p,d=t,h=!0,f=!0,m=e.posMax,g=e.src.charCodeAt(t);for(n=t>0?e.src.charCodeAt(t-1):32;m>d&&e.src.charCodeAt(d)===g;)d++;return d>=m&&(h=!1),a=d-t,r=m>d?e.src.charCodeAt(d):32,l=s(n)||i(String.fromCharCode(n)),p=s(r)||i(String.fromCharCode(r)),u=o(n),c=o(r),c?h=!1:p&&(u||l||(h=!1)),u?f=!1:l&&(c||p||(f=!1)),{can_open:h,can_close:f,delims:a}}var o=e("../common/utils").isWhiteSpace,i=e("../common/utils").isPunctChar,s=e("../common/utils").isMdAsciiPunct;t.exports=function(e,t){var n,o,i,s,a,u,l,c=e.posMax,p=e.pos,d=e.src.charCodeAt(p);if(126!==d)return!1;if(t)return!1;if(u=r(e,p),n=u.delims,!u.can_open)return e.pos+=n,e.pending+=e.src.slice(p,e.pos),!0;if(a=Math.floor(n/2),0>=a)return!1;for(e.pos=p+n;e.pos<c;)if(e.src.charCodeAt(e.pos)!==d)e.md.inline.skipToken(e);else{if(u=r(e,e.pos),o=u.delims,i=Math.floor(o/2),u.can_close){if(i>=a){e.pos+=o-2,s=!0;break}a-=i,e.pos+=o;continue;
}u.can_open&&(a+=i),e.pos+=o}return s?(e.posMax=e.pos,e.pos=p+2,l=e.push("s_open","s",1),l.markup="~~",e.md.inline.tokenize(e),l=e.push("s_close","s",-1),l.markup="~~",e.pos=e.posMax+2,e.posMax=c,!0):(e.pos=p,!1)}},{"../common/utils":608}],652:[function(e,t,n){"use strict";function r(e){switch(e){case 10:case 33:case 35:case 36:case 37:case 38:case 42:case 43:case 45:case 58:case 60:case 61:case 62:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 125:case 126:return!0;default:return!1}}t.exports=function(e,t){for(var n=e.pos;n<e.posMax&&!r(e.src.charCodeAt(n));)n++;return n===e.pos?!1:(t||(e.pending+=e.src.slice(e.pos,n)),e.pos=n,!0)}},{}],653:[function(e,t,n){"use strict";function r(e,t,n){this.type=e,this.tag=t,this.attrs=null,this.map=null,this.nesting=n,this.level=0,this.children=null,this.content="",this.markup="",this.info="",this.meta=null,this.block=!1,this.hidden=!1}r.prototype.attrIndex=function(e){var t,n,r;if(!this.attrs)return-1;for(t=this.attrs,n=0,r=t.length;r>n;n++)if(t[n][0]===e)return n;
return-1},r.prototype.attrPush=function(e){this.attrs?this.attrs.push(e):this.attrs=[e]},t.exports=r},{}],654:[function(e,t,n){t.exports={Aacute:"\xc1",aacute:"\xe1",Abreve:"\u0102",abreve:"\u0103",ac:"\u223e",acd:"\u223f",acE:"\u223e\u0333",Acirc:"\xc2",acirc:"\xe2",acute:"\xb4",Acy:"\u0410",acy:"\u0430",AElig:"\xc6",aelig:"\xe6",af:"\u2061",Afr:"\ud835\udd04",afr:"\ud835\udd1e",Agrave:"\xc0",agrave:"\xe0",alefsym:"\u2135",aleph:"\u2135",Alpha:"\u0391",alpha:"\u03b1",Amacr:"\u0100",amacr:"\u0101",amalg:"\u2a3f",amp:"&",AMP:"&",andand:"\u2a55",And:"\u2a53",and:"\u2227",andd:"\u2a5c",andslope:"\u2a58",andv:"\u2a5a",ang:"\u2220",ange:"\u29a4",angle:"\u2220",angmsdaa:"\u29a8",angmsdab:"\u29a9",angmsdac:"\u29aa",angmsdad:"\u29ab",angmsdae:"\u29ac",angmsdaf:"\u29ad",angmsdag:"\u29ae",angmsdah:"\u29af",angmsd:"\u2221",angrt:"\u221f",angrtvb:"\u22be",angrtvbd:"\u299d",angsph:"\u2222",angst:"\xc5",angzarr:"\u237c",Aogon:"\u0104",aogon:"\u0105",Aopf:"\ud835\udd38",aopf:"\ud835\udd52",apacir:"\u2a6f",ap:"\u2248",apE:"\u2a70",
ape:"\u224a",apid:"\u224b",apos:"'",ApplyFunction:"\u2061",approx:"\u2248",approxeq:"\u224a",Aring:"\xc5",aring:"\xe5",Ascr:"\ud835\udc9c",ascr:"\ud835\udcb6",Assign:"\u2254",ast:"*",asymp:"\u2248",asympeq:"\u224d",Atilde:"\xc3",atilde:"\xe3",Auml:"\xc4",auml:"\xe4",awconint:"\u2233",awint:"\u2a11",backcong:"\u224c",backepsilon:"\u03f6",backprime:"\u2035",backsim:"\u223d",backsimeq:"\u22cd",Backslash:"\u2216",Barv:"\u2ae7",barvee:"\u22bd",barwed:"\u2305",Barwed:"\u2306",barwedge:"\u2305",bbrk:"\u23b5",bbrktbrk:"\u23b6",bcong:"\u224c",Bcy:"\u0411",bcy:"\u0431",bdquo:"\u201e",becaus:"\u2235",because:"\u2235",Because:"\u2235",bemptyv:"\u29b0",bepsi:"\u03f6",bernou:"\u212c",Bernoullis:"\u212c",Beta:"\u0392",beta:"\u03b2",beth:"\u2136",between:"\u226c",Bfr:"\ud835\udd05",bfr:"\ud835\udd1f",bigcap:"\u22c2",bigcirc:"\u25ef",bigcup:"\u22c3",bigodot:"\u2a00",bigoplus:"\u2a01",bigotimes:"\u2a02",bigsqcup:"\u2a06",bigstar:"\u2605",bigtriangledown:"\u25bd",bigtriangleup:"\u25b3",biguplus:"\u2a04",bigvee:"\u22c1",bigwedge:"\u22c0",
bkarow:"\u290d",blacklozenge:"\u29eb",blacksquare:"\u25aa",blacktriangle:"\u25b4",blacktriangledown:"\u25be",blacktriangleleft:"\u25c2",blacktriangleright:"\u25b8",blank:"\u2423",blk12:"\u2592",blk14:"\u2591",blk34:"\u2593",block:"\u2588",bne:"=\u20e5",bnequiv:"\u2261\u20e5",bNot:"\u2aed",bnot:"\u2310",Bopf:"\ud835\udd39",bopf:"\ud835\udd53",bot:"\u22a5",bottom:"\u22a5",bowtie:"\u22c8",boxbox:"\u29c9",boxdl:"\u2510",boxdL:"\u2555",boxDl:"\u2556",boxDL:"\u2557",boxdr:"\u250c",boxdR:"\u2552",boxDr:"\u2553",boxDR:"\u2554",boxh:"\u2500",boxH:"\u2550",boxhd:"\u252c",boxHd:"\u2564",boxhD:"\u2565",boxHD:"\u2566",boxhu:"\u2534",boxHu:"\u2567",boxhU:"\u2568",boxHU:"\u2569",boxminus:"\u229f",boxplus:"\u229e",boxtimes:"\u22a0",boxul:"\u2518",boxuL:"\u255b",boxUl:"\u255c",boxUL:"\u255d",boxur:"\u2514",boxuR:"\u2558",boxUr:"\u2559",boxUR:"\u255a",boxv:"\u2502",boxV:"\u2551",boxvh:"\u253c",boxvH:"\u256a",boxVh:"\u256b",boxVH:"\u256c",boxvl:"\u2524",boxvL:"\u2561",boxVl:"\u2562",boxVL:"\u2563",boxvr:"\u251c",boxvR:"\u255e",boxVr:"\u255f",
boxVR:"\u2560",bprime:"\u2035",breve:"\u02d8",Breve:"\u02d8",brvbar:"\xa6",bscr:"\ud835\udcb7",Bscr:"\u212c",bsemi:"\u204f",bsim:"\u223d",bsime:"\u22cd",bsolb:"\u29c5",bsol:"\\",bsolhsub:"\u27c8",bull:"\u2022",bullet:"\u2022",bump:"\u224e",bumpE:"\u2aae",bumpe:"\u224f",Bumpeq:"\u224e",bumpeq:"\u224f",Cacute:"\u0106",cacute:"\u0107",capand:"\u2a44",capbrcup:"\u2a49",capcap:"\u2a4b",cap:"\u2229",Cap:"\u22d2",capcup:"\u2a47",capdot:"\u2a40",CapitalDifferentialD:"\u2145",caps:"\u2229\ufe00",caret:"\u2041",caron:"\u02c7",Cayleys:"\u212d",ccaps:"\u2a4d",Ccaron:"\u010c",ccaron:"\u010d",Ccedil:"\xc7",ccedil:"\xe7",Ccirc:"\u0108",ccirc:"\u0109",Cconint:"\u2230",ccups:"\u2a4c",ccupssm:"\u2a50",Cdot:"\u010a",cdot:"\u010b",cedil:"\xb8",Cedilla:"\xb8",cemptyv:"\u29b2",cent:"\xa2",centerdot:"\xb7",CenterDot:"\xb7",cfr:"\ud835\udd20",Cfr:"\u212d",CHcy:"\u0427",chcy:"\u0447",check:"\u2713",checkmark:"\u2713",Chi:"\u03a7",chi:"\u03c7",circ:"\u02c6",circeq:"\u2257",circlearrowleft:"\u21ba",circlearrowright:"\u21bb",circledast:"\u229b",
circledcirc:"\u229a",circleddash:"\u229d",CircleDot:"\u2299",circledR:"\xae",circledS:"\u24c8",CircleMinus:"\u2296",CirclePlus:"\u2295",CircleTimes:"\u2297",cir:"\u25cb",cirE:"\u29c3",cire:"\u2257",cirfnint:"\u2a10",cirmid:"\u2aef",cirscir:"\u29c2",ClockwiseContourIntegral:"\u2232",CloseCurlyDoubleQuote:"\u201d",CloseCurlyQuote:"\u2019",clubs:"\u2663",clubsuit:"\u2663",colon:":",Colon:"\u2237",Colone:"\u2a74",colone:"\u2254",coloneq:"\u2254",comma:",",commat:"@",comp:"\u2201",compfn:"\u2218",complement:"\u2201",complexes:"\u2102",cong:"\u2245",congdot:"\u2a6d",Congruent:"\u2261",conint:"\u222e",Conint:"\u222f",ContourIntegral:"\u222e",copf:"\ud835\udd54",Copf:"\u2102",coprod:"\u2210",Coproduct:"\u2210",copy:"\xa9",COPY:"\xa9",copysr:"\u2117",CounterClockwiseContourIntegral:"\u2233",crarr:"\u21b5",cross:"\u2717",Cross:"\u2a2f",Cscr:"\ud835\udc9e",cscr:"\ud835\udcb8",csub:"\u2acf",csube:"\u2ad1",csup:"\u2ad0",csupe:"\u2ad2",ctdot:"\u22ef",cudarrl:"\u2938",cudarrr:"\u2935",cuepr:"\u22de",cuesc:"\u22df",cularr:"\u21b6",
cularrp:"\u293d",cupbrcap:"\u2a48",cupcap:"\u2a46",CupCap:"\u224d",cup:"\u222a",Cup:"\u22d3",cupcup:"\u2a4a",cupdot:"\u228d",cupor:"\u2a45",cups:"\u222a\ufe00",curarr:"\u21b7",curarrm:"\u293c",curlyeqprec:"\u22de",curlyeqsucc:"\u22df",curlyvee:"\u22ce",curlywedge:"\u22cf",curren:"\xa4",curvearrowleft:"\u21b6",curvearrowright:"\u21b7",cuvee:"\u22ce",cuwed:"\u22cf",cwconint:"\u2232",cwint:"\u2231",cylcty:"\u232d",dagger:"\u2020",Dagger:"\u2021",daleth:"\u2138",darr:"\u2193",Darr:"\u21a1",dArr:"\u21d3",dash:"\u2010",Dashv:"\u2ae4",dashv:"\u22a3",dbkarow:"\u290f",dblac:"\u02dd",Dcaron:"\u010e",dcaron:"\u010f",Dcy:"\u0414",dcy:"\u0434",ddagger:"\u2021",ddarr:"\u21ca",DD:"\u2145",dd:"\u2146",DDotrahd:"\u2911",ddotseq:"\u2a77",deg:"\xb0",Del:"\u2207",Delta:"\u0394",delta:"\u03b4",demptyv:"\u29b1",dfisht:"\u297f",Dfr:"\ud835\udd07",dfr:"\ud835\udd21",dHar:"\u2965",dharl:"\u21c3",dharr:"\u21c2",DiacriticalAcute:"\xb4",DiacriticalDot:"\u02d9",DiacriticalDoubleAcute:"\u02dd",DiacriticalGrave:"`",DiacriticalTilde:"\u02dc",
diam:"\u22c4",diamond:"\u22c4",Diamond:"\u22c4",diamondsuit:"\u2666",diams:"\u2666",die:"\xa8",DifferentialD:"\u2146",digamma:"\u03dd",disin:"\u22f2",div:"\xf7",divide:"\xf7",divideontimes:"\u22c7",divonx:"\u22c7",DJcy:"\u0402",djcy:"\u0452",dlcorn:"\u231e",dlcrop:"\u230d",dollar:"$",Dopf:"\ud835\udd3b",dopf:"\ud835\udd55",Dot:"\xa8",dot:"\u02d9",DotDot:"\u20dc",doteq:"\u2250",doteqdot:"\u2251",DotEqual:"\u2250",dotminus:"\u2238",dotplus:"\u2214",dotsquare:"\u22a1",doublebarwedge:"\u2306",DoubleContourIntegral:"\u222f",DoubleDot:"\xa8",DoubleDownArrow:"\u21d3",DoubleLeftArrow:"\u21d0",DoubleLeftRightArrow:"\u21d4",DoubleLeftTee:"\u2ae4",DoubleLongLeftArrow:"\u27f8",DoubleLongLeftRightArrow:"\u27fa",DoubleLongRightArrow:"\u27f9",DoubleRightArrow:"\u21d2",DoubleRightTee:"\u22a8",DoubleUpArrow:"\u21d1",DoubleUpDownArrow:"\u21d5",DoubleVerticalBar:"\u2225",DownArrowBar:"\u2913",downarrow:"\u2193",DownArrow:"\u2193",Downarrow:"\u21d3",DownArrowUpArrow:"\u21f5",DownBreve:"\u0311",downdownarrows:"\u21ca",downharpoonleft:"\u21c3",
downharpoonright:"\u21c2",DownLeftRightVector:"\u2950",DownLeftTeeVector:"\u295e",DownLeftVectorBar:"\u2956",DownLeftVector:"\u21bd",DownRightTeeVector:"\u295f",DownRightVectorBar:"\u2957",DownRightVector:"\u21c1",DownTeeArrow:"\u21a7",DownTee:"\u22a4",drbkarow:"\u2910",drcorn:"\u231f",drcrop:"\u230c",Dscr:"\ud835\udc9f",dscr:"\ud835\udcb9",DScy:"\u0405",dscy:"\u0455",dsol:"\u29f6",Dstrok:"\u0110",dstrok:"\u0111",dtdot:"\u22f1",dtri:"\u25bf",dtrif:"\u25be",duarr:"\u21f5",duhar:"\u296f",dwangle:"\u29a6",DZcy:"\u040f",dzcy:"\u045f",dzigrarr:"\u27ff",Eacute:"\xc9",eacute:"\xe9",easter:"\u2a6e",Ecaron:"\u011a",ecaron:"\u011b",Ecirc:"\xca",ecirc:"\xea",ecir:"\u2256",ecolon:"\u2255",Ecy:"\u042d",ecy:"\u044d",eDDot:"\u2a77",Edot:"\u0116",edot:"\u0117",eDot:"\u2251",ee:"\u2147",efDot:"\u2252",Efr:"\ud835\udd08",efr:"\ud835\udd22",eg:"\u2a9a",Egrave:"\xc8",egrave:"\xe8",egs:"\u2a96",egsdot:"\u2a98",el:"\u2a99",Element:"\u2208",elinters:"\u23e7",ell:"\u2113",els:"\u2a95",elsdot:"\u2a97",Emacr:"\u0112",emacr:"\u0113",empty:"\u2205",
emptyset:"\u2205",EmptySmallSquare:"\u25fb",emptyv:"\u2205",EmptyVerySmallSquare:"\u25ab",emsp13:"\u2004",emsp14:"\u2005",emsp:"\u2003",ENG:"\u014a",eng:"\u014b",ensp:"\u2002",Eogon:"\u0118",eogon:"\u0119",Eopf:"\ud835\udd3c",eopf:"\ud835\udd56",epar:"\u22d5",eparsl:"\u29e3",eplus:"\u2a71",epsi:"\u03b5",Epsilon:"\u0395",epsilon:"\u03b5",epsiv:"\u03f5",eqcirc:"\u2256",eqcolon:"\u2255",eqsim:"\u2242",eqslantgtr:"\u2a96",eqslantless:"\u2a95",Equal:"\u2a75",equals:"=",EqualTilde:"\u2242",equest:"\u225f",Equilibrium:"\u21cc",equiv:"\u2261",equivDD:"\u2a78",eqvparsl:"\u29e5",erarr:"\u2971",erDot:"\u2253",escr:"\u212f",Escr:"\u2130",esdot:"\u2250",Esim:"\u2a73",esim:"\u2242",Eta:"\u0397",eta:"\u03b7",ETH:"\xd0",eth:"\xf0",Euml:"\xcb",euml:"\xeb",euro:"\u20ac",excl:"!",exist:"\u2203",Exists:"\u2203",expectation:"\u2130",exponentiale:"\u2147",ExponentialE:"\u2147",fallingdotseq:"\u2252",Fcy:"\u0424",fcy:"\u0444",female:"\u2640",ffilig:"\ufb03",fflig:"\ufb00",ffllig:"\ufb04",Ffr:"\ud835\udd09",ffr:"\ud835\udd23",filig:"\ufb01",
FilledSmallSquare:"\u25fc",FilledVerySmallSquare:"\u25aa",fjlig:"fj",flat:"\u266d",fllig:"\ufb02",fltns:"\u25b1",fnof:"\u0192",Fopf:"\ud835\udd3d",fopf:"\ud835\udd57",forall:"\u2200",ForAll:"\u2200",fork:"\u22d4",forkv:"\u2ad9",Fouriertrf:"\u2131",fpartint:"\u2a0d",frac12:"\xbd",frac13:"\u2153",frac14:"\xbc",frac15:"\u2155",frac16:"\u2159",frac18:"\u215b",frac23:"\u2154",frac25:"\u2156",frac34:"\xbe",frac35:"\u2157",frac38:"\u215c",frac45:"\u2158",frac56:"\u215a",frac58:"\u215d",frac78:"\u215e",frasl:"\u2044",frown:"\u2322",fscr:"\ud835\udcbb",Fscr:"\u2131",gacute:"\u01f5",Gamma:"\u0393",gamma:"\u03b3",Gammad:"\u03dc",gammad:"\u03dd",gap:"\u2a86",Gbreve:"\u011e",gbreve:"\u011f",Gcedil:"\u0122",Gcirc:"\u011c",gcirc:"\u011d",Gcy:"\u0413",gcy:"\u0433",Gdot:"\u0120",gdot:"\u0121",ge:"\u2265",gE:"\u2267",gEl:"\u2a8c",gel:"\u22db",geq:"\u2265",geqq:"\u2267",geqslant:"\u2a7e",gescc:"\u2aa9",ges:"\u2a7e",gesdot:"\u2a80",gesdoto:"\u2a82",gesdotol:"\u2a84",gesl:"\u22db\ufe00",gesles:"\u2a94",Gfr:"\ud835\udd0a",gfr:"\ud835\udd24",
gg:"\u226b",Gg:"\u22d9",ggg:"\u22d9",gimel:"\u2137",GJcy:"\u0403",gjcy:"\u0453",gla:"\u2aa5",gl:"\u2277",glE:"\u2a92",glj:"\u2aa4",gnap:"\u2a8a",gnapprox:"\u2a8a",gne:"\u2a88",gnE:"\u2269",gneq:"\u2a88",gneqq:"\u2269",gnsim:"\u22e7",Gopf:"\ud835\udd3e",gopf:"\ud835\udd58",grave:"`",GreaterEqual:"\u2265",GreaterEqualLess:"\u22db",GreaterFullEqual:"\u2267",GreaterGreater:"\u2aa2",GreaterLess:"\u2277",GreaterSlantEqual:"\u2a7e",GreaterTilde:"\u2273",Gscr:"\ud835\udca2",gscr:"\u210a",gsim:"\u2273",gsime:"\u2a8e",gsiml:"\u2a90",gtcc:"\u2aa7",gtcir:"\u2a7a",gt:">",GT:">",Gt:"\u226b",gtdot:"\u22d7",gtlPar:"\u2995",gtquest:"\u2a7c",gtrapprox:"\u2a86",gtrarr:"\u2978",gtrdot:"\u22d7",gtreqless:"\u22db",gtreqqless:"\u2a8c",gtrless:"\u2277",gtrsim:"\u2273",gvertneqq:"\u2269\ufe00",gvnE:"\u2269\ufe00",Hacek:"\u02c7",hairsp:"\u200a",half:"\xbd",hamilt:"\u210b",HARDcy:"\u042a",hardcy:"\u044a",harrcir:"\u2948",harr:"\u2194",hArr:"\u21d4",harrw:"\u21ad",Hat:"^",hbar:"\u210f",Hcirc:"\u0124",hcirc:"\u0125",hearts:"\u2665",heartsuit:"\u2665",
hellip:"\u2026",hercon:"\u22b9",hfr:"\ud835\udd25",Hfr:"\u210c",HilbertSpace:"\u210b",hksearow:"\u2925",hkswarow:"\u2926",hoarr:"\u21ff",homtht:"\u223b",hookleftarrow:"\u21a9",hookrightarrow:"\u21aa",hopf:"\ud835\udd59",Hopf:"\u210d",horbar:"\u2015",HorizontalLine:"\u2500",hscr:"\ud835\udcbd",Hscr:"\u210b",hslash:"\u210f",Hstrok:"\u0126",hstrok:"\u0127",HumpDownHump:"\u224e",HumpEqual:"\u224f",hybull:"\u2043",hyphen:"\u2010",Iacute:"\xcd",iacute:"\xed",ic:"\u2063",Icirc:"\xce",icirc:"\xee",Icy:"\u0418",icy:"\u0438",Idot:"\u0130",IEcy:"\u0415",iecy:"\u0435",iexcl:"\xa1",iff:"\u21d4",ifr:"\ud835\udd26",Ifr:"\u2111",Igrave:"\xcc",igrave:"\xec",ii:"\u2148",iiiint:"\u2a0c",iiint:"\u222d",iinfin:"\u29dc",iiota:"\u2129",IJlig:"\u0132",ijlig:"\u0133",Imacr:"\u012a",imacr:"\u012b",image:"\u2111",ImaginaryI:"\u2148",imagline:"\u2110",imagpart:"\u2111",imath:"\u0131",Im:"\u2111",imof:"\u22b7",imped:"\u01b5",Implies:"\u21d2",incare:"\u2105","in":"\u2208",infin:"\u221e",infintie:"\u29dd",inodot:"\u0131",intcal:"\u22ba","int":"\u222b",
Int:"\u222c",integers:"\u2124",Integral:"\u222b",intercal:"\u22ba",Intersection:"\u22c2",intlarhk:"\u2a17",intprod:"\u2a3c",InvisibleComma:"\u2063",InvisibleTimes:"\u2062",IOcy:"\u0401",iocy:"\u0451",Iogon:"\u012e",iogon:"\u012f",Iopf:"\ud835\udd40",iopf:"\ud835\udd5a",Iota:"\u0399",iota:"\u03b9",iprod:"\u2a3c",iquest:"\xbf",iscr:"\ud835\udcbe",Iscr:"\u2110",isin:"\u2208",isindot:"\u22f5",isinE:"\u22f9",isins:"\u22f4",isinsv:"\u22f3",isinv:"\u2208",it:"\u2062",Itilde:"\u0128",itilde:"\u0129",Iukcy:"\u0406",iukcy:"\u0456",Iuml:"\xcf",iuml:"\xef",Jcirc:"\u0134",jcirc:"\u0135",Jcy:"\u0419",jcy:"\u0439",Jfr:"\ud835\udd0d",jfr:"\ud835\udd27",jmath:"\u0237",Jopf:"\ud835\udd41",jopf:"\ud835\udd5b",Jscr:"\ud835\udca5",jscr:"\ud835\udcbf",Jsercy:"\u0408",jsercy:"\u0458",Jukcy:"\u0404",jukcy:"\u0454",Kappa:"\u039a",kappa:"\u03ba",kappav:"\u03f0",Kcedil:"\u0136",kcedil:"\u0137",Kcy:"\u041a",kcy:"\u043a",Kfr:"\ud835\udd0e",kfr:"\ud835\udd28",kgreen:"\u0138",KHcy:"\u0425",khcy:"\u0445",KJcy:"\u040c",kjcy:"\u045c",Kopf:"\ud835\udd42",
kopf:"\ud835\udd5c",Kscr:"\ud835\udca6",kscr:"\ud835\udcc0",lAarr:"\u21da",Lacute:"\u0139",lacute:"\u013a",laemptyv:"\u29b4",lagran:"\u2112",Lambda:"\u039b",lambda:"\u03bb",lang:"\u27e8",Lang:"\u27ea",langd:"\u2991",langle:"\u27e8",lap:"\u2a85",Laplacetrf:"\u2112",laquo:"\xab",larrb:"\u21e4",larrbfs:"\u291f",larr:"\u2190",Larr:"\u219e",lArr:"\u21d0",larrfs:"\u291d",larrhk:"\u21a9",larrlp:"\u21ab",larrpl:"\u2939",larrsim:"\u2973",larrtl:"\u21a2",latail:"\u2919",lAtail:"\u291b",lat:"\u2aab",late:"\u2aad",lates:"\u2aad\ufe00",lbarr:"\u290c",lBarr:"\u290e",lbbrk:"\u2772",lbrace:"{",lbrack:"[",lbrke:"\u298b",lbrksld:"\u298f",lbrkslu:"\u298d",Lcaron:"\u013d",lcaron:"\u013e",Lcedil:"\u013b",lcedil:"\u013c",lceil:"\u2308",lcub:"{",Lcy:"\u041b",lcy:"\u043b",ldca:"\u2936",ldquo:"\u201c",ldquor:"\u201e",ldrdhar:"\u2967",ldrushar:"\u294b",ldsh:"\u21b2",le:"\u2264",lE:"\u2266",LeftAngleBracket:"\u27e8",LeftArrowBar:"\u21e4",leftarrow:"\u2190",LeftArrow:"\u2190",Leftarrow:"\u21d0",LeftArrowRightArrow:"\u21c6",leftarrowtail:"\u21a2",
LeftCeiling:"\u2308",LeftDoubleBracket:"\u27e6",LeftDownTeeVector:"\u2961",LeftDownVectorBar:"\u2959",LeftDownVector:"\u21c3",LeftFloor:"\u230a",leftharpoondown:"\u21bd",leftharpoonup:"\u21bc",leftleftarrows:"\u21c7",leftrightarrow:"\u2194",LeftRightArrow:"\u2194",Leftrightarrow:"\u21d4",leftrightarrows:"\u21c6",leftrightharpoons:"\u21cb",leftrightsquigarrow:"\u21ad",LeftRightVector:"\u294e",LeftTeeArrow:"\u21a4",LeftTee:"\u22a3",LeftTeeVector:"\u295a",leftthreetimes:"\u22cb",LeftTriangleBar:"\u29cf",LeftTriangle:"\u22b2",LeftTriangleEqual:"\u22b4",LeftUpDownVector:"\u2951",LeftUpTeeVector:"\u2960",LeftUpVectorBar:"\u2958",LeftUpVector:"\u21bf",LeftVectorBar:"\u2952",LeftVector:"\u21bc",lEg:"\u2a8b",leg:"\u22da",leq:"\u2264",leqq:"\u2266",leqslant:"\u2a7d",lescc:"\u2aa8",les:"\u2a7d",lesdot:"\u2a7f",lesdoto:"\u2a81",lesdotor:"\u2a83",lesg:"\u22da\ufe00",lesges:"\u2a93",lessapprox:"\u2a85",lessdot:"\u22d6",lesseqgtr:"\u22da",lesseqqgtr:"\u2a8b",LessEqualGreater:"\u22da",LessFullEqual:"\u2266",LessGreater:"\u2276",
lessgtr:"\u2276",LessLess:"\u2aa1",lesssim:"\u2272",LessSlantEqual:"\u2a7d",LessTilde:"\u2272",lfisht:"\u297c",lfloor:"\u230a",Lfr:"\ud835\udd0f",lfr:"\ud835\udd29",lg:"\u2276",lgE:"\u2a91",lHar:"\u2962",lhard:"\u21bd",lharu:"\u21bc",lharul:"\u296a",lhblk:"\u2584",LJcy:"\u0409",ljcy:"\u0459",llarr:"\u21c7",ll:"\u226a",Ll:"\u22d8",llcorner:"\u231e",Lleftarrow:"\u21da",llhard:"\u296b",lltri:"\u25fa",Lmidot:"\u013f",lmidot:"\u0140",lmoustache:"\u23b0",lmoust:"\u23b0",lnap:"\u2a89",lnapprox:"\u2a89",lne:"\u2a87",lnE:"\u2268",lneq:"\u2a87",lneqq:"\u2268",lnsim:"\u22e6",loang:"\u27ec",loarr:"\u21fd",lobrk:"\u27e6",longleftarrow:"\u27f5",LongLeftArrow:"\u27f5",Longleftarrow:"\u27f8",longleftrightarrow:"\u27f7",LongLeftRightArrow:"\u27f7",Longleftrightarrow:"\u27fa",longmapsto:"\u27fc",longrightarrow:"\u27f6",LongRightArrow:"\u27f6",Longrightarrow:"\u27f9",looparrowleft:"\u21ab",looparrowright:"\u21ac",lopar:"\u2985",Lopf:"\ud835\udd43",lopf:"\ud835\udd5d",loplus:"\u2a2d",lotimes:"\u2a34",lowast:"\u2217",lowbar:"_",LowerLeftArrow:"\u2199",
LowerRightArrow:"\u2198",loz:"\u25ca",lozenge:"\u25ca",lozf:"\u29eb",lpar:"(",lparlt:"\u2993",lrarr:"\u21c6",lrcorner:"\u231f",lrhar:"\u21cb",lrhard:"\u296d",lrm:"\u200e",lrtri:"\u22bf",lsaquo:"\u2039",lscr:"\ud835\udcc1",Lscr:"\u2112",lsh:"\u21b0",Lsh:"\u21b0",lsim:"\u2272",lsime:"\u2a8d",lsimg:"\u2a8f",lsqb:"[",lsquo:"\u2018",lsquor:"\u201a",Lstrok:"\u0141",lstrok:"\u0142",ltcc:"\u2aa6",ltcir:"\u2a79",lt:"<",LT:"<",Lt:"\u226a",ltdot:"\u22d6",lthree:"\u22cb",ltimes:"\u22c9",ltlarr:"\u2976",ltquest:"\u2a7b",ltri:"\u25c3",ltrie:"\u22b4",ltrif:"\u25c2",ltrPar:"\u2996",lurdshar:"\u294a",luruhar:"\u2966",lvertneqq:"\u2268\ufe00",lvnE:"\u2268\ufe00",macr:"\xaf",male:"\u2642",malt:"\u2720",maltese:"\u2720",Map:"\u2905",map:"\u21a6",mapsto:"\u21a6",mapstodown:"\u21a7",mapstoleft:"\u21a4",mapstoup:"\u21a5",marker:"\u25ae",mcomma:"\u2a29",Mcy:"\u041c",mcy:"\u043c",mdash:"\u2014",mDDot:"\u223a",measuredangle:"\u2221",MediumSpace:"\u205f",Mellintrf:"\u2133",Mfr:"\ud835\udd10",mfr:"\ud835\udd2a",mho:"\u2127",micro:"\xb5",
midast:"*",midcir:"\u2af0",mid:"\u2223",middot:"\xb7",minusb:"\u229f",minus:"\u2212",minusd:"\u2238",minusdu:"\u2a2a",MinusPlus:"\u2213",mlcp:"\u2adb",mldr:"\u2026",mnplus:"\u2213",models:"\u22a7",Mopf:"\ud835\udd44",mopf:"\ud835\udd5e",mp:"\u2213",mscr:"\ud835\udcc2",Mscr:"\u2133",mstpos:"\u223e",Mu:"\u039c",mu:"\u03bc",multimap:"\u22b8",mumap:"\u22b8",nabla:"\u2207",Nacute:"\u0143",nacute:"\u0144",nang:"\u2220\u20d2",nap:"\u2249",napE:"\u2a70\u0338",napid:"\u224b\u0338",napos:"\u0149",napprox:"\u2249",natural:"\u266e",naturals:"\u2115",natur:"\u266e",nbsp:"\xa0",nbump:"\u224e\u0338",nbumpe:"\u224f\u0338",ncap:"\u2a43",Ncaron:"\u0147",ncaron:"\u0148",Ncedil:"\u0145",ncedil:"\u0146",ncong:"\u2247",ncongdot:"\u2a6d\u0338",ncup:"\u2a42",Ncy:"\u041d",ncy:"\u043d",ndash:"\u2013",nearhk:"\u2924",nearr:"\u2197",neArr:"\u21d7",nearrow:"\u2197",ne:"\u2260",nedot:"\u2250\u0338",NegativeMediumSpace:"\u200b",NegativeThickSpace:"\u200b",NegativeThinSpace:"\u200b",NegativeVeryThinSpace:"\u200b",nequiv:"\u2262",nesear:"\u2928",
nesim:"\u2242\u0338",NestedGreaterGreater:"\u226b",NestedLessLess:"\u226a",NewLine:"\n",nexist:"\u2204",nexists:"\u2204",Nfr:"\ud835\udd11",nfr:"\ud835\udd2b",ngE:"\u2267\u0338",nge:"\u2271",ngeq:"\u2271",ngeqq:"\u2267\u0338",ngeqslant:"\u2a7e\u0338",nges:"\u2a7e\u0338",nGg:"\u22d9\u0338",ngsim:"\u2275",nGt:"\u226b\u20d2",ngt:"\u226f",ngtr:"\u226f",nGtv:"\u226b\u0338",nharr:"\u21ae",nhArr:"\u21ce",nhpar:"\u2af2",ni:"\u220b",nis:"\u22fc",nisd:"\u22fa",niv:"\u220b",NJcy:"\u040a",njcy:"\u045a",nlarr:"\u219a",nlArr:"\u21cd",nldr:"\u2025",nlE:"\u2266\u0338",nle:"\u2270",nleftarrow:"\u219a",nLeftarrow:"\u21cd",nleftrightarrow:"\u21ae",nLeftrightarrow:"\u21ce",nleq:"\u2270",nleqq:"\u2266\u0338",nleqslant:"\u2a7d\u0338",nles:"\u2a7d\u0338",nless:"\u226e",nLl:"\u22d8\u0338",nlsim:"\u2274",nLt:"\u226a\u20d2",nlt:"\u226e",nltri:"\u22ea",nltrie:"\u22ec",nLtv:"\u226a\u0338",nmid:"\u2224",NoBreak:"\u2060",NonBreakingSpace:"\xa0",nopf:"\ud835\udd5f",Nopf:"\u2115",Not:"\u2aec",not:"\xac",NotCongruent:"\u2262",NotCupCap:"\u226d",
NotDoubleVerticalBar:"\u2226",NotElement:"\u2209",NotEqual:"\u2260",NotEqualTilde:"\u2242\u0338",NotExists:"\u2204",NotGreater:"\u226f",NotGreaterEqual:"\u2271",NotGreaterFullEqual:"\u2267\u0338",NotGreaterGreater:"\u226b\u0338",NotGreaterLess:"\u2279",NotGreaterSlantEqual:"\u2a7e\u0338",NotGreaterTilde:"\u2275",NotHumpDownHump:"\u224e\u0338",NotHumpEqual:"\u224f\u0338",notin:"\u2209",notindot:"\u22f5\u0338",notinE:"\u22f9\u0338",notinva:"\u2209",notinvb:"\u22f7",notinvc:"\u22f6",NotLeftTriangleBar:"\u29cf\u0338",NotLeftTriangle:"\u22ea",NotLeftTriangleEqual:"\u22ec",NotLess:"\u226e",NotLessEqual:"\u2270",NotLessGreater:"\u2278",NotLessLess:"\u226a\u0338",NotLessSlantEqual:"\u2a7d\u0338",NotLessTilde:"\u2274",NotNestedGreaterGreater:"\u2aa2\u0338",NotNestedLessLess:"\u2aa1\u0338",notni:"\u220c",notniva:"\u220c",notnivb:"\u22fe",notnivc:"\u22fd",NotPrecedes:"\u2280",NotPrecedesEqual:"\u2aaf\u0338",NotPrecedesSlantEqual:"\u22e0",NotReverseElement:"\u220c",NotRightTriangleBar:"\u29d0\u0338",NotRightTriangle:"\u22eb",
NotRightTriangleEqual:"\u22ed",NotSquareSubset:"\u228f\u0338",NotSquareSubsetEqual:"\u22e2",NotSquareSuperset:"\u2290\u0338",NotSquareSupersetEqual:"\u22e3",NotSubset:"\u2282\u20d2",NotSubsetEqual:"\u2288",NotSucceeds:"\u2281",NotSucceedsEqual:"\u2ab0\u0338",NotSucceedsSlantEqual:"\u22e1",NotSucceedsTilde:"\u227f\u0338",NotSuperset:"\u2283\u20d2",NotSupersetEqual:"\u2289",NotTilde:"\u2241",NotTildeEqual:"\u2244",NotTildeFullEqual:"\u2247",NotTildeTilde:"\u2249",NotVerticalBar:"\u2224",nparallel:"\u2226",npar:"\u2226",nparsl:"\u2afd\u20e5",npart:"\u2202\u0338",npolint:"\u2a14",npr:"\u2280",nprcue:"\u22e0",nprec:"\u2280",npreceq:"\u2aaf\u0338",npre:"\u2aaf\u0338",nrarrc:"\u2933\u0338",nrarr:"\u219b",nrArr:"\u21cf",nrarrw:"\u219d\u0338",nrightarrow:"\u219b",nRightarrow:"\u21cf",nrtri:"\u22eb",nrtrie:"\u22ed",nsc:"\u2281",nsccue:"\u22e1",nsce:"\u2ab0\u0338",Nscr:"\ud835\udca9",nscr:"\ud835\udcc3",nshortmid:"\u2224",nshortparallel:"\u2226",nsim:"\u2241",nsime:"\u2244",nsimeq:"\u2244",nsmid:"\u2224",nspar:"\u2226",nsqsube:"\u22e2",
nsqsupe:"\u22e3",nsub:"\u2284",nsubE:"\u2ac5\u0338",nsube:"\u2288",nsubset:"\u2282\u20d2",nsubseteq:"\u2288",nsubseteqq:"\u2ac5\u0338",nsucc:"\u2281",nsucceq:"\u2ab0\u0338",nsup:"\u2285",nsupE:"\u2ac6\u0338",nsupe:"\u2289",nsupset:"\u2283\u20d2",nsupseteq:"\u2289",nsupseteqq:"\u2ac6\u0338",ntgl:"\u2279",Ntilde:"\xd1",ntilde:"\xf1",ntlg:"\u2278",ntriangleleft:"\u22ea",ntrianglelefteq:"\u22ec",ntriangleright:"\u22eb",ntrianglerighteq:"\u22ed",Nu:"\u039d",nu:"\u03bd",num:"#",numero:"\u2116",numsp:"\u2007",nvap:"\u224d\u20d2",nvdash:"\u22ac",nvDash:"\u22ad",nVdash:"\u22ae",nVDash:"\u22af",nvge:"\u2265\u20d2",nvgt:">\u20d2",nvHarr:"\u2904",nvinfin:"\u29de",nvlArr:"\u2902",nvle:"\u2264\u20d2",nvlt:"<\u20d2",nvltrie:"\u22b4\u20d2",nvrArr:"\u2903",nvrtrie:"\u22b5\u20d2",nvsim:"\u223c\u20d2",nwarhk:"\u2923",nwarr:"\u2196",nwArr:"\u21d6",nwarrow:"\u2196",nwnear:"\u2927",Oacute:"\xd3",oacute:"\xf3",oast:"\u229b",Ocirc:"\xd4",ocirc:"\xf4",ocir:"\u229a",Ocy:"\u041e",ocy:"\u043e",odash:"\u229d",Odblac:"\u0150",odblac:"\u0151",
odiv:"\u2a38",odot:"\u2299",odsold:"\u29bc",OElig:"\u0152",oelig:"\u0153",ofcir:"\u29bf",Ofr:"\ud835\udd12",ofr:"\ud835\udd2c",ogon:"\u02db",Ograve:"\xd2",ograve:"\xf2",ogt:"\u29c1",ohbar:"\u29b5",ohm:"\u03a9",oint:"\u222e",olarr:"\u21ba",olcir:"\u29be",olcross:"\u29bb",oline:"\u203e",olt:"\u29c0",Omacr:"\u014c",omacr:"\u014d",Omega:"\u03a9",omega:"\u03c9",Omicron:"\u039f",omicron:"\u03bf",omid:"\u29b6",ominus:"\u2296",Oopf:"\ud835\udd46",oopf:"\ud835\udd60",opar:"\u29b7",OpenCurlyDoubleQuote:"\u201c",OpenCurlyQuote:"\u2018",operp:"\u29b9",oplus:"\u2295",orarr:"\u21bb",Or:"\u2a54",or:"\u2228",ord:"\u2a5d",order:"\u2134",orderof:"\u2134",ordf:"\xaa",ordm:"\xba",origof:"\u22b6",oror:"\u2a56",orslope:"\u2a57",orv:"\u2a5b",oS:"\u24c8",Oscr:"\ud835\udcaa",oscr:"\u2134",Oslash:"\xd8",oslash:"\xf8",osol:"\u2298",Otilde:"\xd5",otilde:"\xf5",otimesas:"\u2a36",Otimes:"\u2a37",otimes:"\u2297",Ouml:"\xd6",ouml:"\xf6",ovbar:"\u233d",OverBar:"\u203e",OverBrace:"\u23de",OverBracket:"\u23b4",OverParenthesis:"\u23dc",para:"\xb6",
parallel:"\u2225",par:"\u2225",parsim:"\u2af3",parsl:"\u2afd",part:"\u2202",PartialD:"\u2202",Pcy:"\u041f",pcy:"\u043f",percnt:"%",period:".",permil:"\u2030",perp:"\u22a5",pertenk:"\u2031",Pfr:"\ud835\udd13",pfr:"\ud835\udd2d",Phi:"\u03a6",phi:"\u03c6",phiv:"\u03d5",phmmat:"\u2133",phone:"\u260e",Pi:"\u03a0",pi:"\u03c0",pitchfork:"\u22d4",piv:"\u03d6",planck:"\u210f",planckh:"\u210e",plankv:"\u210f",plusacir:"\u2a23",plusb:"\u229e",pluscir:"\u2a22",plus:"+",plusdo:"\u2214",plusdu:"\u2a25",pluse:"\u2a72",PlusMinus:"\xb1",plusmn:"\xb1",plussim:"\u2a26",plustwo:"\u2a27",pm:"\xb1",Poincareplane:"\u210c",pointint:"\u2a15",popf:"\ud835\udd61",Popf:"\u2119",pound:"\xa3",prap:"\u2ab7",Pr:"\u2abb",pr:"\u227a",prcue:"\u227c",precapprox:"\u2ab7",prec:"\u227a",preccurlyeq:"\u227c",Precedes:"\u227a",PrecedesEqual:"\u2aaf",PrecedesSlantEqual:"\u227c",PrecedesTilde:"\u227e",preceq:"\u2aaf",precnapprox:"\u2ab9",precneqq:"\u2ab5",precnsim:"\u22e8",pre:"\u2aaf",prE:"\u2ab3",precsim:"\u227e",prime:"\u2032",Prime:"\u2033",primes:"\u2119",
prnap:"\u2ab9",prnE:"\u2ab5",prnsim:"\u22e8",prod:"\u220f",Product:"\u220f",profalar:"\u232e",profline:"\u2312",profsurf:"\u2313",prop:"\u221d",Proportional:"\u221d",Proportion:"\u2237",propto:"\u221d",prsim:"\u227e",prurel:"\u22b0",Pscr:"\ud835\udcab",pscr:"\ud835\udcc5",Psi:"\u03a8",psi:"\u03c8",puncsp:"\u2008",Qfr:"\ud835\udd14",qfr:"\ud835\udd2e",qint:"\u2a0c",qopf:"\ud835\udd62",Qopf:"\u211a",qprime:"\u2057",Qscr:"\ud835\udcac",qscr:"\ud835\udcc6",quaternions:"\u210d",quatint:"\u2a16",quest:"?",questeq:"\u225f",quot:'"',QUOT:'"',rAarr:"\u21db",race:"\u223d\u0331",Racute:"\u0154",racute:"\u0155",radic:"\u221a",raemptyv:"\u29b3",rang:"\u27e9",Rang:"\u27eb",rangd:"\u2992",range:"\u29a5",rangle:"\u27e9",raquo:"\xbb",rarrap:"\u2975",rarrb:"\u21e5",rarrbfs:"\u2920",rarrc:"\u2933",rarr:"\u2192",Rarr:"\u21a0",rArr:"\u21d2",rarrfs:"\u291e",rarrhk:"\u21aa",rarrlp:"\u21ac",rarrpl:"\u2945",rarrsim:"\u2974",Rarrtl:"\u2916",rarrtl:"\u21a3",rarrw:"\u219d",ratail:"\u291a",rAtail:"\u291c",ratio:"\u2236",rationals:"\u211a",
rbarr:"\u290d",rBarr:"\u290f",RBarr:"\u2910",rbbrk:"\u2773",rbrace:"}",rbrack:"]",rbrke:"\u298c",rbrksld:"\u298e",rbrkslu:"\u2990",Rcaron:"\u0158",rcaron:"\u0159",Rcedil:"\u0156",rcedil:"\u0157",rceil:"\u2309",rcub:"}",Rcy:"\u0420",rcy:"\u0440",rdca:"\u2937",rdldhar:"\u2969",rdquo:"\u201d",rdquor:"\u201d",rdsh:"\u21b3",real:"\u211c",realine:"\u211b",realpart:"\u211c",reals:"\u211d",Re:"\u211c",rect:"\u25ad",reg:"\xae",REG:"\xae",ReverseElement:"\u220b",ReverseEquilibrium:"\u21cb",ReverseUpEquilibrium:"\u296f",rfisht:"\u297d",rfloor:"\u230b",rfr:"\ud835\udd2f",Rfr:"\u211c",rHar:"\u2964",rhard:"\u21c1",rharu:"\u21c0",rharul:"\u296c",Rho:"\u03a1",rho:"\u03c1",rhov:"\u03f1",RightAngleBracket:"\u27e9",RightArrowBar:"\u21e5",rightarrow:"\u2192",RightArrow:"\u2192",Rightarrow:"\u21d2",RightArrowLeftArrow:"\u21c4",rightarrowtail:"\u21a3",RightCeiling:"\u2309",RightDoubleBracket:"\u27e7",RightDownTeeVector:"\u295d",RightDownVectorBar:"\u2955",RightDownVector:"\u21c2",RightFloor:"\u230b",rightharpoondown:"\u21c1",rightharpoonup:"\u21c0",
rightleftarrows:"\u21c4",rightleftharpoons:"\u21cc",rightrightarrows:"\u21c9",rightsquigarrow:"\u219d",RightTeeArrow:"\u21a6",RightTee:"\u22a2",RightTeeVector:"\u295b",rightthreetimes:"\u22cc",RightTriangleBar:"\u29d0",RightTriangle:"\u22b3",RightTriangleEqual:"\u22b5",RightUpDownVector:"\u294f",RightUpTeeVector:"\u295c",RightUpVectorBar:"\u2954",RightUpVector:"\u21be",RightVectorBar:"\u2953",RightVector:"\u21c0",ring:"\u02da",risingdotseq:"\u2253",rlarr:"\u21c4",rlhar:"\u21cc",rlm:"\u200f",rmoustache:"\u23b1",rmoust:"\u23b1",rnmid:"\u2aee",roang:"\u27ed",roarr:"\u21fe",robrk:"\u27e7",ropar:"\u2986",ropf:"\ud835\udd63",Ropf:"\u211d",roplus:"\u2a2e",rotimes:"\u2a35",RoundImplies:"\u2970",rpar:")",rpargt:"\u2994",rppolint:"\u2a12",rrarr:"\u21c9",Rrightarrow:"\u21db",rsaquo:"\u203a",rscr:"\ud835\udcc7",Rscr:"\u211b",rsh:"\u21b1",Rsh:"\u21b1",rsqb:"]",rsquo:"\u2019",rsquor:"\u2019",rthree:"\u22cc",rtimes:"\u22ca",rtri:"\u25b9",rtrie:"\u22b5",rtrif:"\u25b8",rtriltri:"\u29ce",RuleDelayed:"\u29f4",ruluhar:"\u2968",rx:"\u211e",
Sacute:"\u015a",sacute:"\u015b",sbquo:"\u201a",scap:"\u2ab8",Scaron:"\u0160",scaron:"\u0161",Sc:"\u2abc",sc:"\u227b",sccue:"\u227d",sce:"\u2ab0",scE:"\u2ab4",Scedil:"\u015e",scedil:"\u015f",Scirc:"\u015c",scirc:"\u015d",scnap:"\u2aba",scnE:"\u2ab6",scnsim:"\u22e9",scpolint:"\u2a13",scsim:"\u227f",Scy:"\u0421",scy:"\u0441",sdotb:"\u22a1",sdot:"\u22c5",sdote:"\u2a66",searhk:"\u2925",searr:"\u2198",seArr:"\u21d8",searrow:"\u2198",sect:"\xa7",semi:";",seswar:"\u2929",setminus:"\u2216",setmn:"\u2216",sext:"\u2736",Sfr:"\ud835\udd16",sfr:"\ud835\udd30",sfrown:"\u2322",sharp:"\u266f",SHCHcy:"\u0429",shchcy:"\u0449",SHcy:"\u0428",shcy:"\u0448",ShortDownArrow:"\u2193",ShortLeftArrow:"\u2190",shortmid:"\u2223",shortparallel:"\u2225",ShortRightArrow:"\u2192",ShortUpArrow:"\u2191",shy:"\xad",Sigma:"\u03a3",sigma:"\u03c3",sigmaf:"\u03c2",sigmav:"\u03c2",sim:"\u223c",simdot:"\u2a6a",sime:"\u2243",simeq:"\u2243",simg:"\u2a9e",simgE:"\u2aa0",siml:"\u2a9d",simlE:"\u2a9f",simne:"\u2246",simplus:"\u2a24",simrarr:"\u2972",slarr:"\u2190",
SmallCircle:"\u2218",smallsetminus:"\u2216",smashp:"\u2a33",smeparsl:"\u29e4",smid:"\u2223",smile:"\u2323",smt:"\u2aaa",smte:"\u2aac",smtes:"\u2aac\ufe00",SOFTcy:"\u042c",softcy:"\u044c",solbar:"\u233f",solb:"\u29c4",sol:"/",Sopf:"\ud835\udd4a",sopf:"\ud835\udd64",spades:"\u2660",spadesuit:"\u2660",spar:"\u2225",sqcap:"\u2293",sqcaps:"\u2293\ufe00",sqcup:"\u2294",sqcups:"\u2294\ufe00",Sqrt:"\u221a",sqsub:"\u228f",sqsube:"\u2291",sqsubset:"\u228f",sqsubseteq:"\u2291",sqsup:"\u2290",sqsupe:"\u2292",sqsupset:"\u2290",sqsupseteq:"\u2292",square:"\u25a1",Square:"\u25a1",SquareIntersection:"\u2293",SquareSubset:"\u228f",SquareSubsetEqual:"\u2291",SquareSuperset:"\u2290",SquareSupersetEqual:"\u2292",SquareUnion:"\u2294",squarf:"\u25aa",squ:"\u25a1",squf:"\u25aa",srarr:"\u2192",Sscr:"\ud835\udcae",sscr:"\ud835\udcc8",ssetmn:"\u2216",ssmile:"\u2323",sstarf:"\u22c6",Star:"\u22c6",star:"\u2606",starf:"\u2605",straightepsilon:"\u03f5",straightphi:"\u03d5",strns:"\xaf",sub:"\u2282",Sub:"\u22d0",subdot:"\u2abd",subE:"\u2ac5",
sube:"\u2286",subedot:"\u2ac3",submult:"\u2ac1",subnE:"\u2acb",subne:"\u228a",subplus:"\u2abf",subrarr:"\u2979",subset:"\u2282",Subset:"\u22d0",subseteq:"\u2286",subseteqq:"\u2ac5",SubsetEqual:"\u2286",subsetneq:"\u228a",subsetneqq:"\u2acb",subsim:"\u2ac7",subsub:"\u2ad5",subsup:"\u2ad3",succapprox:"\u2ab8",succ:"\u227b",succcurlyeq:"\u227d",Succeeds:"\u227b",SucceedsEqual:"\u2ab0",SucceedsSlantEqual:"\u227d",SucceedsTilde:"\u227f",succeq:"\u2ab0",succnapprox:"\u2aba",succneqq:"\u2ab6",succnsim:"\u22e9",succsim:"\u227f",SuchThat:"\u220b",sum:"\u2211",Sum:"\u2211",sung:"\u266a",sup1:"\xb9",sup2:"\xb2",sup3:"\xb3",sup:"\u2283",Sup:"\u22d1",supdot:"\u2abe",supdsub:"\u2ad8",supE:"\u2ac6",supe:"\u2287",supedot:"\u2ac4",Superset:"\u2283",SupersetEqual:"\u2287",suphsol:"\u27c9",suphsub:"\u2ad7",suplarr:"\u297b",supmult:"\u2ac2",supnE:"\u2acc",supne:"\u228b",supplus:"\u2ac0",supset:"\u2283",Supset:"\u22d1",supseteq:"\u2287",supseteqq:"\u2ac6",supsetneq:"\u228b",supsetneqq:"\u2acc",supsim:"\u2ac8",supsub:"\u2ad4",supsup:"\u2ad6",
swarhk:"\u2926",swarr:"\u2199",swArr:"\u21d9",swarrow:"\u2199",swnwar:"\u292a",szlig:"\xdf",Tab:"	",target:"\u2316",Tau:"\u03a4",tau:"\u03c4",tbrk:"\u23b4",Tcaron:"\u0164",tcaron:"\u0165",Tcedil:"\u0162",tcedil:"\u0163",Tcy:"\u0422",tcy:"\u0442",tdot:"\u20db",telrec:"\u2315",Tfr:"\ud835\udd17",tfr:"\ud835\udd31",there4:"\u2234",therefore:"\u2234",Therefore:"\u2234",Theta:"\u0398",theta:"\u03b8",thetasym:"\u03d1",thetav:"\u03d1",thickapprox:"\u2248",thicksim:"\u223c",ThickSpace:"\u205f\u200a",ThinSpace:"\u2009",thinsp:"\u2009",thkap:"\u2248",thksim:"\u223c",THORN:"\xde",thorn:"\xfe",tilde:"\u02dc",Tilde:"\u223c",TildeEqual:"\u2243",TildeFullEqual:"\u2245",TildeTilde:"\u2248",timesbar:"\u2a31",timesb:"\u22a0",times:"\xd7",timesd:"\u2a30",tint:"\u222d",toea:"\u2928",topbot:"\u2336",topcir:"\u2af1",top:"\u22a4",Topf:"\ud835\udd4b",topf:"\ud835\udd65",topfork:"\u2ada",tosa:"\u2929",tprime:"\u2034",trade:"\u2122",TRADE:"\u2122",triangle:"\u25b5",triangledown:"\u25bf",triangleleft:"\u25c3",trianglelefteq:"\u22b4",triangleq:"\u225c",
triangleright:"\u25b9",trianglerighteq:"\u22b5",tridot:"\u25ec",trie:"\u225c",triminus:"\u2a3a",TripleDot:"\u20db",triplus:"\u2a39",trisb:"\u29cd",tritime:"\u2a3b",trpezium:"\u23e2",Tscr:"\ud835\udcaf",tscr:"\ud835\udcc9",TScy:"\u0426",tscy:"\u0446",TSHcy:"\u040b",tshcy:"\u045b",Tstrok:"\u0166",tstrok:"\u0167",twixt:"\u226c",twoheadleftarrow:"\u219e",twoheadrightarrow:"\u21a0",Uacute:"\xda",uacute:"\xfa",uarr:"\u2191",Uarr:"\u219f",uArr:"\u21d1",Uarrocir:"\u2949",Ubrcy:"\u040e",ubrcy:"\u045e",Ubreve:"\u016c",ubreve:"\u016d",Ucirc:"\xdb",ucirc:"\xfb",Ucy:"\u0423",ucy:"\u0443",udarr:"\u21c5",Udblac:"\u0170",udblac:"\u0171",udhar:"\u296e",ufisht:"\u297e",Ufr:"\ud835\udd18",ufr:"\ud835\udd32",Ugrave:"\xd9",ugrave:"\xf9",uHar:"\u2963",uharl:"\u21bf",uharr:"\u21be",uhblk:"\u2580",ulcorn:"\u231c",ulcorner:"\u231c",ulcrop:"\u230f",ultri:"\u25f8",Umacr:"\u016a",umacr:"\u016b",uml:"\xa8",UnderBar:"_",UnderBrace:"\u23df",UnderBracket:"\u23b5",UnderParenthesis:"\u23dd",Union:"\u22c3",UnionPlus:"\u228e",Uogon:"\u0172",uogon:"\u0173",
Uopf:"\ud835\udd4c",uopf:"\ud835\udd66",UpArrowBar:"\u2912",uparrow:"\u2191",UpArrow:"\u2191",Uparrow:"\u21d1",UpArrowDownArrow:"\u21c5",updownarrow:"\u2195",UpDownArrow:"\u2195",Updownarrow:"\u21d5",UpEquilibrium:"\u296e",upharpoonleft:"\u21bf",upharpoonright:"\u21be",uplus:"\u228e",UpperLeftArrow:"\u2196",UpperRightArrow:"\u2197",upsi:"\u03c5",Upsi:"\u03d2",upsih:"\u03d2",Upsilon:"\u03a5",upsilon:"\u03c5",UpTeeArrow:"\u21a5",UpTee:"\u22a5",upuparrows:"\u21c8",urcorn:"\u231d",urcorner:"\u231d",urcrop:"\u230e",Uring:"\u016e",uring:"\u016f",urtri:"\u25f9",Uscr:"\ud835\udcb0",uscr:"\ud835\udcca",utdot:"\u22f0",Utilde:"\u0168",utilde:"\u0169",utri:"\u25b5",utrif:"\u25b4",uuarr:"\u21c8",Uuml:"\xdc",uuml:"\xfc",uwangle:"\u29a7",vangrt:"\u299c",varepsilon:"\u03f5",varkappa:"\u03f0",varnothing:"\u2205",varphi:"\u03d5",varpi:"\u03d6",varpropto:"\u221d",varr:"\u2195",vArr:"\u21d5",varrho:"\u03f1",varsigma:"\u03c2",varsubsetneq:"\u228a\ufe00",varsubsetneqq:"\u2acb\ufe00",varsupsetneq:"\u228b\ufe00",varsupsetneqq:"\u2acc\ufe00",
vartheta:"\u03d1",vartriangleleft:"\u22b2",vartriangleright:"\u22b3",vBar:"\u2ae8",Vbar:"\u2aeb",vBarv:"\u2ae9",Vcy:"\u0412",vcy:"\u0432",vdash:"\u22a2",vDash:"\u22a8",Vdash:"\u22a9",VDash:"\u22ab",Vdashl:"\u2ae6",veebar:"\u22bb",vee:"\u2228",Vee:"\u22c1",veeeq:"\u225a",vellip:"\u22ee",verbar:"|",Verbar:"\u2016",vert:"|",Vert:"\u2016",VerticalBar:"\u2223",VerticalLine:"|",VerticalSeparator:"\u2758",VerticalTilde:"\u2240",VeryThinSpace:"\u200a",Vfr:"\ud835\udd19",vfr:"\ud835\udd33",vltri:"\u22b2",vnsub:"\u2282\u20d2",vnsup:"\u2283\u20d2",Vopf:"\ud835\udd4d",vopf:"\ud835\udd67",vprop:"\u221d",vrtri:"\u22b3",Vscr:"\ud835\udcb1",vscr:"\ud835\udccb",vsubnE:"\u2acb\ufe00",vsubne:"\u228a\ufe00",vsupnE:"\u2acc\ufe00",vsupne:"\u228b\ufe00",Vvdash:"\u22aa",vzigzag:"\u299a",Wcirc:"\u0174",wcirc:"\u0175",wedbar:"\u2a5f",wedge:"\u2227",Wedge:"\u22c0",wedgeq:"\u2259",weierp:"\u2118",Wfr:"\ud835\udd1a",wfr:"\ud835\udd34",Wopf:"\ud835\udd4e",wopf:"\ud835\udd68",wp:"\u2118",wr:"\u2240",wreath:"\u2240",Wscr:"\ud835\udcb2",wscr:"\ud835\udccc",
xcap:"\u22c2",xcirc:"\u25ef",xcup:"\u22c3",xdtri:"\u25bd",Xfr:"\ud835\udd1b",xfr:"\ud835\udd35",xharr:"\u27f7",xhArr:"\u27fa",Xi:"\u039e",xi:"\u03be",xlarr:"\u27f5",xlArr:"\u27f8",xmap:"\u27fc",xnis:"\u22fb",xodot:"\u2a00",Xopf:"\ud835\udd4f",xopf:"\ud835\udd69",xoplus:"\u2a01",xotime:"\u2a02",xrarr:"\u27f6",xrArr:"\u27f9",Xscr:"\ud835\udcb3",xscr:"\ud835\udccd",xsqcup:"\u2a06",xuplus:"\u2a04",xutri:"\u25b3",xvee:"\u22c1",xwedge:"\u22c0",Yacute:"\xdd",yacute:"\xfd",YAcy:"\u042f",yacy:"\u044f",Ycirc:"\u0176",ycirc:"\u0177",Ycy:"\u042b",ycy:"\u044b",yen:"\xa5",Yfr:"\ud835\udd1c",yfr:"\ud835\udd36",YIcy:"\u0407",yicy:"\u0457",Yopf:"\ud835\udd50",yopf:"\ud835\udd6a",Yscr:"\ud835\udcb4",yscr:"\ud835\udcce",YUcy:"\u042e",yucy:"\u044e",yuml:"\xff",Yuml:"\u0178",Zacute:"\u0179",zacute:"\u017a",Zcaron:"\u017d",zcaron:"\u017e",Zcy:"\u0417",zcy:"\u0437",Zdot:"\u017b",zdot:"\u017c",zeetrf:"\u2128",ZeroWidthSpace:"\u200b",Zeta:"\u0396",zeta:"\u03b6",zfr:"\ud835\udd37",Zfr:"\u2128",ZHcy:"\u0416",zhcy:"\u0436",zigrarr:"\u21dd",
zopf:"\ud835\udd6b",Zopf:"\u2124",Zscr:"\ud835\udcb5",zscr:"\ud835\udccf",zwj:"\u200d",zwnj:"\u200c"}},{}],655:[function(e,t,n){"use strict";function r(e){var t=Array.prototype.slice.call(arguments,1);return t.forEach(function(t){t&&Object.keys(t).forEach(function(n){e[n]=t[n]})}),e}function o(e){return Object.prototype.toString.call(e)}function i(e){return"[object String]"===o(e)}function s(e){return"[object Object]"===o(e)}function a(e){return"[object RegExp]"===o(e)}function u(e){return"[object Function]"===o(e)}function l(e){return e.replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}function c(e){return Object.keys(e||{}).reduce(function(e,t){return e||b.hasOwnProperty(t)},!1)}function p(e){e.__index__=-1,e.__text_cache__=""}function d(e){return function(t,n){var r=t.slice(n);return e.test(r)?r.match(e)[0].length:0}}function h(){return function(e,t){t.normalize(e)}}function f(t){function n(e){return e.replace("%TLDS%",c.src_tlds)}function o(e,t){throw new Error('(LinkifyIt) Invalid schema "'+e+'": '+t)}var c=t.re=r({},e("./lib/re")),f=t.__tlds__.slice();
t.__tlds_replaced__||f.push(_),f.push(c.src_xn),c.src_tlds=f.join("|"),c.email_fuzzy=RegExp(n(c.tpl_email_fuzzy),"i"),c.link_fuzzy=RegExp(n(c.tpl_link_fuzzy),"i"),c.link_no_ip_fuzzy=RegExp(n(c.tpl_link_no_ip_fuzzy),"i"),c.host_fuzzy_test=RegExp(n(c.tpl_host_fuzzy_test),"i");var m=[];t.__compiled__={},Object.keys(t.__schemas__).forEach(function(e){var n=t.__schemas__[e];if(null!==n){var r={validate:null,link:null};return t.__compiled__[e]=r,s(n)?(a(n.validate)?r.validate=d(n.validate):u(n.validate)?r.validate=n.validate:o(e,n),void(u(n.normalize)?r.normalize=n.normalize:n.normalize?o(e,n):r.normalize=h())):i(n)?void m.push(e):void o(e,n)}}),m.forEach(function(e){t.__compiled__[t.__schemas__[e]]&&(t.__compiled__[e].validate=t.__compiled__[t.__schemas__[e]].validate,t.__compiled__[e].normalize=t.__compiled__[t.__schemas__[e]].normalize)}),t.__compiled__[""]={validate:null,normalize:h()};var g=Object.keys(t.__compiled__).filter(function(e){return e.length>0&&t.__compiled__[e]}).map(l).join("|");t.re.schema_test=RegExp("(^|(?!_)(?:>|"+c.src_ZPCc+"))("+g+")","i"),
t.re.schema_search=RegExp("(^|(?!_)(?:>|"+c.src_ZPCc+"))("+g+")","ig"),t.re.pretest=RegExp("("+t.re.schema_test.source+")|("+t.re.host_fuzzy_test.source+")|@","i"),p(t)}function m(e,t){var n=e.__index__,r=e.__last_index__,o=e.__text_cache__.slice(n,r);this.schema=e.__schema__.toLowerCase(),this.index=n+t,this.lastIndex=r+t,this.raw=o,this.text=o,this.url=o}function g(e,t){var n=new m(e,t);return e.__compiled__[n.schema].normalize(n,e),n}function v(e,t){return this instanceof v?(t||c(e)&&(t=e,e={}),this.__opts__=r({},b,t),this.__index__=-1,this.__last_index__=-1,this.__schema__="",this.__text_cache__="",this.__schemas__=r({},y,e),this.__compiled__={},this.__tlds__=w,this.__tlds_replaced__=!1,this.re={},void f(this)):new v(e,t)}var b={fuzzyLink:!0,fuzzyEmail:!0,fuzzyIP:!1},y={"http:":{validate:function(e,t,n){var r=e.slice(t);return n.re.http||(n.re.http=new RegExp("^\\/\\/"+n.re.src_auth+n.re.src_host_port_strict+n.re.src_path,"i")),n.re.http.test(r)?r.match(n.re.http)[0].length:0}},"https:":"http:","ftp:":"http:",
"//":{validate:function(e,t,n){var r=e.slice(t);return n.re.no_http||(n.re.no_http=new RegExp("^"+n.re.src_auth+n.re.src_host_port_strict+n.re.src_path,"i")),n.re.no_http.test(r)?t>=3&&":"===e[t-3]?0:r.match(n.re.no_http)[0].length:0}},"mailto:":{validate:function(e,t,n){var r=e.slice(t);return n.re.mailto||(n.re.mailto=new RegExp("^"+n.re.src_email_name+"@"+n.re.src_host_strict,"i")),n.re.mailto.test(r)?r.match(n.re.mailto)[0].length:0}}},_="a[cdefgilmnoqrstuwxz]|b[abdefghijmnorstvwyz]|c[acdfghiklmnoruvwxyz]|d[ejkmoz]|e[cegrstu]|f[ijkmor]|g[abdefghilmnpqrstuwy]|h[kmnrtu]|i[delmnoqrst]|j[emop]|k[eghimnprwyz]|l[abcikrstuvy]|m[acdeghklmnopqrstuvwxyz]|n[acefgilopruz]|om|p[aefghklmnrstwy]|qa|r[eosuw]|s[abcdeghijklmnortuvxyz]|t[cdfghjklmnortvwz]|u[agksyz]|v[aceginu]|w[fs]|y[et]|z[amw]",w="biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|\u0440\u0444".split("|");v.prototype.add=function(e,t){return this.__schemas__[e]=t,f(this),this},v.prototype.set=function(e){return this.__opts__=r(this.__opts__,e),
this},v.prototype.test=function(e){if(this.__text_cache__=e,this.__index__=-1,!e.length)return!1;var t,n,r,o,i,s,a,u,l;if(this.re.schema_test.test(e))for(a=this.re.schema_search,a.lastIndex=0;null!==(t=a.exec(e));)if(o=this.testSchemaAt(e,t[2],a.lastIndex)){this.__schema__=t[2],this.__index__=t.index+t[1].length,this.__last_index__=t.index+t[0].length+o;break}return this.__opts__.fuzzyLink&&this.__compiled__["http:"]&&(u=e.search(this.re.host_fuzzy_test),u>=0&&(this.__index__<0||u<this.__index__)&&null!==(n=e.match(this.__opts__.fuzzyIP?this.re.link_fuzzy:this.re.link_no_ip_fuzzy))&&(i=n.index+n[1].length,(this.__index__<0||i<this.__index__)&&(this.__schema__="",this.__index__=i,this.__last_index__=n.index+n[0].length))),this.__opts__.fuzzyEmail&&this.__compiled__["mailto:"]&&(l=e.indexOf("@"),l>=0&&null!==(r=e.match(this.re.email_fuzzy))&&(i=r.index+r[1].length,s=r.index+r[0].length,(this.__index__<0||i<this.__index__||i===this.__index__&&s>this.__last_index__)&&(this.__schema__="mailto:",this.__index__=i,this.__last_index__=s))),
this.__index__>=0},v.prototype.pretest=function(e){return this.re.pretest.test(e)},v.prototype.testSchemaAt=function(e,t,n){return this.__compiled__[t.toLowerCase()]?this.__compiled__[t.toLowerCase()].validate(e,n,this):0},v.prototype.match=function(e){var t=0,n=[];this.__index__>=0&&this.__text_cache__===e&&(n.push(g(this,t)),t=this.__last_index__);for(var r=t?e.slice(t):e;this.test(r);)n.push(g(this,t)),r=r.slice(this.__last_index__),t+=this.__last_index__;return n.length?n:null},v.prototype.tlds=function(e,t){return e=Array.isArray(e)?e:[e],t?(this.__tlds__=this.__tlds__.concat(e).sort().filter(function(e,t,n){return e!==n[t-1]}).reverse(),f(this),this):(this.__tlds__=e.slice(),this.__tlds_replaced__=!0,f(this),this)},v.prototype.normalize=function(e){e.schema||(e.url="http://"+e.url),"mailto:"!==e.schema||/^mailto:/i.test(e.url)||(e.url="mailto:"+e.url)},t.exports=v},{"./lib/re":656}],656:[function(e,t,n){"use strict";var r=n.src_Any=e("uc.micro/properties/Any/regex").source,o=n.src_Cc=e("uc.micro/categories/Cc/regex").source,i=n.src_Z=e("uc.micro/categories/Z/regex").source,s=n.src_P=e("uc.micro/categories/P/regex").source,a=n.src_ZPCc=[i,s,o].join("|"),u=n.src_ZCc=[i,o].join("|"),l="(?:(?!"+a+")"+r+")",c="(?:(?![0-9]|"+a+")"+r+")",p=n.src_ip4="(?:(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)";
n.src_auth="(?:(?:(?!"+u+").)+@)?";var d=n.src_port="(?::(?:6(?:[0-4]\\d{3}|5(?:[0-4]\\d{2}|5(?:[0-2]\\d|3[0-5])))|[1-5]?\\d{1,4}))?",h=n.src_host_terminator="(?=$|"+a+")(?!-|_|:\\d|\\.-|\\.(?!$|"+a+"))",f=n.src_path="(?:[/?#](?:(?!"+u+"|[()[\\]{}.,\"'?!\\-]).|\\[(?:(?!"+u+"|\\]).)*\\]|\\((?:(?!"+u+"|[)]).)*\\)|\\{(?:(?!"+u+'|[}]).)*\\}|\\"(?:(?!'+u+'|["]).)+\\"|\\\'(?:(?!'+u+"|[']).)+\\'|\\'(?="+l+").|\\.{2,3}[a-zA-Z0-9%/]|\\.(?!"+u+"|[.]).|\\-(?!--(?:[^-]|$))(?:-*)|\\,(?!"+u+").|\\!(?!"+u+"|[!]).|\\?(?!"+u+"|[?]).)+|\\/)?",m=n.src_email_name='[\\-;:&=\\+\\$,\\"\\.a-zA-Z0-9_]+',g=n.src_xn="xn--[a-z0-9\\-]{1,59}",v=n.src_domain_root="(?:"+g+"|"+c+"{1,63})",b=n.src_domain="(?:"+g+"|(?:"+l+")|(?:"+l+"(?:-(?!-)|"+l+"){0,61}"+l+"))",y=n.src_host="(?:"+p+"|(?:(?:(?:"+b+")\\.)*"+v+"))",_=n.tpl_host_fuzzy="(?:"+p+"|(?:(?:(?:"+b+")\\.)+(?:%TLDS%)))",w=n.tpl_host_no_ip_fuzzy="(?:(?:(?:"+b+")\\.)+(?:%TLDS%))";n.src_host_strict=y+h;var k=n.tpl_host_fuzzy_strict=_+h;n.src_host_port_strict=y+d+h;var x=n.tpl_host_port_fuzzy_strict=_+d+h,C=n.tpl_host_port_no_ip_fuzzy_strict=w+d+h;
n.tpl_host_fuzzy_test="localhost|\\.\\d{1,3}\\.|(?:\\.(?:%TLDS%)(?:"+a+"|$))",n.tpl_email_fuzzy="(^|>|"+u+")("+m+"@"+k+")",n.tpl_link_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|]|"+a+"))((?![$+<=>^`|])"+x+f+")",n.tpl_link_no_ip_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|]|"+a+"))((?![$+<=>^`|])"+C+f+")"},{"uc.micro/categories/Cc/regex":662,"uc.micro/categories/P/regex":664,"uc.micro/categories/Z/regex":665,"uc.micro/properties/Any/regex":667}],657:[function(e,t,n){"use strict";function r(e){var t,n,r=i[e];if(r)return r;for(r=i[e]=[],t=0;128>t;t++)n=String.fromCharCode(t),r.push(n);for(t=0;t<e.length;t++)n=e.charCodeAt(t),r[n]="%"+("0"+n.toString(16).toUpperCase()).slice(-2);return r}function o(e,t){var n;return"string"!=typeof t&&(t=o.defaultChars),n=r(t),e.replace(/(%[a-f0-9]{2})+/gi,function(e){var t,r,o,i,s,a,u,l="";for(t=0,r=e.length;r>t;t+=3)o=parseInt(e.slice(t+1,t+3),16),128>o?l+=n[o]:192===(224&o)&&r>t+3&&(i=parseInt(e.slice(t+4,t+6),16),128===(192&i))?(u=o<<6&1984|63&i,l+=128>u?"\ufffd\ufffd":String.fromCharCode(u),
t+=3):224===(240&o)&&r>t+6&&(i=parseInt(e.slice(t+4,t+6),16),s=parseInt(e.slice(t+7,t+9),16),128===(192&i)&&128===(192&s))?(u=o<<12&61440|i<<6&4032|63&s,l+=2048>u||u>=55296&&57343>=u?"\ufffd\ufffd\ufffd":String.fromCharCode(u),t+=6):240===(248&o)&&r>t+9&&(i=parseInt(e.slice(t+4,t+6),16),s=parseInt(e.slice(t+7,t+9),16),a=parseInt(e.slice(t+10,t+12),16),128===(192&i)&&128===(192&s)&&128===(192&a))?(u=o<<18&1835008|i<<12&258048|s<<6&4032|63&a,65536>u||u>1114111?l+="\ufffd\ufffd\ufffd\ufffd":(u-=65536,l+=String.fromCharCode(55296+(u>>10),56320+(1023&u))),t+=9):l+="\ufffd";return l})}var i={};o.defaultChars=";/?:@&=+$,#",o.componentChars="",t.exports=o},{}],658:[function(e,t,n){"use strict";function r(e){var t,n,r=i[e];if(r)return r;for(r=i[e]=[],t=0;128>t;t++)n=String.fromCharCode(t),/^[0-9a-z]$/i.test(n)?r.push(n):r.push("%"+("0"+t.toString(16).toUpperCase()).slice(-2));for(t=0;t<e.length;t++)r[e.charCodeAt(t)]=e[t];return r}function o(e,t,n){var i,s,a,u,l,c="";for("string"!=typeof t&&(n=t,t=o.defaultChars),"undefined"==typeof n&&(n=!0),
l=r(t),i=0,s=e.length;s>i;i++)if(a=e.charCodeAt(i),n&&37===a&&s>i+2&&/^[0-9a-f]{2}$/i.test(e.slice(i+1,i+3)))c+=e.slice(i,i+3),i+=2;else if(128>a)c+=l[a];else if(a>=55296&&57343>=a){if(a>=55296&&56319>=a&&s>i+1&&(u=e.charCodeAt(i+1),u>=56320&&57343>=u)){c+=encodeURIComponent(e[i]+e[i+1]),i++;continue}c+="%EF%BF%BD"}else c+=encodeURIComponent(e[i]);return c}var i={};o.defaultChars=";/?:@&=+$,-_.!~*'()#",o.componentChars="-_.!~*'()",t.exports=o},{}],659:[function(e,t,n){"use strict";t.exports=function(e){var t="";return t+=e.protocol||"",t+=e.slashes?"//":"",t+=e.auth?e.auth+"@":"",t+=e.hostname&&-1!==e.hostname.indexOf(":")?"["+e.hostname+"]":e.hostname||"",t+=e.port?":"+e.port:"",t+=e.pathname||"",t+=e.search||"",t+=e.hash||""}},{}],660:[function(e,t,n){"use strict";t.exports.encode=e("./encode"),t.exports.decode=e("./decode"),t.exports.format=e("./format"),t.exports.parse=e("./parse")},{"./decode":657,"./encode":658,"./format":659,"./parse":661}],661:[function(e,t,n){
// Copyright Joyent, Inc. and other Node contributors.
// The above copyright notice and this permission notice shall be included
// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,
"use strict";function r(){this.protocol=null,this.slashes=null,this.auth=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.pathname=null}function o(e,t){if(e&&e instanceof r)return e;var n=new r;return n.parse(e,t),n}var i=/^([a-z0-9.+-]+:)/i,s=/:[0-9]*$/,a=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,u=["<",">",'"',"`"," ","\r","\n","	"],l=["{","}","|","\\","^","`"].concat(u),c=["'"].concat(l),p=["%","/","?",";","#"].concat(c),d=["/","?","#"],h=255,f=/^[+a-z0-9A-Z_-]{0,63}$/,m=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,g={javascript:!0,"javascript:":!0},v={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0};r.prototype.parse=function(e,t){var n,r,o,s,u,l=e;if(l=l.trim(),!t&&1===e.split("#").length){var c=a.exec(l);if(c)return this.pathname=c[1],c[2]&&(this.search=c[2]),this}var b=i.exec(l);if(b&&(b=b[0],o=b.toLowerCase(),this.protocol=b,l=l.substr(b.length)),(t||b||l.match(/^\/\/[^@\/]+@[^@\/]+/))&&(u="//"===l.substr(0,2),!u||b&&g[b]||(l=l.substr(2),this.slashes=!0)),
!g[b]&&(u||b&&!v[b])){var y=-1;for(n=0;n<d.length;n++)s=l.indexOf(d[n]),-1!==s&&(-1===y||y>s)&&(y=s);var _,w;for(w=-1===y?l.lastIndexOf("@"):l.lastIndexOf("@",y),-1!==w&&(_=l.slice(0,w),l=l.slice(w+1),this.auth=_),y=-1,n=0;n<p.length;n++)s=l.indexOf(p[n]),-1!==s&&(-1===y||y>s)&&(y=s);-1===y&&(y=l.length),":"===l[y-1]&&y--;var k=l.slice(0,y);l=l.slice(y),this.parseHost(k),this.hostname=this.hostname||"";var x="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!x){var C=this.hostname.split(/\./);for(n=0,r=C.length;r>n;n++){var E=C[n];if(E&&!E.match(f)){for(var T="",S=0,D=E.length;D>S;S++)T+=E.charCodeAt(S)>127?"x":E[S];if(!T.match(f)){var A=C.slice(0,n),M=C.slice(n+1),F=E.match(m);F&&(A.push(F[1]),M.unshift(F[2])),M.length&&(l=M.join(".")+l),this.hostname=A.join(".");break}}}}this.hostname.length>h&&(this.hostname=""),x&&(this.hostname=this.hostname.substr(1,this.hostname.length-2))}var N=l.indexOf("#");-1!==N&&(this.hash=l.substr(N),l=l.slice(0,N));var O=l.indexOf("?");return-1!==O&&(this.search=l.substr(O),
l=l.slice(0,O)),l&&(this.pathname=l),v[o]&&this.hostname&&!this.pathname&&(this.pathname=""),this},r.prototype.parseHost=function(e){var t=s.exec(e);t&&(t=t[0],":"!==t&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)},t.exports=o},{}],662:[function(e,t,n){t.exports=/[\0-\x1F\x7F-\x9F]/},{}],663:[function(e,t,n){t.exports=/[\xAD\u0600-\u0605\u061C\u06DD\u070F\u180E\u200B-\u200F\u202A-\u202E\u2060-\u2064\u2066-\u206F\uFEFF\uFFF9-\uFFFB]|\uD804\uDCBD|\uD82F[\uDCA0-\uDCA3]|\uD834[\uDD73-\uDD7A]|\uDB40[\uDC01\uDC20-\uDC7F]/},{}],664:[function(e,t,n){t.exports=/[!-#%-\*,-\/:;\?@\[-\]_\{\}\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E42\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDE38-\uDE3D]|\uD805[\uDCC6\uDDC1-\uDDC9\uDE41-\uDE43]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD82F\uDC9F/;
},{}],665:[function(e,t,n){t.exports=/[ \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]/},{}],666:[function(e,t,n){t.exports.Any=e("./properties/Any/regex"),t.exports.Cc=e("./categories/Cc/regex"),t.exports.Cf=e("./categories/Cf/regex"),t.exports.P=e("./categories/P/regex"),t.exports.Z=e("./categories/Z/regex")},{"./categories/Cc/regex":662,"./categories/Cf/regex":663,"./categories/P/regex":664,"./categories/Z/regex":665,"./properties/Any/regex":667}],667:[function(e,t,n){t.exports=/[\0-\uD7FF\uDC00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF]/},{}],668:[function(e,t,n){"use strict";function r(){return T=D,S=new ne,ae(),S.init(),ue(),S}var o,i={DEBUG:!1,LIB_VERSION:"2.13.0"};o="undefined"==typeof window?{navigator:{}}:window;var s=Array.prototype,a=Function.prototype,u=Object.prototype,l=s.slice,c=u.toString,p=u.hasOwnProperty,d=o.console,h=o.navigator,f=o.document,m=h.userAgent,g=a.bind,v=s.forEach,b=s.indexOf,y=Array.isArray,_={},w={trim:function(e){return e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");
}},k={log:function(){if(i.DEBUG&&!w.isUndefined(d)&&d)try{d.log.apply(d,arguments)}catch(e){w.each(arguments,function(e){d.log(e)})}},error:function(){if(i.DEBUG&&!w.isUndefined(d)&&d){var e=["Mixpanel error:"].concat(w.toArray(arguments));try{d.error.apply(d,e)}catch(t){w.each(e,function(e){d.error(e)})}}},critical:function(){if(!w.isUndefined(d)&&d){var e=["Mixpanel error:"].concat(w.toArray(arguments));try{d.error.apply(d,e)}catch(t){w.each(e,function(e){d.error(e)})}}}};w.bind=function(e,t){var n,r;if(g&&e.bind===g)return g.apply(e,l.call(arguments,1));if(!w.isFunction(e))throw new TypeError;return n=l.call(arguments,2),r=function(){if(!(this instanceof r))return e.apply(t,n.concat(l.call(arguments)));var o={};o.prototype=e.prototype;var i=new o;o.prototype=null;var s=e.apply(i,n.concat(l.call(arguments)));return Object(s)===s?s:i}},w.bind_instance_methods=function(e){for(var t in e)"function"==typeof e[t]&&(e[t]=w.bind(e[t],e))},w.each=function(e,t,n){if(null!==e&&void 0!==e)if(v&&e.forEach===v)e.forEach(t,n);else if(e.length===+e.length){
for(var r=0,o=e.length;o>r;r++)if(r in e&&t.call(n,e[r],r,e)===_)return}else for(var i in e)if(p.call(e,i)&&t.call(n,e[i],i,e)===_)return},w.escapeHTML=function(e){var t=e;return t&&w.isString(t)&&(t=t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")),t},w.extend=function(e){return w.each(l.call(arguments,1),function(t){for(var n in t)void 0!==t[n]&&(e[n]=t[n])}),e},w.isArray=y||function(e){return"[object Array]"===c.call(e)},w.isFunction=function(e){try{return/^\s*\bfunction\b/.test(e)}catch(t){return!1}},w.isArguments=function(e){return!(!e||!p.call(e,"callee"))},w.toArray=function(e){return e?e.toArray?e.toArray():w.isArray(e)?l.call(e):w.isArguments(e)?l.call(e):w.values(e):[]},w.values=function(e){var t=[];return null===e?t:(w.each(e,function(e){t[t.length]=e}),t)},w.identity=function(e){return e},w.include=function(e,t){var n=!1;return null===e?n:b&&e.indexOf===b?-1!=e.indexOf(t):(w.each(e,function(e){return n||(n=e===t)?_:void 0}),n)},w.includes=function(e,t){
return-1!==e.indexOf(t)},w.inherit=function(e,t){return e.prototype=new t,e.prototype.constructor=e,e.superclass=t.prototype,e},w.isObject=function(e){return e===Object(e)&&!w.isArray(e)},w.isEmptyObject=function(e){if(w.isObject(e)){for(var t in e)if(p.call(e,t))return!1;return!0}return!1},w.isUndefined=function(e){return void 0===e},w.isString=function(e){return"[object String]"==c.call(e)},w.isDate=function(e){return"[object Date]"==c.call(e)},w.isNumber=function(e){return"[object Number]"==c.call(e)},w.isElement=function(e){return!(!e||1!==e.nodeType)},w.encodeDates=function(e){return w.each(e,function(t,n){w.isDate(t)?e[n]=w.formatDate(t):w.isObject(t)&&(e[n]=w.encodeDates(t))}),e},w.timestamp=function(){return Date.now=Date.now||function(){return+new Date},Date.now()},w.formatDate=function(e){function t(e){return 10>e?"0"+e:e}return e.getUTCFullYear()+"-"+t(e.getUTCMonth()+1)+"-"+t(e.getUTCDate())+"T"+t(e.getUTCHours())+":"+t(e.getUTCMinutes())+":"+t(e.getUTCSeconds())},w.safewrap=function(e){return function(){
try{return e.apply(this,arguments)}catch(t){k.critical("Implementation error. Please contact support@mixpanel.com.")}}},w.safewrap_class=function(e,t){for(var n=0;n<t.length;n++)e.prototype[t[n]]=w.safewrap(e.prototype[t[n]])},w.safewrap_instance_methods=function(e){for(var t in e)"function"==typeof e[t]&&(e[t]=w.safewrap(e[t]))},w.strip_empty_properties=function(e){var t={};return w.each(e,function(e,n){w.isString(e)&&e.length>0&&(t[n]=e)}),t},w.truncate=function(e,t){var n;return"string"==typeof e?n=e.slice(0,t):w.isArray(e)?(n=[],w.each(e,function(e){n.push(w.truncate(e,t))})):w.isObject(e)?(n={},w.each(e,function(e,r){n[r]=w.truncate(e,t)})):n=e,n},w.JSONEncode=function(){return function(e){var t=e,n=function(e){var t=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,n={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};return t.lastIndex=0,t.test(e)?'"'+e.replace(t,function(e){var t=n[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4);
})+'"':'"'+e+'"'},r=function(e,t){var o="",i="    ",s=0,a="",u="",l=0,d=o,h=[],f=t[e];switch(f&&"object"==typeof f&&"function"==typeof f.toJSON&&(f=f.toJSON(e)),typeof f){case"string":return n(f);case"number":return isFinite(f)?String(f):"null";case"boolean":case"null":return String(f);case"object":if(!f)return"null";if(o+=i,h=[],"[object Array]"===c.apply(f)){for(l=f.length,s=0;l>s;s+=1)h[s]=r(s,f)||"null";return u=0===h.length?"[]":o?"[\n"+o+h.join(",\n"+o)+"\n"+d+"]":"["+h.join(",")+"]",o=d,u}for(a in f)p.call(f,a)&&(u=r(a,f),u&&h.push(n(a)+(o?": ":":")+u));return u=0===h.length?"{}":o?"{"+h.join(",")+d+"}":"{"+h.join(",")+"}",o=d,u}};return r("",{"":t})}}(),w.JSONDecode=function(){var e,t,n,r,o={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:"\n",r:"\r",t:"	"},i=function(t){throw{name:"SyntaxError",message:t,at:e,text:n}},s=function(r){return r&&r!==t&&i("Expected '"+r+"' instead of '"+t+"'"),t=n.charAt(e),e+=1,t},a=function(){var e,n="";for("-"===t&&(n="-",s("-"));t>="0"&&"9">=t;)n+=t,s();if("."===t)for(n+=".";s()&&t>="0"&&"9">=t;)n+=t;
if("e"===t||"E"===t)for(n+=t,s(),("-"===t||"+"===t)&&(n+=t,s());t>="0"&&"9">=t;)n+=t,s();return e=+n,isFinite(e)?e:void i("Bad number")},u=function(){var e,n,r,a="";if('"'===t)for(;s();){if('"'===t)return s(),a;if("\\"===t)if(s(),"u"===t){for(r=0,n=0;4>n&&(e=parseInt(s(),16),isFinite(e));n+=1)r=16*r+e;a+=String.fromCharCode(r)}else{if("string"!=typeof o[t])break;a+=o[t]}else a+=t}i("Bad string")},l=function(){for(;t&&" ">=t;)s()},c=function(){switch(t){case"t":return s("t"),s("r"),s("u"),s("e"),!0;case"f":return s("f"),s("a"),s("l"),s("s"),s("e"),!1;case"n":return s("n"),s("u"),s("l"),s("l"),null}i('Unexpected "'+t+'"')},p=function(){var e=[];if("["===t){if(s("["),l(),"]"===t)return s("]"),e;for(;t;){if(e.push(r()),l(),"]"===t)return s("]"),e;s(","),l()}}i("Bad array")},d=function(){var e,n={};if("{"===t){if(s("{"),l(),"}"===t)return s("}"),n;for(;t;){if(e=u(),l(),s(":"),Object.hasOwnProperty.call(n,e)&&i('Duplicate key "'+e+'"'),n[e]=r(),l(),"}"===t)return s("}"),n;s(","),l()}}i("Bad object")};return r=function(){
switch(l(),t){case"{":return d();case"[":return p();case'"':return u();case"-":return a();default:return t>="0"&&"9">=t?a():c()}},function(o){var s;return n=o,e=0,t=" ",s=r(),l(),t&&i("Syntax error"),s}}(),w.base64Encode=function(e){var t,n,r,o,i,s,a,u,l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",c=0,p=0,d="",h=[];if(!e)return e;e=w.utf8Encode(e);do t=e.charCodeAt(c++),n=e.charCodeAt(c++),r=e.charCodeAt(c++),u=t<<16|n<<8|r,o=u>>18&63,i=u>>12&63,s=u>>6&63,a=63&u,h[p++]=l.charAt(o)+l.charAt(i)+l.charAt(s)+l.charAt(a);while(c<e.length);switch(d=h.join(""),e.length%3){case 1:d=d.slice(0,-2)+"==";break;case 2:d=d.slice(0,-1)+"="}return d},w.utf8Encode=function(e){e=(e+"").replace(/\r\n/g,"\n").replace(/\r/g,"\n");var t,n,r,o="",i=0;for(t=n=0,i=e.length,r=0;i>r;r++){var s=e.charCodeAt(r),a=null;128>s?n++:a=s>127&&2048>s?String.fromCharCode(s>>6|192,63&s|128):String.fromCharCode(s>>12|224,s>>6&63|128,63&s|128),null!==a&&(n>t&&(o+=e.substring(t,n)),o+=a,t=n=r+1)}return n>t&&(o+=e.substring(t,e.length)),
o},w.UUID=function(){var e=function(){for(var e=1*new Date,t=0;e==1*new Date;)t++;return e.toString(16)+t.toString(16)},t=function(){return Math.random().toString(16).replace(".","")},n=function(){function e(e,t){var n,r=0;for(n=0;n<t.length;n++)r|=o[n]<<8*n;return e^r}var t,n,r=m,o=[],i=0;for(t=0;t<r.length;t++)n=r.charCodeAt(t),o.unshift(255&n),o.length>=4&&(i=e(i,o),o=[]);return o.length>0&&(i=e(i,o)),i.toString(16)};return function(){var r=(screen.height*screen.width).toString(16);return e()+"-"+t()+"-"+n()+"-"+r+"-"+e()}}(),w.isBlockedUA=function(e){return/(google web preview|baiduspider|yandexbot|bingbot|googlebot|yahoo! slurp)/i.test(e)?!0:!1},w.HTTPBuildQuery=function(e,t){var n,r,o=[];return w.isUndefined(t)&&(t="&"),w.each(e,function(e,t){n=encodeURIComponent(e.toString()),r=encodeURIComponent(t),o[o.length]=r+"="+n}),o.join(t)},w.getQueryParam=function(e,t){t=t.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var n="[\\?&]"+t+"=([^&#]*)",r=new RegExp(n),o=r.exec(e);return null===o||o&&"string"!=typeof o[1]&&o[1].length?"":decodeURIComponent(o[1]).replace(/\+/g," ");
},w.getHashParam=function(e,t){var n=e.match(new RegExp(t+"=([^&]*)"));return n?n[1]:null},w.cookie={get:function(e){for(var t=e+"=",n=f.cookie.split(";"),r=0;r<n.length;r++){for(var o=n[r];" "==o.charAt(0);)o=o.substring(1,o.length);if(0===o.indexOf(t))return decodeURIComponent(o.substring(t.length,o.length))}return null},parse:function(e){var t;try{t=w.JSONDecode(w.cookie.get(e))||{}}catch(n){}return t},set_seconds:function(e,t,n,r,o){var i="",s="",a="";if(r){var u=f.location.hostname.match(/[a-z0-9][a-z0-9\-]+\.[a-z\.]{2,6}$/i),l=u?u[0]:"";i=l?"; domain=."+l:""}if(n){var c=new Date;c.setTime(c.getTime()+1e3*n),s="; expires="+c.toGMTString()}o&&(a="; secure"),f.cookie=e+"="+encodeURIComponent(t)+s+"; path=/"+i+a},set:function(e,t,n,r,o){var i="",s="",a="";if(r){var u=f.location.hostname.match(/[a-z0-9][a-z0-9\-]+\.[a-z\.]{2,6}$/i),l=u?u[0]:"";i=l?"; domain=."+l:""}if(n){var c=new Date;c.setTime(c.getTime()+24*n*60*60*1e3),s="; expires="+c.toGMTString()}o&&(a="; secure");var p=e+"="+encodeURIComponent(t)+s+"; path=/"+i+a;
return f.cookie=p,p},remove:function(e,t){w.cookie.set(e,"",-1,t)}},w.localStorage={error:function(e){k.error("localStorage error: "+e)},get:function(e){try{return window.localStorage.getItem(e)}catch(t){w.localStorage.error(t)}return null},parse:function(e){try{return w.JSONDecode(w.localStorage.get(e))||{}}catch(t){}return null},set:function(e,t){try{window.localStorage.setItem(e,t)}catch(n){w.localStorage.error(n)}},remove:function(e){try{window.localStorage.removeItem(e)}catch(t){w.localStorage.error(t)}}},w.register_event=function(){function e(e,n,r){var o=function(o){if(o=o||t(window.event),!o)return void 0;var i,s,a=!0;return w.isFunction(r)&&(i=r(o)),s=n.call(e,o),(!1===i||!1===s)&&(a=!1),a};return o}function t(e){return e&&(e.preventDefault=t.preventDefault,e.stopPropagation=t.stopPropagation),e}var n=function(t,n,r,o,i){if(!t)return void k.error("No valid element provided to register_event");if(t.addEventListener&&!o)t.addEventListener(n,r,!!i);else{var s="on"+n,a=t[s];t[s]=e(t,r,a)}};return t.preventDefault=function(){
this.returnValue=!1},t.stopPropagation=function(){this.cancelBubble=!0},n}(),w.dom_query=function(){function e(e){return e.all?e.all:e.getElementsByTagName("*")}function t(e,t){var n=" "+t+" ";return(" "+e.className+" ").replace(r," ").indexOf(n)>=0}function n(n){if(!f.getElementsByTagName)return[];var r,o,i,s,a,u,l,c,p,d,h=n.split(" "),m=[f];for(u=0;u<h.length;u++)if(r=h[u].replace(/^\s+/,"").replace(/\s+$/,""),r.indexOf("#")>-1){o=r.split("#"),i=o[0];var g=o[1],v=f.getElementById(g);if(!v||i&&v.nodeName.toLowerCase()!=i)return[];m=[v]}else if(r.indexOf(".")>-1){o=r.split("."),i=o[0];var b=o[1];for(i||(i="*"),s=[],a=0,l=0;l<m.length;l++)for(p="*"==i?e(m[l]):m[l].getElementsByTagName(i),c=0;c<p.length;c++)s[a++]=p[c];for(m=[],d=0,l=0;l<s.length;l++)s[l].className&&w.isString(s[l].className)&&t(s[l],b)&&(m[d++]=s[l])}else{var y=r.match(/^(\w*)\[(\w+)([=~\|\^\$\*]?)=?"?([^\]"]*)"?\]$/);if(y){i=y[1];var _=y[2],k=y[3],x=y[4];for(i||(i="*"),s=[],a=0,l=0;l<m.length;l++)for(p="*"==i?e(m[l]):m[l].getElementsByTagName(i),
c=0;c<p.length;c++)s[a++]=p[c];m=[],d=0;var C;switch(k){case"=":C=function(e){return e.getAttribute(_)==x};break;case"~":C=function(e){return e.getAttribute(_).match(new RegExp("\\b"+x+"\\b"))};break;case"|":C=function(e){return e.getAttribute(_).match(new RegExp("^"+x+"-?"))};break;case"^":C=function(e){return 0===e.getAttribute(_).indexOf(x)};break;case"$":C=function(e){return e.getAttribute(_).lastIndexOf(x)==e.getAttribute(_).length-x.length};break;case"*":C=function(e){return e.getAttribute(_).indexOf(x)>-1};break;default:C=function(e){return e.getAttribute(_)}}for(m=[],d=0,l=0;l<s.length;l++)C(s[l])&&(m[d++]=s[l])}else{for(i=r,s=[],a=0,l=0;l<m.length;l++)for(p=m[l].getElementsByTagName(i),c=0;c<p.length;c++)s[a++]=p[c];m=s}}return m}var r=/[\t\r\n]/g;return function(e){return w.isElement(e)?[e]:w.isObject(e)&&!w.isUndefined(e.length)?e:n.call(this,e)}}(),w.info={campaignParams:function(){var e="utm_source utm_medium utm_campaign utm_content utm_term".split(" "),t="",n={};return w.each(e,function(e){t=w.getQueryParam(f.URL,e),
t.length&&(n[e]=t)}),n},searchEngine:function(e){return 0===e.search("https?://(.*)google.([^/?]*)")?"google":0===e.search("https?://(.*)bing.com")?"bing":0===e.search("https?://(.*)yahoo.com")?"yahoo":0===e.search("https?://(.*)duckduckgo.com")?"duckduckgo":null},searchInfo:function(e){var t=w.info.searchEngine(e),n="yahoo"!=t?"q":"p",r={};if(null!==t){r.$search_engine=t;var o=w.getQueryParam(e,n);o.length&&(r.mp_keyword=o)}return r},browser:function(e,t,n){return t=t||"",n||w.includes(e," OPR/")?w.includes(e,"Mini")?"Opera Mini":"Opera":/(BlackBerry|PlayBook|BB10)/i.test(e)?"BlackBerry":w.includes(e,"IEMobile")||w.includes(e,"WPDesktop")?"Internet Explorer Mobile":w.includes(e,"Edge")?"Microsoft Edge":w.includes(e,"FBIOS")?"Facebook Mobile":w.includes(e,"Chrome")?"Chrome":w.includes(e,"CriOS")?"Chrome iOS":w.includes(e,"UCWEB")||w.includes(e,"UCBrowser")?"UC Browser":w.includes(e,"FxiOS")?"Firefox iOS":w.includes(t,"Apple")?w.includes(e,"Mobile")?"Mobile Safari":"Safari":w.includes(e,"Android")?"Android Mobile":w.includes(e,"Konqueror")?"Konqueror":w.includes(e,"Firefox")?"Firefox":w.includes(e,"MSIE")||w.includes(e,"Trident/")?"Internet Explorer":w.includes(e,"Gecko")?"Mozilla":"";
},browserVersion:function(e,t,n){var r=w.info.browser(e,t,n),o={"Internet Explorer Mobile":/rv:(\d+(\.\d+)?)/,"Microsoft Edge":/Edge\/(\d+(\.\d+)?)/,Chrome:/Chrome\/(\d+(\.\d+)?)/,"Chrome iOS":/CriOS\/(\d+(\.\d+)?)/,"UC Browser":/(UCBrowser|UCWEB)\/(\d+(\.\d+)?)/,Safari:/Version\/(\d+(\.\d+)?)/,"Mobile Safari":/Version\/(\d+(\.\d+)?)/,Opera:/(Opera|OPR)\/(\d+(\.\d+)?)/,Firefox:/Firefox\/(\d+(\.\d+)?)/,"Firefox iOS":/FxiOS\/(\d+(\.\d+)?)/,Konqueror:/Konqueror:(\d+(\.\d+)?)/,BlackBerry:/BlackBerry (\d+(\.\d+)?)/,"Android Mobile":/android\s(\d+(\.\d+)?)/,"Internet Explorer":/(rv:|MSIE )(\d+(\.\d+)?)/,Mozilla:/rv:(\d+(\.\d+)?)/},i=o[r];if(void 0===i)return null;var s=e.match(i);return s?parseFloat(s[s.length-2]):null},os:function(){var e=m;return/Windows/i.test(e)?/Phone/.test(e)||/WPDesktop/.test(e)?"Windows Phone":"Windows":/(iPhone|iPad|iPod)/.test(e)?"iOS":/Android/.test(e)?"Android":/(BlackBerry|PlayBook|BB10)/i.test(e)?"BlackBerry":/Mac/i.test(e)?"Mac OS X":/Linux/.test(e)?"Linux":""},device:function(e){return/Windows Phone/i.test(e)||/WPDesktop/.test(e)?"Windows Phone":/iPad/.test(e)?"iPad":/iPod/.test(e)?"iPod Touch":/iPhone/.test(e)?"iPhone":/(BlackBerry|PlayBook|BB10)/i.test(e)?"BlackBerry":/Android/.test(e)?"Android":"";
},referringDomain:function(e){var t=e.split("/");return t.length>=3?t[2]:""},properties:function(){return w.extend(w.strip_empty_properties({$os:w.info.os(),$browser:w.info.browser(m,h.vendor,window.opera),$referrer:f.referrer,$referring_domain:w.info.referringDomain(f.referrer),$device:w.info.device(m)}),{$current_url:window.location.href,$browser_version:w.info.browserVersion(m,h.vendor,window.opera),$screen_height:screen.height,$screen_width:screen.width,mp_lib:"web",$lib_version:i.LIB_VERSION})},people_properties:function(){return w.extend(w.strip_empty_properties({$os:w.info.os(),$browser:w.info.browser(m,h.vendor,window.opera)}),{$browser_version:w.info.browserVersion(m,h.vendor,window.opera)})},pageviewInfo:function(e){return w.strip_empty_properties({mp_page:e,mp_referrer:f.referrer,mp_browser:w.info.browser(m,h.vendor,window.opera),mp_platform:w.info.os()})}},w.toArray=w.toArray,w.isObject=w.isObject,w.JSONEncode=w.JSONEncode,w.JSONDecode=w.JSONDecode,w.isBlockedUA=w.isBlockedUA,w.isEmptyObject=w.isEmptyObject,
w.info=w.info,w.info.device=w.info.device,w.info.browser=w.info.browser,w.info.properties=w.info.properties;var x=1,C=3,E={_initializedTokens:[],_previousElementSibling:function(e){if(e.previousElementSibling)return e.previousElementSibling;do e=e.previousSibling;while(e&&e.nodeType!==x);return e},_loadScript:function(e,t){var n=document.createElement("script");n.type="text/javascript",n.src=e,n.onload=t;var r=document.getElementsByTagName("script");r.length>0?r[0].parentNode.insertBefore(n,r[0]):document.body.appendChild(n)},_getClassName:function(e){switch(typeof e.className){case"string":return e.className;case"object":return e.className.baseVal||e.getAttribute("class")||"";default:return""}},_getPropertiesFromElement:function(e){var t={classes:this._getClassName(e).split(" "),tag_name:e.tagName.toLowerCase()};if(w.includes(["input","select","textarea"],e.tagName.toLowerCase())){var n=this._getFormFieldValue(e);this._includeProperty(e,n)&&(t.value=n)}w.each(e.attributes,function(e){t["attr__"+e.name]=e.value;
});for(var r=1,o=1,i=e;i=this._previousElementSibling(i);)r++,i.tagName===e.tagName&&o++;return t.nth_child=r,t.nth_of_type=o,t},_isTag:function(e,t){return e&&e.tagName&&e.tagName.toLowerCase()===t.toLowerCase()},_shouldTrackDomEvent:function(e,t){if(!e||this._isTag(e,"html")||e.nodeType!==x)return!1;var n=e.tagName.toLowerCase();switch(n){case"html":return!1;case"form":return"submit"===t.type;case"input":return-1===["button","submit"].indexOf(e.getAttribute("type"))?"change"===t.type:"click"===t.type;case"select":case"textarea":return"change"===t.type;default:return"click"===t.type}},_getDefaultProperties:function(e){return{$event_type:e,$ce_version:1,$host:window.location.host,$pathname:window.location.pathname}},_getInputValue:function(e){var t=null,n=e.type.toLowerCase();switch(n){case"checkbox":e.checked&&(t=[e.value]);break;case"radio":e.checked&&(t=e.value);break;default:t=e.value}return t},_getSelectValue:function(e){var t;if(e.multiple){var n=[];w.each(e.querySelectorAll("[selected]"),function(e){n.push(e.value);
}),t=n}else t=e.value;return t},_includeProperty:function(e,t){for(var n=e;n.parentNode&&!this._isTag(n,"body");n=n.parentNode){var r=this._getClassName(n).split(" ");if(w.includes(r,"mp-sensitive")||w.includes(r,"mp-no-track"))return!1}if(w.includes(this._getClassName(e).split(" "),"mp-include"))return!0;if(null===t)return!1;var o=e.type||"";switch(o.toLowerCase()){case"hidden":return!1;case"password":return!1}var i=e.name||e.id||"",s=/^cc|cardnum|ccnum|creditcard|csc|cvc|cvv|exp|pass|seccode|securitycode|securitynum|socialsec|socsec|ssn/i;if(s.test(i.replace(/[^a-zA-Z0-9]/g,"")))return!1;if("string"==typeof t){var a=/^(?:(4[0-9]{12}(?:[0-9]{3})?)|(5[1-5][0-9]{14})|(6(?:011|5[0-9]{2})[0-9]{12})|(3[47][0-9]{13})|(3(?:0[0-5]|[68][0-9])[0-9]{11})|((?:2131|1800|35[0-9]{3})[0-9]{11}))$/;if(a.test((t||"").replace(/[\- ]/g,"")))return!1;var u=/(^\d{3}-?\d{2}-?\d{4}$)/;if(u.test(t))return!1}return!0},_getFormFieldValue:function(e){var t;switch(e.tagName.toLowerCase()){case"input":t=this._getInputValue(e);break;case"select":
t=this._getSelectValue(e);break;default:t=e.value||e.textContent}return this._includeProperty(e,t)?t:null},_getFormFieldProperties:function(e){var t={};return w.each(e.elements,function(e){var n=e.getAttribute("name")||e.getAttribute("id");if(null!==n){n="$form_field__"+n;var r=this._getFormFieldValue(e);if(this._includeProperty(e,r)){var o=t[n];void 0!==o?t[n]=[].concat(o,r):t[n]=r}}},this),t},_extractCustomPropertyValue:function(e){var t=[];return w.each(document.querySelectorAll(e.css_selector),function(e){["input","select"].indexOf(e.tagName.toLowerCase())>-1?t.push(e.value):e.textContent&&t.push(e.textContent)}),t.join(", ")},_getCustomProperties:function(e){var t={};return w.each(this._customProperties,function(n){w.each(n.event_selectors,function(r){var o=document.querySelectorAll(r);w.each(o,function(r){w.includes(e,r)&&(t[n.name]=this._extractCustomPropertyValue(n))},this)},this)},this),t},_getEventTarget:function(e){return"undefined"==typeof e.target?e.srcElement:e.target},_trackEvent:function(e,t){var n=this._getEventTarget(e);
if(n.nodeType===C&&(n=n.parentNode),this._shouldTrackDomEvent(n,e)){for(var r=[n],o=n;o.parentNode&&!this._isTag(o,"body");)r.push(o.parentNode),o=o.parentNode;var i,s,a,u=[],l=!1;if(w.each(r,function(e,t){if("a"===e.tagName.toLowerCase()?i=e.getAttribute("href"):"form"===e.tagName.toLowerCase()&&(a=e),!s&&5>t&&e.textContent){var n=w.trim(e.textContent);n&&(s=n.replace(/[\r\n]/g," ").replace(/[ ]+/g," ").substring(0,255))}var r=this._getClassName(e).split(" ");w.includes(r,"mp-no-track")&&(l=!0),u.push(this._getPropertiesFromElement(e))},this),l)return!1;var c=w.extend(this._getDefaultProperties(e.type),{$elements:u,$el_attr__href:i,$el_text:s},this._getCustomProperties(r));return!a||"submit"!==e.type&&"click"!==e.type||w.extend(c,this._getFormFieldProperties(a)),t.track("$web_event",c),!0}},_navigate:function(e){window.location.href=e},_addDomEventHandlers:function(e){var t=w.bind(function(t){t=t||window.event,this._trackEvent(t,e)},this);w.register_event(document,"submit",t,!1,!0),w.register_event(document,"change",t,!1,!0),
w.register_event(document,"click",t,!1,!0)},_customProperties:{},init:function(e){if(!document||!document.body){console.log("document not ready yet, trying again in 500 milliseconds...");var t=this;return void setTimeout(function(){t.init(e)},500)}var n=e.get_config("token");if(this._initializedTokens.indexOf(n)>-1)return void console.log('autotrack already initialized for token "'+n+'"');if(this._initializedTokens.push(n),!this._maybeLoadEditor(e)){var r=w.bind(function(t){t&&t.config&&t.config.enable_collect_everything===!0?(t.custom_properties&&(this._customProperties=t.custom_properties),e.track("$web_event",w.extend({$title:document.title},this._getDefaultProperties("pageview"))),this._addDomEventHandlers(e)):e.__autotrack_enabled=!1},this);e._send_request(e.get_config("api_host")+"/decide/",{verbose:!0,version:"1",lib:"web",token:n},e._prepare_callback(r))}},_editorParamsFromHash:function(e,t){var n;try{var r=w.getHashParam(t,"state");r=JSON.parse(decodeURIComponent(r));var o=w.getHashParam(t,"expires_in");
n={accessToken:w.getHashParam(t,"access_token"),accessTokenExpiresAt:(new Date).getTime()+1e3*Number(o),bookmarkletMode:!!r.bookmarkletMode,projectId:r.projectId,projectOwnerId:r.projectOwnerId,projectToken:r.token,readOnly:r.readOnly,userFlags:r.userFlags,userId:r.userId},window.sessionStorage.setItem("editorParams",JSON.stringify(n)),r.desiredHash?window.location.hash=r.desiredHash:window.history?history.replaceState("",document.title,window.location.pathname+window.location.search):window.location.hash=""}catch(i){console.error("Unable to parse data from hash",i)}return n},_maybeLoadEditor:function(e){try{var t=!1;if(w.getHashParam(window.location.hash,"state")){var n=w.getHashParam(window.location.hash,"state");n=JSON.parse(decodeURIComponent(n)),t="mpeditor"===n.action}var r,o=!!window.sessionStorage.getItem("_mpcehash");return t?r=this._editorParamsFromHash(e,window.location.hash):o?(r=this._editorParamsFromHash(e,window.sessionStorage.getItem("_mpcehash")),window.sessionStorage.removeItem("_mpcehash")):r=JSON.parse(window.sessionStorage.getItem("editorParams")||"{}"),
r.projectToken&&e.get_config("token")===r.projectToken?(this._loadEditor(e,r),!0):!1}catch(i){return!1}},_loadEditor:function(e,t){if(!window._mpEditorLoaded){window._mpEditorLoaded=!0;var n=e.get_config("app_host")+"/js-bundle/reports/collect-everything/editor.js?_ts="+(new Date).getTime();return this._loadScript(n,function(){window.mp_load_editor(t)}),!0}return!1},enabledForProject:function(e,t,n){t=w.isUndefined(t)?10:t,n=w.isUndefined(n)?10:n;for(var r=0,o=0;o<e.length;o++)r+=e.charCodeAt(o);return n>r%t},isBrowserSupported:function(){return w.isFunction(document.querySelectorAll)}};w.bind_instance_methods(E),w.safewrap_instance_methods(E);/*
 * Mixpanel JS Library
 *
 * Copyright 2012, Mixpanel, Inc. All Rights Reserved
 * http://mixpanel.com/
 *
 * Includes portions of Underscore.js
 * http://documentcloud.github.com/underscore/
 * (c) 2011 Jeremy Ashkenas, DocumentCloud Inc.
 * Released under the MIT License.
 */
var T,S,D=0,A=1,M="mixpanel",F="__mps",N="__mpso",O="__mpa",I="__mpap",P="__mpu",L="$set",R="$set_once",B="$add",j="$append",$="$union",U="$people_distinct_id",V="__alias",H="__cmpns",z="__timers",q=[F,N,O,I,P,U,V,H,z],W="https:"===document.location.protocol?"https://":"http://",Y=window.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest,G=!Y&&-1===m.indexOf("MSIE")&&-1===m.indexOf("Mozilla"),K={api_host:W+"api.mixpanel.com",app_host:W+"mixpanel.com",autotrack:!0,cdn:W+"cdn.mxpnl.com",cross_subdomain_cookie:!0,persistence:"cookie",persistence_name:"",cookie_name:"",loaded:function(){},store_google:!0,save_referrer:!0,test:!1,verbose:!1,img:!1,track_pageview:!0,debug:!1,track_links_timeout:300,cookie_expiration:365,upgrade:!1,disable_persistence:!1,disable_cookie:!1,secure_cookie:!1,ip:!0,property_blacklist:[]},Z=!1,J=function(){};J.prototype.create_properties=function(){},J.prototype.event_handler=function(){},J.prototype.after_track_handler=function(){},J.prototype.init=function(e){return this.mp=e,this},
J.prototype.track=function(e,t,n,r){var o=this,i=w.dom_query(e);return 0===i.length?void k.error("The DOM query ("+e+") returned 0 elements"):(w.each(i,function(e){w.register_event(e,this.override_event,function(e){var i={},s=o.create_properties(n,this),a=o.mp.get_config("track_links_timeout");o.event_handler(e,this,i),window.setTimeout(o.track_callback(r,s,i,!0),a),o.mp.track(t,s,o.track_callback(r,s,i))})},this),!0)},J.prototype.track_callback=function(e,t,n,r){r=r||!1;var o=this;return function(){n.callback_fired||(n.callback_fired=!0,e&&e(r,t)===!1||o.after_track_handler(t,n,r))}},J.prototype.create_properties=function(e,t){var n;return n="function"==typeof e?e(t):w.extend({},e)};var Q=function(){this.override_event="click"};w.inherit(Q,J),Q.prototype.create_properties=function(e,t){var n=Q.superclass.create_properties.apply(this,arguments);return t.href&&(n.url=t.href),n},Q.prototype.event_handler=function(e,t,n){n.new_tab=2===e.which||e.metaKey||e.ctrlKey||"_blank"===t.target,n.href=t.href,n.new_tab||e.preventDefault();
},Q.prototype.after_track_handler=function(e,t){t.new_tab||setTimeout(function(){window.location=t.href},0)};var X=function(){this.override_event="submit"};w.inherit(X,J),X.prototype.event_handler=function(e,t,n){n.element=t,e.preventDefault()},X.prototype.after_track_handler=function(e,t){setTimeout(function(){t.element.submit()},0)};var ee=function(e){this.props={},this.campaign_params_saved=!1,e.persistence_name?this.name="mp_"+e.persistence_name:this.name="mp_"+e.token+"_mixpanel";var t=e.persistence;"cookie"!==t&&"localStorage"!==t&&(k.critical("Unknown persistence type "+t+"; falling back to cookie"),t=e.persistence="cookie");var n=function(){var e=!0;try{var t="__mplssupport__",n="xyz";w.localStorage.set(t,n),w.localStorage.get(t)!==n&&(e=!1),w.localStorage.remove(t)}catch(r){e=!1}return e||k.error("localStorage unsupported; falling back to cookie store"),e};"localStorage"===t&&n()?this.storage=w.localStorage:this.storage=w.cookie,this.load(),this.update_config(e),this.upgrade(e),this.save()};ee.prototype.properties=function(){
var e={};return w.each(this.props,function(t,n){w.include(q,n)||(e[n]=t)}),e},ee.prototype.load=function(){if(!this.disabled){var e=this.storage.parse(this.name);e&&(this.props=w.extend({},e))}},ee.prototype.upgrade=function(e){var t,n,r=e.upgrade;r&&(t="mp_super_properties","string"==typeof r&&(t=r),n=this.storage.parse(t),this.storage.remove(t),this.storage.remove(t,!0),n&&(this.props=w.extend(this.props,n.all,n.events))),e.cookie_name||"mixpanel"===e.name||(t="mp_"+e.token+"_"+e.name,n=this.storage.parse(t),n&&(this.storage.remove(t),this.storage.remove(t,!0),this.register_once(n))),this.storage===w.localStorage&&(n=w.cookie.parse(this.name),w.cookie.remove(this.name),w.cookie.remove(this.name,!0),n&&this.register_once(n))},ee.prototype.save=function(){this.disabled||(this._expire_notification_campaigns(),this.storage.set(this.name,w.JSONEncode(this.props),this.expire_days,this.cross_subdomain,this.secure))},ee.prototype.remove=function(){this.storage.remove(this.name,!1),this.storage.remove(this.name,!0)},
ee.prototype.clear=function(){this.remove(),this.props={}},ee.prototype.register_once=function(e,t,n){return w.isObject(e)?("undefined"==typeof t&&(t="None"),this.expire_days="undefined"==typeof n?this.default_expiry:n,w.each(e,function(e,n){this.props[n]&&this.props[n]!==t||(this.props[n]=e)},this),this.save(),!0):!1},ee.prototype.register=function(e,t){return w.isObject(e)?(this.expire_days="undefined"==typeof t?this.default_expiry:t,w.extend(this.props,e),this.save(),!0):!1},ee.prototype.unregister=function(e){e in this.props&&(delete this.props[e],this.save())},ee.prototype._expire_notification_campaigns=w.safewrap(function(){var e=this.props[H],t=i.DEBUG?6e4:36e5;if(e){for(var n in e)1*new Date-e[n]>t&&delete e[n];w.isEmptyObject(e)&&delete this.props[H]}}),ee.prototype.update_campaign_params=function(){this.campaign_params_saved||(this.register_once(w.info.campaignParams()),this.campaign_params_saved=!0)},ee.prototype.update_search_keyword=function(e){this.register(w.info.searchInfo(e))},ee.prototype.update_referrer_info=function(e){
this.register_once({$initial_referrer:e||"$direct",$initial_referring_domain:w.info.referringDomain(e)||"$direct"},"")},ee.prototype.get_referrer_info=function(){return w.strip_empty_properties({$initial_referrer:this.props.$initial_referrer,$initial_referring_domain:this.props.$initial_referring_domain})},ee.prototype.safe_merge=function(e){return w.each(this.props,function(t,n){n in e||(e[n]=t)}),e},ee.prototype.update_config=function(e){this.default_expiry=this.expire_days=e.cookie_expiration,this.set_disabled(e.disable_persistence),this.set_cross_subdomain(e.cross_subdomain_cookie),this.set_secure(e.secure_cookie)},ee.prototype.set_disabled=function(e){this.disabled=e,this.disabled&&this.remove()},ee.prototype.set_cross_subdomain=function(e){e!==this.cross_subdomain&&(this.cross_subdomain=e,this.remove(),this.save())},ee.prototype.get_cross_subdomain=function(){return this.cross_subdomain},ee.prototype.set_secure=function(e){e!==this.secure&&(this.secure=e?!0:!1,this.remove(),this.save())},ee.prototype._add_to_people_queue=function(e,t){
var n=this._get_queue_key(e),r=t[e],o=this._get_or_create_queue(L),i=this._get_or_create_queue(R),s=this._get_or_create_queue(B),a=this._get_or_create_queue($),u=this._get_or_create_queue(j,[]);n===F?(w.extend(o,r),this._pop_from_people_queue(B,r),this._pop_from_people_queue($,r)):n===N?w.each(r,function(e,t){t in i||(i[t]=e)}):n===O?w.each(r,function(e,t){t in o?o[t]+=e:(t in s||(s[t]=0),s[t]+=e)},this):n===P?w.each(r,function(e,t){w.isArray(e)&&(t in a||(a[t]=[]),a[t]=a[t].concat(e))}):n===I&&u.push(r),k.log("MIXPANEL PEOPLE REQUEST (QUEUED, PENDING IDENTIFY):"),k.log(t),this.save()},ee.prototype._pop_from_people_queue=function(e,t){var n=this._get_queue(e);w.isUndefined(n)||(w.each(t,function(e,t){delete n[t]},this),this.save())},ee.prototype._get_queue_key=function(e){return e===L?F:e===R?N:e===B?O:e===j?I:e===$?P:void k.error("Invalid queue:",e)},ee.prototype._get_queue=function(e){return this.props[this._get_queue_key(e)]},ee.prototype._get_or_create_queue=function(e,t){var n=this._get_queue_key(e);return t=w.isUndefined(t)?{}:t,
this.props[n]||(this.props[n]=t)},ee.prototype.set_event_timer=function(e,t){var n=this.props[z]||{};n[e]=t,this.props[z]=n,this.save()},ee.prototype.remove_event_timer=function(e){var t=this.props[z]||{},n=t[e];return w.isUndefined(n)||(delete this.props[z][e],this.save()),n};var te,ne=function(){},re=function(){},oe=function(e,t,n){var r,o=n===M?S:S[n];if(o&&T===D)r=o;else{if(o&&!w.isArray(o))return void k.error("You have already initialized "+n);r=new ne}if(r._init(e,t,n),r.people=new re,r.people._init(r),i.DEBUG=i.DEBUG||r.get_config("debug"),r.__autotrack_enabled=r.get_config("autotrack"),r.get_config("autotrack")){var s=100,a=100;E.enabledForProject(r.get_config("token"),s,a)?E.isBrowserSupported()?E.init(r):(r.__autotrack_enabled=!1,k.log("Disabling Automatic Event Collection because this browser is not supported")):(r.__autotrack_enabled=!1,k.log("Not in active bucket: disabling Automatic Event Collection."));try{le(r)}catch(u){k.error(u)}}return!w.isUndefined(o)&&w.isArray(o)&&(r._execute_array.call(r.people,o.people),
r._execute_array(o)),r};ne.prototype.init=function(e,t,n){if(w.isUndefined(n))return void k.error("You must name your new library: init(token, config, name)");if(n===M)return void k.error("You must initialize the main mixpanel object right after you include the Mixpanel js snippet");var r=oe(e,t,n);return S[n]=r,r._loaded(),r},ne.prototype._init=function(e,t,n){this.__loaded=!0,this.config={},this.set_config(w.extend({},K,t,{name:n,token:e,callback_fn:(n===M?n:M+"."+n)+"._jsc"})),this._jsc=function(){},this.__dom_loaded_queue=[],this.__request_queue=[],this.__disabled_events=[],this._flags={disable_all_events:!1,identify_called:!1},this.persistence=this.cookie=new ee(this.config),this.register_once({distinct_id:w.UUID()},"")},ne.prototype._loaded=function(){this.get_config("loaded")(this),this.get_config("track_pageview")&&this.track_pageview()},ne.prototype._dom_loaded=function(){w.each(this.__dom_loaded_queue,function(e){this._track_dom.apply(this,e)},this),w.each(this.__request_queue,function(e){this._send_request.apply(this,e);
},this),delete this.__dom_loaded_queue,delete this.__request_queue},ne.prototype._track_dom=function(e,t){if(this.get_config("img"))return k.error("You can't use DOM tracking functions with img = true."),!1;if(!Z)return this.__dom_loaded_queue.push([e,t]),!1;var n=(new e).init(this);return n.track.apply(n,t)},ne.prototype._prepare_callback=function(e,t){if(w.isUndefined(e))return null;if(Y){var n=function(n){e(n,t)};return n}var r=this._jsc,o=""+Math.floor(1e8*Math.random()),i=this.get_config("callback_fn")+"["+o+"]";return r[o]=function(n){delete r[o],e(n,t)},i},ne.prototype._send_request=function(e,t,n){if(G)return void this.__request_queue.push(arguments);var r=this.get_config("verbose");if(t.verbose&&(r=!0),this.get_config("test")&&(t.test=1),r&&(t.verbose=1),this.get_config("img")&&(t.img=1),Y||(n?t.callback=n:(r||this.get_config("test"))&&(t.callback="(function(){})")),t.ip=this.get_config("ip")?1:0,t._=(new Date).getTime().toString(),e+="?"+w.HTTPBuildQuery(t),"img"in t){var o=document.createElement("img");
o.src=e,document.body.appendChild(o)}else if(Y)try{var i=new XMLHttpRequest;i.open("GET",e,!0),i.withCredentials=!0,i.onreadystatechange=function(){if(4===i.readyState)if(200===i.status)n&&n(r?w.JSONDecode(i.responseText):Number(i.responseText));else{var e="Bad HTTP status: "+i.status+" "+i.statusText;k.error(e),n&&n(r?{status:0,error:e}:0)}},i.send(null)}catch(s){k.error(s)}else{var a=document.createElement("script");a.type="text/javascript",a.async=!0,a.defer=!0,a.src=e;var u=document.getElementsByTagName("script")[0];u.parentNode.insertBefore(a,u)}},ne.prototype._execute_array=function(e){var t,n=[],r=[],o=[];w.each(e,function(e){e&&(t=e[0],"function"==typeof e?e.call(this):w.isArray(e)&&"alias"===t?n.push(e):w.isArray(e)&&-1!==t.indexOf("track")&&"function"==typeof this[t]?o.push(e):r.push(e))},this);var i=function(e,t){w.each(e,function(e){this[e[0]].apply(this,e.slice(1))},t)};i(n,this),i(r,this),i(o,this)},ne.prototype.push=function(e){this._execute_array([e])},ne.prototype.disable=function(e){"undefined"==typeof e?this._flags.disable_all_events=!0:this.__disabled_events=this.__disabled_events.concat(e);
},ne.prototype.track=function(e,t,n){if("function"!=typeof n&&(n=function(){}),w.isUndefined(e))return void k.error("No event name provided to mixpanel.track");if(this._event_is_disabled(e))return void n(0);t=t||{},t.token=this.get_config("token");var r=this.persistence.remove_event_timer(e);if(!w.isUndefined(r)){var o=(new Date).getTime()-r;t.$duration=parseFloat((o/1e3).toFixed(3))}this.persistence.update_search_keyword(document.referrer),this.get_config("store_google")&&this.persistence.update_campaign_params(),this.get_config("save_referrer")&&this.persistence.update_referrer_info(document.referrer),t=w.extend({},w.info.properties(),this.persistence.properties(),t);try{this.get_config("autotrack")&&"mp_page_view"!==e&&"$create_alias"!==e&&(t=w.extend({},t,this.mp_counts),this.mp_counts={$__c:0},w.cookie.set("mp_"+this.get_config("name")+"__c",0,1,!0))}catch(i){k.error(i)}var s=this.get_config("property_blacklist");w.isArray(s)?w.each(s,function(e){delete t[e]}):k.error("Invalid value for property_blacklist config: "+s);
var a={event:e,properties:t},u=w.truncate(a,255),l=w.JSONEncode(u),c=w.base64Encode(l);return k.log("MIXPANEL REQUEST:"),k.log(u),this._send_request(this.get_config("api_host")+"/track/",{data:c},this._prepare_callback(n,u)),u},ne.prototype.track_pageview=function(e){w.isUndefined(e)&&(e=document.location.href),this.track("mp_page_view",w.info.pageviewInfo(e))},ne.prototype.track_links=function(){return this._track_dom.call(this,Q,arguments)},ne.prototype.track_forms=function(){return this._track_dom.call(this,X,arguments)},ne.prototype.time_event=function(e){return w.isUndefined(e)?void k.error("No event name provided to mixpanel.time_event"):void(this._event_is_disabled(e)||this.persistence.set_event_timer(e,(new Date).getTime()))},ne.prototype.register=function(e,t){this.persistence.register(e,t)},ne.prototype.register_once=function(e,t,n){this.persistence.register_once(e,t,n)},ne.prototype.unregister=function(e){this.persistence.unregister(e)},ne.prototype._register_single=function(e,t){var n={};n[e]=t,this.register(n);
},ne.prototype.identify=function(e,t,n,r,o,i){e!==this.get_distinct_id()&&e!==this.get_property(V)&&(this.unregister(V),this._register_single("distinct_id",e)),this._check_and_handle_notifications(this.get_distinct_id()),this._flags.identify_called=!0,this.people._flush(t,n,r,o,i)},ne.prototype.reset=function(){this.persistence.clear(),this._flags.identify_called=!1,this.register_once({distinct_id:w.UUID()},"")},ne.prototype.get_distinct_id=function(){return this.get_property("distinct_id")},ne.prototype.alias=function(e,t){if(e===this.get_property(U))return k.critical("Attempting to create alias for existing People user - aborting."),-2;var n=this;return w.isUndefined(t)&&(t=this.get_distinct_id()),e!==t?(this._register_single(V,e),this.track("$create_alias",{alias:e,distinct_id:t},function(){n.identify(e)})):(k.error("alias matches current distinct_id - skipping api call."),this.identify(e),-1)},ne.prototype.name_tag=function(e){this._register_single("mp_name_tag",e)},ne.prototype.set_config=function(e){w.isObject(e)&&(w.extend(this.config,e),
this.get_config("persistence_name")||(this.config.persistence_name=this.config.cookie_name),this.get_config("disable_persistence")||(this.config.disable_persistence=this.config.disable_cookie),this.persistence&&this.persistence.update_config(this.config),i.DEBUG=i.DEBUG||this.get_config("debug"))},ne.prototype.get_config=function(e){return this.config[e]},ne.prototype.get_property=function(e){return this.persistence.props[e]},ne.prototype.toString=function(){var e=this.get_config("name");return e!==M&&(e=M+"."+e),e},ne.prototype._event_is_disabled=function(e){return w.isBlockedUA(m)||this._flags.disable_all_events||w.include(this.__disabled_events,e)},ne.prototype._check_and_handle_notifications=function(e){if(e&&!this._flags.identify_called&&!this.get_config("disable_notifications")){k.log("MIXPANEL NOTIFICATION CHECK");var t={verbose:!0,version:"2",lib:"web",token:this.get_config("token"),distinct_id:e},n=this;this._send_request(this.get_config("api_host")+"/decide/",t,this._prepare_callback(function(e){e.notifications&&e.notifications.length>0&&n._show_notification.call(n,e.notifications[0]);
}))}},ne.prototype._show_notification=function(e){var t=new te(e,this);t.show()},re.prototype._init=function(e){this._mixpanel=e},re.prototype.set=function(e,t,n){var r={},o={};return w.isObject(e)?(w.each(e,function(e,t){this._is_reserved_property(t)||(o[t]=e)},this),n=t):o[e]=t,this._get_config("save_referrer")&&this._mixpanel.persistence.update_referrer_info(document.referrer),o=w.extend({},w.info.people_properties(),this._mixpanel.persistence.get_referrer_info(),o),r[L]=o,this._send_request(r,n)},re.prototype.set_once=function(e,t,n){var r={},o={};return w.isObject(e)?(w.each(e,function(e,t){this._is_reserved_property(t)||(o[t]=e)},this),n=t):o[e]=t,r[R]=o,this._send_request(r,n)},re.prototype.increment=function(e,t,n){var r={},o={};return w.isObject(e)?(w.each(e,function(e,t){if(!this._is_reserved_property(t)){if(isNaN(parseFloat(e)))return void k.error("Invalid increment value passed to mixpanel.people.increment - must be a number");o[t]=e}},this),n=t):(w.isUndefined(t)&&(t=1),o[e]=t),r[B]=o,this._send_request(r,n);
},re.prototype.append=function(e,t,n){var r={},o={};return w.isObject(e)?(w.each(e,function(e,t){this._is_reserved_property(t)||(o[t]=e)},this),n=t):o[e]=t,r[j]=o,this._send_request(r,n)},re.prototype.union=function(e,t,n){var r={},o={};return w.isObject(e)?(w.each(e,function(e,t){this._is_reserved_property(t)||(o[t]=w.isArray(e)?e:[e])},this),n=t):o[e]=w.isArray(t)?t:[t],r[$]=o,this._send_request(r,n)},re.prototype.track_charge=function(e,t,n){return!w.isNumber(e)&&(e=parseFloat(e),isNaN(e))?void k.error("Invalid value passed to mixpanel.people.track_charge - must be a number"):this.append("$transactions",w.extend({$amount:e},t),n)},re.prototype.clear_charges=function(e){return this.set("$transactions",[],e)},re.prototype.delete_user=function(){if(!this._identify_called())return void k.error("mixpanel.people.delete_user() requires you to call identify() first");var e={$delete:this._mixpanel.get_distinct_id()};return this._send_request(e)},re.prototype.toString=function(){return this._mixpanel.toString()+".people";
},re.prototype._send_request=function(e,t){e.$token=this._get_config("token"),e.$distinct_id=this._mixpanel.get_distinct_id();var n=w.encodeDates(e),r=w.truncate(n,255),o=w.JSONEncode(n),i=w.base64Encode(o);return this._identify_called()?(k.log("MIXPANEL PEOPLE REQUEST:"),k.log(r),this._mixpanel._send_request(this._get_config("api_host")+"/engage/",{data:i},this._mixpanel._prepare_callback(t,r)),r):(this._enqueue(e),w.isUndefined(t)||t(this._get_config("verbose")?{status:-1,error:null}:-1),r)},re.prototype._get_config=function(e){return this._mixpanel.get_config(e)},re.prototype._identify_called=function(){return this._mixpanel._flags.identify_called===!0},re.prototype._enqueue=function(e){L in e?this._mixpanel.persistence._add_to_people_queue(L,e):R in e?this._mixpanel.persistence._add_to_people_queue(R,e):B in e?this._mixpanel.persistence._add_to_people_queue(B,e):j in e?this._mixpanel.persistence._add_to_people_queue(j,e):$ in e?this._mixpanel.persistence._add_to_people_queue($,e):k.error("Invalid call to _enqueue():",e);
},re.prototype._flush=function(e,t,n,r,o){var i=this,s=w.extend({},this._mixpanel.persistence._get_queue(L)),a=w.extend({},this._mixpanel.persistence._get_queue(R)),u=w.extend({},this._mixpanel.persistence._get_queue(B)),l=this._mixpanel.persistence._get_queue(j),c=w.extend({},this._mixpanel.persistence._get_queue($));if(w.isUndefined(s)||!w.isObject(s)||w.isEmptyObject(s)||(i._mixpanel.persistence._pop_from_people_queue(L,s),this.set(s,function(t,n){0===t&&i._mixpanel.persistence._add_to_people_queue(L,s),w.isUndefined(e)||e(t,n)})),w.isUndefined(a)||!w.isObject(a)||w.isEmptyObject(a)||(i._mixpanel.persistence._pop_from_people_queue(R,a),this.set_once(a,function(e,t){0===e&&i._mixpanel.persistence._add_to_people_queue(R,a),w.isUndefined(r)||r(e,t)})),w.isUndefined(u)||!w.isObject(u)||w.isEmptyObject(u)||(i._mixpanel.persistence._pop_from_people_queue(B,u),this.increment(u,function(e,n){0===e&&i._mixpanel.persistence._add_to_people_queue(B,u),w.isUndefined(t)||t(e,n)})),w.isUndefined(c)||!w.isObject(c)||w.isEmptyObject(c)||(i._mixpanel.persistence._pop_from_people_queue($,c),
this.union(c,function(e,t){0===e&&i._mixpanel.persistence._add_to_people_queue($,c),w.isUndefined(o)||o(e,t)})),!w.isUndefined(l)&&w.isArray(l)&&l.length){for(var p,d=function(e,t){0===e&&i._mixpanel.persistence._add_to_people_queue(j,p),w.isUndefined(n)||n(e,t)},h=l.length-1;h>=0;h--)p=l.pop(),i.append(p,d);i._mixpanel.persistence.save()}},re.prototype._is_reserved_property=function(e){return"$distinct_id"===e||"$token"===e},ne._Notification=function(e,t){w.bind_instance_methods(this),this.mixpanel=t,this.persistence=this.mixpanel.persistence,this.campaign_id=w.escapeHTML(e.id),this.message_id=w.escapeHTML(e.message_id),this.body=(w.escapeHTML(e.body)||"").replace(/\n/g,"<br/>"),this.cta=w.escapeHTML(e.cta)||"Close",this.notif_type=w.escapeHTML(e.type)||"takeover",this.style=w.escapeHTML(e.style)||"light",this.title=w.escapeHTML(e.title)||"",this.video_width=te.VIDEO_WIDTH,this.video_height=te.VIDEO_HEIGHT,this.dest_url=e.cta_url||null,this.image_url=e.image_url||null,this.thumb_image_url=e.thumb_image_url||null,
this.video_url=e.video_url||null,this.clickthrough=!0,this.dest_url||(this.dest_url="#dismiss",this.clickthrough=!1),this.mini="mini"===this.notif_type,this.mini||(this.notif_type="takeover"),this.notif_width=this.mini?te.NOTIF_WIDTH_MINI:te.NOTIF_WIDTH,this._set_client_config(),this.imgs_to_preload=this._init_image_html(),this._init_video()},te=ne._Notification,te.ANIM_TIME=200,te.MARKUP_PREFIX="mixpanel-notification",te.BG_OPACITY=.6,te.NOTIF_TOP=25,te.NOTIF_START_TOP=200,te.NOTIF_WIDTH=388,te.NOTIF_WIDTH_MINI=420,te.NOTIF_HEIGHT_MINI=85,te.THUMB_BORDER_SIZE=5,te.THUMB_IMG_SIZE=60,te.THUMB_OFFSET=Math.round(te.THUMB_IMG_SIZE/2),te.VIDEO_WIDTH=595,te.VIDEO_HEIGHT=334,te.prototype.show=function(){var e=this;return this._set_client_config(),this.body_el?(this._init_styles(),this._init_notification_el(),void this._preload_images(this._attach_and_animate)):void setTimeout(function(){e.show()},300)},te.prototype.dismiss=w.safewrap(function(){this.marked_as_shown||this._mark_delivery({invisible:!0});var e=this.showing_video?this._get_el("video"):this._get_notification_display_el();
if(this.use_transitions)this._remove_class("bg","visible"),this._add_class(e,"exiting"),setTimeout(this._remove_notification_el,te.ANIM_TIME);else{var t,n,r;this.mini?(t="right",n=20,r=-100):(t="top",n=te.NOTIF_TOP,r=te.NOTIF_START_TOP+te.NOTIF_TOP),this._animate_els([{el:this._get_el("bg"),attr:"opacity",start:te.BG_OPACITY,goal:0},{el:e,attr:"opacity",start:1,goal:0},{el:e,attr:t,start:n,goal:r}],te.ANIM_TIME,this._remove_notification_el)}}),te.prototype._add_class=w.safewrap(function(e,t){t=te.MARKUP_PREFIX+"-"+t,"string"==typeof e&&(e=this._get_el(e)),e.className?~(" "+e.className+" ").indexOf(" "+t+" ")||(e.className+=" "+t):e.className=t}),te.prototype._remove_class=w.safewrap(function(e,t){t=te.MARKUP_PREFIX+"-"+t,"string"==typeof e&&(e=this._get_el(e)),e.className&&(e.className=(" "+e.className+" ").replace(" "+t+" ","").replace(/^[\s\xA0]+/,"").replace(/[\s\xA0]+$/,""))}),te.prototype._animate_els=w.safewrap(function(e,t,n,r){var o,i,s,a=this,u=!1,l=1*new Date;for(r=r||l,s=l-r,o=0;o<e.length;o++)if(i=e[o],
"undefined"==typeof i.val&&(i.val=i.start),i.val!==i.goal){u=!0;var c=i.goal-i.start,p=i.goal>=i.start?1:-1;i.val=i.start+c*s/t,"opacity"!==i.attr&&(i.val=Math.round(i.val)),(p>0&&i.val>=i.goal||0>p&&i.val<=i.goal)&&(i.val=i.goal)}if(!u)return void(n&&n());for(o=0;o<e.length;o++)if(i=e[o],i.el){var d="opacity"===i.attr?"":"px";i.el.style[i.attr]=String(i.val)+d}setTimeout(function(){a._animate_els(e,t,n,r)},10)}),te.prototype._attach_and_animate=w.safewrap(function(){var e=this;if(!this.shown&&!this._get_shown_campaigns()[this.campaign_id]){this.shown=!0,this.body_el.appendChild(this.notification_el),setTimeout(function(){var t=e._get_notification_display_el();if(e.use_transitions)e.mini||e._add_class("bg","visible"),e._add_class(t,"visible"),e._mark_as_shown();else{var n,r,o;e.mini?(n="right",r=-100,o=20):(n="top",r=te.NOTIF_START_TOP+te.NOTIF_TOP,o=te.NOTIF_TOP),e._animate_els([{el:e._get_el("bg"),attr:"opacity",start:0,goal:te.BG_OPACITY},{el:t,attr:"opacity",start:0,goal:1},{el:t,attr:n,start:r,goal:o}],te.ANIM_TIME,e._mark_as_shown);
}},100),w.register_event(e._get_el("cancel"),"click",function(t){t.preventDefault(),e.dismiss()});var t=e._get_el("button")||e._get_el("mini-content");w.register_event(t,"click",function(t){t.preventDefault(),e.show_video?(e._track_event("$campaign_open",{$resource_type:"video"}),e._switch_to_video()):(e.dismiss(),e.clickthrough&&e._track_event("$campaign_open",{$resource_type:"link"},function(){window.location.href=e.dest_url}))})}}),te.prototype._get_el=function(e){return document.getElementById(te.MARKUP_PREFIX+"-"+e)},te.prototype._get_notification_display_el=function(){return this._get_el(this.notif_type)},te.prototype._get_shown_campaigns=function(){return this.persistence.props[H]||(this.persistence.props[H]={})},te.prototype._browser_lte=function(e,t){return this.browser_versions[e]&&this.browser_versions[e]<=t},te.prototype._init_image_html=function(){var e=[];return this.mini?(this.thumb_image_url=this.thumb_image_url||"//cdn.mxpnl.com/site_media/images/icons/notifications/mini-news-dark.png",e.push(this.thumb_image_url)):(this.image_url?(e.push(this.image_url),
this.img_html='<img id="img" src="'+this.image_url+'"/>'):this.img_html="",this.thumb_image_url?(e.push(this.thumb_image_url),this.thumb_img_html='<div id="thumbborder-wrapper"><div id="thumbborder"></div></div><img id="thumbnail" src="'+this.thumb_image_url+'" width="'+te.THUMB_IMG_SIZE+'" height="'+te.THUMB_IMG_SIZE+'"/><div id="thumbspacer"></div>'):this.thumb_img_html=""),e},te.prototype._init_notification_el=function(){var e="",t="",n="",r='<div id="cancel"><div id="cancel-icon"></div></div>';if(this.notification_el=document.createElement("div"),this.notification_el.id=te.MARKUP_PREFIX+"-wrapper",this.mini)e='<div id="mini"><div id="mainbox">'+r+'<div id="mini-content"><div id="mini-icon"><div id="mini-icon-img"></div></div><div id="body"><div id="body-text"><div>'+this.body+'</div></div></div></div></div><div id="mini-border"></div></div>';else{var o=this.clickthrough||this.show_video?"":'<div id="button-close"></div>',i=this.show_video?'<div id="button-play"></div>':"";this._browser_lte("ie",7)&&(o="",i=""),
e='<div id="takeover">'+this.thumb_img_html+'<div id="mainbox">'+r+'<div id="content">'+this.img_html+'<div id="title">'+this.title+'</div><div id="body">'+this.body+'</div><div id="tagline"><a href="http://mixpanel.com?from=inapp" target="_blank">POWERED BY MIXPANEL</a></div></div><div id="button">'+o+'<a id="button-link" href="'+this.dest_url+'">'+this.cta+"</a>"+i+"</div></div></div>"}this.youtube_video?(t="//www.youtube.com/embed/"+this.youtube_video+"?wmode=transparent&showinfo=0&modestbranding=0&rel=0&autoplay=1&loop=0&vq=hd1080",this.yt_custom&&(t+="&enablejsapi=1&html5=1&controls=0",n='<div id="video-controls"><div id="video-progress" class="video-progress-el"><div id="video-progress-total" class="video-progress-el"></div><div id="video-elapsed" class="video-progress-el"></div></div><div id="video-time" class="video-progress-el"></div></div>')):this.vimeo_video&&(t="//player.vimeo.com/video/"+this.vimeo_video+"?autoplay=1&title=0&byline=0&portrait=0"),this.show_video&&(this.video_iframe='<iframe id="'+te.MARKUP_PREFIX+'-video-frame" width="'+this.video_width+'" height="'+this.video_height+'"  src="'+t+'" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen="1" scrolling="no"></iframe>',
n='<div id="video-'+(this.flip_animate?"":"no")+'flip"><div id="video"><div id="video-holder"></div>'+n+"</div></div>");var s=n+e;this.flip_animate&&(s=(this.mini?e:"")+'<div id="flipcontainer"><div id="flipper">'+(this.mini?n:s)+"</div></div>"),this.notification_el.innerHTML=('<div id="overlay" class="'+this.notif_type+'"><div id="campaignid-'+this.campaign_id+'"><div id="bgwrapper"><div id="bg"></div>'+s+"</div></div></div>").replace(/class=\"/g,'class="'+te.MARKUP_PREFIX+"-").replace(/id=\"/g,'id="'+te.MARKUP_PREFIX+"-")},te.prototype._init_styles=function(){"dark"===this.style?this.style_vals={bg:"#1d1f25",bg_actions:"#282b32",bg_hover:"#3a4147",bg_light:"#4a5157",border_gray:"#32353c",cancel_opacity:"0.4",mini_hover:"#2a3137",text_title:"#fff",text_main:"#9498a3",text_tagline:"#464851",text_hover:"#ddd"}:this.style_vals={bg:"#fff",bg_actions:"#e7eaee",bg_hover:"#eceff3",bg_light:"#f5f5f5",border_gray:"#e4ecf2",cancel_opacity:"1.0",mini_hover:"#fafafa",text_title:"#5c6578",text_main:"#8b949b",text_tagline:"#ced9e6",
text_hover:"#7c8598"};var e="0px 0px 35px 0px rgba(45, 49, 56, 0.7)",t=e,n=e,r=te.THUMB_IMG_SIZE+2*te.THUMB_BORDER_SIZE,o=te.ANIM_TIME/1e3+"s";this.mini&&(e="none");var i={},s=te.NOTIF_WIDTH_MINI+20;i["@media only screen and (max-width: "+(s-1)+"px)"]={"#overlay":{display:"none"}};var a={".flipped":{transform:"rotateY(180deg)"},"#overlay":{position:"fixed",top:"0",left:"0",width:"100%",height:"100%",overflow:"auto","text-align":"center","z-index":"10000","font-family":'"Helvetica", "Arial", sans-serif',"-webkit-font-smoothing":"antialiased","-moz-osx-font-smoothing":"grayscale"},"#overlay.mini":{height:"0",overflow:"visible"},"#overlay a":{width:"initial",padding:"0","text-decoration":"none","text-transform":"none",color:"inherit"},"#bgwrapper":{position:"relative",width:"100%",height:"100%"},"#bg":{position:"fixed",top:"0",left:"0",width:"100%",height:"100%","min-width":4*this.doc_width+"px","min-height":4*this.doc_height+"px","background-color":"black",opacity:"0.0","-ms-filter":"progid:DXImageTransform.Microsoft.Alpha(Opacity=60)",
filter:"alpha(opacity=60)",transition:"opacity "+o},"#bg.visible":{opacity:te.BG_OPACITY},".mini #bg":{width:"0",height:"0","min-width":"0"},"#flipcontainer":{perspective:"1000px",position:"absolute",width:"100%"},"#flipper":{position:"relative","transform-style":"preserve-3d",transition:"0.3s"},"#takeover":{position:"absolute",left:"50%",width:te.NOTIF_WIDTH+"px","margin-left":Math.round(-te.NOTIF_WIDTH/2)+"px","backface-visibility":"hidden",transform:"rotateY(0deg)",opacity:"0.0",top:te.NOTIF_START_TOP+"px",transition:"opacity "+o+", top "+o},"#takeover.visible":{opacity:"1.0",top:te.NOTIF_TOP+"px"},"#takeover.exiting":{opacity:"0.0",top:te.NOTIF_START_TOP+"px"},"#thumbspacer":{height:te.THUMB_OFFSET+"px"},"#thumbborder-wrapper":{position:"absolute",top:-te.THUMB_BORDER_SIZE+"px",left:te.NOTIF_WIDTH/2-te.THUMB_OFFSET-te.THUMB_BORDER_SIZE+"px",width:r+"px",height:r/2+"px",overflow:"hidden"},"#thumbborder":{position:"absolute",width:r+"px",height:r+"px","border-radius":r+"px","background-color":this.style_vals.bg_actions,
opacity:"0.5"},"#thumbnail":{position:"absolute",top:"0px",left:te.NOTIF_WIDTH/2-te.THUMB_OFFSET+"px",width:te.THUMB_IMG_SIZE+"px",height:te.THUMB_IMG_SIZE+"px",overflow:"hidden","z-index":"100","border-radius":te.THUMB_IMG_SIZE+"px"},"#mini":{position:"absolute",right:"20px",top:te.NOTIF_TOP+"px",width:this.notif_width+"px",height:2*te.NOTIF_HEIGHT_MINI+"px","margin-top":20-te.NOTIF_HEIGHT_MINI+"px","backface-visibility":"hidden",opacity:"0.0",transform:"rotateX(90deg)",transition:"opacity 0.3s, transform 0.3s, right 0.3s"},"#mini.visible":{opacity:"1.0",transform:"rotateX(0deg)"},"#mini.exiting":{opacity:"0.0",right:"-150px"},"#mainbox":{"border-radius":"4px","box-shadow":e,"text-align":"center","background-color":this.style_vals.bg,"font-size":"14px",color:this.style_vals.text_main},"#mini #mainbox":{height:te.NOTIF_HEIGHT_MINI+"px","margin-top":te.NOTIF_HEIGHT_MINI+"px","border-radius":"3px",transition:"background-color "+o},"#mini-border":{height:te.NOTIF_HEIGHT_MINI+6+"px",width:te.NOTIF_WIDTH_MINI+6+"px",
position:"absolute",top:"-3px",left:"-3px","margin-top":te.NOTIF_HEIGHT_MINI+"px","border-radius":"6px",opacity:"0.25","background-color":"#fff","z-index":"-1","box-shadow":n},"#mini-icon":{position:"relative",display:"inline-block",width:"75px",height:te.NOTIF_HEIGHT_MINI+"px","border-radius":"3px 0 0 3px","background-color":this.style_vals.bg_actions,background:"linear-gradient(135deg, "+this.style_vals.bg_light+" 0%, "+this.style_vals.bg_actions+" 100%)",transition:"background-color "+o},"#mini:hover #mini-icon":{"background-color":this.style_vals.mini_hover},"#mini:hover #mainbox":{"background-color":this.style_vals.mini_hover},"#mini-icon-img":{position:"absolute","background-image":"url("+this.thumb_image_url+")",width:"48px",height:"48px",top:"20px",left:"12px"},"#content":{padding:"30px 20px 0px 20px"},"#mini-content":{"text-align":"left",height:te.NOTIF_HEIGHT_MINI+"px",cursor:"pointer"},"#img":{width:"328px","margin-top":"30px","border-radius":"5px"},"#title":{"max-height":"600px",overflow:"hidden","word-wrap":"break-word",
padding:"25px 0px 20px 0px","font-size":"19px","font-weight":"bold",color:this.style_vals.text_title},"#body":{"max-height":"600px","margin-bottom":"25px",overflow:"hidden","word-wrap":"break-word","line-height":"21px","font-size":"15px","font-weight":"normal","text-align":"left"},"#mini #body":{display:"inline-block","max-width":"250px",margin:"0 0 0 30px",height:te.NOTIF_HEIGHT_MINI+"px","font-size":"16px","letter-spacing":"0.8px",color:this.style_vals.text_title},"#mini #body-text":{display:"table",height:te.NOTIF_HEIGHT_MINI+"px"},"#mini #body-text div":{display:"table-cell","vertical-align":"middle"},"#tagline":{"margin-bottom":"15px","font-size":"10px","font-weight":"600","letter-spacing":"0.8px",color:"#ccd7e0","text-align":"left"},"#tagline a":{color:this.style_vals.text_tagline,transition:"color "+o},"#tagline a:hover":{color:this.style_vals.text_hover},"#cancel":{position:"absolute",right:"0",width:"8px",height:"8px",padding:"10px","border-radius":"20px",margin:"12px 12px 0 0","box-sizing":"content-box",
cursor:"pointer",transition:"background-color "+o},"#mini #cancel":{margin:"7px 7px 0 0"},"#cancel-icon":{width:"8px",height:"8px",overflow:"hidden","background-image":"url(//cdn.mxpnl.com/site_media/images/icons/notifications/cancel-x.png)",opacity:this.style_vals.cancel_opacity},"#cancel:hover":{"background-color":this.style_vals.bg_hover},"#button":{display:"block",height:"60px","line-height":"60px","text-align":"center","background-color":this.style_vals.bg_actions,"border-radius":"0 0 4px 4px",overflow:"hidden",cursor:"pointer",transition:"background-color "+o},"#button-close":{display:"inline-block",width:"9px",height:"60px","margin-right":"8px","vertical-align":"top","background-image":"url(//cdn.mxpnl.com/site_media/images/icons/notifications/close-x-"+this.style+".png)","background-repeat":"no-repeat","background-position":"0px 25px"},"#button-play":{display:"inline-block",width:"30px",height:"60px","margin-left":"15px","background-image":"url(//cdn.mxpnl.com/site_media/images/icons/notifications/play-"+this.style+"-small.png)",
"background-repeat":"no-repeat","background-position":"0px 15px"},"a#button-link":{display:"inline-block","vertical-align":"top","text-align":"center","font-size":"17px","font-weight":"bold",overflow:"hidden","word-wrap":"break-word",color:this.style_vals.text_title,transition:"color "+o},"#button:hover":{"background-color":this.style_vals.bg_hover,color:this.style_vals.text_hover},"#button:hover a":{color:this.style_vals.text_hover},"#video-noflip":{position:"relative",top:2*-this.video_height+"px"},"#video-flip":{"backface-visibility":"hidden",transform:"rotateY(180deg)"},"#video":{position:"absolute",width:this.video_width-1+"px",height:this.video_height+"px",top:te.NOTIF_TOP+"px","margin-top":"100px",left:"50%","margin-left":Math.round(-this.video_width/2)+"px",overflow:"hidden","border-radius":"5px","box-shadow":t,transform:"translateZ(1px)",transition:"opacity "+o+", top "+o},"#video.exiting":{opacity:"0.0",top:this.video_height+"px"},"#video-holder":{position:"absolute",width:this.video_width-1+"px",height:this.video_height+"px",
overflow:"hidden","border-radius":"5px"},"#video-frame":{"margin-left":"-1px",width:this.video_width+"px"},"#video-controls":{opacity:"0",transition:"opacity 0.5s"},"#video:hover #video-controls":{opacity:"1.0"},"#video .video-progress-el":{position:"absolute",bottom:"0",height:"25px","border-radius":"0 0 0 5px"},"#video-progress":{width:"90%"},"#video-progress-total":{width:"100%","background-color":this.style_vals.bg,opacity:"0.7"},"#video-elapsed":{width:"0","background-color":"#6cb6f5",opacity:"0.9"},"#video #video-time":{width:"10%",right:"0","font-size":"11px","line-height":"25px",color:this.style_vals.text_main,"background-color":"#666","border-radius":"0 0 5px 0"}};this._browser_lte("ie",8)&&w.extend(a,{"* html #overlay":{position:"absolute"},"* html #bg":{position:"absolute"},"html, body":{height:"100%"}}),this._browser_lte("ie",7)&&w.extend(a,{"#mini #body":{display:"inline",zoom:"1",border:"1px solid "+this.style_vals.bg_hover},"#mini #body-text":{padding:"20px"},"#mini #mini-icon":{display:"none"}});
var u=["backface-visibility","border-radius","box-shadow","opacity","perspective","transform","transform-style","transition"],l=["khtml","moz","ms","o","webkit"];for(var c in a)for(var p=0;p<u.length;p++){var d=u[p];if(d in a[c])for(var h=a[c][d],f=0;f<l.length;f++)a[c]["-"+l[f]+"-"+d]=h}var m=function(e,t){var n=function(e){var t="";for(var n in e){var r=n.replace(/#/g,"#"+te.MARKUP_PREFIX+"-").replace(/\./g,"."+te.MARKUP_PREFIX+"-");t+="\n"+r+" {";var o=e[n];for(var i in o)t+=i+":"+o[i]+";";t+="}"}return t},r=function(e){var t="";for(var r in e)t+="\n"+r+" {"+n(e[r])+"\n}";return t},o=n(e)+r(t),i=document.head||document.getElementsByTagName("head")[0]||document.documentElement,s=document.createElement("style");i.appendChild(s),s.setAttribute("type","text/css"),s.styleSheet?s.styleSheet.cssText=o:s.textContent=o};m(a,i)},te.prototype._init_video=w.safewrap(function(){if(this.video_url){var e=this;e.yt_custom="postMessage"in window,e.dest_url=e.video_url;var t=e.video_url.match(/(?:youtube(?:-nocookie)?\.com\/(?:[^\/]+\/.+\/|(?:v|e(?:mbed)?)\/|.*[?&]v=)|youtu\.be\/)([^"&?\/ ]{11})/i),n=e.video_url.match(/vimeo\.com\/.*?(\d+)/i);
if(t){if(e.show_video=!0,e.youtube_video=t[1],e.yt_custom){window.onYouTubeIframeAPIReady=function(){e._get_el("video-frame")&&e._yt_video_ready()};var r=document.createElement("script");r.src="//www.youtube.com/iframe_api";var o=document.getElementsByTagName("script")[0];o.parentNode.insertBefore(r,o)}}else n&&(e.show_video=!0,e.vimeo_video=n[1]);(e._browser_lte("ie",7)||e._browser_lte("firefox",3))&&(e.show_video=!1,e.clickthrough=!0)}}),te.prototype._mark_as_shown=w.safewrap(function(){var e=this;w.register_event(e._get_el("bg"),"click",function(){e.dismiss()});var t=function(e,t){var n={};return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(e,null):e.currentStyle&&(n=e.currentStyle),n[t]};if(this.campaign_id){var n=this._get_el("overlay");n&&"hidden"!==t(n,"visibility")&&"none"!==t(n,"display")&&this._mark_delivery()}}),te.prototype._mark_delivery=w.safewrap(function(e){this.marked_as_shown||(this.marked_as_shown=!0,this.campaign_id&&(this._get_shown_campaigns()[this.campaign_id]=1*new Date,
this.persistence.save()),this._track_event("$campaign_delivery",e),this.mixpanel.people.append({$campaigns:this.campaign_id,$notifications:{campaign_id:this.campaign_id,message_id:this.message_id,type:"web",time:new Date}}))}),te.prototype._preload_images=function(e){var t=this;if(0===this.imgs_to_preload.length)return void e();for(var n=0,r=[],o=function(){n++,n===t.imgs_to_preload.length&&e&&(e(),e=null)},i=0;i<this.imgs_to_preload.length;i++){var s=new Image;s.onload=o,s.src=this.imgs_to_preload[i],s.complete&&o(),r.push(s)}this._browser_lte("ie",7)&&setTimeout(function(){var t=!0;for(i=0;i<r.length;i++)r[i].complete||(t=!1);t&&e&&(e(),e=null)},500)},te.prototype._remove_notification_el=w.safewrap(function(){window.clearInterval(this._video_progress_checker),this.notification_el.style.visibility="hidden",this.body_el.removeChild(this.notification_el)}),te.prototype._set_client_config=function(){var e=function(e){var t=navigator.userAgent.match(e);return t&&t[1]};this.browser_versions={},this.browser_versions.chrome=e(/Chrome\/(\d+)/),
this.browser_versions.firefox=e(/Firefox\/(\d+)/),this.browser_versions.ie=e(/MSIE (\d+).+/),!this.browser_versions.ie&&!window.ActiveXObject&&"ActiveXObject"in window&&(this.browser_versions.ie=11),this.body_el=document.body||document.getElementsByTagName("body")[0],this.body_el&&(this.doc_width=Math.max(this.body_el.scrollWidth,document.documentElement.scrollWidth,this.body_el.offsetWidth,document.documentElement.offsetWidth,this.body_el.clientWidth,document.documentElement.clientWidth),this.doc_height=Math.max(this.body_el.scrollHeight,document.documentElement.scrollHeight,this.body_el.offsetHeight,document.documentElement.offsetHeight,this.body_el.clientHeight,document.documentElement.clientHeight));var t=this.browser_versions.ie,n=document.createElement("div").style,r=function(e){if(e in n)return!0;if(!t){e=e[0].toUpperCase()+e.slice(1);for(var r=["O"+e,"Webkit"+e,"Moz"+e],o=0;o<r.length;o++)if(r[o]in n)return!0}return!1};this.use_transitions=this.body_el&&r("transition")&&r("transform"),this.flip_animate=(this.browser_versions.chrome>=33||this.browser_versions.firefox>=15)&&this.body_el&&r("backfaceVisibility")&&r("perspective")&&r("transform");
},te.prototype._switch_to_video=w.safewrap(function(){var e=this,t=[{el:e._get_notification_display_el(),attr:"opacity",start:1,goal:0},{el:e._get_notification_display_el(),attr:"top",start:te.NOTIF_TOP,goal:-500},{el:e._get_el("video-noflip"),attr:"opacity",start:0,goal:1},{el:e._get_el("video-noflip"),attr:"top",start:2*-e.video_height,goal:0}];if(e.mini){var n=e._get_el("bg"),r=e._get_el("overlay");n.style.width="100%",n.style.height="100%",r.style.width="100%",e._add_class(e._get_notification_display_el(),"exiting"),e._add_class(n,"visible"),t.push({el:e._get_el("bg"),attr:"opacity",start:0,goal:te.BG_OPACITY})}var o=e._get_el("video-holder");o.innerHTML=e.video_iframe;var i=function(){window.YT&&window.YT.loaded&&e._yt_video_ready(),e.showing_video=!0,e._get_notification_display_el().style.visibility="hidden"};e.flip_animate?(e._add_class("flipper","flipped"),setTimeout(i,te.ANIM_TIME)):e._animate_els(t,te.ANIM_TIME,i)}),te.prototype._track_event=function(e,t,n){this.campaign_id?(t=t||{},t=w.extend(t,{campaign_id:this.campaign_id,
message_id:this.message_id,message_type:"web_inapp",message_subtype:this.notif_type}),this.mixpanel.track(e,t,n)):n&&n.call()},te.prototype._yt_video_ready=w.safewrap(function(){var e=this;if(!e.video_inited){e.video_inited=!0;var t=e._get_el("video-elapsed"),n=e._get_el("video-time"),r=e._get_el("video-progress");new window.YT.Player(te.MARKUP_PREFIX+"-video-frame",{events:{onReady:function(o){var i=o.target,s=i.getDuration(),a=function(e){return("00"+e).slice(-2)},u=function(e){var t=Math.round(s-e),r=Math.floor(t/60),o=Math.floor(r/60);t-=60*r,r-=60*o,n.innerHTML="-"+(o?o+":":"")+a(r)+":"+a(t)};u(0),e._video_progress_checker=window.setInterval(function(){var e=i.getCurrentTime();t.style.width=e/s*100+"%",u(e)},250),w.register_event(r,"click",function(e){var t=Math.max(0,e.pageX-r.getBoundingClientRect().left);i.seekTo(s*t/r.clientWidth,!0)})}}})}}),ne.prototype.init=ne.prototype.init,ne.prototype.reset=ne.prototype.reset,ne.prototype.disable=ne.prototype.disable,ne.prototype.time_event=ne.prototype.time_event,
ne.prototype.track=ne.prototype.track,ne.prototype.track_links=ne.prototype.track_links,ne.prototype.track_forms=ne.prototype.track_forms,ne.prototype.track_pageview=ne.prototype.track_pageview,ne.prototype.register=ne.prototype.register,ne.prototype.register_once=ne.prototype.register_once,ne.prototype.unregister=ne.prototype.unregister,ne.prototype.identify=ne.prototype.identify,ne.prototype.alias=ne.prototype.alias,ne.prototype.name_tag=ne.prototype.name_tag,ne.prototype.set_config=ne.prototype.set_config,ne.prototype.get_config=ne.prototype.get_config,ne.prototype.get_property=ne.prototype.get_property,ne.prototype.get_distinct_id=ne.prototype.get_distinct_id,ne.prototype.toString=ne.prototype.toString,ne.prototype._check_and_handle_notifications=ne.prototype._check_and_handle_notifications,ne.prototype._show_notification=ne.prototype._show_notification,ee.prototype.properties=ee.prototype.properties,ee.prototype.update_search_keyword=ee.prototype.update_search_keyword,ee.prototype.update_referrer_info=ee.prototype.update_referrer_info,
ee.prototype.get_cross_subdomain=ee.prototype.get_cross_subdomain,ee.prototype.clear=ee.prototype.clear,re.prototype.set=re.prototype.set,re.prototype.set_once=re.prototype.set_once,re.prototype.increment=re.prototype.increment,re.prototype.append=re.prototype.append,re.prototype.union=re.prototype.union,re.prototype.track_charge=re.prototype.track_charge,re.prototype.clear_charges=re.prototype.clear_charges,re.prototype.delete_user=re.prototype.delete_user,re.prototype.toString=re.prototype.toString,w.safewrap_class(ne,["identify","_check_and_handle_notifications","_show_notification"]);var ie={},se=function(){w.each(ie,function(e,t){t!==M&&(S[t]=e)}),S._=w},ae=function(){S.init=function(e,t,n){if(n)return S[n]||(S[n]=ie[n]=oe(e,t,n),S[n]._loaded()),S[n];var r=S;ie[M]?r=ie[M]:e&&(r=oe(e,t,M),r._loaded(),ie[M]=r),S=r,T===A&&(window[M]=S),se()}},ue=function(){function e(){e.done||(e.done=!0,Z=!0,G=!1,w.each(ie,function(e){e._dom_loaded()}))}function t(){try{document.documentElement.doScroll("left")}catch(n){return void setTimeout(t,1);
}e()}if(document.addEventListener)"complete"===document.readyState?e():document.addEventListener("DOMContentLoaded",e,!1);else if(document.attachEvent){document.attachEvent("onreadystatechange",e);var n=!1;try{n=null===window.frameElement}catch(r){}document.documentElement.doScroll&&n&&t()}w.register_event(window,"load",e,!0)},le=function(e){var t=e.get_config("name");e.mp_counts=e.mp_counts||{},e.mp_counts.$__c=parseInt(w.cookie.get("mp_"+t+"__c"))||0;var n=function(){e.mp_counts.$__c=(e.mp_counts.$__c||0)+1,w.cookie.set("mp_"+t+"__c",e.mp_counts.$__c,1,!0)},r=function(){try{e.mp_counts=e.mp_counts||{},n()}catch(t){k.error(t)}};w.register_event(document,"submit",r),w.register_event(document,"change",r);var o=null;w.register_event(document,"mousedown",function(e){o=e.target}),w.register_event(document,"mouseup",function(e){e.target===o&&r(e)})},ce=r();t.exports=ce},{}],669:[function(e,t,n){
//! moment.js
//! version : 2.10.6
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
!function(e,r){"object"==typeof n&&"undefined"!=typeof t?t.exports=r():"function"==typeof define&&define.amd?define(r):e.moment=r()}(this,function(){"use strict";function n(){return Ln.apply(null,arguments)}function r(e){Ln=e}function o(e){return"[object Array]"===Object.prototype.toString.call(e)}function i(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function s(e,t){var n,r=[];for(n=0;n<e.length;++n)r.push(t(e[n],n));return r}function a(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function u(e,t){for(var n in t)a(t,n)&&(e[n]=t[n]);return a(t,"toString")&&(e.toString=t.toString),a(t,"valueOf")&&(e.valueOf=t.valueOf),e}function l(e,t,n,r){return Me(e,t,n,r,!0).utc()}function c(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function p(e){return null==e._pf&&(e._pf=c()),e._pf}function d(e){if(null==e._isValid){var t=p(e);e._isValid=!(isNaN(e._d.getTime())||!(t.overflow<0)||t.empty||t.invalidMonth||t.invalidWeekday||t.nullInput||t.invalidFormat||t.userInvalidated),
e._strict&&(e._isValid=e._isValid&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour)}return e._isValid}function h(e){var t=l(NaN);return null!=e?u(p(t),e):p(t).userInvalidated=!0,t}function f(e,t){var n,r,o;if("undefined"!=typeof t._isAMomentObject&&(e._isAMomentObject=t._isAMomentObject),"undefined"!=typeof t._i&&(e._i=t._i),"undefined"!=typeof t._f&&(e._f=t._f),"undefined"!=typeof t._l&&(e._l=t._l),"undefined"!=typeof t._strict&&(e._strict=t._strict),"undefined"!=typeof t._tzm&&(e._tzm=t._tzm),"undefined"!=typeof t._isUTC&&(e._isUTC=t._isUTC),"undefined"!=typeof t._offset&&(e._offset=t._offset),"undefined"!=typeof t._pf&&(e._pf=p(t)),"undefined"!=typeof t._locale&&(e._locale=t._locale),Bn.length>0)for(n in Bn)r=Bn[n],o=t[r],"undefined"!=typeof o&&(e[r]=o);return e}function m(e){f(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),jn===!1&&(jn=!0,n.updateOffset(this),jn=!1)}function g(e){return e instanceof m||null!=e&&null!=e._isAMomentObject}function v(e){return 0>e?Math.ceil(e):Math.floor(e);
}function b(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=v(t)),n}function y(e,t,n){var r,o=Math.min(e.length,t.length),i=Math.abs(e.length-t.length),s=0;for(r=0;o>r;r++)(n&&e[r]!==t[r]||!n&&b(e[r])!==b(t[r]))&&s++;return s+i}function _(){}function w(e){return e?e.toLowerCase().replace("_","-"):e}function k(e){for(var t,n,r,o,i=0;i<e.length;){for(o=w(e[i]).split("-"),t=o.length,n=w(e[i+1]),n=n?n.split("-"):null;t>0;){if(r=x(o.slice(0,t).join("-")))return r;if(n&&n.length>=t&&y(o,n,!0)>=t-1)break;t--}i++}return null}function x(n){var r=null;if(!$n[n]&&"undefined"!=typeof t&&t&&t.exports)try{r=Rn._abbr,e("./locale/"+n),C(r)}catch(o){}return $n[n]}function C(e,t){var n;return e&&(n="undefined"==typeof t?T(e):E(e,t),n&&(Rn=n)),Rn._abbr}function E(e,t){return null!==t?(t.abbr=e,$n[e]=$n[e]||new _,$n[e].set(t),C(e),$n[e]):(delete $n[e],null)}function T(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return Rn;if(!o(e)){if(t=x(e))return t;e=[e]}return k(e)}function S(e,t){var n=e.toLowerCase();Un[n]=Un[n+"s"]=Un[t]=e;
}function D(e){return"string"==typeof e?Un[e]||Un[e.toLowerCase()]:void 0}function A(e){var t,n,r={};for(n in e)a(e,n)&&(t=D(n),t&&(r[t]=e[n]));return r}function M(e,t){return function(r){return null!=r?(N(this,e,r),n.updateOffset(this,t),this):F(this,e)}}function F(e,t){return e._d["get"+(e._isUTC?"UTC":"")+t]()}function N(e,t,n){return e._d["set"+(e._isUTC?"UTC":"")+t](n)}function O(e,t){var n;if("object"==typeof e)for(n in e)this.set(n,e[n]);else if(e=D(e),"function"==typeof this[e])return this[e](t);return this}function I(e,t,n){var r=""+Math.abs(e),o=t-r.length,i=e>=0;return(i?n?"+":"":"-")+Math.pow(10,Math.max(0,o)).toString().substr(1)+r}function P(e,t,n,r){var o=r;"string"==typeof r&&(o=function(){return this[r]()}),e&&(qn[e]=o),t&&(qn[t[0]]=function(){return I(o.apply(this,arguments),t[1],t[2])}),n&&(qn[n]=function(){return this.localeData().ordinal(o.apply(this,arguments),e)})}function L(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function R(e){var t,n,r=e.match(Vn);for(t=0,
n=r.length;n>t;t++)qn[r[t]]?r[t]=qn[r[t]]:r[t]=L(r[t]);return function(o){var i="";for(t=0;n>t;t++)i+=r[t]instanceof Function?r[t].call(o,e):r[t];return i}}function B(e,t){return e.isValid()?(t=j(t,e.localeData()),zn[t]=zn[t]||R(t),zn[t](e)):e.localeData().invalidDate()}function j(e,t){function n(e){return t.longDateFormat(e)||e}var r=5;for(Hn.lastIndex=0;r>=0&&Hn.test(e);)e=e.replace(Hn,n),Hn.lastIndex=0,r-=1;return e}function $(e){return"function"==typeof e&&"[object Function]"===Object.prototype.toString.call(e)}function U(e,t,n){sr[e]=$(t)?t:function(e){return e&&n?n:t}}function V(e,t){return a(sr,e)?sr[e](t._strict,t._locale):new RegExp(H(e))}function H(e){return e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,n,r,o){return t||n||r||o}).replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function z(e,t){var n,r=t;for("string"==typeof e&&(e=[e]),"number"==typeof t&&(r=function(e,n){n[t]=b(e)}),n=0;n<e.length;n++)ar[e[n]]=r}function q(e,t){z(e,function(e,n,r,o){r._w=r._w||{},t(e,r._w,r,o);
})}function W(e,t,n){null!=t&&a(ar,e)&&ar[e](t,n._a,n,e)}function Y(e,t){return new Date(Date.UTC(e,t+1,0)).getUTCDate()}function G(e){return this._months[e.month()]}function K(e){return this._monthsShort[e.month()]}function Z(e,t,n){var r,o,i;for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;12>r;r++){if(o=l([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(o,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(o,"").replace(".","")+"$","i")),n||this._monthsParse[r]||(i="^"+this.months(o,"")+"|^"+this.monthsShort(o,""),this._monthsParse[r]=new RegExp(i.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[r].test(e))return r;if(n&&"MMM"===t&&this._shortMonthsParse[r].test(e))return r;if(!n&&this._monthsParse[r].test(e))return r}}function J(e,t){var n;return"string"==typeof t&&(t=e.localeData().monthsParse(t),"number"!=typeof t)?e:(n=Math.min(e.date(),Y(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),
e)}function Q(e){return null!=e?(J(this,e),n.updateOffset(this,!0),this):F(this,"Month")}function X(){return Y(this.year(),this.month())}function ee(e){var t,n=e._a;return n&&-2===p(e).overflow&&(t=n[lr]<0||n[lr]>11?lr:n[cr]<1||n[cr]>Y(n[ur],n[lr])?cr:n[pr]<0||n[pr]>24||24===n[pr]&&(0!==n[dr]||0!==n[hr]||0!==n[fr])?pr:n[dr]<0||n[dr]>59?dr:n[hr]<0||n[hr]>59?hr:n[fr]<0||n[fr]>999?fr:-1,p(e)._overflowDayOfYear&&(ur>t||t>cr)&&(t=cr),p(e).overflow=t),e}function te(e){n.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function ne(e,t){var n=!0;return u(function(){return n&&(te(e+"\n"+(new Error).stack),n=!1),t.apply(this,arguments)},t)}function re(e,t){vr[e]||(te(t),vr[e]=!0)}function oe(e){var t,n,r=e._i,o=br.exec(r);if(o){for(p(e).iso=!0,t=0,n=yr.length;n>t;t++)if(yr[t][1].exec(r)){e._f=yr[t][0];break}for(t=0,n=_r.length;n>t;t++)if(_r[t][1].exec(r)){e._f+=(o[6]||" ")+_r[t][0];break}r.match(rr)&&(e._f+="Z"),xe(e)}else e._isValid=!1}function ie(e){var t=wr.exec(e._i);
return null!==t?void(e._d=new Date(+t[1])):(oe(e),void(e._isValid===!1&&(delete e._isValid,n.createFromInputFallback(e))))}function se(e,t,n,r,o,i,s){var a=new Date(e,t,n,r,o,i,s);return 1970>e&&a.setFullYear(e),a}function ae(e){var t=new Date(Date.UTC.apply(null,arguments));return 1970>e&&t.setUTCFullYear(e),t}function ue(e){return le(e)?366:365}function le(e){return e%4===0&&e%100!==0||e%400===0}function ce(){return le(this.year())}function pe(e,t,n){var r,o=n-t,i=n-e.day();return i>o&&(i-=7),o-7>i&&(i+=7),r=Fe(e).add(i,"d"),{week:Math.ceil(r.dayOfYear()/7),year:r.year()}}function de(e){return pe(e,this._week.dow,this._week.doy).week}function he(){return this._week.dow}function fe(){return this._week.doy}function me(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")}function ge(e){var t=pe(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")}function ve(e,t,n,r,o){var i,s=6+o-r,a=ae(e,0,1+s),u=a.getUTCDay();return o>u&&(u+=7),n=null!=n?1*n:o,i=1+s+7*(t-1)-u+n,{year:i>0?e:e-1,dayOfYear:i>0?i:ue(e-1)+i
}}function be(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")}function ye(e,t,n){return null!=e?e:null!=t?t:n}function _e(e){var t=new Date;return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function we(e){var t,n,r,o,i=[];if(!e._d){for(r=_e(e),e._w&&null==e._a[cr]&&null==e._a[lr]&&ke(e),e._dayOfYear&&(o=ye(e._a[ur],r[ur]),e._dayOfYear>ue(o)&&(p(e)._overflowDayOfYear=!0),n=ae(o,0,e._dayOfYear),e._a[lr]=n.getUTCMonth(),e._a[cr]=n.getUTCDate()),t=0;3>t&&null==e._a[t];++t)e._a[t]=i[t]=r[t];for(;7>t;t++)e._a[t]=i[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[pr]&&0===e._a[dr]&&0===e._a[hr]&&0===e._a[fr]&&(e._nextDay=!0,e._a[pr]=0),e._d=(e._useUTC?ae:se).apply(null,i),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[pr]=24)}}function ke(e){var t,n,r,o,i,s,a;t=e._w,null!=t.GG||null!=t.W||null!=t.E?(i=1,s=4,n=ye(t.GG,e._a[ur],pe(Fe(),1,4).year),r=ye(t.W,1),
o=ye(t.E,1)):(i=e._locale._week.dow,s=e._locale._week.doy,n=ye(t.gg,e._a[ur],pe(Fe(),i,s).year),r=ye(t.w,1),null!=t.d?(o=t.d,i>o&&++r):o=null!=t.e?t.e+i:i),a=ve(n,r,o,s,i),e._a[ur]=a.year,e._dayOfYear=a.dayOfYear}function xe(e){if(e._f===n.ISO_8601)return void oe(e);e._a=[],p(e).empty=!0;var t,r,o,i,s,a=""+e._i,u=a.length,l=0;for(o=j(e._f,e._locale).match(Vn)||[],t=0;t<o.length;t++)i=o[t],r=(a.match(V(i,e))||[])[0],r&&(s=a.substr(0,a.indexOf(r)),s.length>0&&p(e).unusedInput.push(s),a=a.slice(a.indexOf(r)+r.length),l+=r.length),qn[i]?(r?p(e).empty=!1:p(e).unusedTokens.push(i),W(i,r,e)):e._strict&&!r&&p(e).unusedTokens.push(i);p(e).charsLeftOver=u-l,a.length>0&&p(e).unusedInput.push(a),p(e).bigHour===!0&&e._a[pr]<=12&&e._a[pr]>0&&(p(e).bigHour=void 0),e._a[pr]=Ce(e._locale,e._a[pr],e._meridiem),we(e),ee(e)}function Ce(e,t,n){var r;return null==n?t:null!=e.meridiemHour?e.meridiemHour(t,n):null!=e.isPM?(r=e.isPM(n),r&&12>t&&(t+=12),r||12!==t||(t=0),t):t}function Ee(e){var t,n,r,o,i;if(0===e._f.length)return p(e).invalidFormat=!0,
void(e._d=new Date(NaN));for(o=0;o<e._f.length;o++)i=0,t=f({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[o],xe(t),d(t)&&(i+=p(t).charsLeftOver,i+=10*p(t).unusedTokens.length,p(t).score=i,(null==r||r>i)&&(r=i,n=t));u(e,n||t)}function Te(e){if(!e._d){var t=A(e._i);e._a=[t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],we(e)}}function Se(e){var t=new m(ee(De(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function De(e){var t=e._i,n=e._f;return e._locale=e._locale||T(e._l),null===t||void 0===n&&""===t?h({nullInput:!0}):("string"==typeof t&&(e._i=t=e._locale.preparse(t)),g(t)?new m(ee(t)):(o(n)?Ee(e):n?xe(e):i(t)?e._d=t:Ae(e),e))}function Ae(e){var t=e._i;void 0===t?e._d=new Date:i(t)?e._d=new Date(+t):"string"==typeof t?ie(e):o(t)?(e._a=s(t.slice(0),function(e){return parseInt(e,10)}),we(e)):"object"==typeof t?Te(e):"number"==typeof t?e._d=new Date(t):n.createFromInputFallback(e)}function Me(e,t,n,r,o){var i={};return"boolean"==typeof n&&(r=n,n=void 0),i._isAMomentObject=!0,
i._useUTC=i._isUTC=o,i._l=n,i._i=e,i._f=t,i._strict=r,Se(i)}function Fe(e,t,n,r){return Me(e,t,n,r,!1)}function Ne(e,t){var n,r;if(1===t.length&&o(t[0])&&(t=t[0]),!t.length)return Fe();for(n=t[0],r=1;r<t.length;++r)(!t[r].isValid()||t[r][e](n))&&(n=t[r]);return n}function Oe(){var e=[].slice.call(arguments,0);return Ne("isBefore",e)}function Ie(){var e=[].slice.call(arguments,0);return Ne("isAfter",e)}function Pe(e){var t=A(e),n=t.year||0,r=t.quarter||0,o=t.month||0,i=t.week||0,s=t.day||0,a=t.hour||0,u=t.minute||0,l=t.second||0,c=t.millisecond||0;this._milliseconds=+c+1e3*l+6e4*u+36e5*a,this._days=+s+7*i,this._months=+o+3*r+12*n,this._data={},this._locale=T(),this._bubble()}function Le(e){return e instanceof Pe}function Re(e,t){P(e,0,0,function(){var e=this.utcOffset(),n="+";return 0>e&&(e=-e,n="-"),n+I(~~(e/60),2)+t+I(~~e%60,2)})}function Be(e){var t=(e||"").match(rr)||[],n=t[t.length-1]||[],r=(n+"").match(Tr)||["-",0,0],o=+(60*r[1])+b(r[2]);return"+"===r[0]?o:-o}function je(e,t){var r,o;return t._isUTC?(r=t.clone(),
o=(g(e)||i(e)?+e:+Fe(e))-+r,r._d.setTime(+r._d+o),n.updateOffset(r,!1),r):Fe(e).local()}function $e(e){return 15*-Math.round(e._d.getTimezoneOffset()/15)}function Ue(e,t){var r,o=this._offset||0;return null!=e?("string"==typeof e&&(e=Be(e)),Math.abs(e)<16&&(e=60*e),!this._isUTC&&t&&(r=$e(this)),this._offset=e,this._isUTC=!0,null!=r&&this.add(r,"m"),o!==e&&(!t||this._changeInProgress?rt(this,Qe(e-o,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,n.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?o:$e(this)}function Ve(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function He(e){return this.utcOffset(0,e)}function ze(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract($e(this),"m")),this}function qe(){return this._tzm?this.utcOffset(this._tzm):"string"==typeof this._i&&this.utcOffset(Be(this._i)),this}function We(e){return e=e?Fe(e).utcOffset():0,(this.utcOffset()-e)%60===0}function Ye(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset();
}function Ge(){if("undefined"!=typeof this._isDSTShifted)return this._isDSTShifted;var e={};if(f(e,this),e=De(e),e._a){var t=e._isUTC?l(e._a):Fe(e._a);this._isDSTShifted=this.isValid()&&y(e._a,t.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}function Ke(){return!this._isUTC}function Ze(){return this._isUTC}function Je(){return this._isUTC&&0===this._offset}function Qe(e,t){var n,r,o,i=e,s=null;return Le(e)?i={ms:e._milliseconds,d:e._days,M:e._months}:"number"==typeof e?(i={},t?i[t]=e:i.milliseconds=e):(s=Sr.exec(e))?(n="-"===s[1]?-1:1,i={y:0,d:b(s[cr])*n,h:b(s[pr])*n,m:b(s[dr])*n,s:b(s[hr])*n,ms:b(s[fr])*n}):(s=Dr.exec(e))?(n="-"===s[1]?-1:1,i={y:Xe(s[2],n),M:Xe(s[3],n),d:Xe(s[4],n),h:Xe(s[5],n),m:Xe(s[6],n),s:Xe(s[7],n),w:Xe(s[8],n)}):null==i?i={}:"object"==typeof i&&("from"in i||"to"in i)&&(o=tt(Fe(i.from),Fe(i.to)),i={},i.ms=o.milliseconds,i.M=o.months),r=new Pe(i),Le(e)&&a(e,"_locale")&&(r._locale=e._locale),r}function Xe(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t;
}function et(e,t){var n={milliseconds:0,months:0};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function tt(e,t){var n;return t=je(t,e),e.isBefore(t)?n=et(e,t):(n=et(t,e),n.milliseconds=-n.milliseconds,n.months=-n.months),n}function nt(e,t){return function(n,r){var o,i;return null===r||isNaN(+r)||(re(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period)."),i=n,n=r,r=i),n="string"==typeof n?+n:n,o=Qe(n,r),rt(this,o,e),this}}function rt(e,t,r,o){var i=t._milliseconds,s=t._days,a=t._months;o=null==o?!0:o,i&&e._d.setTime(+e._d+i*r),s&&N(e,"Date",F(e,"Date")+s*r),a&&J(e,F(e,"Month")+a*r),o&&n.updateOffset(e,s||a)}function ot(e,t){var n=e||Fe(),r=je(n,this).startOf("day"),o=this.diff(r,"days",!0),i=-6>o?"sameElse":-1>o?"lastWeek":0>o?"lastDay":1>o?"sameDay":2>o?"nextDay":7>o?"nextWeek":"sameElse";return this.format(t&&t[i]||this.localeData().calendar(i,this,Fe(n)))}function it(){
return new m(this)}function st(e,t){var n;return t=D("undefined"!=typeof t?t:"millisecond"),"millisecond"===t?(e=g(e)?e:Fe(e),+this>+e):(n=g(e)?+e:+Fe(e),n<+this.clone().startOf(t))}function at(e,t){var n;return t=D("undefined"!=typeof t?t:"millisecond"),"millisecond"===t?(e=g(e)?e:Fe(e),+e>+this):(n=g(e)?+e:+Fe(e),+this.clone().endOf(t)<n)}function ut(e,t,n){return this.isAfter(e,n)&&this.isBefore(t,n)}function lt(e,t){var n;return t=D(t||"millisecond"),"millisecond"===t?(e=g(e)?e:Fe(e),+this===+e):(n=+Fe(e),+this.clone().startOf(t)<=n&&n<=+this.clone().endOf(t))}function ct(e,t,n){var r,o,i=je(e,this),s=6e4*(i.utcOffset()-this.utcOffset());return t=D(t),"year"===t||"month"===t||"quarter"===t?(o=pt(this,i),"quarter"===t?o/=3:"year"===t&&(o/=12)):(r=this-i,o="second"===t?r/1e3:"minute"===t?r/6e4:"hour"===t?r/36e5:"day"===t?(r-s)/864e5:"week"===t?(r-s)/6048e5:r),n?o:v(o)}function pt(e,t){var n,r,o=12*(t.year()-e.year())+(t.month()-e.month()),i=e.clone().add(o,"months");return 0>t-i?(n=e.clone().add(o-1,"months"),
r=(t-i)/(i-n)):(n=e.clone().add(o+1,"months"),r=(t-i)/(n-i)),-(o+r)}function dt(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function ht(){var e=this.clone().utc();return 0<e.year()&&e.year()<=9999?"function"==typeof Date.prototype.toISOString?this.toDate().toISOString():B(e,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):B(e,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function ft(e){var t=B(this,e||n.defaultFormat);return this.localeData().postformat(t)}function mt(e,t){return this.isValid()?Qe({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function gt(e){return this.from(Fe(),e)}function vt(e,t){return this.isValid()?Qe({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function bt(e){return this.to(Fe(),e)}function yt(e){var t;return void 0===e?this._locale._abbr:(t=T(e),null!=t&&(this._locale=t),this)}function _t(){return this._locale}function wt(e){switch(e=D(e)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":
case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===e&&this.weekday(0),"isoWeek"===e&&this.isoWeekday(1),"quarter"===e&&this.month(3*Math.floor(this.month()/3)),this}function kt(e){return e=D(e),void 0===e||"millisecond"===e?this:this.startOf(e).add(1,"isoWeek"===e?"week":e).subtract(1,"ms")}function xt(){return+this._d-6e4*(this._offset||0)}function Ct(){return Math.floor(+this/1e3)}function Et(){return this._offset?new Date(+this):this._d}function Tt(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function St(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function Dt(){return d(this)}function At(){return u({},p(this))}function Mt(){return p(this).overflow}function Ft(e,t){P(0,[e,e.length],0,t)}function Nt(e,t,n){return pe(Fe([e,11,31+t-n]),t,n).week}function Ot(e){var t=pe(this,this.localeData()._week.dow,this.localeData()._week.doy).year;
return null==e?t:this.add(e-t,"y")}function It(e){var t=pe(this,1,4).year;return null==e?t:this.add(e-t,"y")}function Pt(){return Nt(this.year(),1,4)}function Lt(){var e=this.localeData()._week;return Nt(this.year(),e.dow,e.doy)}function Rt(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)}function Bt(e,t){return"string"!=typeof e?e:isNaN(e)?(e=t.weekdaysParse(e),"number"==typeof e?e:null):parseInt(e,10)}function jt(e){return this._weekdays[e.day()]}function $t(e){return this._weekdaysShort[e.day()]}function Ut(e){return this._weekdaysMin[e.day()]}function Vt(e){var t,n,r;for(this._weekdaysParse=this._weekdaysParse||[],t=0;7>t;t++)if(this._weekdaysParse[t]||(n=Fe([2e3,1]).day(t),r="^"+this.weekdays(n,"")+"|^"+this.weekdaysShort(n,"")+"|^"+this.weekdaysMin(n,""),this._weekdaysParse[t]=new RegExp(r.replace(".",""),"i")),this._weekdaysParse[t].test(e))return t}function Ht(e){var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=Bt(e,this.localeData()),this.add(e-t,"d")):t;
}function zt(e){var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")}function qt(e){return null==e?this.day()||7:this.day(this.day()%7?e:e-7)}function Wt(e,t){P(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}function Yt(e,t){return t._meridiemParse}function Gt(e){return"p"===(e+"").toLowerCase().charAt(0)}function Kt(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"}function Zt(e,t){t[fr]=b(1e3*("0."+e))}function Jt(){return this._isUTC?"UTC":""}function Qt(){return this._isUTC?"Coordinated Universal Time":""}function Xt(e){return Fe(1e3*e)}function en(){return Fe.apply(null,arguments).parseZone()}function tn(e,t,n){var r=this._calendar[e];return"function"==typeof r?r.call(t,n):r}function nn(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e])}function rn(){return this._invalidDate}function on(e){return this._ordinal.replace("%d",e);
}function sn(e){return e}function an(e,t,n,r){var o=this._relativeTime[n];return"function"==typeof o?o(e,t,n,r):o.replace(/%d/i,e)}function un(e,t){var n=this._relativeTime[e>0?"future":"past"];return"function"==typeof n?n(t):n.replace(/%s/i,t)}function ln(e){var t,n;for(n in e)t=e[n],"function"==typeof t?this[n]=t:this["_"+n]=t;this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)}function cn(e,t,n,r){var o=T(),i=l().set(r,t);return o[n](i,e)}function pn(e,t,n,r,o){if("number"==typeof e&&(t=e,e=void 0),e=e||"",null!=t)return cn(e,t,n,o);var i,s=[];for(i=0;r>i;i++)s[i]=cn(e,i,n,o);return s}function dn(e,t){return pn(e,t,"months",12,"month")}function hn(e,t){return pn(e,t,"monthsShort",12,"month")}function fn(e,t){return pn(e,t,"weekdays",7,"day")}function mn(e,t){return pn(e,t,"weekdaysShort",7,"day")}function gn(e,t){return pn(e,t,"weekdaysMin",7,"day")}function vn(){var e=this._data;return this._milliseconds=Jr(this._milliseconds),this._days=Jr(this._days),this._months=Jr(this._months),
e.milliseconds=Jr(e.milliseconds),e.seconds=Jr(e.seconds),e.minutes=Jr(e.minutes),e.hours=Jr(e.hours),e.months=Jr(e.months),e.years=Jr(e.years),this}function bn(e,t,n,r){var o=Qe(t,n);return e._milliseconds+=r*o._milliseconds,e._days+=r*o._days,e._months+=r*o._months,e._bubble()}function yn(e,t){return bn(this,e,t,1)}function _n(e,t){return bn(this,e,t,-1)}function wn(e){return 0>e?Math.floor(e):Math.ceil(e)}function kn(){var e,t,n,r,o,i=this._milliseconds,s=this._days,a=this._months,u=this._data;return i>=0&&s>=0&&a>=0||0>=i&&0>=s&&0>=a||(i+=864e5*wn(Cn(a)+s),s=0,a=0),u.milliseconds=i%1e3,e=v(i/1e3),u.seconds=e%60,t=v(e/60),u.minutes=t%60,n=v(t/60),u.hours=n%24,s+=v(n/24),o=v(xn(s)),a+=o,s-=wn(Cn(o)),r=v(a/12),a%=12,u.days=s,u.months=a,u.years=r,this}function xn(e){return 4800*e/146097}function Cn(e){return 146097*e/4800}function En(e){var t,n,r=this._milliseconds;if(e=D(e),"month"===e||"year"===e)return t=this._days+r/864e5,n=this._months+xn(t),"month"===e?n:n/12;switch(t=this._days+Math.round(Cn(this._months)),
e){case"week":return t/7+r/6048e5;case"day":return t+r/864e5;case"hour":return 24*t+r/36e5;case"minute":return 1440*t+r/6e4;case"second":return 86400*t+r/1e3;case"millisecond":return Math.floor(864e5*t)+r;default:throw new Error("Unknown unit "+e)}}function Tn(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*b(this._months/12)}function Sn(e){return function(){return this.as(e)}}function Dn(e){return e=D(e),this[e+"s"]()}function An(e){return function(){return this._data[e]}}function Mn(){return v(this.days()/7)}function Fn(e,t,n,r,o){return o.relativeTime(t||1,!!n,e,r)}function Nn(e,t,n){var r=Qe(e).abs(),o=fo(r.as("s")),i=fo(r.as("m")),s=fo(r.as("h")),a=fo(r.as("d")),u=fo(r.as("M")),l=fo(r.as("y")),c=o<mo.s&&["s",o]||1===i&&["m"]||i<mo.m&&["mm",i]||1===s&&["h"]||s<mo.h&&["hh",s]||1===a&&["d"]||a<mo.d&&["dd",a]||1===u&&["M"]||u<mo.M&&["MM",u]||1===l&&["y"]||["yy",l];return c[2]=t,c[3]=+e>0,c[4]=n,Fn.apply(null,c)}function On(e,t){return void 0===mo[e]?!1:void 0===t?mo[e]:(mo[e]=t,!0);
}function In(e){var t=this.localeData(),n=Nn(this,!e,t);return e&&(n=t.pastFuture(+this,n)),t.postformat(n)}function Pn(){var e,t,n,r=go(this._milliseconds)/1e3,o=go(this._days),i=go(this._months);e=v(r/60),t=v(e/60),r%=60,e%=60,n=v(i/12),i%=12;var s=n,a=i,u=o,l=t,c=e,p=r,d=this.asSeconds();return d?(0>d?"-":"")+"P"+(s?s+"Y":"")+(a?a+"M":"")+(u?u+"D":"")+(l||c||p?"T":"")+(l?l+"H":"")+(c?c+"M":"")+(p?p+"S":""):"P0D"}var Ln,Rn,Bn=n.momentProperties=[],jn=!1,$n={},Un={},Vn=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Hn=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,zn={},qn={},Wn=/\d/,Yn=/\d\d/,Gn=/\d{3}/,Kn=/\d{4}/,Zn=/[+-]?\d{6}/,Jn=/\d\d?/,Qn=/\d{1,3}/,Xn=/\d{1,4}/,er=/[+-]?\d{1,6}/,tr=/\d+/,nr=/[+-]?\d+/,rr=/Z|[+-]\d\d:?\d\d/gi,or=/[+-]?\d+(\.\d{1,3})?/,ir=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,sr={},ar={},ur=0,lr=1,cr=2,pr=3,dr=4,hr=5,fr=6;
P("M",["MM",2],"Mo",function(){return this.month()+1}),P("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)}),P("MMMM",0,0,function(e){return this.localeData().months(this,e)}),S("month","M"),U("M",Jn),U("MM",Jn,Yn),U("MMM",ir),U("MMMM",ir),z(["M","MM"],function(e,t){t[lr]=b(e)-1}),z(["MMM","MMMM"],function(e,t,n,r){var o=n._locale.monthsParse(e,r,n._strict);null!=o?t[lr]=o:p(n).invalidMonth=e});var mr="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),gr="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),vr={};n.suppressDeprecationWarnings=!1;var br=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,yr=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],_r=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],wr=/^\/?Date\((\-?\d+)/i;
n.createFromInputFallback=ne("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))}),P(0,["YY",2],0,function(){return this.year()%100}),P(0,["YYYY",4],0,"year"),P(0,["YYYYY",5],0,"year"),P(0,["YYYYYY",6,!0],0,"year"),S("year","y"),U("Y",nr),U("YY",Jn,Yn),U("YYYY",Xn,Kn),U("YYYYY",er,Zn),U("YYYYYY",er,Zn),z(["YYYYY","YYYYYY"],ur),z("YYYY",function(e,t){t[ur]=2===e.length?n.parseTwoDigitYear(e):b(e)}),z("YY",function(e,t){t[ur]=n.parseTwoDigitYear(e)}),n.parseTwoDigitYear=function(e){return b(e)+(b(e)>68?1900:2e3)};var kr=M("FullYear",!1);P("w",["ww",2],"wo","week"),P("W",["WW",2],"Wo","isoWeek"),S("week","w"),S("isoWeek","W"),U("w",Jn),U("ww",Jn,Yn),U("W",Jn),U("WW",Jn,Yn),q(["w","ww","W","WW"],function(e,t,n,r){t[r.substr(0,1)]=b(e)});var xr={dow:0,doy:6};P("DDD",["DDDD",3],"DDDo","dayOfYear"),S("dayOfYear","DDD"),U("DDD",Qn),
U("DDDD",Gn),z(["DDD","DDDD"],function(e,t,n){n._dayOfYear=b(e)}),n.ISO_8601=function(){};var Cr=ne("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(){var e=Fe.apply(null,arguments);return this>e?this:e}),Er=ne("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(){var e=Fe.apply(null,arguments);return e>this?this:e});Re("Z",":"),Re("ZZ",""),U("Z",rr),U("ZZ",rr),z(["Z","ZZ"],function(e,t,n){n._useUTC=!0,n._tzm=Be(e)});var Tr=/([\+\-]|\d\d)/gi;n.updateOffset=function(){};var Sr=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,Dr=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/;Qe.fn=Pe.prototype;var Ar=nt(1,"add"),Mr=nt(-1,"subtract");n.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";var Fr=ne("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){
return void 0===e?this.localeData():this.locale(e)});P(0,["gg",2],0,function(){return this.weekYear()%100}),P(0,["GG",2],0,function(){return this.isoWeekYear()%100}),Ft("gggg","weekYear"),Ft("ggggg","weekYear"),Ft("GGGG","isoWeekYear"),Ft("GGGGG","isoWeekYear"),S("weekYear","gg"),S("isoWeekYear","GG"),U("G",nr),U("g",nr),U("GG",Jn,Yn),U("gg",Jn,Yn),U("GGGG",Xn,Kn),U("gggg",Xn,Kn),U("GGGGG",er,Zn),U("ggggg",er,Zn),q(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,r){t[r.substr(0,2)]=b(e)}),q(["gg","GG"],function(e,t,r,o){t[o]=n.parseTwoDigitYear(e)}),P("Q",0,0,"quarter"),S("quarter","Q"),U("Q",Wn),z("Q",function(e,t){t[lr]=3*(b(e)-1)}),P("D",["DD",2],"Do","date"),S("date","D"),U("D",Jn),U("DD",Jn,Yn),U("Do",function(e,t){return e?t._ordinalParse:t._ordinalParseLenient}),z(["D","DD"],cr),z("Do",function(e,t){t[cr]=b(e.match(Jn)[0],10)});var Nr=M("Date",!0);P("d",0,"do","day"),P("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)}),P("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e);
}),P("dddd",0,0,function(e){return this.localeData().weekdays(this,e)}),P("e",0,0,"weekday"),P("E",0,0,"isoWeekday"),S("day","d"),S("weekday","e"),S("isoWeekday","E"),U("d",Jn),U("e",Jn),U("E",Jn),U("dd",ir),U("ddd",ir),U("dddd",ir),q(["dd","ddd","dddd"],function(e,t,n){var r=n._locale.weekdaysParse(e);null!=r?t.d=r:p(n).invalidWeekday=e}),q(["d","e","E"],function(e,t,n,r){t[r]=b(e)});var Or="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Ir="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Pr="Su_Mo_Tu_We_Th_Fr_Sa".split("_");P("H",["HH",2],0,"hour"),P("h",["hh",2],0,function(){return this.hours()%12||12}),Wt("a",!0),Wt("A",!1),S("hour","h"),U("a",Yt),U("A",Yt),U("H",Jn),U("h",Jn),U("HH",Jn,Yn),U("hh",Jn,Yn),z(["H","HH"],pr),z(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e}),z(["h","hh"],function(e,t,n){t[pr]=b(e),p(n).bigHour=!0});var Lr=/[ap]\.?m?\.?/i,Rr=M("Hours",!0);P("m",["mm",2],0,"minute"),S("minute","m"),U("m",Jn),U("mm",Jn,Yn),z(["m","mm"],dr);var Br=M("Minutes",!1);P("s",["ss",2],0,"second"),
S("second","s"),U("s",Jn),U("ss",Jn,Yn),z(["s","ss"],hr);var jr=M("Seconds",!1);P("S",0,0,function(){return~~(this.millisecond()/100)}),P(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),P(0,["SSS",3],0,"millisecond"),P(0,["SSSS",4],0,function(){return 10*this.millisecond()}),P(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),P(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),P(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),P(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),P(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),S("millisecond","ms"),U("S",Qn,Wn),U("SS",Qn,Yn),U("SSS",Qn,Gn);var $r;for($r="SSSS";$r.length<=9;$r+="S")U($r,tr);for($r="S";$r.length<=9;$r+="S")z($r,Zt);var Ur=M("Milliseconds",!1);P("z",0,0,"zoneAbbr"),P("zz",0,0,"zoneName");var Vr=m.prototype;Vr.add=Ar,Vr.calendar=ot,Vr.clone=it,Vr.diff=ct,Vr.endOf=kt,Vr.format=ft,Vr.from=mt,Vr.fromNow=gt,Vr.to=vt,Vr.toNow=bt,Vr.get=O,Vr.invalidAt=Mt,Vr.isAfter=st,Vr.isBefore=at,Vr.isBetween=ut,
Vr.isSame=lt,Vr.isValid=Dt,Vr.lang=Fr,Vr.locale=yt,Vr.localeData=_t,Vr.max=Er,Vr.min=Cr,Vr.parsingFlags=At,Vr.set=O,Vr.startOf=wt,Vr.subtract=Mr,Vr.toArray=Tt,Vr.toObject=St,Vr.toDate=Et,Vr.toISOString=ht,Vr.toJSON=ht,Vr.toString=dt,Vr.unix=Ct,Vr.valueOf=xt,Vr.year=kr,Vr.isLeapYear=ce,Vr.weekYear=Ot,Vr.isoWeekYear=It,Vr.quarter=Vr.quarters=Rt,Vr.month=Q,Vr.daysInMonth=X,Vr.week=Vr.weeks=me,Vr.isoWeek=Vr.isoWeeks=ge,Vr.weeksInYear=Lt,Vr.isoWeeksInYear=Pt,Vr.date=Nr,Vr.day=Vr.days=Ht,Vr.weekday=zt,Vr.isoWeekday=qt,Vr.dayOfYear=be,Vr.hour=Vr.hours=Rr,Vr.minute=Vr.minutes=Br,Vr.second=Vr.seconds=jr,Vr.millisecond=Vr.milliseconds=Ur,Vr.utcOffset=Ue,Vr.utc=He,Vr.local=ze,Vr.parseZone=qe,Vr.hasAlignedHourOffset=We,Vr.isDST=Ye,Vr.isDSTShifted=Ge,Vr.isLocal=Ke,Vr.isUtcOffset=Ze,Vr.isUtc=Je,Vr.isUTC=Je,Vr.zoneAbbr=Jt,Vr.zoneName=Qt,Vr.dates=ne("dates accessor is deprecated. Use date instead.",Nr),Vr.months=ne("months accessor is deprecated. Use month instead",Q),Vr.years=ne("years accessor is deprecated. Use year instead",kr),
Vr.zone=ne("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779",Ve);var Hr=Vr,zr={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},qr={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},Wr="Invalid date",Yr="%d",Gr=/\d{1,2}/,Kr={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},Zr=_.prototype;Zr._calendar=zr,Zr.calendar=tn,Zr._longDateFormat=qr,Zr.longDateFormat=nn,Zr._invalidDate=Wr,Zr.invalidDate=rn,Zr._ordinal=Yr,Zr.ordinal=on,Zr._ordinalParse=Gr,Zr.preparse=sn,Zr.postformat=sn,Zr._relativeTime=Kr,Zr.relativeTime=an,Zr.pastFuture=un,Zr.set=ln,Zr.months=G,Zr._months=mr,Zr.monthsShort=K,Zr._monthsShort=gr,Zr.monthsParse=Z,Zr.week=de,Zr._week=xr,Zr.firstDayOfYear=fe,
Zr.firstDayOfWeek=he,Zr.weekdays=jt,Zr._weekdays=Or,Zr.weekdaysMin=Ut,Zr._weekdaysMin=Pr,Zr.weekdaysShort=$t,Zr._weekdaysShort=Ir,Zr.weekdaysParse=Vt,Zr.isPM=Gt,Zr._meridiemParse=Lr,Zr.meridiem=Kt,C("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,n=1===b(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+n}}),n.lang=ne("moment.lang is deprecated. Use moment.locale instead.",C),n.langData=ne("moment.langData is deprecated. Use moment.localeData instead.",T);var Jr=Math.abs,Qr=Sn("ms"),Xr=Sn("s"),eo=Sn("m"),to=Sn("h"),no=Sn("d"),ro=Sn("w"),oo=Sn("M"),io=Sn("y"),so=An("milliseconds"),ao=An("seconds"),uo=An("minutes"),lo=An("hours"),co=An("days"),po=An("months"),ho=An("years"),fo=Math.round,mo={s:45,m:45,h:22,d:26,M:11},go=Math.abs,vo=Pe.prototype;vo.abs=vn,vo.add=yn,vo.subtract=_n,vo.as=En,vo.asMilliseconds=Qr,vo.asSeconds=Xr,vo.asMinutes=eo,vo.asHours=to,vo.asDays=no,vo.asWeeks=ro,vo.asMonths=oo,vo.asYears=io,vo.valueOf=Tn,vo._bubble=kn,vo.get=Dn,vo.milliseconds=so,vo.seconds=ao,
vo.minutes=uo,vo.hours=lo,vo.days=co,vo.weeks=Mn,vo.months=po,vo.years=ho,vo.humanize=In,vo.toISOString=Pn,vo.toString=Pn,vo.toJSON=Pn,vo.locale=yt,vo.localeData=_t,vo.toIsoString=ne("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Pn),vo.lang=Fr,P("X",0,0,"unix"),P("x",0,0,"valueOf"),U("x",nr),U("X",or),z("X",function(e,t,n){n._d=new Date(1e3*parseFloat(e,10))}),z("x",function(e,t,n){n._d=new Date(b(e))}),n.version="2.10.6",r(Fe),n.fn=Hr,n.min=Oe,n.max=Ie,n.utc=l,n.unix=Xt,n.months=dn,n.isDate=i,n.locale=C,n.invalid=h,n.duration=Qe,n.isMoment=g,n.weekdays=fn,n.parseZone=en,n.localeData=T,n.isDuration=Le,n.monthsShort=hn,n.weekdaysMin=gn,n.defineLocale=E,n.weekdaysShort=mn,n.normalizeUnits=D,n.relativeTimeThreshold=On;var bo=n;return bo})},{}],670:[function(e,t,n){t.exports=e("./lib/ReactWithAddons")},{"./lib/ReactWithAddons":770}],671:[function(e,t,n){/**
 * Copyright 2013-2015, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule AutoFocusMixin
 * @typechecks static-only
 */
"use strict";var r=e("./focusNode"),o={componentDidMount:function(){this.props.autoFocus&&r(this.getDOMNode())}};t.exports=o},{"./focusNode":804}],672:[function(e,t,n){/**
 * Copyright 2013-2015 Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule BeforeInputEventPlugin
 * @typechecks static-only
 */
"use strict";function r(){var e=window.opera;return"object"==typeof e&&"function"==typeof e.version&&parseInt(e.version(),10)<=12}function o(e){return(e.ctrlKey||e.altKey||e.metaKey)&&!(e.ctrlKey&&e.altKey)}function i(e){switch(e){case D.topCompositionStart:return A.compositionStart;case D.topCompositionEnd:return A.compositionEnd;case D.topCompositionUpdate:return A.compositionUpdate}}function s(e,t){return e===D.topKeyDown&&t.keyCode===w}function a(e,t){switch(e){case D.topKeyUp:return-1!==_.indexOf(t.keyCode);case D.topKeyDown:return t.keyCode!==w;case D.topKeyPress:case D.topMouseDown:case D.topBlur:return!0;default:return!1}}function u(e){var t=e.detail;return"object"==typeof t&&"data"in t?t.data:null}function l(e,t,n,r){var o,l;if(k?o=i(e):F?a(e,r)&&(o=A.compositionEnd):s(e,r)&&(o=A.compositionStart),!o)return null;E&&(F||o!==A.compositionStart?o===A.compositionEnd&&F&&(l=F.getData()):F=g.getPooled(t));var c=v.getPooled(o,n,r);if(l)c.data=l;else{var p=u(r);null!==p&&(c.data=p)}return f.accumulateTwoPhaseDispatches(c),
c}function c(e,t){switch(e){case D.topCompositionEnd:return u(t);case D.topKeyPress:var n=t.which;return n!==T?null:(M=!0,S);case D.topTextInput:var r=t.data;return r===S&&M?null:r;default:return null}}function p(e,t){if(F){if(e===D.topCompositionEnd||a(e,t)){var n=F.getData();return g.release(F),F=null,n}return null}switch(e){case D.topPaste:return null;case D.topKeyPress:return t.which&&!o(t)?String.fromCharCode(t.which):null;case D.topCompositionEnd:return E?null:t.data;default:return null}}function d(e,t,n,r){var o;if(o=C?c(e,r):p(e,r),!o)return null;var i=b.getPooled(A.beforeInput,n,r);return i.data=o,f.accumulateTwoPhaseDispatches(i),i}var h=e("./EventConstants"),f=e("./EventPropagators"),m=e("./ExecutionEnvironment"),g=e("./FallbackCompositionState"),v=e("./SyntheticCompositionEvent"),b=e("./SyntheticInputEvent"),y=e("./keyOf"),_=[9,13,27,32],w=229,k=m.canUseDOM&&"CompositionEvent"in window,x=null;m.canUseDOM&&"documentMode"in document&&(x=document.documentMode);var C=m.canUseDOM&&"TextEvent"in window&&!x&&!r(),E=m.canUseDOM&&(!k||x&&x>8&&11>=x),T=32,S=String.fromCharCode(T),D=h.topLevelTypes,A={
beforeInput:{phasedRegistrationNames:{bubbled:y({onBeforeInput:null}),captured:y({onBeforeInputCapture:null})},dependencies:[D.topCompositionEnd,D.topKeyPress,D.topTextInput,D.topPaste]},compositionEnd:{phasedRegistrationNames:{bubbled:y({onCompositionEnd:null}),captured:y({onCompositionEndCapture:null})},dependencies:[D.topBlur,D.topCompositionEnd,D.topKeyDown,D.topKeyPress,D.topKeyUp,D.topMouseDown]},compositionStart:{phasedRegistrationNames:{bubbled:y({onCompositionStart:null}),captured:y({onCompositionStartCapture:null})},dependencies:[D.topBlur,D.topCompositionStart,D.topKeyDown,D.topKeyPress,D.topKeyUp,D.topMouseDown]},compositionUpdate:{phasedRegistrationNames:{bubbled:y({onCompositionUpdate:null}),captured:y({onCompositionUpdateCapture:null})},dependencies:[D.topBlur,D.topCompositionUpdate,D.topKeyDown,D.topKeyPress,D.topKeyUp,D.topMouseDown]}},M=!1,F=null,N={eventTypes:A,extractEvents:function(e,t,n,r){return[l(e,t,n,r),d(e,t,n,r)]}};t.exports=N},{"./EventConstants":685,"./EventPropagators":690,"./ExecutionEnvironment":691,
"./FallbackCompositionState":692,"./SyntheticCompositionEvent":776,"./SyntheticInputEvent":780,"./keyOf":827}],673:[function(e,t,n){/**
 * Copyright 2013-2015, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule CSSCore
 * @typechecks
 */
var r=e("./invariant"),o={addClass:function(e,t){return r(!/\s/.test(t)),t&&(e.classList?e.classList.add(t):o.hasClass(e,t)||(e.className=e.className+" "+t)),e},removeClass:function(e,t){return r(!/\s/.test(t)),t&&(e.classList?e.classList.remove(t):o.hasClass(e,t)&&(e.className=e.className.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,""))),e},conditionClass:function(e,t,n){return(n?o.addClass:o.removeClass)(e,t)},hasClass:function(e,t){return r(!/\s/.test(t)),e.classList?!!t&&e.classList.contains(t):(" "+e.className+" ").indexOf(" "+t+" ")>-1}};t.exports=o},{"./invariant":820}],674:[function(e,t,n){/**
 * Copyright 2013-2015, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule CSSProperty
 */
"use strict";function r(e,t){return e+t.charAt(0).toUpperCase()+t.substring(1)}var o={boxFlex:!0,boxFlexGroup:!0,columnCount:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,strokeDashoffset:!0,strokeOpacity:!0,strokeWidth:!0},i=["Webkit","ms","Moz","O"];Object.keys(o).forEach(function(e){i.forEach(function(t){o[r(t,e)]=o[e]})});var s={background:{backgroundImage:!0,backgroundPosition:!0,backgroundRepeat:!0,backgroundColor:!0},border:{borderWidth:!0,borderStyle:!0,borderColor:!0},borderBottom:{borderBottomWidth:!0,borderBottomStyle:!0,borderBottomColor:!0},borderLeft:{borderLeftWidth:!0,borderLeftStyle:!0,borderLeftColor:!0},borderRight:{borderRightWidth:!0,borderRightStyle:!0,borderRightColor:!0},borderTop:{borderTopWidth:!0,borderTopStyle:!0,borderTopColor:!0},font:{fontStyle:!0,fontVariant:!0,fontWeight:!0,fontSize:!0,lineHeight:!0,fontFamily:!0}},a={isUnitlessNumber:o,shorthandPropertyExpansions:s
};t.exports=a},{}],675:[function(e,t,n){/**
 * Copyright 2013-2015, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule CSSPropertyOperations
 * @typechecks static-only
 */
"use strict";var r=e("./CSSProperty"),o=e("./ExecutionEnvironment"),i=(e("./camelizeStyleName"),e("./dangerousStyleValue")),s=e("./hyphenateStyleName"),a=e("./memoizeStringOnly"),u=(e("./warning"),a(function(e){return s(e)})),l="cssFloat";o.canUseDOM&&void 0===document.documentElement.style.cssFloat&&(l="styleFloat");var c={createMarkupForStyles:function(e){var t="";for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];null!=r&&(t+=u(n)+":",t+=i(n,r)+";")}return t||null},setValueForStyles:function(e,t){var n=e.style;for(var o in t)if(t.hasOwnProperty(o)){var s=i(o,t[o]);if("float"===o&&(o=l),s)n[o]=s;else{var a=r.shorthandPropertyExpansions[o];if(a)for(var u in a)n[u]="";else n[o]=""}}}};t.exports=c},{"./CSSProperty":674,"./ExecutionEnvironment":691,"./camelizeStyleName":791,"./dangerousStyleValue":798,"./hyphenateStyleName":818,"./memoizeStringOnly":829,"./warning":841}],676:[function(e,t,n){/**
 * Copyright 2013-2015, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule CallbackQueue
 */
"use strict";function r(){this._callbacks=null,this._contexts=null}var o=e("./PooledClass"),i=e("./Object.assign"),s=e("./invariant");i(r.prototype,{enqueue:function(e,t){this._callbacks=this._callbacks||[],this._contexts=this._contexts||[],this._callbacks.push(e),this._contexts.push(t)},notifyAll:function(){var e=this._callbacks,t=this._contexts;if(e){s(e.length===t.length),this._callbacks=null,this._contexts=null;for(var n=0,r=e.length;r>n;n++)e[n].call(t[n]);e.length=0,t.length=0}},reset:function(){this._callbacks=null,this._contexts=null},destructor:function(){this.reset()}}),o.addPoolingTo(r),t.exports=r},{"./Object.assign":698,"./PooledClass":699,"./invariant":820}],677:[function(e,t,n){/**
 * Copyright 2013-2015, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule ChangeEventPlugin
 */
"use strict";function r(e){return"SELECT"===e.nodeName||"INPUT"===e.nodeName&&"file"===e.type}function o(e){var t=x.getPooled(D.change,M,e);_.accumulateTwoPhaseDispatches(t),k.batchedUpdates(i,t)}function i(e){y.enqueueEvents(e),y.processEventQueue()}function s(e,t){A=e,M=t,A.attachEvent("onchange",o)}function a(){A&&(A.detachEvent("onchange",o),A=null,M=null)}function u(e,t,n){return e===S.topChange?n:void 0}function l(e,t,n){e===S.topFocus?(a(),s(t,n)):e===S.topBlur&&a()}function c(e,t){A=e,M=t,F=e.value,N=Object.getOwnPropertyDescriptor(e.constructor.prototype,"value"),Object.defineProperty(A,"value",P),A.attachEvent("onpropertychange",d)}function p(){A&&(delete A.value,A.detachEvent("onpropertychange",d),A=null,M=null,F=null,N=null)}function d(e){if("value"===e.propertyName){var t=e.srcElement.value;t!==F&&(F=t,o(e))}}function h(e,t,n){return e===S.topInput?n:void 0}function f(e,t,n){e===S.topFocus?(p(),c(t,n)):e===S.topBlur&&p()}function m(e,t,n){return e!==S.topSelectionChange&&e!==S.topKeyUp&&e!==S.topKeyDown||!A||A.value===F?void 0:(F=A.value,
M)}function g(e){return"INPUT"===e.nodeName&&("checkbox"===e.type||"radio"===e.type)}function v(e,t,n){return e===S.topClick?n:void 0}var b=e("./EventConstants"),y=e("./EventPluginHub"),_=e("./EventPropagators"),w=e("./ExecutionEnvironment"),k=e("./ReactUpdates"),x=e("./SyntheticEvent"),C=e("./isEventSupported"),E=e("./isTextInputElement"),T=e("./keyOf"),S=b.topLevelTypes,D={change:{phasedRegistrationNames:{bubbled:T({onChange:null}),captured:T({onChangeCapture:null})},dependencies:[S.topBlur,S.topChange,S.topClick,S.topFocus,S.topInput,S.topKeyDown,S.topKeyUp,S.topSelectionChange]}},A=null,M=null,F=null,N=null,O=!1;w.canUseDOM&&(O=C("change")&&(!("documentMode"in document)||document.documentMode>8));var I=!1;w.canUseDOM&&(I=C("input")&&(!("documentMode"in document)||document.documentMode>9));var P={get:function(){return N.get.call(this)},set:function(e){F=""+e,N.set.call(this,e)}},L={eventTypes:D,extractEvents:function(e,t,n,o){var i,s;if(r(t)?O?i=u:s=l:E(t)?I?i=h:(i=m,s=f):g(t)&&(i=v),i){var a=i(e,t,n);if(a){
var c=x.getPooled(D.change,a,o);return _.accumulateTwoPhaseDispatches(c),c}}s&&s(e,t,n)}};t.exports=L},{"./EventConstants":685,"./EventPluginHub":687,"./EventPropagators":690,"./ExecutionEnvironment":691,"./ReactUpdates":769,"./SyntheticEvent":778,"./isEventSupported":821,"./isTextInputElement":823,"./keyOf":827}],678:[function(e,t,n){/**
 * Copyright 2013-2015, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule ClientReactRootIndex
 * @typechecks
 */
"use strict";var r=0,o={createReactRootIndex:function(){return r++}};t.exports=o},{}],679:[function(e,t,n){/**
 * Copyright 2013-2015, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule DOMChildrenOperations
 * @typechecks static-only
 */
"use strict";function r(e,t,n){e.insertBefore(t,e.childNodes[n]||null)}var o=e("./Danger"),i=e("./ReactMultiChildUpdateTypes"),s=e("./setTextContent"),a=e("./invariant"),u={dangerouslyReplaceNodeWithMarkup:o.dangerouslyReplaceNodeWithMarkup,updateTextContent:s,processUpdates:function(e,t){for(var n,u=null,l=null,c=0;c<e.length;c++)if(n=e[c],n.type===i.MOVE_EXISTING||n.type===i.REMOVE_NODE){var p=n.fromIndex,d=n.parentNode.childNodes[p],h=n.parentID;a(d),u=u||{},u[h]=u[h]||[],u[h][p]=d,l=l||[],l.push(d)}var f=o.dangerouslyRenderMarkup(t);if(l)for(var m=0;m<l.length;m++)l[m].parentNode.removeChild(l[m]);for(var g=0;g<e.length;g++)switch(n=e[g],n.type){case i.INSERT_MARKUP:r(n.parentNode,f[n.markupIndex],n.toIndex);break;case i.MOVE_EXISTING:r(n.parentNode,u[n.parentID][n.fromIndex],n.toIndex);break;case i.TEXT_CONTENT:s(n.parentNode,n.textContent);break;case i.REMOVE_NODE:}}};t.exports=u},{"./Danger":682,"./ReactMultiChildUpdateTypes":748,"./invariant":820,"./setTextContent":835}],680:[function(e,t,n){/**
 * Copyright 2013-2015, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule DOMProperty
 * @typechecks static-only
 */
"use strict";function r(e,t){return(e&t)===t}var o=e("./invariant"),i={MUST_USE_ATTRIBUTE:1,MUST_USE_PROPERTY:2,HAS_SIDE_EFFECTS:4,HAS_BOOLEAN_VALUE:8,HAS_NUMERIC_VALUE:16,HAS_POSITIVE_NUMERIC_VALUE:48,HAS_OVERLOADED_BOOLEAN_VALUE:64,injectDOMPropertyConfig:function(e){var t=e.Properties||{},n=e.DOMAttributeNames||{},s=e.DOMPropertyNames||{},u=e.DOMMutationMethods||{};e.isCustomAttribute&&a._isCustomAttributeFunctions.push(e.isCustomAttribute);for(var l in t){o(!a.isStandardName.hasOwnProperty(l)),a.isStandardName[l]=!0;var c=l.toLowerCase();if(a.getPossibleStandardName[c]=l,n.hasOwnProperty(l)){var p=n[l];a.getPossibleStandardName[p]=l,a.getAttributeName[l]=p}else a.getAttributeName[l]=c;a.getPropertyName[l]=s.hasOwnProperty(l)?s[l]:l,u.hasOwnProperty(l)?a.getMutationMethod[l]=u[l]:a.getMutationMethod[l]=null;var d=t[l];a.mustUseAttribute[l]=r(d,i.MUST_USE_ATTRIBUTE),a.mustUseProperty[l]=r(d,i.MUST_USE_PROPERTY),a.hasSideEffects[l]=r(d,i.HAS_SIDE_EFFECTS),a.hasBooleanValue[l]=r(d,i.HAS_BOOLEAN_VALUE),a.hasNumericValue[l]=r(d,i.HAS_NUMERIC_VALUE),
a.hasPositiveNumericValue[l]=r(d,i.HAS_POSITIVE_NUMERIC_VALUE),a.hasOverloadedBooleanValue[l]=r(d,i.HAS_OVERLOADED_BOOLEAN_VALUE),o(!a.mustUseAttribute[l]||!a.mustUseProperty[l]),o(a.mustUseProperty[l]||!a.hasSideEffects[l]),o(!!a.hasBooleanValue[l]+!!a.hasNumericValue[l]+!!a.hasOverloadedBooleanValue[l]<=1)}}},s={},a={ID_ATTRIBUTE_NAME:"data-reactid",isStandardName:{},getPossibleStandardName:{},getAttributeName:{},getPropertyName:{},getMutationMethod:{},mustUseAttribute:{},mustUseProperty:{},hasSideEffects:{},hasBooleanValue:{},hasNumericValue:{},hasPositiveNumericValue:{},hasOverloadedBooleanValue:{},_isCustomAttributeFunctions:[],isCustomAttribute:function(e){for(var t=0;t<a._isCustomAttributeFunctions.length;t++){var n=a._isCustomAttributeFunctions[t];if(n(e))return!0}return!1},getDefaultValueForProperty:function(e,t){var n,r=s[e];return r||(s[e]=r={}),t in r||(n=document.createElement(e),r[t]=n[t]),r[t]},injection:i};t.exports=a},{"./invariant":820}],681:[function(e,t,n){/**
 * Copyright 2013-2015, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule DOMPropertyOperations
 * @typechecks static-only
 */
"use strict";function r(e,t){return null==t||o.hasBooleanValue[e]&&!t||o.hasNumericValue[e]&&isNaN(t)||o.hasPositiveNumericValue[e]&&1>t||o.hasOverloadedBooleanValue[e]&&t===!1}var o=e("./DOMProperty"),i=e("./quoteAttributeValueForBrowser"),s=(e("./warning"),{createMarkupForID:function(e){return o.ID_ATTRIBUTE_NAME+"="+i(e)},createMarkupForProperty:function(e,t){if(o.isStandardName.hasOwnProperty(e)&&o.isStandardName[e]){if(r(e,t))return"";var n=o.getAttributeName[e];return o.hasBooleanValue[e]||o.hasOverloadedBooleanValue[e]&&t===!0?n:n+"="+i(t)}return o.isCustomAttribute(e)?null==t?"":e+"="+i(t):null},setValueForProperty:function(e,t,n){if(o.isStandardName.hasOwnProperty(t)&&o.isStandardName[t]){var i=o.getMutationMethod[t];if(i)i(e,n);else if(r(t,n))this.deleteValueForProperty(e,t);else if(o.mustUseAttribute[t])e.setAttribute(o.getAttributeName[t],""+n);else{var s=o.getPropertyName[t];o.hasSideEffects[t]&&""+e[s]==""+n||(e[s]=n)}}else o.isCustomAttribute(t)&&(null==n?e.removeAttribute(t):e.setAttribute(t,""+n));
},deleteValueForProperty:function(e,t){if(o.isStandardName.hasOwnProperty(t)&&o.isStandardName[t]){var n=o.getMutationMethod[t];if(n)n(e,void 0);else if(o.mustUseAttribute[t])e.removeAttribute(o.getAttributeName[t]);else{var r=o.getPropertyName[t],i=o.getDefaultValueForProperty(e.nodeName,r);o.hasSideEffects[t]&&""+e[r]===i||(e[r]=i)}}else o.isCustomAttribute(t)&&e.removeAttribute(t)}});t.exports=s},{"./DOMProperty":680,"./quoteAttributeValueForBrowser":833,"./warning":841}],682:[function(e,t,n){/**
 * Copyright 2013-2015, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule Danger
 * @typechecks static-only
 */
"use strict";function r(e){return e.substring(1,e.indexOf(" "))}var o=e("./ExecutionEnvironment"),i=e("./createNodesFromMarkup"),s=e("./emptyFunction"),a=e("./getMarkupWrap"),u=e("./invariant"),l=/^(<[^ \/>]+)/,c="data-danger-index",p={dangerouslyRenderMarkup:function(e){u(o.canUseDOM);for(var t,n={},p=0;p<e.length;p++)u(e[p]),t=r(e[p]),t=a(t)?t:"*",n[t]=n[t]||[],n[t][p]=e[p];var d=[],h=0;for(t in n)if(n.hasOwnProperty(t)){var f,m=n[t];for(f in m)if(m.hasOwnProperty(f)){var g=m[f];m[f]=g.replace(l,"$1 "+c+'="'+f+'" ')}for(var v=i(m.join(""),s),b=0;b<v.length;++b){var y=v[b];y.hasAttribute&&y.hasAttribute(c)&&(f=+y.getAttribute(c),y.removeAttribute(c),u(!d.hasOwnProperty(f)),d[f]=y,h+=1)}}return u(h===d.length),u(d.length===e.length),d},dangerouslyReplaceNodeWithMarkup:function(e,t){u(o.canUseDOM),u(t),u("html"!==e.tagName.toLowerCase());var n=i(t,s)[0];e.parentNode.replaceChild(n,e)}};t.exports=p},{"./ExecutionEnvironment":691,"./createNodesFromMarkup":796,"./emptyFunction":799,"./getMarkupWrap":812,"./invariant":820
}],683:[function(e,t,n){/**
 * Copyright 2013-2015, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule DefaultEventPluginOrder
 */
"use strict";var r=e("./keyOf"),o=[r({ResponderEventPlugin:null}),r({SimpleEventPlugin:null}),r({TapEventPlugin:null}),r({EnterLeaveEventPlugin:null}),r({ChangeEventPlugin:null}),r({SelectEventPlugin:null}),r({BeforeInputEventPlugin:null}),r({AnalyticsEventPlugin:null}),r({MobileSafariClickEventPlugin:null})];t.exports=o},{"./keyOf":827}],684:[function(e,t,n){/**
 * Copyright 2013-2015, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule EnterLeaveEventPlugin
 * @typechecks static-only
 */
"use strict";var r=e("./EventConstants"),o=e("./EventPropagators"),i=e("./SyntheticMouseEvent"),s=e("./ReactMount"),a=e("./keyOf"),u=r.topLevelTypes,l=s.getFirstReactDOM,c={mouseEnter:{registrationName:a({onMouseEnter:null}),dependencies:[u.topMouseOut,u.topMouseOver]},mouseLeave:{registrationName:a({onMouseLeave:null}),dependencies:[u.topMouseOut,u.topMouseOver]}},p=[null,null],d={eventTypes:c,extractEvents:function(e,t,n,r){if(e===u.topMouseOver&&(r.relatedTarget||r.fromElement))return null;if(e!==u.topMouseOut&&e!==u.topMouseOver)return null;var a;if(t.window===t)a=t;else{var d=t.ownerDocument;a=d?d.defaultView||d.parentWindow:window}var h,f;if(e===u.topMouseOut?(h=t,f=l(r.relatedTarget||r.toElement)||a):(h=a,f=t),h===f)return null;var m=h?s.getID(h):"",g=f?s.getID(f):"",v=i.getPooled(c.mouseLeave,m,r);v.type="mouseleave",v.target=h,v.relatedTarget=f;var b=i.getPooled(c.mouseEnter,g,r);return b.type="mouseenter",b.target=f,b.relatedTarget=h,o.accumulateEnterLeaveDispatches(v,b,m,g),p[0]=v,p[1]=b,p}};t.exports=d;
},{"./EventConstants":685,"./EventPropagators":690,"./ReactMount":746,"./SyntheticMouseEvent":782,"./keyOf":827}],685:[function(e,t,n){/**
 * Copyright 2013-2015, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule EventConstants
 */
"use strict";var r=e("./keyMirror"),o=r({bubbled:null,captured:null}),i=r({topBlur:null,topChange:null,topClick:null,topCompositionEnd:null,topCompositionStart:null,topCompositionUpdate:null,topContextMenu:null,topCopy:null,topCut:null,topDoubleClick:null,topDrag:null,topDragEnd:null,topDragEnter:null,topDragExit:null,topDragLeave:null,topDragOver:null,topDragStart:null,topDrop:null,topError:null,topFocus:null,topInput:null,topKeyDown:null,topKeyPress:null,topKeyUp:null,topLoad:null,topMouseDown:null,topMouseMove:null,topMouseOut:null,topMouseOver:null,topMouseUp:null,topPaste:null,topReset:null,topScroll:null,topSelectionChange:null,topSubmit:null,topTextInput:null,topTouchCancel:null,topTouchEnd:null,topTouchMove:null,topTouchStart:null,topWheel:null}),s={topLevelTypes:i,PropagationPhases:o};t.exports=s},{"./keyMirror":826}],686:[function(e,t,n){/**
 * Copyright 2013-2015, Facebook, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * @providesModule EventListener
 * @typechecks
 */
var r=e("./emptyFunction"),o={listen:function(e,t,n){return e.addEventListener?(e.addEventListener(t,n,!1),{remove:function(){e.removeEventListener(t,n,!1)}}):e.attachEvent?(e.attachEvent("on"+t,n),{remove:function(){e.detachEvent("on"+t,n)}}):void 0},capture:function(e,t,n){return e.addEventListener?(e.addEventListener(t,n,!0),{remove:function(){e.removeEventListener(t,n,!0)}}):{remove:r}},registerDefault:function(){}};t.exports=o},{"./emptyFunction":799}],687:[function(e,t,n){/**
 * Copyright 2013-2015, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule EventPluginHub
 */
"use strict";var r=e("./EventPluginRegistry"),o=e("./EventPluginUtils"),i=e("./accumulateInto"),s=e("./forEachAccumulated"),a=e("./invariant"),u={},l=null,c=function(e){if(e){var t=o.executeDispatch,n=r.getPluginModuleForEvent(e);n&&n.executeDispatch&&(t=n.executeDispatch),o.executeDispatchesInOrder(e,t),e.isPersistent()||e.constructor.release(e)}},p=null,d={injection:{injectMount:o.injection.injectMount,injectInstanceHandle:function(e){p=e},getInstanceHandle:function(){return p},injectEventPluginOrder:r.injectEventPluginOrder,injectEventPluginsByName:r.injectEventPluginsByName},eventNameDispatchConfigs:r.eventNameDispatchConfigs,registrationNameModules:r.registrationNameModules,putListener:function(e,t,n){a(!n||"function"==typeof n);var r=u[t]||(u[t]={});r[e]=n},getListener:function(e,t){var n=u[t];return n&&n[e]},deleteListener:function(e,t){var n=u[t];n&&delete n[e]},deleteAllListeners:function(e){for(var t in u)delete u[t][e]},extractEvents:function(e,t,n,o){for(var s,a=r.plugins,u=0,l=a.length;l>u;u++){var c=a[u];
if(c){var p=c.extractEvents(e,t,n,o);p&&(s=i(s,p))}}return s},enqueueEvents:function(e){e&&(l=i(l,e))},processEventQueue:function(){var e=l;l=null,s(e,c),a(!l)},__purge:function(){u={}},__getListenerBank:function(){return u}};t.exports=d},{"./EventPluginRegistry":688,"./EventPluginUtils":689,"./accumulateInto":788,"./forEachAccumulated":805,"./invariant":820}],688:[function(e,t,n){/**
 * Copyright 2013-2015, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule EventPluginRegistry
 * @typechecks static-only
 */
"use strict";function r(){if(a)for(var e in u){var t=u[e],n=a.indexOf(e);if(s(n>-1),!l.plugins[n]){s(t.extractEvents),l.plugins[n]=t;var r=t.eventTypes;for(var i in r)s(o(r[i],t,i))}}}function o(e,t,n){s(!l.eventNameDispatchConfigs.hasOwnProperty(n)),l.eventNameDispatchConfigs[n]=e;var r=e.phasedRegistrationNames;if(r){for(var o in r)if(r.hasOwnProperty(o)){var a=r[o];i(a,t,n)}return!0}return e.registrationName?(i(e.registrationName,t,n),!0):!1}function i(e,t,n){s(!l.registrationNameModules[e]),l.registrationNameModules[e]=t,l.registrationNameDependencies[e]=t.eventTypes[n].dependencies}var s=e("./invariant"),a=null,u={},l={plugins:[],eventNameDispatchConfigs:{},registrationNameModules:{},registrationNameDependencies:{},injectEventPluginOrder:function(e){s(!a),a=Array.prototype.slice.call(e),r()},injectEventPluginsByName:function(e){var t=!1;for(var n in e)if(e.hasOwnProperty(n)){var o=e[n];u.hasOwnProperty(n)&&u[n]===o||(s(!u[n]),u[n]=o,t=!0)}t&&r()},getPluginModuleForEvent:function(e){var t=e.dispatchConfig;if(t.registrationName)return l.registrationNameModules[t.registrationName]||null;
for(var n in t.phasedRegistrationNames)if(t.phasedRegistrationNames.hasOwnProperty(n)){var r=l.registrationNameModules[t.phasedRegistrationNames[n]];if(r)return r}return null},_resetEventPlugins:function(){a=null;for(var e in u)u.hasOwnProperty(e)&&delete u[e];l.plugins.length=0;var t=l.eventNameDispatchConfigs;for(var n in t)t.hasOwnProperty(n)&&delete t[n];var r=l.registrationNameModules;for(var o in r)r.hasOwnProperty(o)&&delete r[o]}};t.exports=l},{"./invariant":820}],689:[function(e,t,n){/**
 * Copyright 2013-2015, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule EventPluginUtils
 */
"use strict";function r(e){return e===g.topMouseUp||e===g.topTouchEnd||e===g.topTouchCancel}function o(e){return e===g.topMouseMove||e===g.topTouchMove}function i(e){return e===g.topMouseDown||e===g.topTouchStart}function s(e,t){var n=e._dispatchListeners,r=e._dispatchIDs;if(Array.isArray(n))for(var o=0;o<n.length&&!e.isPropagationStopped();o++)t(e,n[o],r[o]);else n&&t(e,n,r)}function a(e,t,n){e.currentTarget=m.Mount.getNode(n);var r=t(e,n);return e.currentTarget=null,r}function u(e,t){s(e,t),e._dispatchListeners=null,e._dispatchIDs=null}function l(e){var t=e._dispatchListeners,n=e._dispatchIDs;if(Array.isArray(t)){for(var r=0;r<t.length&&!e.isPropagationStopped();r++)if(t[r](e,n[r]))return n[r]}else if(t&&t(e,n))return n;return null}function c(e){var t=l(e);return e._dispatchIDs=null,e._dispatchListeners=null,t}function p(e){var t=e._dispatchListeners,n=e._dispatchIDs;f(!Array.isArray(t));var r=t?t(e,n):null;return e._dispatchListeners=null,e._dispatchIDs=null,r}function d(e){return!!e._dispatchListeners}var h=e("./EventConstants"),f=e("./invariant"),m={
Mount:null,injectMount:function(e){m.Mount=e}},g=h.topLevelTypes,v={isEndish:r,isMoveish:o,isStartish:i,executeDirectDispatch:p,executeDispatch:a,executeDispatchesInOrder:u,executeDispatchesInOrderStopAtTrue:c,hasDispatches:d,injection:m,useTouchEvents:!1};t.exports=v},{"./EventConstants":685,"./invariant":820}],690:[function(e,t,n){/**
 * Copyright 2013-2015, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule EventPropagators
 */
"use strict";function r(e,t,n){var r=t.dispatchConfig.phasedRegistrationNames[n];return g(e,r)}function o(e,t,n){var o=t?m.bubbled:m.captured,i=r(e,n,o);i&&(n._dispatchListeners=h(n._dispatchListeners,i),n._dispatchIDs=h(n._dispatchIDs,e))}function i(e){e&&e.dispatchConfig.phasedRegistrationNames&&d.injection.getInstanceHandle().traverseTwoPhase(e.dispatchMarker,o,e)}function s(e,t,n){if(n&&n.dispatchConfig.registrationName){var r=n.dispatchConfig.registrationName,o=g(e,r);o&&(n._dispatchListeners=h(n._dispatchListeners,o),n._dispatchIDs=h(n._dispatchIDs,e))}}function a(e){e&&e.dispatchConfig.registrationName&&s(e.dispatchMarker,null,e)}function u(e){f(e,i)}function l(e,t,n,r){d.injection.getInstanceHandle().traverseEnterLeave(n,r,s,e,t)}function c(e){f(e,a)}var p=e("./EventConstants"),d=e("./EventPluginHub"),h=e("./accumulateInto"),f=e("./forEachAccumulated"),m=p.PropagationPhases,g=d.getListener,v={accumulateTwoPhaseDispatches:u,accumulateDirectDispatches:c,accumulateEnterLeaveDispatches:l};t.exports=v},{"./EventConstants":685,
"./EventPluginHub":687,"./accumulateInto":788,"./forEachAccumulated":805}],691:[function(e,t,n){/**
 * Copyright 2013-2015, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule ExecutionEnvironment
 */
"use strict";var r=!("undefined"==typeof window||!window.document||!window.document.createElement),o={canUseDOM:r,canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:r&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:r&&!!window.screen,isInWorker:!r};t.exports=o},{}],692:[function(e,t,n){/**
 * Copyright 2013-2015, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule FallbackCompositionState
 * @typechecks static-only
 */
"use strict";function r(e){this._root=e,this._startText=this.getText(),this._fallbackText=null}var o=e("./PooledClass"),i=e("./Object.assign"),s=e("./getTextContentAccessor");i(r.prototype,{getText:function(){return"value"in this._root?this._root.value:this._root[s()]},getData:function(){if(this._fallbackText)return this._fallbackText;var e,t,n=this._startText,r=n.length,o=this.getText(),i=o.length;for(e=0;r>e&&n[e]===o[e];e++);var s=r-e;for(t=1;s>=t&&n[r-t]===o[i-t];t++);var a=t>1?1-t:void 0;return this._fallbackText=o.slice(e,a),this._fallbackText}}),o.addPoolingTo(r),t.exports=r},{"./Object.assign":698,"./PooledClass":699,"./getTextContentAccessor":815}],693:[function(e,t,n){/**
 * Copyright 2013-2015, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule HTMLDOMPropertyConfig
 */
"use strict";var r,o=e("./DOMProperty"),i=e("./ExecutionEnvironment"),s=o.injection.MUST_USE_ATTRIBUTE,a=o.injection.MUST_USE_PROPERTY,u=o.injection.HAS_BOOLEAN_VALUE,l=o.injection.HAS_SIDE_EFFECTS,c=o.injection.HAS_NUMERIC_VALUE,p=o.injection.HAS_POSITIVE_NUMERIC_VALUE,d=o.injection.HAS_OVERLOADED_BOOLEAN_VALUE;if(i.canUseDOM){var h=document.implementation;r=h&&h.hasFeature&&h.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")}var f={isCustomAttribute:RegExp.prototype.test.bind(/^(data|aria)-[a-z_][a-z\d_.\-]*$/),Properties:{accept:null,acceptCharset:null,accessKey:null,action:null,allowFullScreen:s|u,allowTransparency:s,alt:null,async:u,autoComplete:null,autoPlay:u,cellPadding:null,cellSpacing:null,charSet:s,checked:a|u,classID:s,className:r?s:a,cols:s|p,colSpan:null,content:null,contentEditable:null,contextMenu:s,controls:a|u,coords:null,crossOrigin:null,data:null,dateTime:s,defer:u,dir:null,disabled:s|u,download:d,draggable:null,encType:null,form:s,formAction:s,formEncType:s,formMethod:s,
formNoValidate:u,formTarget:s,frameBorder:s,headers:null,height:s,hidden:s|u,high:null,href:null,hrefLang:null,htmlFor:null,httpEquiv:null,icon:null,id:a,label:null,lang:null,list:s,loop:a|u,low:null,manifest:s,marginHeight:null,marginWidth:null,max:null,maxLength:s,media:s,mediaGroup:null,method:null,min:null,multiple:a|u,muted:a|u,name:null,noValidate:u,open:u,optimum:null,pattern:null,placeholder:null,poster:null,preload:null,radioGroup:null,readOnly:a|u,rel:null,required:u,role:s,rows:s|p,rowSpan:null,sandbox:null,scope:null,scoped:u,scrolling:null,seamless:s|u,selected:a|u,shape:null,size:s|p,sizes:s,span:p,spellCheck:null,src:null,srcDoc:a,srcSet:s,start:c,step:null,style:null,tabIndex:null,target:null,title:null,type:null,useMap:null,value:a|l,width:s,wmode:s,autoCapitalize:null,autoCorrect:null,itemProp:s,itemScope:s|u,itemType:s,itemID:s,itemRef:s,property:null,unselectable:s},DOMAttributeNames:{acceptCharset:"accept-charset",className:"class",htmlFor:"for",httpEquiv:"http-equiv"},DOMPropertyNames:{autoCapitalize:"autocapitalize",
autoComplete:"autocomplete",autoCorrect:"autocorrect",autoFocus:"autofocus",autoPlay:"autoplay",encType:"encoding",hrefLang:"hreflang",radioGroup:"radiogroup",spellCheck:"spellcheck",srcDoc:"srcdoc",srcSet:"srcset"}};t.exports=f},{"./DOMProperty":680,"./ExecutionEnvironment":691}],694:[function(e,t,n){/**
 * Copyright 2013-2015, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule LinkedStateMixin
 * @typechecks static-only
 */
"use strict";var r=e("./ReactLink"),o=e("./ReactStateSetters"),i={linkState:function(e){return new r(this.state[e],o.createStateKeySetter(this,e))}};t.exports=i},{"./ReactLink":744,"./ReactStateSetters":763}],695:[function(e,t,n){/**
 * Copyright 2013-2015, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule LinkedValueUtils
 * @typechecks static-only
 */
"use strict";function r(e){l(null==e.props.checkedLink||null==e.props.valueLink)}function o(e){r(e),l(null==e.props.value&&null==e.props.onChange)}function i(e){r(e),l(null==e.props.checked&&null==e.props.onChange)}function s(e){this.props.valueLink.requestChange(e.target.value)}function a(e){this.props.checkedLink.requestChange(e.target.checked)}var u=e("./ReactPropTypes"),l=e("./invariant"),c={button:!0,checkbox:!0,image:!0,hidden:!0,radio:!0,reset:!0,submit:!0},p={Mixin:{propTypes:{value:function(e,t,n){return!e[t]||c[e.type]||e.onChange||e.readOnly||e.disabled?null:new Error("You provided a `value` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultValue`. Otherwise, set either `onChange` or `readOnly`.")},checked:function(e,t,n){return!e[t]||e.onChange||e.readOnly||e.disabled?null:new Error("You provided a `checked` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultChecked`. Otherwise, set either `onChange` or `readOnly`.");
},onChange:u.func}},getValue:function(e){return e.props.valueLink?(o(e),e.props.valueLink.value):e.props.value},getChecked:function(e){return e.props.checkedLink?(i(e),e.props.checkedLink.value):e.props.checked},getOnChange:function(e){return e.props.valueLink?(o(e),s):e.props.checkedLink?(i(e),a):e.props.onChange}};t.exports=p},{"./ReactPropTypes":755,"./invariant":820}],696:[function(e,t,n){/**
 * Copyright 2014-2015, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule LocalEventTrapMixin
 */
"use strict";function r(e){e.remove()}var o=e("./ReactBrowserEventEmitter"),i=e("./accumulateInto"),s=e("./forEachAccumulated"),a=e("./invariant"),u={trapBubbledEvent:function(e,t){a(this.isMounted());var n=this.getDOMNode();a(n);var r=o.trapBubbledEvent(e,t,n);this._localEventListeners=i(this._localEventListeners,r)},componentWillUnmount:function(){this._localEventListeners&&s(this._localEventListeners,r)}};t.exports=u},{"./ReactBrowserEventEmitter":702,"./accumulateInto":788,"./forEachAccumulated":805,"./invariant":820}],697:[function(e,t,n){/**
 * Copyright 2013-2015, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule MobileSafariClickEventPlugin
 * @typechecks static-only
 */
"use strict";var r=e("./EventConstants"),o=e("./emptyFunction"),i=r.topLevelTypes,s={eventTypes:null,extractEvents:function(e,t,n,r){if(e===i.topTouchStart){var s=r.target;s&&!s.onclick&&(s.onclick=o)}}};t.exports=s},{"./EventConstants":685,"./emptyFunction":799}],698:[function(e,t,n){/**
 * Copyright 2014-2015, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule Object.assign
 */
"use strict";function r(e,t){if(null==e)throw new TypeError("Object.assign target cannot be null or undefined");for(var n=Object(e),r=Object.prototype.hasOwnProperty,o=1;o<arguments.length;o++){var i=arguments[o];if(null!=i){var s=Object(i);for(var a in s)r.call(s,a)&&(n[a]=s[a])}}return n}t.exports=r},{}],699:[function(e,t,n){/**
 * Copyright 2013-2015, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule PooledClass
 */
"use strict";var r=e("./invariant"),o=function(e){var t=this;if(t.instancePool.length){var n=t.instancePool.pop();return t.call(n,e),n}return new t(e)},i=function(e,t){var n=this;if(n.instancePool.length){var r=n.instancePool.pop();return n.call(r,e,t),r}return new n(e,t)},s=function(e,t,n){var r=this;if(r.instancePool.length){var o=r.instancePool.pop();return r.call(o,e,t,n),o}return new r(e,t,n)},a=function(e,t,n,r,o){var i=this;if(i.instancePool.length){var s=i.instancePool.pop();return i.call(s,e,t,n,r,o),s}return new i(e,t,n,r,o)},u=function(e){var t=this;r(e instanceof t),e.destructor&&e.destructor(),t.instancePool.length<t.poolSize&&t.instancePool.push(e)},l=10,c=o,p=function(e,t){var n=e;return n.instancePool=[],n.getPooled=t||c,n.poolSize||(n.poolSize=l),n.release=u,n},d={addPoolingTo:p,oneArgumentPooler:o,twoArgumentPooler:i,threeArgumentPooler:s,fiveArgumentPooler:a};t.exports=d},{"./invariant":820}],700:[function(e,t,n){/**
 * Copyright 2013-2015, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule React
 */
"use strict";var r=e("./EventPluginUtils"),o=e("./ReactChildren"),i=e("./ReactComponent"),s=e("./ReactClass"),a=e("./ReactContext"),u=e("./ReactCurrentOwner"),l=e("./ReactElement"),c=(e("./ReactElementValidator"),e("./ReactDOM")),p=e("./ReactDOMTextComponent"),d=e("./ReactDefaultInjection"),h=e("./ReactInstanceHandles"),f=e("./ReactMount"),m=e("./ReactPerf"),g=e("./ReactPropTypes"),v=e("./ReactReconciler"),b=e("./ReactServerRendering"),y=e("./Object.assign"),_=e("./findDOMNode"),w=e("./onlyChild");d.inject();var k=l.createElement,x=l.createFactory,C=l.cloneElement,E=m.measure("React","render",f.render),T={Children:{map:o.map,forEach:o.forEach,count:o.count,only:w},Component:i,DOM:c,PropTypes:g,initializeTouchEvents:function(e){r.useTouchEvents=e},createClass:s.createClass,createElement:k,cloneElement:C,createFactory:x,createMixin:function(e){return e},constructAndRenderComponent:f.constructAndRenderComponent,constructAndRenderComponentByID:f.constructAndRenderComponentByID,findDOMNode:_,render:E,renderToString:b.renderToString,
renderToStaticMarkup:b.renderToStaticMarkup,unmountComponentAtNode:f.unmountComponentAtNode,isValidElement:l.isValidElement,withContext:a.withContext,__spread:y};"undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.inject&&__REACT_DEVTOOLS_GLOBAL_HOOK__.inject({CurrentOwner:u,InstanceHandles:h,Mount:f,Reconciler:v,TextComponent:p});T.version="0.13.3",t.exports=T},{"./EventPluginUtils":689,"./ExecutionEnvironment":691,"./Object.assign":698,"./ReactChildren":706,"./ReactClass":707,"./ReactComponent":708,"./ReactContext":713,"./ReactCurrentOwner":714,"./ReactDOM":715,"./ReactDOMTextComponent":726,"./ReactDefaultInjection":729,"./ReactElement":732,"./ReactElementValidator":733,"./ReactInstanceHandles":741,"./ReactMount":746,"./ReactPerf":751,"./ReactPropTypes":755,"./ReactReconciler":758,"./ReactServerRendering":761,"./findDOMNode":802,"./onlyChild":830}],701:[function(e,t,n){/**
 * Copyright 2013-2015, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule ReactBrowserComponentMixin
 */
"use strict";var r=e("./findDOMNode"),o={getDOMNode:function(){return r(this)}};t.exports=o},{"./findDOMNode":802}],702:[function(e,t,n){/**
 * Copyright 2013-2015, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule ReactBrowserEventEmitter
 * @typechecks static-only
 */
"use strict";function r(e){return Object.prototype.hasOwnProperty.call(e,m)||(e[m]=h++,p[e[m]]={}),p[e[m]]}var o=e("./EventConstants"),i=e("./EventPluginHub"),s=e("./EventPluginRegistry"),a=e("./ReactEventEmitterMixin"),u=e("./ViewportMetrics"),l=e("./Object.assign"),c=e("./isEventSupported"),p={},d=!1,h=0,f={topBlur:"blur",topChange:"change",topClick:"click",topCompositionEnd:"compositionend",topCompositionStart:"compositionstart",topCompositionUpdate:"compositionupdate",topContextMenu:"contextmenu",topCopy:"copy",topCut:"cut",topDoubleClick:"dblclick",topDrag:"drag",topDragEnd:"dragend",topDragEnter:"dragenter",topDragExit:"dragexit",topDragLeave:"dragleave",topDragOver:"dragover",topDragStart:"dragstart",topDrop:"drop",topFocus:"focus",topInput:"input",topKeyDown:"keydown",topKeyPress:"keypress",topKeyUp:"keyup",topMouseDown:"mousedown",topMouseMove:"mousemove",topMouseOut:"mouseout",topMouseOver:"mouseover",topMouseUp:"mouseup",topPaste:"paste",topScroll:"scroll",topSelectionChange:"selectionchange",topTextInput:"textInput",
topTouchCancel:"touchcancel",topTouchEnd:"touchend",topTouchMove:"touchmove",topTouchStart:"touchstart",topWheel:"wheel"},m="_reactListenersID"+String(Math.random()).slice(2),g=l({},a,{ReactEventListener:null,injection:{injectReactEventListener:function(e){e.setHandleTopLevel(g.handleTopLevel),g.ReactEventListener=e}},setEnabled:function(e){g.ReactEventListener&&g.ReactEventListener.setEnabled(e)},isEnabled:function(){return!(!g.ReactEventListener||!g.ReactEventListener.isEnabled())},listenTo:function(e,t){for(var n=t,i=r(n),a=s.registrationNameDependencies[e],u=o.topLevelTypes,l=0,p=a.length;p>l;l++){var d=a[l];i.hasOwnProperty(d)&&i[d]||(d===u.topWheel?c("wheel")?g.ReactEventListener.trapBubbledEvent(u.topWheel,"wheel",n):c("mousewheel")?g.ReactEventListener.trapBubbledEvent(u.topWheel,"mousewheel",n):g.ReactEventListener.trapBubbledEvent(u.topWheel,"DOMMouseScroll",n):d===u.topScroll?c("scroll",!0)?g.ReactEventListener.trapCapturedEvent(u.topScroll,"scroll",n):g.ReactEventListener.trapBubbledEvent(u.topScroll,"scroll",g.ReactEventListener.WINDOW_HANDLE):d===u.topFocus||d===u.topBlur?(c("focus",!0)?(g.ReactEventListener.trapCapturedEvent(u.topFocus,"focus",n),
g.ReactEventListener.trapCapturedEvent(u.topBlur,"blur",n)):c("focusin")&&(g.ReactEventListener.trapBubbledEvent(u.topFocus,"focusin",n),g.ReactEventListener.trapBubbledEvent(u.topBlur,"focusout",n)),i[u.topBlur]=!0,i[u.topFocus]=!0):f.hasOwnProperty(d)&&g.ReactEventListener.trapBubbledEvent(d,f[d],n),i[d]=!0)}},trapBubbledEvent:function(e,t,n){return g.ReactEventListener.trapBubbledEvent(e,t,n)},trapCapturedEvent:function(e,t,n){return g.ReactEventListener.trapCapturedEvent(e,t,n)},ensureScrollValueMonitoring:function(){if(!d){var e=u.refreshScrollValues;g.ReactEventListener.monitorScrollValue(e),d=!0}},eventNameDispatchConfigs:i.eventNameDispatchConfigs,registrationNameModules:i.registrationNameModules,putListener:i.putListener,getListener:i.getListener,deleteListener:i.deleteListener,deleteAllListeners:i.deleteAllListeners});t.exports=g},{"./EventConstants":685,"./EventPluginHub":687,"./EventPluginRegistry":688,"./Object.assign":698,"./ReactEventEmitterMixin":736,"./ViewportMetrics":787,"./isEventSupported":821
}],703:[function(e,t,n){/**
 * Copyright 2013-2015, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @typechecks
 * @providesModule ReactCSSTransitionGroup
 */
"use strict";var r=e("./React"),o=e("./Object.assign"),i=r.createFactory(e("./ReactTransitionGroup")),s=r.createFactory(e("./ReactCSSTransitionGroupChild")),a=r.createClass({displayName:"ReactCSSTransitionGroup",propTypes:{transitionName:r.PropTypes.string.isRequired,transitionAppear:r.PropTypes.bool,transitionEnter:r.PropTypes.bool,transitionLeave:r.PropTypes.bool},getDefaultProps:function(){return{transitionAppear:!1,transitionEnter:!0,transitionLeave:!0}},_wrapChild:function(e){return s({name:this.props.transitionName,appear:this.props.transitionAppear,enter:this.props.transitionEnter,leave:this.props.transitionLeave},e)},render:function(){return i(o({},this.props,{childFactory:this._wrapChild}))}});t.exports=a},{"./Object.assign":698,"./React":700,"./ReactCSSTransitionGroupChild":704,"./ReactTransitionGroup":767}],704:[function(e,t,n){/**
 * Copyright 2013-2015, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @typechecks
 * @providesModule ReactCSSTransitionGroupChild
 */
"use strict";var r=e("./React"),o=e("./CSSCore"),i=e("./ReactTransitionEvents"),s=e("./onlyChild"),a=(e("./warning"),17),u=r.createClass({displayName:"ReactCSSTransitionGroupChild",transition:function(e,t){var n=this.getDOMNode(),r=this.props.name+"-"+e,s=r+"-active",a=function(e){e&&e.target!==n||(o.removeClass(n,r),o.removeClass(n,s),i.removeEndEventListener(n,a),t&&t())};i.addEndEventListener(n,a),o.addClass(n,r),this.queueClass(s)},queueClass:function(e){this.classNameQueue.push(e),this.timeout||(this.timeout=setTimeout(this.flushClassNameQueue,a))},flushClassNameQueue:function(){this.isMounted()&&this.classNameQueue.forEach(o.addClass.bind(o,this.getDOMNode())),this.classNameQueue.length=0,this.timeout=null},componentWillMount:function(){this.classNameQueue=[]},componentWillUnmount:function(){this.timeout&&clearTimeout(this.timeout)},componentWillAppear:function(e){this.props.appear?this.transition("appear",e):e()},componentWillEnter:function(e){this.props.enter?this.transition("enter",e):e()},componentWillLeave:function(e){
this.props.leave?this.transition("leave",e):e()},render:function(){return s(this.props.children)}});t.exports=u},{"./CSSCore":673,"./React":700,"./ReactTransitionEvents":766,"./onlyChild":830,"./warning":841}],705:[function(e,t,n){/**
 * Copyright 2014-2015, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule ReactChildReconciler
 * @typechecks static-only
 */
"use strict";var r=e("./ReactReconciler"),o=e("./flattenChildren"),i=e("./instantiateReactComponent"),s=e("./shouldUpdateReactComponent"),a={instantiateChildren:function(e,t,n){var r=o(e);for(var s in r)if(r.hasOwnProperty(s)){var a=r[s],u=i(a,null);r[s]=u}return r},updateChildren:function(e,t,n,a){var u=o(t);if(!u&&!e)return null;var l;for(l in u)if(u.hasOwnProperty(l)){var c=e&&e[l],p=c&&c._currentElement,d=u[l];if(s(p,d))r.receiveComponent(c,d,n,a),u[l]=c;else{c&&r.unmountComponent(c,l);var h=i(d,null);u[l]=h}}for(l in e)!e.hasOwnProperty(l)||u&&u.hasOwnProperty(l)||r.unmountComponent(e[l]);return u},unmountChildren:function(e){for(var t in e){var n=e[t];r.unmountComponent(n)}}};t.exports=a},{"./ReactReconciler":758,"./flattenChildren":803,"./instantiateReactComponent":819,"./shouldUpdateReactComponent":837}],706:[function(e,t,n){/**
 * Copyright 2013-2015, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule ReactChildren
 */
"use strict";function r(e,t){this.forEachFunction=e,this.forEachContext=t}function o(e,t,n,r){var o=e;o.forEachFunction.call(o.forEachContext,t,r)}function i(e,t,n){if(null==e)return e;var i=r.getPooled(t,n);h(e,o,i),r.release(i)}function s(e,t,n){this.mapResult=e,this.mapFunction=t,this.mapContext=n}function a(e,t,n,r){var o=e,i=o.mapResult,s=!i.hasOwnProperty(n);if(s){var a=o.mapFunction.call(o.mapContext,t,r);i[n]=a}}function u(e,t,n){if(null==e)return e;var r={},o=s.getPooled(r,t,n);return h(e,a,o),s.release(o),d.create(r)}function l(e,t,n,r){return null}function c(e,t){return h(e,l,null)}var p=e("./PooledClass"),d=e("./ReactFragment"),h=e("./traverseAllChildren"),f=(e("./warning"),p.twoArgumentPooler),m=p.threeArgumentPooler;p.addPoolingTo(r,f),p.addPoolingTo(s,m);var g={forEach:i,map:u,count:c};t.exports=g},{"./PooledClass":699,"./ReactFragment":738,"./traverseAllChildren":839,"./warning":841}],707:[function(e,t,n){/**
 * Copyright 2013-2015, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule ReactClass
 */
"use strict";function r(e,t){var n=C.hasOwnProperty(t)?C[t]:null;T.hasOwnProperty(t)&&b(n===k.OVERRIDE_BASE),e.hasOwnProperty(t)&&b(n===k.DEFINE_MANY||n===k.DEFINE_MANY_MERGED)}function o(e,t){if(t){b("function"!=typeof t),b(!d.isValidElement(t));var n=e.prototype;t.hasOwnProperty(w)&&E.mixins(e,t.mixins);for(var o in t)if(t.hasOwnProperty(o)&&o!==w){var i=t[o];if(r(n,o),E.hasOwnProperty(o))E[o](e,i);else{var s=C.hasOwnProperty(o),l=n.hasOwnProperty(o),c=i&&i.__reactDontBind,p="function"==typeof i,h=p&&!s&&!l&&!c;if(h)n.__reactAutoBindMap||(n.__reactAutoBindMap={}),n.__reactAutoBindMap[o]=i,n[o]=i;else if(l){var f=C[o];b(s&&(f===k.DEFINE_MANY_MERGED||f===k.DEFINE_MANY)),f===k.DEFINE_MANY_MERGED?n[o]=a(n[o],i):f===k.DEFINE_MANY&&(n[o]=u(n[o],i))}else n[o]=i}}}}function i(e,t){if(t)for(var n in t){var r=t[n];if(t.hasOwnProperty(n)){var o=n in E;b(!o);var i=n in e;b(!i),e[n]=r}}}function s(e,t){b(e&&t&&"object"==typeof e&&"object"==typeof t);for(var n in t)t.hasOwnProperty(n)&&(b(void 0===e[n]),e[n]=t[n]);return e;
}function a(e,t){return function(){var n=e.apply(this,arguments),r=t.apply(this,arguments);if(null==n)return r;if(null==r)return n;var o={};return s(o,n),s(o,r),o}}function u(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function l(e,t){var n=t.bind(e);return n}function c(e){for(var t in e.__reactAutoBindMap)if(e.__reactAutoBindMap.hasOwnProperty(t)){var n=e.__reactAutoBindMap[t];e[t]=l(e,h.guard(n,e.constructor.displayName+"."+t))}}var p=e("./ReactComponent"),d=(e("./ReactCurrentOwner"),e("./ReactElement")),h=e("./ReactErrorUtils"),f=e("./ReactInstanceMap"),m=e("./ReactLifeCycle"),g=(e("./ReactPropTypeLocations"),e("./ReactPropTypeLocationNames"),e("./ReactUpdateQueue")),v=e("./Object.assign"),b=e("./invariant"),y=e("./keyMirror"),_=e("./keyOf"),w=(e("./warning"),_({mixins:null})),k=y({DEFINE_ONCE:null,DEFINE_MANY:null,OVERRIDE_BASE:null,DEFINE_MANY_MERGED:null}),x=[],C={mixins:k.DEFINE_MANY,statics:k.DEFINE_MANY,propTypes:k.DEFINE_MANY,contextTypes:k.DEFINE_MANY,childContextTypes:k.DEFINE_MANY,
getDefaultProps:k.DEFINE_MANY_MERGED,getInitialState:k.DEFINE_MANY_MERGED,getChildContext:k.DEFINE_MANY_MERGED,render:k.DEFINE_ONCE,componentWillMount:k.DEFINE_MANY,componentDidMount:k.DEFINE_MANY,componentWillReceiveProps:k.DEFINE_MANY,shouldComponentUpdate:k.DEFINE_ONCE,componentWillUpdate:k.DEFINE_MANY,componentDidUpdate:k.DEFINE_MANY,componentWillUnmount:k.DEFINE_MANY,updateComponent:k.OVERRIDE_BASE},E={displayName:function(e,t){e.displayName=t},mixins:function(e,t){if(t)for(var n=0;n<t.length;n++)o(e,t[n])},childContextTypes:function(e,t){e.childContextTypes=v({},e.childContextTypes,t)},contextTypes:function(e,t){e.contextTypes=v({},e.contextTypes,t)},getDefaultProps:function(e,t){e.getDefaultProps?e.getDefaultProps=a(e.getDefaultProps,t):e.getDefaultProps=t},propTypes:function(e,t){e.propTypes=v({},e.propTypes,t)},statics:function(e,t){i(e,t)}},T={replaceState:function(e,t){g.enqueueReplaceState(this,e),t&&g.enqueueCallback(this,t)},isMounted:function(){var e=f.get(this);return e&&e!==m.currentlyMountingInstance;
},setProps:function(e,t){g.enqueueSetProps(this,e),t&&g.enqueueCallback(this,t)},replaceProps:function(e,t){g.enqueueReplaceProps(this,e),t&&g.enqueueCallback(this,t)}},S=function(){};v(S.prototype,p.prototype,T);var D={createClass:function(e){var t=function(e,t){this.__reactAutoBindMap&&c(this),this.props=e,this.context=t,this.state=null;var n=this.getInitialState?this.getInitialState():null;b("object"==typeof n&&!Array.isArray(n)),this.state=n};t.prototype=new S,t.prototype.constructor=t,x.forEach(o.bind(null,t)),o(t,e),t.getDefaultProps&&(t.defaultProps=t.getDefaultProps()),b(t.prototype.render);for(var n in C)t.prototype[n]||(t.prototype[n]=null);return t.type=t,t},injection:{injectMixin:function(e){x.push(e)}}};t.exports=D},{"./Object.assign":698,"./ReactComponent":708,"./ReactCurrentOwner":714,"./ReactElement":732,"./ReactErrorUtils":735,"./ReactInstanceMap":742,"./ReactLifeCycle":743,"./ReactPropTypeLocationNames":753,"./ReactPropTypeLocations":754,"./ReactUpdateQueue":768,"./invariant":820,"./keyMirror":826,
"./keyOf":827,"./warning":841}],708:[function(e,t,n){/**
 * Copyright 2013-2015, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule ReactComponent
 */
"use strict";function r(e,t){this.props=e,this.context=t}var o=e("./ReactUpdateQueue"),i=e("./invariant");e("./warning");r.prototype.setState=function(e,t){i("object"==typeof e||"function"==typeof e||null==e),o.enqueueSetState(this,e),t&&o.enqueueCallback(this,t)},r.prototype.forceUpdate=function(e){o.enqueueForceUpdate(this),e&&o.enqueueCallback(this,e)};t.exports=r},{"./ReactUpdateQueue":768,"./invariant":820,"./warning":841}],709:[function(e,t,n){/**
 * Copyright 2013-2015, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule ReactComponentBrowserEnvironment
 */
"use strict";var r=e("./ReactDOMIDOperations"),o=e("./ReactMount"),i={processChildrenUpdates:r.dangerouslyProcessChildrenUpdates,replaceNodeWithMarkupByID:r.dangerouslyReplaceNodeWithMarkupByID,unmountIDFromEnvironment:function(e){o.purgeID(e)}};t.exports=i},{"./ReactDOMIDOperations":719,"./ReactMount":746}],710:[function(e,t,n){/**
 * Copyright 2014-2015, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule ReactComponentEnvironment
 */
"use strict";var r=e("./invariant"),o=!1,i={unmountIDFromEnvironment:null,replaceNodeWithMarkupByID:null,processChildrenUpdates:null,injection:{injectEnvironment:function(e){r(!o),i.unmountIDFromEnvironment=e.unmountIDFromEnvironment,i.replaceNodeWithMarkupByID=e.replaceNodeWithMarkupByID,i.processChildrenUpdates=e.processChildrenUpdates,o=!0}}};t.exports=i},{"./invariant":820}],711:[function(e,t,n){/**
 * Copyright 2013-2015, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
* @providesModule ReactComponentWithPureRenderMixin
*/
"use strict";var r=e("./shallowEqual"),o={shouldComponentUpdate:function(e,t){return!r(this.props,e)||!r(this.state,t)}};t.exports=o},{"./shallowEqual":836}],712:[function(e,t,n){/**
 * Copyright 2013-2015, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule ReactCompositeComponent
 */
"use strict";function r(e){var t=e._currentElement._owner||null;if(t){var n=t.getName();if(n)return" Check the render method of `"+n+"`."}return""}var o=e("./ReactComponentEnvironment"),i=e("./ReactContext"),s=e("./ReactCurrentOwner"),a=e("./ReactElement"),u=(e("./ReactElementValidator"),e("./ReactInstanceMap")),l=e("./ReactLifeCycle"),c=e("./ReactNativeComponent"),p=e("./ReactPerf"),d=e("./ReactPropTypeLocations"),h=(e("./ReactPropTypeLocationNames"),e("./ReactReconciler")),f=e("./ReactUpdates"),m=e("./Object.assign"),g=e("./emptyObject"),v=e("./invariant"),b=e("./shouldUpdateReactComponent"),y=(e("./warning"),1),_={construct:function(e){this._currentElement=e,this._rootNodeID=null,this._instance=null,this._pendingElement=null,this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1,this._renderedComponent=null,this._context=null,this._mountOrder=0,this._isTopLevel=!1,this._pendingCallbacks=null},mountComponent:function(e,t,n){this._context=n,this._mountOrder=y++,this._rootNodeID=e;
var r=this._processProps(this._currentElement.props),o=this._processContext(this._currentElement._context),i=c.getComponentClassForElement(this._currentElement),s=new i(r,o);s.props=r,s.context=o,s.refs=g,this._instance=s,u.set(s,this);var a=s.state;void 0===a&&(s.state=a=null),v("object"==typeof a&&!Array.isArray(a)),this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1;var p,d,f=l.currentlyMountingInstance;l.currentlyMountingInstance=this;try{s.componentWillMount&&(s.componentWillMount(),this._pendingStateQueue&&(s.state=this._processPendingState(s.props,s.context))),p=this._getValidatedChildContext(n),d=this._renderValidatedComponent(p)}finally{l.currentlyMountingInstance=f}this._renderedComponent=this._instantiateReactComponent(d,this._currentElement.type);var m=h.mountComponent(this._renderedComponent,e,t,this._mergeChildContext(n,p));return s.componentDidMount&&t.getReactMountReady().enqueue(s.componentDidMount,s),m},unmountComponent:function(){var e=this._instance;if(e.componentWillUnmount){
var t=l.currentlyUnmountingInstance;l.currentlyUnmountingInstance=this;try{e.componentWillUnmount()}finally{l.currentlyUnmountingInstance=t}}h.unmountComponent(this._renderedComponent),this._renderedComponent=null,this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1,this._pendingCallbacks=null,this._pendingElement=null,this._context=null,this._rootNodeID=null,u.remove(e)},_setPropsInternal:function(e,t){var n=this._pendingElement||this._currentElement;this._pendingElement=a.cloneAndReplaceProps(n,m({},n.props,e)),f.enqueueUpdate(this,t)},_maskContext:function(e){var t=null;if("string"==typeof this._currentElement.type)return g;var n=this._currentElement.type.contextTypes;if(!n)return g;t={};for(var r in n)t[r]=e[r];return t},_processContext:function(e){var t=this._maskContext(e);return t},_getValidatedChildContext:function(e){var t=this._instance,n=t.getChildContext&&t.getChildContext();if(n){v("object"==typeof t.constructor.childContextTypes);for(var r in n)v(r in t.constructor.childContextTypes);
return n}return null},_mergeChildContext:function(e,t){return t?m({},e,t):e},_processProps:function(e){return e},_checkPropTypes:function(e,t,n){var o=this.getName();for(var i in e)if(e.hasOwnProperty(i)){var s;try{v("function"==typeof e[i]),s=e[i](t,i,o,n)}catch(a){s=a}if(s instanceof Error){r(this);n===d.prop}}},receiveComponent:function(e,t,n){var r=this._currentElement,o=this._context;this._pendingElement=null,this.updateComponent(t,r,e,o,n)},performUpdateIfNecessary:function(e){null!=this._pendingElement&&h.receiveComponent(this,this._pendingElement||this._currentElement,e,this._context),(null!==this._pendingStateQueue||this._pendingForceUpdate)&&this.updateComponent(e,this._currentElement,this._currentElement,this._context,this._context)},_warnIfContextsDiffer:function(e,t){e=this._maskContext(e),t=this._maskContext(t);for(var n=Object.keys(t).sort(),r=(this.getName()||"ReactCompositeComponent",0);r<n.length;r++){n[r]}},updateComponent:function(e,t,n,r,o){var i=this._instance,s=i.context,a=i.props;t!==n&&(s=this._processContext(n._context),
a=this._processProps(n.props),i.componentWillReceiveProps&&i.componentWillReceiveProps(a,s));var u=this._processPendingState(a,s),l=this._pendingForceUpdate||!i.shouldComponentUpdate||i.shouldComponentUpdate(a,u,s);l?(this._pendingForceUpdate=!1,this._performComponentUpdate(n,a,u,s,e,o)):(this._currentElement=n,this._context=o,i.props=a,i.state=u,i.context=s)},_processPendingState:function(e,t){var n=this._instance,r=this._pendingStateQueue,o=this._pendingReplaceState;if(this._pendingReplaceState=!1,this._pendingStateQueue=null,!r)return n.state;if(o&&1===r.length)return r[0];for(var i=m({},o?r[0]:n.state),s=o?1:0;s<r.length;s++){var a=r[s];m(i,"function"==typeof a?a.call(n,i,e,t):a)}return i},_performComponentUpdate:function(e,t,n,r,o,i){var s=this._instance,a=s.props,u=s.state,l=s.context;s.componentWillUpdate&&s.componentWillUpdate(t,n,r),this._currentElement=e,this._context=i,s.props=t,s.state=n,s.context=r,this._updateRenderedComponent(o,i),s.componentDidUpdate&&o.getReactMountReady().enqueue(s.componentDidUpdate.bind(s,a,u,l),s);
},_updateRenderedComponent:function(e,t){var n=this._renderedComponent,r=n._currentElement,o=this._getValidatedChildContext(),i=this._renderValidatedComponent(o);if(b(r,i))h.receiveComponent(n,i,e,this._mergeChildContext(t,o));else{var s=this._rootNodeID,a=n._rootNodeID;h.unmountComponent(n),this._renderedComponent=this._instantiateReactComponent(i,this._currentElement.type);var u=h.mountComponent(this._renderedComponent,s,e,this._mergeChildContext(t,o));this._replaceNodeWithMarkupByID(a,u)}},_replaceNodeWithMarkupByID:function(e,t){o.replaceNodeWithMarkupByID(e,t)},_renderValidatedComponentWithoutOwnerOrContext:function(){var e=this._instance,t=e.render();return t},_renderValidatedComponent:function(e){var t,n=i.current;i.current=this._mergeChildContext(this._currentElement._context,e),s.current=this;try{t=this._renderValidatedComponentWithoutOwnerOrContext()}finally{i.current=n,s.current=null}return v(null===t||t===!1||a.isValidElement(t)),t},attachRef:function(e,t){var n=this.getPublicInstance(),r=n.refs===g?n.refs={}:n.refs;
r[e]=t.getPublicInstance()},detachRef:function(e){var t=this.getPublicInstance().refs;delete t[e]},getName:function(){var e=this._currentElement.type,t=this._instance&&this._instance.constructor;return e.displayName||t&&t.displayName||e.name||t&&t.name||null},getPublicInstance:function(){return this._instance},_instantiateReactComponent:null};p.measureMethods(_,"ReactCompositeComponent",{mountComponent:"mountComponent",updateComponent:"updateComponent",_renderValidatedComponent:"_renderValidatedComponent"});var w={Mixin:_};t.exports=w},{"./Object.assign":698,"./ReactComponentEnvironment":710,"./ReactContext":713,"./ReactCurrentOwner":714,"./ReactElement":732,"./ReactElementValidator":733,"./ReactInstanceMap":742,"./ReactLifeCycle":743,"./ReactNativeComponent":749,"./ReactPerf":751,"./ReactPropTypeLocationNames":753,"./ReactPropTypeLocations":754,"./ReactReconciler":758,"./ReactUpdates":769,"./emptyObject":800,"./invariant":820,"./shouldUpdateReactComponent":837,"./warning":841}],713:[function(e,t,n){/**
 * Copyright 2013-2015, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule ReactContext
 */
"use strict";var r=e("./Object.assign"),o=e("./emptyObject"),i=(e("./warning"),{current:o,withContext:function(e,t){var n,o=i.current;i.current=r({},o,e);try{n=t()}finally{i.current=o}return n}});t.exports=i},{"./Object.assign":698,"./emptyObject":800,"./warning":841}],714:[function(e,t,n){/**
 * Copyright 2013-2015, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule ReactCurrentOwner
 */
"use strict";var r={current:null};t.exports=r},{}],715:[function(e,t,n){/**
 * Copyright 2013-2015, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule ReactDOM
 * @typechecks static-only
 */
"use strict";function r(e){return o.createFactory(e)}var o=e("./ReactElement"),i=(e("./ReactElementValidator"),e("./mapObject")),s=i({a:"a",abbr:"abbr",address:"address",area:"area",article:"article",aside:"aside",audio:"audio",b:"b",base:"base",bdi:"bdi",bdo:"bdo",big:"big",blockquote:"blockquote",body:"body",br:"br",button:"button",canvas:"canvas",caption:"caption",cite:"cite",code:"code",col:"col",colgroup:"colgroup",data:"data",datalist:"datalist",dd:"dd",del:"del",details:"details",dfn:"dfn",dialog:"dialog",div:"div",dl:"dl",dt:"dt",em:"em",embed:"embed",fieldset:"fieldset",figcaption:"figcaption",figure:"figure",footer:"footer",form:"form",h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",head:"head",header:"header",hr:"hr",html:"html",i:"i",iframe:"iframe",img:"img",input:"input",ins:"ins",kbd:"kbd",keygen:"keygen",label:"label",legend:"legend",li:"li",link:"link",main:"main",map:"map",mark:"mark",menu:"menu",menuitem:"menuitem",meta:"meta",meter:"meter",nav:"nav",noscript:"noscript",object:"object",ol:"ol",
optgroup:"optgroup",option:"option",output:"output",p:"p",param:"param",picture:"picture",pre:"pre",progress:"progress",q:"q",rp:"rp",rt:"rt",ruby:"ruby",s:"s",samp:"samp",script:"script",section:"section",select:"select",small:"small",source:"source",span:"span",strong:"strong",style:"style",sub:"sub",summary:"summary",sup:"sup",table:"table",tbody:"tbody",td:"td",textarea:"textarea",tfoot:"tfoot",th:"th",thead:"thead",time:"time",title:"title",tr:"tr",track:"track",u:"u",ul:"ul","var":"var",video:"video",wbr:"wbr",circle:"circle",clipPath:"clipPath",defs:"defs",ellipse:"ellipse",g:"g",line:"line",linearGradient:"linearGradient",mask:"mask",path:"path",pattern:"pattern",polygon:"polygon",polyline:"polyline",radialGradient:"radialGradient",rect:"rect",stop:"stop",svg:"svg",text:"text",tspan:"tspan"},r);t.exports=s},{"./ReactElement":732,"./ReactElementValidator":733,"./mapObject":828}],716:[function(e,t,n){/**
 * Copyright 2013-2015, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule ReactDOMButton
 */
"use strict";var r=e("./AutoFocusMixin"),o=e("./ReactBrowserComponentMixin"),i=e("./ReactClass"),s=e("./ReactElement"),a=e("./keyMirror"),u=s.createFactory("button"),l=a({onClick:!0,onDoubleClick:!0,onMouseDown:!0,onMouseMove:!0,onMouseUp:!0,onClickCapture:!0,onDoubleClickCapture:!0,onMouseDownCapture:!0,onMouseMoveCapture:!0,onMouseUpCapture:!0}),c=i.createClass({displayName:"ReactDOMButton",tagName:"BUTTON",mixins:[r,o],render:function(){var e={};for(var t in this.props)!this.props.hasOwnProperty(t)||this.props.disabled&&l[t]||(e[t]=this.props[t]);return u(e,this.props.children)}});t.exports=c},{"./AutoFocusMixin":671,"./ReactBrowserComponentMixin":701,"./ReactClass":707,"./ReactElement":732,"./keyMirror":826}],717:[function(e,t,n){/**
 * Copyright 2013-2015, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule ReactDOMComponent
 * @typechecks static-only
 */
"use strict";function r(e){e&&(null!=e.dangerouslySetInnerHTML&&(v(null==e.children),v("object"==typeof e.dangerouslySetInnerHTML&&"__html"in e.dangerouslySetInnerHTML)),v(null==e.style||"object"==typeof e.style))}function o(e,t,n,r){var o=d.findReactContainerForID(e);if(o){var i=o.nodeType===C?o.ownerDocument:o;_(t,i)}r.getPutListenerQueue().enqueuePutListener(e,t,n)}function i(e){A.call(D,e)||(v(S.test(e)),D[e]=!0)}function s(e){i(e),this._tag=e,this._renderedChildren=null,this._previousStyleCopy=null,this._rootNodeID=null}var a=e("./CSSPropertyOperations"),u=e("./DOMProperty"),l=e("./DOMPropertyOperations"),c=e("./ReactBrowserEventEmitter"),p=e("./ReactComponentBrowserEnvironment"),d=e("./ReactMount"),h=e("./ReactMultiChild"),f=e("./ReactPerf"),m=e("./Object.assign"),g=e("./escapeTextContentForBrowser"),v=e("./invariant"),b=(e("./isEventSupported"),e("./keyOf")),y=(e("./warning"),c.deleteListener),_=c.listenTo,w=c.registrationNameModules,k={string:!0,number:!0},x=b({style:null}),C=1,E=null,T={area:!0,base:!0,
br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},S=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,D={},A={}.hasOwnProperty;s.displayName="ReactDOMComponent",s.Mixin={construct:function(e){this._currentElement=e},mountComponent:function(e,t,n){this._rootNodeID=e,r(this._currentElement.props);var o=T[this._tag]?"":"</"+this._tag+">";return this._createOpenTagMarkupAndPutListeners(t)+this._createContentMarkup(t,n)+o},_createOpenTagMarkupAndPutListeners:function(e){var t=this._currentElement.props,n="<"+this._tag;for(var r in t)if(t.hasOwnProperty(r)){var i=t[r];if(null!=i)if(w.hasOwnProperty(r))o(this._rootNodeID,r,i,e);else{r===x&&(i&&(i=this._previousStyleCopy=m({},t.style)),i=a.createMarkupForStyles(i));var s=l.createMarkupForProperty(r,i);s&&(n+=" "+s)}}if(e.renderToStaticMarkup)return n+">";var u=l.createMarkupForID(this._rootNodeID);return n+" "+u+">"},_createContentMarkup:function(e,t){var n="";("listing"===this._tag||"pre"===this._tag||"textarea"===this._tag)&&(n="\n");
var r=this._currentElement.props,o=r.dangerouslySetInnerHTML;if(null!=o){if(null!=o.__html)return n+o.__html}else{var i=k[typeof r.children]?r.children:null,s=null!=i?null:r.children;if(null!=i)return n+g(i);if(null!=s){var a=this.mountChildren(s,e,t);return n+a.join("")}}return n},receiveComponent:function(e,t,n){var r=this._currentElement;this._currentElement=e,this.updateComponent(t,r,e,n)},updateComponent:function(e,t,n,o){r(this._currentElement.props),this._updateDOMProperties(t.props,e),this._updateDOMChildren(t.props,e,o)},_updateDOMProperties:function(e,t){var n,r,i,s=this._currentElement.props;for(n in e)if(!s.hasOwnProperty(n)&&e.hasOwnProperty(n))if(n===x){var a=this._previousStyleCopy;for(r in a)a.hasOwnProperty(r)&&(i=i||{},i[r]="");this._previousStyleCopy=null}else w.hasOwnProperty(n)?y(this._rootNodeID,n):(u.isStandardName[n]||u.isCustomAttribute(n))&&E.deletePropertyByID(this._rootNodeID,n);for(n in s){var l=s[n],c=n===x?this._previousStyleCopy:e[n];if(s.hasOwnProperty(n)&&l!==c)if(n===x)if(l?l=this._previousStyleCopy=m({},l):this._previousStyleCopy=null,
c){for(r in c)!c.hasOwnProperty(r)||l&&l.hasOwnProperty(r)||(i=i||{},i[r]="");for(r in l)l.hasOwnProperty(r)&&c[r]!==l[r]&&(i=i||{},i[r]=l[r])}else i=l;else w.hasOwnProperty(n)?o(this._rootNodeID,n,l,t):(u.isStandardName[n]||u.isCustomAttribute(n))&&E.updatePropertyByID(this._rootNodeID,n,l)}i&&E.updateStylesByID(this._rootNodeID,i)},_updateDOMChildren:function(e,t,n){var r=this._currentElement.props,o=k[typeof e.children]?e.children:null,i=k[typeof r.children]?r.children:null,s=e.dangerouslySetInnerHTML&&e.dangerouslySetInnerHTML.__html,a=r.dangerouslySetInnerHTML&&r.dangerouslySetInnerHTML.__html,u=null!=o?null:e.children,l=null!=i?null:r.children,c=null!=o||null!=s,p=null!=i||null!=a;null!=u&&null==l?this.updateChildren(null,t,n):c&&!p&&this.updateTextContent(""),null!=i?o!==i&&this.updateTextContent(""+i):null!=a?s!==a&&E.updateInnerHTMLByID(this._rootNodeID,a):null!=l&&this.updateChildren(l,t,n)},unmountComponent:function(){this.unmountChildren(),c.deleteAllListeners(this._rootNodeID),p.unmountIDFromEnvironment(this._rootNodeID),
this._rootNodeID=null}},f.measureMethods(s,"ReactDOMComponent",{mountComponent:"mountComponent",updateComponent:"updateComponent"}),m(s.prototype,s.Mixin,h.Mixin),s.injection={injectIDOperations:function(e){s.BackendIDOperations=E=e}},t.exports=s},{"./CSSPropertyOperations":675,"./DOMProperty":680,"./DOMPropertyOperations":681,"./Object.assign":698,"./ReactBrowserEventEmitter":702,"./ReactComponentBrowserEnvironment":709,"./ReactMount":746,"./ReactMultiChild":747,"./ReactPerf":751,"./escapeTextContentForBrowser":801,"./invariant":820,"./isEventSupported":821,"./keyOf":827,"./warning":841}],718:[function(e,t,n){/**
 * Copyright 2013-2015, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule ReactDOMForm
 */
"use strict";var r=e("./EventConstants"),o=e("./LocalEventTrapMixin"),i=e("./ReactBrowserComponentMixin"),s=e("./ReactClass"),a=e("./ReactElement"),u=a.createFactory("form"),l=s.createClass({displayName:"ReactDOMForm",tagName:"FORM",mixins:[i,o],render:function(){return u(this.props)},componentDidMount:function(){this.trapBubbledEvent(r.topLevelTypes.topReset,"reset"),this.trapBubbledEvent(r.topLevelTypes.topSubmit,"submit")}});t.exports=l},{"./EventConstants":685,"./LocalEventTrapMixin":696,"./ReactBrowserComponentMixin":701,"./ReactClass":707,"./ReactElement":732}],719:[function(e,t,n){/**
 * Copyright 2013-2015, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule ReactDOMIDOperations
 * @typechecks static-only
 */
"use strict";var r=e("./CSSPropertyOperations"),o=e("./DOMChildrenOperations"),i=e("./DOMPropertyOperations"),s=e("./ReactMount"),a=e("./ReactPerf"),u=e("./invariant"),l=e("./setInnerHTML"),c={dangerouslySetInnerHTML:"`dangerouslySetInnerHTML` must be set using `updateInnerHTMLByID()`.",style:"`style` must be set using `updateStylesByID()`."},p={updatePropertyByID:function(e,t,n){var r=s.getNode(e);u(!c.hasOwnProperty(t)),null!=n?i.setValueForProperty(r,t,n):i.deleteValueForProperty(r,t)},deletePropertyByID:function(e,t,n){var r=s.getNode(e);u(!c.hasOwnProperty(t)),i.deleteValueForProperty(r,t,n)},updateStylesByID:function(e,t){var n=s.getNode(e);r.setValueForStyles(n,t)},updateInnerHTMLByID:function(e,t){var n=s.getNode(e);l(n,t)},updateTextContentByID:function(e,t){var n=s.getNode(e);o.updateTextContent(n,t)},dangerouslyReplaceNodeWithMarkupByID:function(e,t){var n=s.getNode(e);o.dangerouslyReplaceNodeWithMarkup(n,t)},dangerouslyProcessChildrenUpdates:function(e,t){for(var n=0;n<e.length;n++)e[n].parentNode=s.getNode(e[n].parentID);
o.processUpdates(e,t)}};a.measureMethods(p,"ReactDOMIDOperations",{updatePropertyByID:"updatePropertyByID",deletePropertyByID:"deletePropertyByID",updateStylesByID:"updateStylesByID",updateInnerHTMLByID:"updateInnerHTMLByID",updateTextContentByID:"updateTextContentByID",dangerouslyReplaceNodeWithMarkupByID:"dangerouslyReplaceNodeWithMarkupByID",dangerouslyProcessChildrenUpdates:"dangerouslyProcessChildrenUpdates"}),t.exports=p},{"./CSSPropertyOperations":675,"./DOMChildrenOperations":679,"./DOMPropertyOperations":681,"./ReactMount":746,"./ReactPerf":751,"./invariant":820,"./setInnerHTML":834}],720:[function(e,t,n){/**
 * Copyright 2013-2015, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule ReactDOMIframe
 */
"use strict";var r=e("./EventConstants"),o=e("./LocalEventTrapMixin"),i=e("./ReactBrowserComponentMixin"),s=e("./ReactClass"),a=e("./ReactElement"),u=a.createFactory("iframe"),l=s.createClass({displayName:"ReactDOMIframe",tagName:"IFRAME",mixins:[i,o],render:function(){return u(this.props)},componentDidMount:function(){this.trapBubbledEvent(r.topLevelTypes.topLoad,"load")}});t.exports=l},{"./EventConstants":685,"./LocalEventTrapMixin":696,"./ReactBrowserComponentMixin":701,"./ReactClass":707,"./ReactElement":732}],721:[function(e,t,n){/**
 * Copyright 2013-2015, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule ReactDOMImg
 */
"use strict";var r=e("./EventConstants"),o=e("./LocalEventTrapMixin"),i=e("./ReactBrowserComponentMixin"),s=e("./ReactClass"),a=e("./ReactElement"),u=a.createFactory("img"),l=s.createClass({displayName:"ReactDOMImg",tagName:"IMG",mixins:[i,o],render:function(){return u(this.props)},componentDidMount:function(){this.trapBubbledEvent(r.topLevelTypes.topLoad,"load"),this.trapBubbledEvent(r.topLevelTypes.topError,"error")}});t.exports=l},{"./EventConstants":685,"./LocalEventTrapMixin":696,"./ReactBrowserComponentMixin":701,"./ReactClass":707,"./ReactElement":732}],722:[function(e,t,n){/**
 * Copyright 2013-2015, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule ReactDOMInput
 */
"use strict";function r(){this.isMounted()&&this.forceUpdate()}var o=e("./AutoFocusMixin"),i=e("./DOMPropertyOperations"),s=e("./LinkedValueUtils"),a=e("./ReactBrowserComponentMixin"),u=e("./ReactClass"),l=e("./ReactElement"),c=e("./ReactMount"),p=e("./ReactUpdates"),d=e("./Object.assign"),h=e("./invariant"),f=l.createFactory("input"),m={},g=u.createClass({displayName:"ReactDOMInput",tagName:"INPUT",mixins:[o,s.Mixin,a],getInitialState:function(){var e=this.props.defaultValue;return{initialChecked:this.props.defaultChecked||!1,initialValue:null!=e?e:null}},render:function(){var e=d({},this.props);e.defaultChecked=null,e.defaultValue=null;var t=s.getValue(this);e.value=null!=t?t:this.state.initialValue;var n=s.getChecked(this);return e.checked=null!=n?n:this.state.initialChecked,e.onChange=this._handleChange,f(e,this.props.children)},componentDidMount:function(){var e=c.getID(this.getDOMNode());m[e]=this},componentWillUnmount:function(){var e=this.getDOMNode(),t=c.getID(e);delete m[t]},componentDidUpdate:function(e,t,n){
var r=this.getDOMNode();null!=this.props.checked&&i.setValueForProperty(r,"checked",this.props.checked||!1);var o=s.getValue(this);null!=o&&i.setValueForProperty(r,"value",""+o)},_handleChange:function(e){var t,n=s.getOnChange(this);n&&(t=n.call(this,e)),p.asap(r,this);var o=this.props.name;if("radio"===this.props.type&&null!=o){for(var i=this.getDOMNode(),a=i;a.parentNode;)a=a.parentNode;for(var u=a.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),l=0,d=u.length;d>l;l++){var f=u[l];if(f!==i&&f.form===i.form){var g=c.getID(f);h(g);var v=m[g];h(v),p.asap(r,v)}}}return t}});t.exports=g},{"./AutoFocusMixin":671,"./DOMPropertyOperations":681,"./LinkedValueUtils":695,"./Object.assign":698,"./ReactBrowserComponentMixin":701,"./ReactClass":707,"./ReactElement":732,"./ReactMount":746,"./ReactUpdates":769,"./invariant":820}],723:[function(e,t,n){/**
 * Copyright 2013-2015, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule ReactDOMOption
 */
"use strict";var r=e("./ReactBrowserComponentMixin"),o=e("./ReactClass"),i=e("./ReactElement"),s=(e("./warning"),i.createFactory("option")),a=o.createClass({displayName:"ReactDOMOption",tagName:"OPTION",mixins:[r],componentWillMount:function(){},render:function(){return s(this.props,this.props.children)}});t.exports=a},{"./ReactBrowserComponentMixin":701,"./ReactClass":707,"./ReactElement":732,"./warning":841}],724:[function(e,t,n){/**
 * Copyright 2013-2015, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule ReactDOMSelect
 */
"use strict";function r(){if(this._pendingUpdate){this._pendingUpdate=!1;var e=a.getValue(this);null!=e&&this.isMounted()&&i(this,e)}}function o(e,t,n){if(null==e[t])return null;if(e.multiple){if(!Array.isArray(e[t]))return new Error("The `"+t+"` prop supplied to <select> must be an array if `multiple` is true.")}else if(Array.isArray(e[t]))return new Error("The `"+t+"` prop supplied to <select> must be a scalar value if `multiple` is false.")}function i(e,t){var n,r,o,i=e.getDOMNode().options;if(e.props.multiple){for(n={},r=0,o=t.length;o>r;r++)n[""+t[r]]=!0;for(r=0,o=i.length;o>r;r++){var s=n.hasOwnProperty(i[r].value);i[r].selected!==s&&(i[r].selected=s)}}else{for(n=""+t,r=0,o=i.length;o>r;r++)if(i[r].value===n)return void(i[r].selected=!0);i.length&&(i[0].selected=!0)}}var s=e("./AutoFocusMixin"),a=e("./LinkedValueUtils"),u=e("./ReactBrowserComponentMixin"),l=e("./ReactClass"),c=e("./ReactElement"),p=e("./ReactUpdates"),d=e("./Object.assign"),h=c.createFactory("select"),f=l.createClass({displayName:"ReactDOMSelect",
tagName:"SELECT",mixins:[s,a.Mixin,u],propTypes:{defaultValue:o,value:o},render:function(){var e=d({},this.props);return e.onChange=this._handleChange,e.value=null,h(e,this.props.children)},componentWillMount:function(){this._pendingUpdate=!1},componentDidMount:function(){var e=a.getValue(this);null!=e?i(this,e):null!=this.props.defaultValue&&i(this,this.props.defaultValue)},componentDidUpdate:function(e){var t=a.getValue(this);null!=t?(this._pendingUpdate=!1,i(this,t)):!e.multiple!=!this.props.multiple&&(null!=this.props.defaultValue?i(this,this.props.defaultValue):i(this,this.props.multiple?[]:""))},_handleChange:function(e){var t,n=a.getOnChange(this);return n&&(t=n.call(this,e)),this._pendingUpdate=!0,p.asap(r,this),t}});t.exports=f},{"./AutoFocusMixin":671,"./LinkedValueUtils":695,"./Object.assign":698,"./ReactBrowserComponentMixin":701,"./ReactClass":707,"./ReactElement":732,"./ReactUpdates":769}],725:[function(e,t,n){/**
 * Copyright 2013-2015, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule ReactDOMSelection
 */
"use strict";function r(e,t,n,r){return e===n&&t===r}function o(e){var t=document.selection,n=t.createRange(),r=n.text.length,o=n.duplicate();o.moveToElementText(e),o.setEndPoint("EndToStart",n);var i=o.text.length,s=i+r;return{start:i,end:s}}function i(e){var t=window.getSelection&&window.getSelection();if(!t||0===t.rangeCount)return null;var n=t.anchorNode,o=t.anchorOffset,i=t.focusNode,s=t.focusOffset,a=t.getRangeAt(0),u=r(t.anchorNode,t.anchorOffset,t.focusNode,t.focusOffset),l=u?0:a.toString().length,c=a.cloneRange();c.selectNodeContents(e),c.setEnd(a.startContainer,a.startOffset);var p=r(c.startContainer,c.startOffset,c.endContainer,c.endOffset),d=p?0:c.toString().length,h=d+l,f=document.createRange();f.setStart(n,o),f.setEnd(i,s);var m=f.collapsed;return{start:m?h:d,end:m?d:h}}function s(e,t){var n,r,o=document.selection.createRange().duplicate();"undefined"==typeof t.end?(n=t.start,r=n):t.start>t.end?(n=t.end,r=t.start):(n=t.start,r=t.end),o.moveToElementText(e),o.moveStart("character",n),o.setEndPoint("EndToStart",o),
o.moveEnd("character",r-n),o.select()}function a(e,t){if(window.getSelection){var n=window.getSelection(),r=e[c()].length,o=Math.min(t.start,r),i="undefined"==typeof t.end?o:Math.min(t.end,r);if(!n.extend&&o>i){var s=i;i=o,o=s}var a=l(e,o),u=l(e,i);if(a&&u){var p=document.createRange();p.setStart(a.node,a.offset),n.removeAllRanges(),o>i?(n.addRange(p),n.extend(u.node,u.offset)):(p.setEnd(u.node,u.offset),n.addRange(p))}}}var u=e("./ExecutionEnvironment"),l=e("./getNodeForCharacterOffset"),c=e("./getTextContentAccessor"),p=u.canUseDOM&&"selection"in document&&!("getSelection"in window),d={getOffsets:p?o:i,setOffsets:p?s:a};t.exports=d},{"./ExecutionEnvironment":691,"./getNodeForCharacterOffset":813,"./getTextContentAccessor":815}],726:[function(e,t,n){/**
 * Copyright 2013-2015, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule ReactDOMTextComponent
 * @typechecks static-only
 */
"use strict";var r=e("./DOMPropertyOperations"),o=e("./ReactComponentBrowserEnvironment"),i=e("./ReactDOMComponent"),s=e("./Object.assign"),a=e("./escapeTextContentForBrowser"),u=function(e){};s(u.prototype,{construct:function(e){this._currentElement=e,this._stringText=""+e,this._rootNodeID=null,this._mountIndex=0},mountComponent:function(e,t,n){this._rootNodeID=e;var o=a(this._stringText);return t.renderToStaticMarkup?o:"<span "+r.createMarkupForID(e)+">"+o+"</span>"},receiveComponent:function(e,t){if(e!==this._currentElement){this._currentElement=e;var n=""+e;n!==this._stringText&&(this._stringText=n,i.BackendIDOperations.updateTextContentByID(this._rootNodeID,n))}},unmountComponent:function(){o.unmountIDFromEnvironment(this._rootNodeID)}}),t.exports=u},{"./DOMPropertyOperations":681,"./Object.assign":698,"./ReactComponentBrowserEnvironment":709,"./ReactDOMComponent":717,"./escapeTextContentForBrowser":801}],727:[function(e,t,n){/**
 * Copyright 2013-2015, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule ReactDOMTextarea
 */
"use strict";function r(){this.isMounted()&&this.forceUpdate()}var o=e("./AutoFocusMixin"),i=e("./DOMPropertyOperations"),s=e("./LinkedValueUtils"),a=e("./ReactBrowserComponentMixin"),u=e("./ReactClass"),l=e("./ReactElement"),c=e("./ReactUpdates"),p=e("./Object.assign"),d=e("./invariant"),h=(e("./warning"),l.createFactory("textarea")),f=u.createClass({displayName:"ReactDOMTextarea",tagName:"TEXTAREA",mixins:[o,s.Mixin,a],getInitialState:function(){var e=this.props.defaultValue,t=this.props.children;null!=t&&(d(null==e),Array.isArray(t)&&(d(t.length<=1),t=t[0]),e=""+t),null==e&&(e="");var n=s.getValue(this);return{initialValue:""+(null!=n?n:e)}},render:function(){var e=p({},this.props);return d(null==e.dangerouslySetInnerHTML),e.defaultValue=null,e.value=null,e.onChange=this._handleChange,h(e,this.state.initialValue)},componentDidUpdate:function(e,t,n){var r=s.getValue(this);if(null!=r){var o=this.getDOMNode();i.setValueForProperty(o,"value",""+r)}},_handleChange:function(e){var t,n=s.getOnChange(this);return n&&(t=n.call(this,e)),
c.asap(r,this),t}});t.exports=f},{"./AutoFocusMixin":671,"./DOMPropertyOperations":681,"./LinkedValueUtils":695,"./Object.assign":698,"./ReactBrowserComponentMixin":701,"./ReactClass":707,"./ReactElement":732,"./ReactUpdates":769,"./invariant":820,"./warning":841}],728:[function(e,t,n){/**
 * Copyright 2013-2015, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule ReactDefaultBatchingStrategy
 */
"use strict";function r(){this.reinitializeTransaction()}var o=e("./ReactUpdates"),i=e("./Transaction"),s=e("./Object.assign"),a=e("./emptyFunction"),u={initialize:a,close:function(){d.isBatchingUpdates=!1}},l={initialize:a,close:o.flushBatchedUpdates.bind(o)},c=[l,u];s(r.prototype,i.Mixin,{getTransactionWrappers:function(){return c}});var p=new r,d={isBatchingUpdates:!1,batchedUpdates:function(e,t,n,r,o){var i=d.isBatchingUpdates;d.isBatchingUpdates=!0,i?e(t,n,r,o):p.perform(e,null,t,n,r,o)}};t.exports=d},{"./Object.assign":698,"./ReactUpdates":769,"./Transaction":786,"./emptyFunction":799}],729:[function(e,t,n){/**
 * Copyright 2013-2015, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule ReactDefaultInjection
 */
"use strict";function r(e){return f.createClass({tagName:e.toUpperCase(),render:function(){return new D(e,null,null,null,null,this.props)}})}function o(){M.EventEmitter.injectReactEventListener(A),M.EventPluginHub.injectEventPluginOrder(u),M.EventPluginHub.injectInstanceHandle(F),M.EventPluginHub.injectMount(N),M.EventPluginHub.injectEventPluginsByName({SimpleEventPlugin:L,EnterLeaveEventPlugin:l,ChangeEventPlugin:s,MobileSafariClickEventPlugin:d,SelectEventPlugin:I,BeforeInputEventPlugin:i}),M.NativeComponent.injectGenericComponentClass(v),M.NativeComponent.injectTextComponentClass(S),M.NativeComponent.injectAutoWrapper(r),M.Class.injectMixin(h),M.NativeComponent.injectComponentClasses({button:b,form:y,iframe:k,img:_,input:x,option:C,select:E,textarea:T,html:B("html"),head:B("head"),body:B("body")}),M.DOMProperty.injectDOMPropertyConfig(p),M.DOMProperty.injectDOMPropertyConfig(R),M.EmptyComponent.injectEmptyComponent("noscript"),M.Updates.injectReconcileTransaction(O),M.Updates.injectBatchingStrategy(g),M.RootIndex.injectCreateReactRootIndex(c.canUseDOM?a.createReactRootIndex:P.createReactRootIndex),
M.Component.injectEnvironment(m),M.DOMComponent.injectIDOperations(w)}var i=e("./BeforeInputEventPlugin"),s=e("./ChangeEventPlugin"),a=e("./ClientReactRootIndex"),u=e("./DefaultEventPluginOrder"),l=e("./EnterLeaveEventPlugin"),c=e("./ExecutionEnvironment"),p=e("./HTMLDOMPropertyConfig"),d=e("./MobileSafariClickEventPlugin"),h=e("./ReactBrowserComponentMixin"),f=e("./ReactClass"),m=e("./ReactComponentBrowserEnvironment"),g=e("./ReactDefaultBatchingStrategy"),v=e("./ReactDOMComponent"),b=e("./ReactDOMButton"),y=e("./ReactDOMForm"),_=e("./ReactDOMImg"),w=e("./ReactDOMIDOperations"),k=e("./ReactDOMIframe"),x=e("./ReactDOMInput"),C=e("./ReactDOMOption"),E=e("./ReactDOMSelect"),T=e("./ReactDOMTextarea"),S=e("./ReactDOMTextComponent"),D=e("./ReactElement"),A=e("./ReactEventListener"),M=e("./ReactInjection"),F=e("./ReactInstanceHandles"),N=e("./ReactMount"),O=e("./ReactReconcileTransaction"),I=e("./SelectEventPlugin"),P=e("./ServerReactRootIndex"),L=e("./SimpleEventPlugin"),R=e("./SVGDOMPropertyConfig"),B=e("./createFullPageComponent");
t.exports={inject:o}},{"./BeforeInputEventPlugin":672,"./ChangeEventPlugin":677,"./ClientReactRootIndex":678,"./DefaultEventPluginOrder":683,"./EnterLeaveEventPlugin":684,"./ExecutionEnvironment":691,"./HTMLDOMPropertyConfig":693,"./MobileSafariClickEventPlugin":697,"./ReactBrowserComponentMixin":701,"./ReactClass":707,"./ReactComponentBrowserEnvironment":709,"./ReactDOMButton":716,"./ReactDOMComponent":717,"./ReactDOMForm":718,"./ReactDOMIDOperations":719,"./ReactDOMIframe":720,"./ReactDOMImg":721,"./ReactDOMInput":722,"./ReactDOMOption":723,"./ReactDOMSelect":724,"./ReactDOMTextComponent":726,"./ReactDOMTextarea":727,"./ReactDefaultBatchingStrategy":728,"./ReactDefaultPerf":730,"./ReactElement":732,"./ReactEventListener":737,"./ReactInjection":739,"./ReactInstanceHandles":741,"./ReactMount":746,"./ReactReconcileTransaction":757,"./SVGDOMPropertyConfig":771,"./SelectEventPlugin":772,"./ServerReactRootIndex":773,"./SimpleEventPlugin":774,"./createFullPageComponent":795}],730:[function(e,t,n){/**
 * Copyright 2013-2015, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule ReactDefaultPerf
 * @typechecks static-only
 */
"use strict";function r(e){return Math.floor(100*e)/100}function o(e,t,n){e[t]=(e[t]||0)+n}var i=e("./DOMProperty"),s=e("./ReactDefaultPerfAnalysis"),a=e("./ReactMount"),u=e("./ReactPerf"),l=e("./performanceNow"),c={_allMeasurements:[],_mountStack:[0],_injected:!1,start:function(){c._injected||u.injection.injectMeasure(c.measure),c._allMeasurements.length=0,u.enableMeasure=!0},stop:function(){u.enableMeasure=!1},getLastMeasurements:function(){return c._allMeasurements},printExclusive:function(e){e=e||c._allMeasurements;var t=s.getExclusiveSummary(e);console.table(t.map(function(e){return{"Component class name":e.componentName,"Total inclusive time (ms)":r(e.inclusive),"Exclusive mount time (ms)":r(e.exclusive),"Exclusive render time (ms)":r(e.render),"Mount time per instance (ms)":r(e.exclusive/e.count),"Render time per instance (ms)":r(e.render/e.count),Instances:e.count}}))},printInclusive:function(e){e=e||c._allMeasurements;var t=s.getInclusiveSummary(e);console.table(t.map(function(e){return{"Owner > component":e.componentName,
"Inclusive time (ms)":r(e.time),Instances:e.count}})),console.log("Total time:",s.getTotalTime(e).toFixed(2)+" ms")},getMeasurementsSummaryMap:function(e){var t=s.getInclusiveSummary(e,!0);return t.map(function(e){return{"Owner > component":e.componentName,"Wasted time (ms)":e.time,Instances:e.count}})},printWasted:function(e){e=e||c._allMeasurements,console.table(c.getMeasurementsSummaryMap(e)),console.log("Total time:",s.getTotalTime(e).toFixed(2)+" ms")},printDOM:function(e){e=e||c._allMeasurements;var t=s.getDOMSummary(e);console.table(t.map(function(e){var t={};return t[i.ID_ATTRIBUTE_NAME]=e.id,t.type=e.type,t.args=JSON.stringify(e.args),t})),console.log("Total time:",s.getTotalTime(e).toFixed(2)+" ms")},_recordWrite:function(e,t,n,r){var o=c._allMeasurements[c._allMeasurements.length-1].writes;o[e]=o[e]||[],o[e].push({type:t,time:n,args:r})},measure:function(e,t,n){return function(){for(var r=[],i=0,s=arguments.length;s>i;i++)r.push(arguments[i]);var u,p,d;if("_renderNewRootComponent"===t||"flushBatchedUpdates"===t)return c._allMeasurements.push({
exclusive:{},inclusive:{},render:{},counts:{},writes:{},displayNames:{},totalTime:0}),d=l(),p=n.apply(this,r),c._allMeasurements[c._allMeasurements.length-1].totalTime=l()-d,p;if("_mountImageIntoNode"===t||"ReactDOMIDOperations"===e){if(d=l(),p=n.apply(this,r),u=l()-d,"_mountImageIntoNode"===t){var h=a.getID(r[1]);c._recordWrite(h,t,u,r[0])}else"dangerouslyProcessChildrenUpdates"===t?r[0].forEach(function(e){var t={};null!==e.fromIndex&&(t.fromIndex=e.fromIndex),null!==e.toIndex&&(t.toIndex=e.toIndex),null!==e.textContent&&(t.textContent=e.textContent),null!==e.markupIndex&&(t.markup=r[1][e.markupIndex]),c._recordWrite(e.parentID,e.type,u,t)}):c._recordWrite(r[0],t,u,Array.prototype.slice.call(r,1));return p}if("ReactCompositeComponent"!==e||"mountComponent"!==t&&"updateComponent"!==t&&"_renderValidatedComponent"!==t)return n.apply(this,r);if("string"==typeof this._currentElement.type)return n.apply(this,r);var f="mountComponent"===t?r[0]:this._rootNodeID,m="_renderValidatedComponent"===t,g="mountComponent"===t,v=c._mountStack,b=c._allMeasurements[c._allMeasurements.length-1];
if(m?o(b.counts,f,1):g&&v.push(0),d=l(),p=n.apply(this,r),u=l()-d,m)o(b.render,f,u);else if(g){var y=v.pop();v[v.length-1]+=u,o(b.exclusive,f,u-y),o(b.inclusive,f,u)}else o(b.inclusive,f,u);return b.displayNames[f]={current:this.getName(),owner:this._currentElement._owner?this._currentElement._owner.getName():"<root>"},p}}};t.exports=c},{"./DOMProperty":680,"./ReactDefaultPerfAnalysis":731,"./ReactMount":746,"./ReactPerf":751,"./performanceNow":832}],731:[function(e,t,n){function r(e){for(var t=0,n=0;n<e.length;n++){var r=e[n];t+=r.totalTime}return t}function o(e){for(var t=[],n=0;n<e.length;n++){var r,o=e[n];for(r in o.writes)o.writes[r].forEach(function(e){t.push({id:r,type:c[e.type]||e.type,args:e.args})})}return t}function i(e){for(var t,n={},r=0;r<e.length;r++){var o=e[r],i=u({},o.exclusive,o.inclusive);for(var s in i)t=o.displayNames[s].current,n[t]=n[t]||{componentName:t,inclusive:0,exclusive:0,render:0,count:0},o.render[s]&&(n[t].render+=o.render[s]),o.exclusive[s]&&(n[t].exclusive+=o.exclusive[s]),o.inclusive[s]&&(n[t].inclusive+=o.inclusive[s]),
o.counts[s]&&(n[t].count+=o.counts[s])}var a=[];for(t in n)n[t].exclusive>=l&&a.push(n[t]);return a.sort(function(e,t){return t.exclusive-e.exclusive}),a}function s(e,t){for(var n,r={},o=0;o<e.length;o++){var i,s=e[o],c=u({},s.exclusive,s.inclusive);t&&(i=a(s));for(var p in c)if(!t||i[p]){var d=s.displayNames[p];n=d.owner+" > "+d.current,r[n]=r[n]||{componentName:n,time:0,count:0},s.inclusive[p]&&(r[n].time+=s.inclusive[p]),s.counts[p]&&(r[n].count+=s.counts[p])}}var h=[];for(n in r)r[n].time>=l&&h.push(r[n]);return h.sort(function(e,t){return t.time-e.time}),h}function a(e){var t={},n=Object.keys(e.writes),r=u({},e.exclusive,e.inclusive);for(var o in r){for(var i=!1,s=0;s<n.length;s++)if(0===n[s].indexOf(o)){i=!0;break}!i&&e.counts[o]>0&&(t[o]=!0)}return t}/**
 * Copyright 2013-2015, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule ReactDefaultPerfAnalysis
 */
var u=e("./Object.assign"),l=1.2,c={_mountImageIntoNode:"set innerHTML",INSERT_MARKUP:"set innerHTML",MOVE_EXISTING:"move",REMOVE_NODE:"remove",TEXT_CONTENT:"set textContent",updatePropertyByID:"update attribute",deletePropertyByID:"delete attribute",updateStylesByID:"update styles",updateInnerHTMLByID:"set innerHTML",dangerouslyReplaceNodeWithMarkupByID:"replace"},p={getExclusiveSummary:i,getInclusiveSummary:s,getDOMSummary:o,getTotalTime:r};t.exports=p},{"./Object.assign":698}],732:[function(e,t,n){/**
 * Copyright 2014-2015, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule ReactElement
 */
"use strict";var r=e("./ReactContext"),o=e("./ReactCurrentOwner"),i=e("./Object.assign"),s=(e("./warning"),{key:!0,ref:!0}),a=function(e,t,n,r,o,i){this.type=e,this.key=t,this.ref=n,this._owner=r,this._context=o,this.props=i};a.prototype={_isReactElement:!0},a.createElement=function(e,t,n){var i,u={},l=null,c=null;if(null!=t){c=void 0===t.ref?null:t.ref,l=void 0===t.key?null:""+t.key;for(i in t)t.hasOwnProperty(i)&&!s.hasOwnProperty(i)&&(u[i]=t[i])}var p=arguments.length-2;if(1===p)u.children=n;else if(p>1){for(var d=Array(p),h=0;p>h;h++)d[h]=arguments[h+2];u.children=d}if(e&&e.defaultProps){var f=e.defaultProps;for(i in f)"undefined"==typeof u[i]&&(u[i]=f[i])}return new a(e,l,c,o.current,r.current,u)},a.createFactory=function(e){var t=a.createElement.bind(null,e);return t.type=e,t},a.cloneAndReplaceProps=function(e,t){var n=new a(e.type,e.key,e.ref,e._owner,e._context,t);return n},a.cloneElement=function(e,t,n){var r,u=i({},e.props),l=e.key,c=e.ref,p=e._owner;if(null!=t){void 0!==t.ref&&(c=t.ref,p=o.current),
void 0!==t.key&&(l=""+t.key);for(r in t)t.hasOwnProperty(r)&&!s.hasOwnProperty(r)&&(u[r]=t[r])}var d=arguments.length-2;if(1===d)u.children=n;else if(d>1){for(var h=Array(d),f=0;d>f;f++)h[f]=arguments[f+2];u.children=h}return new a(e.type,l,c,p,e._context,u)},a.isValidElement=function(e){var t=!(!e||!e._isReactElement);return t},t.exports=a},{"./Object.assign":698,"./ReactContext":713,"./ReactCurrentOwner":714,"./warning":841}],733:[function(e,t,n){/**
 * Copyright 2014-2015, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule ReactElementValidator
 */
"use strict";function r(){if(b.current){var e=b.current.getName();if(e)return" Check the render method of `"+e+"`."}return""}function o(e){var t=e&&e.getPublicInstance();if(!t)return void 0;var n=t.constructor;return n?n.displayName||n.name||void 0:void 0}function i(){var e=b.current;return e&&o(e)||void 0}function s(e,t){e._store.validated||null!=e.key||(e._store.validated=!0,u('Each child in an array or iterator should have a unique "key" prop.',e,t))}function a(e,t,n){C.test(e)&&u("Child objects should have non-numeric keys so ordering is preserved.",t,n)}function u(e,t,n){var r=i(),s="string"==typeof n?n:n.displayName||n.name,a=r||s,u=k[e]||(k[e]={});if(!u.hasOwnProperty(a)){u[a]=!0;var l="";if(t&&t._owner&&t._owner!==b.current){var c=o(t._owner);l=" It was passed a child from "+c+"."}}}function l(e,t){if(Array.isArray(e))for(var n=0;n<e.length;n++){var r=e[n];m.isValidElement(r)&&s(r,t)}else if(m.isValidElement(e))e._store.validated=!0;else if(e){var o=_(e);if(o){if(o!==e.entries)for(var i,u=o.call(e);!(i=u.next()).done;)m.isValidElement(i.value)&&s(i.value,t);
}else if("object"==typeof e){var l=g.extractIfFragment(e);for(var c in l)l.hasOwnProperty(c)&&a(c,l[c],t)}}}function c(e,t,n,o){for(var i in t)if(t.hasOwnProperty(i)){var s;try{w("function"==typeof t[i]),s=t[i](n,i,e,o)}catch(a){s=a}if(s instanceof Error&&!(s.message in x)){x[s.message]=!0;r(this)}}}function p(e,t){var n=t.type,r="string"==typeof n?n:n.displayName,o=t._owner?t._owner.getPublicInstance().constructor.displayName:null,i=e+"|"+r+"|"+o;if(!E.hasOwnProperty(i)){E[i]=!0;var s="";r&&(s=" <"+r+" />");var a="";o&&(a=" The element was created by "+o+".")}}function d(e,t){return e!==e?t!==t:0===e&&0===t?1/e===1/t:e===t}function h(e){if(e._store){var t=e._store.originalProps,n=e.props;for(var r in n)n.hasOwnProperty(r)&&(t.hasOwnProperty(r)&&d(t[r],n[r])||(p(r,e),t[r]=n[r]))}}function f(e){if(null!=e.type){var t=y.getComponentClassForElement(e),n=t.displayName||t.name;t.propTypes&&c(n,t.propTypes,e.props,v.prop),"function"==typeof t.getDefaultProps}}var m=e("./ReactElement"),g=e("./ReactFragment"),v=e("./ReactPropTypeLocations"),b=(e("./ReactPropTypeLocationNames"),
e("./ReactCurrentOwner")),y=e("./ReactNativeComponent"),_=e("./getIteratorFn"),w=e("./invariant"),k=(e("./warning"),{}),x={},C=/^\d+$/,E={},T={checkAndWarnForMutatedProps:h,createElement:function(e,t,n){var r=m.createElement.apply(this,arguments);if(null==r)return r;for(var o=2;o<arguments.length;o++)l(arguments[o],e);return f(r),r},createFactory:function(e){var t=T.createElement.bind(null,e);return t.type=e,t},cloneElement:function(e,t,n){for(var r=m.cloneElement.apply(this,arguments),o=2;o<arguments.length;o++)l(arguments[o],r.type);return f(r),r}};t.exports=T},{"./ReactCurrentOwner":714,"./ReactElement":732,"./ReactFragment":738,"./ReactNativeComponent":749,"./ReactPropTypeLocationNames":753,"./ReactPropTypeLocations":754,"./getIteratorFn":811,"./invariant":820,"./warning":841}],734:[function(e,t,n){/**
 * Copyright 2014-2015, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule ReactEmptyComponent
 */
"use strict";function r(e){c[e]=!0}function o(e){delete c[e]}function i(e){return!!c[e]}var s,a=e("./ReactElement"),u=e("./ReactInstanceMap"),l=e("./invariant"),c={},p={injectEmptyComponent:function(e){s=a.createFactory(e)}},d=function(){};d.prototype.componentDidMount=function(){var e=u.get(this);e&&r(e._rootNodeID)},d.prototype.componentWillUnmount=function(){var e=u.get(this);e&&o(e._rootNodeID)},d.prototype.render=function(){return l(s),s()};var h=a.createElement(d),f={emptyElement:h,injection:p,isNullComponentID:i};t.exports=f},{"./ReactElement":732,"./ReactInstanceMap":742,"./invariant":820}],735:[function(e,t,n){/**
 * Copyright 2013-2015, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule ReactErrorUtils
 * @typechecks
 */
"use strict";var r={guard:function(e,t){return e}};t.exports=r},{}],736:[function(e,t,n){/**
 * Copyright 2013-2015, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule ReactEventEmitterMixin
 */
"use strict";function r(e){o.enqueueEvents(e),o.processEventQueue()}var o=e("./EventPluginHub"),i={handleTopLevel:function(e,t,n,i){var s=o.extractEvents(e,t,n,i);r(s)}};t.exports=i},{"./EventPluginHub":687}],737:[function(e,t,n){/**
 * Copyright 2013-2015, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule ReactEventListener
 * @typechecks static-only
 */
"use strict";function r(e){var t=p.getID(e),n=c.getReactRootIDFromNodeID(t),r=p.findReactContainerForID(n),o=p.getFirstReactDOM(r);return o}function o(e,t){this.topLevelType=e,this.nativeEvent=t,this.ancestors=[]}function i(e){for(var t=p.getFirstReactDOM(f(e.nativeEvent))||window,n=t;n;)e.ancestors.push(n),n=r(n);for(var o=0,i=e.ancestors.length;i>o;o++){t=e.ancestors[o];var s=p.getID(t)||"";g._handleTopLevel(e.topLevelType,t,s,e.nativeEvent)}}function s(e){var t=m(window);e(t)}var a=e("./EventListener"),u=e("./ExecutionEnvironment"),l=e("./PooledClass"),c=e("./ReactInstanceHandles"),p=e("./ReactMount"),d=e("./ReactUpdates"),h=e("./Object.assign"),f=e("./getEventTarget"),m=e("./getUnboundedScrollPosition");h(o.prototype,{destructor:function(){this.topLevelType=null,this.nativeEvent=null,this.ancestors.length=0}}),l.addPoolingTo(o,l.twoArgumentPooler);var g={_enabled:!0,_handleTopLevel:null,WINDOW_HANDLE:u.canUseDOM?window:null,setHandleTopLevel:function(e){g._handleTopLevel=e},setEnabled:function(e){g._enabled=!!e;
},isEnabled:function(){return g._enabled},trapBubbledEvent:function(e,t,n){var r=n;return r?a.listen(r,t,g.dispatchEvent.bind(null,e)):null},trapCapturedEvent:function(e,t,n){var r=n;return r?a.capture(r,t,g.dispatchEvent.bind(null,e)):null},monitorScrollValue:function(e){var t=s.bind(null,e);a.listen(window,"scroll",t)},dispatchEvent:function(e,t){if(g._enabled){var n=o.getPooled(e,t);try{d.batchedUpdates(i,n)}finally{o.release(n)}}}};t.exports=g},{"./EventListener":686,"./ExecutionEnvironment":691,"./Object.assign":698,"./PooledClass":699,"./ReactInstanceHandles":741,"./ReactMount":746,"./ReactUpdates":769,"./getEventTarget":810,"./getUnboundedScrollPosition":816}],738:[function(e,t,n){/**
 * Copyright 2015, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
* @providesModule ReactFragment
*/
"use strict";var r=(e("./ReactElement"),e("./warning"),{create:function(e){return e},extract:function(e){return e},extractIfFragment:function(e){return e}});t.exports=r},{"./ReactElement":732,"./warning":841}],739:[function(e,t,n){/**
 * Copyright 2013-2015, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule ReactInjection
 */
"use strict";var r=e("./DOMProperty"),o=e("./EventPluginHub"),i=e("./ReactComponentEnvironment"),s=e("./ReactClass"),a=e("./ReactEmptyComponent"),u=e("./ReactBrowserEventEmitter"),l=e("./ReactNativeComponent"),c=e("./ReactDOMComponent"),p=e("./ReactPerf"),d=e("./ReactRootIndex"),h=e("./ReactUpdates"),f={Component:i.injection,Class:s.injection,DOMComponent:c.injection,DOMProperty:r.injection,EmptyComponent:a.injection,EventPluginHub:o.injection,EventEmitter:u.injection,NativeComponent:l.injection,Perf:p.injection,RootIndex:d.injection,Updates:h.injection};t.exports=f},{"./DOMProperty":680,"./EventPluginHub":687,"./ReactBrowserEventEmitter":702,"./ReactClass":707,"./ReactComponentEnvironment":710,"./ReactDOMComponent":717,"./ReactEmptyComponent":734,"./ReactNativeComponent":749,"./ReactPerf":751,"./ReactRootIndex":760,"./ReactUpdates":769}],740:[function(e,t,n){/**
 * Copyright 2013-2015, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule ReactInputSelection
 */
"use strict";function r(e){return i(document.documentElement,e)}var o=e("./ReactDOMSelection"),i=e("./containsNode"),s=e("./focusNode"),a=e("./getActiveElement"),u={hasSelectionCapabilities:function(e){return e&&("INPUT"===e.nodeName&&"text"===e.type||"TEXTAREA"===e.nodeName||"true"===e.contentEditable)},getSelectionInformation:function(){var e=a();return{focusedElem:e,selectionRange:u.hasSelectionCapabilities(e)?u.getSelection(e):null}},restoreSelection:function(e){var t=a(),n=e.focusedElem,o=e.selectionRange;t!==n&&r(n)&&(u.hasSelectionCapabilities(n)&&u.setSelection(n,o),s(n))},getSelection:function(e){var t;if("selectionStart"in e)t={start:e.selectionStart,end:e.selectionEnd};else if(document.selection&&"INPUT"===e.nodeName){var n=document.selection.createRange();n.parentElement()===e&&(t={start:-n.moveStart("character",-e.value.length),end:-n.moveEnd("character",-e.value.length)})}else t=o.getOffsets(e);return t||{start:0,end:0}},setSelection:function(e,t){var n=t.start,r=t.end;if("undefined"==typeof r&&(r=n),
"selectionStart"in e)e.selectionStart=n,e.selectionEnd=Math.min(r,e.value.length);else if(document.selection&&"INPUT"===e.nodeName){var i=e.createTextRange();i.collapse(!0),i.moveStart("character",n),i.moveEnd("character",r-n),i.select()}else o.setOffsets(e,t)}};t.exports=u},{"./ReactDOMSelection":725,"./containsNode":793,"./focusNode":804,"./getActiveElement":806}],741:[function(e,t,n){/**
 * Copyright 2013-2015, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule ReactInstanceHandles
 * @typechecks static-only
 */
"use strict";function r(e){return h+e.toString(36)}function o(e,t){return e.charAt(t)===h||t===e.length}function i(e){return""===e||e.charAt(0)===h&&e.charAt(e.length-1)!==h}function s(e,t){return 0===t.indexOf(e)&&o(t,e.length)}function a(e){return e?e.substr(0,e.lastIndexOf(h)):""}function u(e,t){if(d(i(e)&&i(t)),d(s(e,t)),e===t)return e;var n,r=e.length+f;for(n=r;n<t.length&&!o(t,n);n++);return t.substr(0,n)}function l(e,t){var n=Math.min(e.length,t.length);if(0===n)return"";for(var r=0,s=0;n>=s;s++)if(o(e,s)&&o(t,s))r=s;else if(e.charAt(s)!==t.charAt(s))break;var a=e.substr(0,r);return d(i(a)),a}function c(e,t,n,r,o,i){e=e||"",t=t||"",d(e!==t);var l=s(t,e);d(l||s(e,t));for(var c=0,p=l?a:u,h=e;;h=p(h,t)){var f;if(o&&h===e||i&&h===t||(f=n(h,l,r)),f===!1||h===t)break;d(c++<m)}}var p=e("./ReactRootIndex"),d=e("./invariant"),h=".",f=h.length,m=100,g={createReactRootID:function(){return r(p.createReactRootIndex())},createReactID:function(e,t){return e+t},getReactRootIDFromNodeID:function(e){if(e&&e.charAt(0)===h&&e.length>1){
var t=e.indexOf(h,1);return t>-1?e.substr(0,t):e}return null},traverseEnterLeave:function(e,t,n,r,o){var i=l(e,t);i!==e&&c(e,i,n,r,!1,!0),i!==t&&c(i,t,n,o,!0,!1)},traverseTwoPhase:function(e,t,n){e&&(c("",e,t,n,!0,!1),c(e,"",t,n,!1,!0))},traverseAncestors:function(e,t,n){c("",e,t,n,!0,!1)},_getFirstCommonAncestorID:l,_getNextDescendantID:u,isAncestorIDOf:s,SEPARATOR:h};t.exports=g},{"./ReactRootIndex":760,"./invariant":820}],742:[function(e,t,n){/**
 * Copyright 2013-2015, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule ReactInstanceMap
 */
"use strict";var r={remove:function(e){e._reactInternalInstance=void 0},get:function(e){return e._reactInternalInstance},has:function(e){return void 0!==e._reactInternalInstance},set:function(e,t){e._reactInternalInstance=t}};t.exports=r},{}],743:[function(e,t,n){/**
 * Copyright 2015, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule ReactLifeCycle
 */
"use strict";var r={currentlyMountingInstance:null,currentlyUnmountingInstance:null};t.exports=r},{}],744:[function(e,t,n){/**
 * Copyright 2013-2015, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule ReactLink
 * @typechecks static-only
 */
"use strict";function r(e,t){this.value=e,this.requestChange=t}function o(e){var t={value:"undefined"==typeof e?i.PropTypes.any.isRequired:e.isRequired,requestChange:i.PropTypes.func.isRequired};return i.PropTypes.shape(t)}var i=e("./React");r.PropTypes={link:o},t.exports=r},{"./React":700}],745:[function(e,t,n){/**
 * Copyright 2013-2015, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule ReactMarkupChecksum
 */
"use strict";var r=e("./adler32"),o={CHECKSUM_ATTR_NAME:"data-react-checksum",addChecksumToMarkup:function(e){var t=r(e);return e.replace(">"," "+o.CHECKSUM_ATTR_NAME+'="'+t+'">')},canReuseMarkup:function(e,t){var n=t.getAttribute(o.CHECKSUM_ATTR_NAME);n=n&&parseInt(n,10);var i=r(e);return i===n}};t.exports=o},{"./adler32":789}],746:[function(e,t,n){/**
 * Copyright 2013-2015, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule ReactMount
 */
"use strict";function r(e,t){for(var n=Math.min(e.length,t.length),r=0;n>r;r++)if(e.charAt(r)!==t.charAt(r))return r;return e.length===t.length?-1:n}function o(e){var t=A(e);return t&&H.getID(t)}function i(e){var t=s(e);if(t)if(L.hasOwnProperty(t)){var n=L[t];n!==e&&(F(!c(n,t)),L[t]=e)}else L[t]=e;return t}function s(e){return e&&e.getAttribute&&e.getAttribute(P)||""}function a(e,t){var n=s(e);n!==t&&delete L[n],e.setAttribute(P,t),L[t]=e}function u(e){return L.hasOwnProperty(e)&&c(L[e],e)||(L[e]=H.findReactNodeByID(e)),L[e]}function l(e){var t=w.get(e)._rootNodeID;return y.isNullComponentID(t)?null:(L.hasOwnProperty(t)&&c(L[t],t)||(L[t]=H.findReactNodeByID(t)),L[t])}function c(e,t){if(e){F(s(e)===t);var n=H.findReactContainerForID(t);if(n&&D(n,e))return!0}return!1}function p(e){delete L[e]}function d(e){var t=L[e];return t&&c(t,e)?void(V=t):!1}function h(e){V=null,_.traverseAncestors(e,d);var t=V;return V=null,t}function f(e,t,n,r,o){var i=C.mountComponent(e,t,r,S);e._isTopLevel=!0,H._mountImageIntoNode(i,n,o);
}function m(e,t,n,r){var o=T.ReactReconcileTransaction.getPooled();o.perform(f,null,e,t,n,o,r),T.ReactReconcileTransaction.release(o)}var g=e("./DOMProperty"),v=e("./ReactBrowserEventEmitter"),b=(e("./ReactCurrentOwner"),e("./ReactElement")),y=(e("./ReactElementValidator"),e("./ReactEmptyComponent")),_=e("./ReactInstanceHandles"),w=e("./ReactInstanceMap"),k=e("./ReactMarkupChecksum"),x=e("./ReactPerf"),C=e("./ReactReconciler"),E=e("./ReactUpdateQueue"),T=e("./ReactUpdates"),S=e("./emptyObject"),D=e("./containsNode"),A=e("./getReactRootElementInContainer"),M=e("./instantiateReactComponent"),F=e("./invariant"),N=e("./setInnerHTML"),O=e("./shouldUpdateReactComponent"),I=(e("./warning"),_.SEPARATOR),P=g.ID_ATTRIBUTE_NAME,L={},R=1,B=9,j={},$={},U=[],V=null,H={_instancesByReactRootID:j,scrollMonitor:function(e,t){t()},_updateRootComponent:function(e,t,n,r){return H.scrollMonitor(n,function(){E.enqueueElementInternal(e,t),r&&E.enqueueCallbackInternal(e,r)}),e},_registerComponent:function(e,t){F(t&&(t.nodeType===R||t.nodeType===B)),
v.ensureScrollValueMonitoring();var n=H.registerContainer(t);return j[n]=e,n},_renderNewRootComponent:function(e,t,n){var r=M(e,null),o=H._registerComponent(r,t);return T.batchedUpdates(m,r,o,t,n),r},render:function(e,t,n){F(b.isValidElement(e));var r=j[o(t)];if(r){var i=r._currentElement;if(O(i,e))return H._updateRootComponent(r,e,t,n).getPublicInstance();H.unmountComponentAtNode(t)}var s=A(t),a=s&&H.isRenderedByReact(s),u=a&&!r,l=H._renderNewRootComponent(e,t,u).getPublicInstance();return n&&n.call(l),l},constructAndRenderComponent:function(e,t,n){var r=b.createElement(e,t);return H.render(r,n)},constructAndRenderComponentByID:function(e,t,n){var r=document.getElementById(n);return F(r),H.constructAndRenderComponent(e,t,r)},registerContainer:function(e){var t=o(e);return t&&(t=_.getReactRootIDFromNodeID(t)),t||(t=_.createReactRootID()),$[t]=e,t},unmountComponentAtNode:function(e){F(e&&(e.nodeType===R||e.nodeType===B));var t=o(e),n=j[t];return n?(H.unmountComponentFromNode(n,e),delete j[t],delete $[t],!0):!1},
unmountComponentFromNode:function(e,t){for(C.unmountComponent(e),t.nodeType===B&&(t=t.documentElement);t.lastChild;)t.removeChild(t.lastChild)},findReactContainerForID:function(e){var t=_.getReactRootIDFromNodeID(e),n=$[t];return n},findReactNodeByID:function(e){var t=H.findReactContainerForID(e);return H.findComponentRoot(t,e)},isRenderedByReact:function(e){if(1!==e.nodeType)return!1;var t=H.getID(e);return t?t.charAt(0)===I:!1},getFirstReactDOM:function(e){for(var t=e;t&&t.parentNode!==t;){if(H.isRenderedByReact(t))return t;t=t.parentNode}return null},findComponentRoot:function(e,t){var n=U,r=0,o=h(t)||e;for(n[0]=o.firstChild,n.length=1;r<n.length;){for(var i,s=n[r++];s;){var a=H.getID(s);a?t===a?i=s:_.isAncestorIDOf(a,t)&&(n.length=r=0,n.push(s.firstChild)):n.push(s.firstChild),s=s.nextSibling}if(i)return n.length=0,i}n.length=0,F(!1)},_mountImageIntoNode:function(e,t,n){if(F(t&&(t.nodeType===R||t.nodeType===B)),n){var o=A(t);if(k.canReuseMarkup(e,o))return;var i=o.getAttribute(k.CHECKSUM_ATTR_NAME);o.removeAttribute(k.CHECKSUM_ATTR_NAME);
var s=o.outerHTML;o.setAttribute(k.CHECKSUM_ATTR_NAME,i);var a=r(e,s);" (client) "+e.substring(a-20,a+20)+"\n (server) "+s.substring(a-20,a+20);F(t.nodeType!==B)}F(t.nodeType!==B),N(t,e)},getReactRootID:o,getID:i,setID:a,getNode:u,getNodeFromInstance:l,purgeID:p};x.measureMethods(H,"ReactMount",{_renderNewRootComponent:"_renderNewRootComponent",_mountImageIntoNode:"_mountImageIntoNode"}),t.exports=H},{"./DOMProperty":680,"./ReactBrowserEventEmitter":702,"./ReactCurrentOwner":714,"./ReactElement":732,"./ReactElementValidator":733,"./ReactEmptyComponent":734,"./ReactInstanceHandles":741,"./ReactInstanceMap":742,"./ReactMarkupChecksum":745,"./ReactPerf":751,"./ReactReconciler":758,"./ReactUpdateQueue":768,"./ReactUpdates":769,"./containsNode":793,"./emptyObject":800,"./getReactRootElementInContainer":814,"./instantiateReactComponent":819,"./invariant":820,"./setInnerHTML":834,"./shouldUpdateReactComponent":837,"./warning":841}],747:[function(e,t,n){/**
 * Copyright 2013-2015, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule ReactMultiChild
 * @typechecks static-only
 */
"use strict";function r(e,t,n){f.push({parentID:e,parentNode:null,type:c.INSERT_MARKUP,markupIndex:m.push(t)-1,textContent:null,fromIndex:null,toIndex:n})}function o(e,t,n){f.push({parentID:e,parentNode:null,type:c.MOVE_EXISTING,markupIndex:null,textContent:null,fromIndex:t,toIndex:n})}function i(e,t){f.push({parentID:e,parentNode:null,type:c.REMOVE_NODE,markupIndex:null,textContent:null,fromIndex:t,toIndex:null})}function s(e,t){f.push({parentID:e,parentNode:null,type:c.TEXT_CONTENT,markupIndex:null,textContent:t,fromIndex:null,toIndex:null})}function a(){f.length&&(l.processChildrenUpdates(f,m),u())}function u(){f.length=0,m.length=0}var l=e("./ReactComponentEnvironment"),c=e("./ReactMultiChildUpdateTypes"),p=e("./ReactReconciler"),d=e("./ReactChildReconciler"),h=0,f=[],m=[],g={Mixin:{mountChildren:function(e,t,n){var r=d.instantiateChildren(e,t,n);this._renderedChildren=r;var o=[],i=0;for(var s in r)if(r.hasOwnProperty(s)){var a=r[s],u=this._rootNodeID+s,l=p.mountComponent(a,u,t,n);a._mountIndex=i,o.push(l),
i++}return o},updateTextContent:function(e){h++;var t=!0;try{var n=this._renderedChildren;d.unmountChildren(n);for(var r in n)n.hasOwnProperty(r)&&this._unmountChildByName(n[r],r);this.setTextContent(e),t=!1}finally{h--,h||(t?u():a())}},updateChildren:function(e,t,n){h++;var r=!0;try{this._updateChildren(e,t,n),r=!1}finally{h--,h||(r?u():a())}},_updateChildren:function(e,t,n){var r=this._renderedChildren,o=d.updateChildren(r,e,t,n);if(this._renderedChildren=o,o||r){var i,s=0,a=0;for(i in o)if(o.hasOwnProperty(i)){var u=r&&r[i],l=o[i];u===l?(this.moveChild(u,a,s),s=Math.max(u._mountIndex,s),u._mountIndex=a):(u&&(s=Math.max(u._mountIndex,s),this._unmountChildByName(u,i)),this._mountChildByNameAtIndex(l,i,a,t,n)),a++}for(i in r)!r.hasOwnProperty(i)||o&&o.hasOwnProperty(i)||this._unmountChildByName(r[i],i)}},unmountChildren:function(){var e=this._renderedChildren;d.unmountChildren(e),this._renderedChildren=null},moveChild:function(e,t,n){e._mountIndex<n&&o(this._rootNodeID,e._mountIndex,t)},createChild:function(e,t){
r(this._rootNodeID,t,e._mountIndex)},removeChild:function(e){i(this._rootNodeID,e._mountIndex)},setTextContent:function(e){s(this._rootNodeID,e)},_mountChildByNameAtIndex:function(e,t,n,r,o){var i=this._rootNodeID+t,s=p.mountComponent(e,i,r,o);e._mountIndex=n,this.createChild(e,s)},_unmountChildByName:function(e,t){this.removeChild(e),e._mountIndex=null}}};t.exports=g},{"./ReactChildReconciler":705,"./ReactComponentEnvironment":710,"./ReactMultiChildUpdateTypes":748,"./ReactReconciler":758}],748:[function(e,t,n){/**
 * Copyright 2013-2015, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule ReactMultiChildUpdateTypes
 */
"use strict";var r=e("./keyMirror"),o=r({INSERT_MARKUP:null,MOVE_EXISTING:null,REMOVE_NODE:null,TEXT_CONTENT:null});t.exports=o},{"./keyMirror":826}],749:[function(e,t,n){/**
 * Copyright 2014-2015, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule ReactNativeComponent
 */
"use strict";function r(e){if("function"==typeof e.type)return e.type;var t=e.type,n=p[t];return null==n&&(p[t]=n=l(t)),n}function o(e){return u(c),new c(e.type,e.props)}function i(e){return new d(e)}function s(e){return e instanceof d}var a=e("./Object.assign"),u=e("./invariant"),l=null,c=null,p={},d=null,h={injectGenericComponentClass:function(e){c=e},injectTextComponentClass:function(e){d=e},injectComponentClasses:function(e){a(p,e)},injectAutoWrapper:function(e){l=e}},f={getComponentClassForElement:r,createInternalComponent:o,createInstanceForText:i,isTextComponent:s,injection:h};t.exports=f},{"./Object.assign":698,"./invariant":820}],750:[function(e,t,n){/**
 * Copyright 2013-2015, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule ReactOwner
 */
"use strict";var r=e("./invariant"),o={isValidOwner:function(e){return!(!e||"function"!=typeof e.attachRef||"function"!=typeof e.detachRef)},addComponentAsRefTo:function(e,t,n){r(o.isValidOwner(n)),n.attachRef(t,e)},removeComponentAsRefFrom:function(e,t,n){r(o.isValidOwner(n)),n.getPublicInstance().refs[t]===e.getPublicInstance()&&n.detachRef(t)}};t.exports=o},{"./invariant":820}],751:[function(e,t,n){/**
 * Copyright 2013-2015, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule ReactPerf
 * @typechecks static-only
 */
"use strict";function r(e,t,n){return n}var o={enableMeasure:!1,storedMeasure:r,measureMethods:function(e,t,n){},measure:function(e,t,n){return n},injection:{injectMeasure:function(e){o.storedMeasure=e}}};t.exports=o},{}],752:[function(e,t,n){/**
 * Copyright 2013-2015, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule ReactPropTransferer
 */
"use strict";function r(e){return function(t,n,r){t.hasOwnProperty(n)?t[n]=e(t[n],r):t[n]=r}}function o(e,t){for(var n in t)if(t.hasOwnProperty(n)){var r=l[n];r&&l.hasOwnProperty(n)?r(e,n,t[n]):e.hasOwnProperty(n)||(e[n]=t[n])}return e}var i=e("./Object.assign"),s=e("./emptyFunction"),a=e("./joinClasses"),u=r(function(e,t){return i({},t,e)}),l={children:s,className:r(a),style:u},c={mergeProps:function(e,t){return o(i({},e),t)}};t.exports=c},{"./Object.assign":698,"./emptyFunction":799,"./joinClasses":825}],753:[function(e,t,n){/**
 * Copyright 2013-2015, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule ReactPropTypeLocationNames
 */
"use strict";var r={};t.exports=r},{}],754:[function(e,t,n){/**
 * Copyright 2013-2015, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule ReactPropTypeLocations
 */
"use strict";var r=e("./keyMirror"),o=r({prop:null,context:null,childContext:null});t.exports=o},{"./keyMirror":826}],755:[function(e,t,n){/**
 * Copyright 2013-2015, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule ReactPropTypes
 */
"use strict";function r(e){function t(t,n,r,o,i){if(o=o||w,null==n[r]){var s=y[i];return t?new Error("Required "+s+" `"+r+"` was not specified in "+("`"+o+"`.")):null}return e(n,r,o,i)}var n=t.bind(null,!1);return n.isRequired=t.bind(null,!0),n}function o(e){function t(t,n,r,o){var i=t[n],s=m(i);if(s!==e){var a=y[o],u=g(i);return new Error("Invalid "+a+" `"+n+"` of type `"+u+"` "+("supplied to `"+r+"`, expected `"+e+"`."))}return null}return r(t)}function i(){return r(_.thatReturns(null))}function s(e){function t(t,n,r,o){var i=t[n];if(!Array.isArray(i)){var s=y[o],a=m(i);return new Error("Invalid "+s+" `"+n+"` of type "+("`"+a+"` supplied to `"+r+"`, expected an array."))}for(var u=0;u<i.length;u++){var l=e(i,u,r,o);if(l instanceof Error)return l}return null}return r(t)}function a(){function e(e,t,n,r){if(!v.isValidElement(e[t])){var o=y[r];return new Error("Invalid "+o+" `"+t+"` supplied to "+("`"+n+"`, expected a ReactElement."))}return null}return r(e)}function u(e){function t(t,n,r,o){if(!(t[n]instanceof e)){
var i=y[o],s=e.name||w;return new Error("Invalid "+i+" `"+n+"` supplied to "+("`"+r+"`, expected instance of `"+s+"`."))}return null}return r(t)}function l(e){function t(t,n,r,o){for(var i=t[n],s=0;s<e.length;s++)if(i===e[s])return null;var a=y[o],u=JSON.stringify(e);return new Error("Invalid "+a+" `"+n+"` of value `"+i+"` "+("supplied to `"+r+"`, expected one of "+u+"."))}return r(t)}function c(e){function t(t,n,r,o){var i=t[n],s=m(i);if("object"!==s){var a=y[o];return new Error("Invalid "+a+" `"+n+"` of type "+("`"+s+"` supplied to `"+r+"`, expected an object."))}for(var u in i)if(i.hasOwnProperty(u)){var l=e(i,u,r,o);if(l instanceof Error)return l}return null}return r(t)}function p(e){function t(t,n,r,o){for(var i=0;i<e.length;i++){var s=e[i];if(null==s(t,n,r,o))return null}var a=y[o];return new Error("Invalid "+a+" `"+n+"` supplied to "+("`"+r+"`."))}return r(t)}function d(){function e(e,t,n,r){if(!f(e[t])){var o=y[r];return new Error("Invalid "+o+" `"+t+"` supplied to "+("`"+n+"`, expected a ReactNode."));
}return null}return r(e)}function h(e){function t(t,n,r,o){var i=t[n],s=m(i);if("object"!==s){var a=y[o];return new Error("Invalid "+a+" `"+n+"` of type `"+s+"` "+("supplied to `"+r+"`, expected `object`."))}for(var u in e){var l=e[u];if(l){var c=l(i,u,r,o);if(c)return c}}return null}return r(t)}function f(e){switch(typeof e){case"number":case"string":case"undefined":return!0;case"boolean":return!e;case"object":if(Array.isArray(e))return e.every(f);if(null===e||v.isValidElement(e))return!0;e=b.extractIfFragment(e);for(var t in e)if(!f(e[t]))return!1;return!0;default:return!1}}function m(e){var t=typeof e;return Array.isArray(e)?"array":e instanceof RegExp?"object":t}function g(e){var t=m(e);if("object"===t){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return t}var v=e("./ReactElement"),b=e("./ReactFragment"),y=e("./ReactPropTypeLocationNames"),_=e("./emptyFunction"),w="<<anonymous>>",k=a(),x=d(),C={array:o("array"),bool:o("boolean"),func:o("function"),number:o("number"),object:o("object"),
string:o("string"),any:i(),arrayOf:s,element:k,instanceOf:u,node:x,objectOf:c,oneOf:l,oneOfType:p,shape:h};t.exports=C},{"./ReactElement":732,"./ReactFragment":738,"./ReactPropTypeLocationNames":753,"./emptyFunction":799}],756:[function(e,t,n){/**
 * Copyright 2013-2015, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule ReactPutListenerQueue
 */
"use strict";function r(){this.listenersToPut=[]}var o=e("./PooledClass"),i=e("./ReactBrowserEventEmitter"),s=e("./Object.assign");s(r.prototype,{enqueuePutListener:function(e,t,n){this.listenersToPut.push({rootNodeID:e,propKey:t,propValue:n})},putListeners:function(){for(var e=0;e<this.listenersToPut.length;e++){var t=this.listenersToPut[e];i.putListener(t.rootNodeID,t.propKey,t.propValue)}},reset:function(){this.listenersToPut.length=0},destructor:function(){this.reset()}}),o.addPoolingTo(r),t.exports=r},{"./Object.assign":698,"./PooledClass":699,"./ReactBrowserEventEmitter":702}],757:[function(e,t,n){/**
 * Copyright 2013-2015, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule ReactReconcileTransaction
 * @typechecks static-only
 */
"use strict";function r(){this.reinitializeTransaction(),this.renderToStaticMarkup=!1,this.reactMountReady=o.getPooled(null),this.putListenerQueue=u.getPooled()}var o=e("./CallbackQueue"),i=e("./PooledClass"),s=e("./ReactBrowserEventEmitter"),a=e("./ReactInputSelection"),u=e("./ReactPutListenerQueue"),l=e("./Transaction"),c=e("./Object.assign"),p={initialize:a.getSelectionInformation,close:a.restoreSelection},d={initialize:function(){var e=s.isEnabled();return s.setEnabled(!1),e},close:function(e){s.setEnabled(e)}},h={initialize:function(){this.reactMountReady.reset()},close:function(){this.reactMountReady.notifyAll()}},f={initialize:function(){this.putListenerQueue.reset()},close:function(){this.putListenerQueue.putListeners()}},m=[f,p,d,h],g={getTransactionWrappers:function(){return m},getReactMountReady:function(){return this.reactMountReady},getPutListenerQueue:function(){return this.putListenerQueue},destructor:function(){o.release(this.reactMountReady),this.reactMountReady=null,u.release(this.putListenerQueue),
this.putListenerQueue=null}};c(r.prototype,l.Mixin,g),i.addPoolingTo(r),t.exports=r},{"./CallbackQueue":676,"./Object.assign":698,"./PooledClass":699,"./ReactBrowserEventEmitter":702,"./ReactInputSelection":740,"./ReactPutListenerQueue":756,"./Transaction":786}],758:[function(e,t,n){/**
 * Copyright 2013-2015, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule ReactReconciler
 */
"use strict";function r(){o.attachRefs(this,this._currentElement)}var o=e("./ReactRef"),i=(e("./ReactElementValidator"),{mountComponent:function(e,t,n,o){var i=e.mountComponent(t,n,o);return n.getReactMountReady().enqueue(r,e),i},unmountComponent:function(e){o.detachRefs(e,e._currentElement),e.unmountComponent()},receiveComponent:function(e,t,n,i){var s=e._currentElement;if(t!==s||null==t._owner){var a=o.shouldUpdateRefs(s,t);a&&o.detachRefs(e,s),e.receiveComponent(t,n,i),a&&n.getReactMountReady().enqueue(r,e)}},performUpdateIfNecessary:function(e,t){e.performUpdateIfNecessary(t)}});t.exports=i},{"./ReactElementValidator":733,"./ReactRef":759}],759:[function(e,t,n){/**
 * Copyright 2013-2015, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule ReactRef
 */
"use strict";function r(e,t,n){"function"==typeof e?e(t.getPublicInstance()):i.addComponentAsRefTo(t,e,n)}function o(e,t,n){"function"==typeof e?e(null):i.removeComponentAsRefFrom(t,e,n)}var i=e("./ReactOwner"),s={};s.attachRefs=function(e,t){var n=t.ref;null!=n&&r(n,e,t._owner)},s.shouldUpdateRefs=function(e,t){return t._owner!==e._owner||t.ref!==e.ref},s.detachRefs=function(e,t){var n=t.ref;null!=n&&o(n,e,t._owner)},t.exports=s},{"./ReactOwner":750}],760:[function(e,t,n){/**
 * Copyright 2013-2015, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule ReactRootIndex
 * @typechecks
 */
"use strict";var r={injectCreateReactRootIndex:function(e){o.createReactRootIndex=e}},o={createReactRootIndex:null,injection:r};t.exports=o},{}],761:[function(e,t,n){/**
 * Copyright 2013-2015, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @typechecks static-only
 * @providesModule ReactServerRendering
 */
"use strict";function r(e){p(i.isValidElement(e));var t;try{var n=s.createReactRootID();return t=u.getPooled(!1),t.perform(function(){var r=c(e,null),o=r.mountComponent(n,t,l);return a.addChecksumToMarkup(o)},null)}finally{u.release(t)}}function o(e){p(i.isValidElement(e));var t;try{var n=s.createReactRootID();return t=u.getPooled(!0),t.perform(function(){var r=c(e,null);return r.mountComponent(n,t,l)},null)}finally{u.release(t)}}var i=e("./ReactElement"),s=e("./ReactInstanceHandles"),a=e("./ReactMarkupChecksum"),u=e("./ReactServerRenderingTransaction"),l=e("./emptyObject"),c=e("./instantiateReactComponent"),p=e("./invariant");t.exports={renderToString:r,renderToStaticMarkup:o}},{"./ReactElement":732,"./ReactInstanceHandles":741,"./ReactMarkupChecksum":745,"./ReactServerRenderingTransaction":762,"./emptyObject":800,"./instantiateReactComponent":819,"./invariant":820}],762:[function(e,t,n){/**
 * Copyright 2014-2015, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule ReactServerRenderingTransaction
 * @typechecks
 */
"use strict";function r(e){this.reinitializeTransaction(),this.renderToStaticMarkup=e,this.reactMountReady=i.getPooled(null),this.putListenerQueue=s.getPooled()}var o=e("./PooledClass"),i=e("./CallbackQueue"),s=e("./ReactPutListenerQueue"),a=e("./Transaction"),u=e("./Object.assign"),l=e("./emptyFunction"),c={initialize:function(){this.reactMountReady.reset()},close:l},p={initialize:function(){this.putListenerQueue.reset()},close:l},d=[p,c],h={getTransactionWrappers:function(){return d},getReactMountReady:function(){return this.reactMountReady},getPutListenerQueue:function(){return this.putListenerQueue},destructor:function(){i.release(this.reactMountReady),this.reactMountReady=null,s.release(this.putListenerQueue),this.putListenerQueue=null}};u(r.prototype,a.Mixin,h),o.addPoolingTo(r),t.exports=r},{"./CallbackQueue":676,"./Object.assign":698,"./PooledClass":699,"./ReactPutListenerQueue":756,"./Transaction":786,"./emptyFunction":799}],763:[function(e,t,n){/**
 * Copyright 2013-2015, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule ReactStateSetters
 */
"use strict";function r(e,t){var n={};return function(r){n[t]=r,e.setState(n)}}var o={createStateSetter:function(e,t){return function(n,r,o,i,s,a){var u=t.call(e,n,r,o,i,s,a);u&&e.setState(u)}},createStateKeySetter:function(e,t){var n=e.__keySetters||(e.__keySetters={});return n[t]||(n[t]=r(e,t))}};o.Mixin={createStateSetter:function(e){return o.createStateSetter(this,e)},createStateKeySetter:function(e){return o.createStateKeySetter(this,e)}},t.exports=o},{}],764:[function(e,t,n){/**
 * Copyright 2013-2015, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule ReactTestUtils
 */
"use strict";function r(e){}function o(e){return function(t,n){var o;x.isDOMComponent(t)?o=t.getDOMNode():t.tagName&&(o=t);var i=new r;i.target=o;var s=new y(h.eventNameDispatchConfigs[e],v.getID(o),i);_(s,n),l.accumulateTwoPhaseDispatches(s),b.batchedUpdates(function(){u.enqueueEvents(s),u.processEventQueue()})}}function i(){x.Simulate={};var e;for(e in h.eventNameDispatchConfigs)x.Simulate[e]=o(e)}function s(e){return function(t,n){var o=new r(e);_(o,n),x.isDOMComponent(t)?x.simulateNativeEventOnDOMComponent(e,t,o):t.tagName&&x.simulateNativeEventOnNode(e,t,o)}}var a=e("./EventConstants"),u=e("./EventPluginHub"),l=e("./EventPropagators"),c=e("./React"),p=e("./ReactElement"),d=e("./ReactEmptyComponent"),h=e("./ReactBrowserEventEmitter"),f=e("./ReactCompositeComponent"),m=e("./ReactInstanceHandles"),g=e("./ReactInstanceMap"),v=e("./ReactMount"),b=e("./ReactUpdates"),y=e("./SyntheticEvent"),_=e("./Object.assign"),w=e("./emptyObject"),k=a.topLevelTypes,x={renderIntoDocument:function(e){var t=document.createElement("div");
return c.render(e,t)},isElement:function(e){return p.isValidElement(e)},isElementOfType:function(e,t){return p.isValidElement(e)&&e.type===t},isDOMComponent:function(e){return!!(e&&e.tagName&&e.getDOMNode)},isDOMComponentElement:function(e){return!!(e&&p.isValidElement(e)&&e.tagName)},isCompositeComponent:function(e){return"function"==typeof e.render&&"function"==typeof e.setState},isCompositeComponentWithType:function(e,t){return!(!x.isCompositeComponent(e)||e.constructor!==t)},isCompositeComponentElement:function(e){if(!p.isValidElement(e))return!1;var t=e.type.prototype;return"function"==typeof t.render&&"function"==typeof t.setState},isCompositeComponentElementWithType:function(e,t){return!(!x.isCompositeComponentElement(e)||e.constructor!==t)},getRenderedChildOfCompositeComponent:function(e){if(!x.isCompositeComponent(e))return null;var t=g.get(e);return t._renderedComponent.getPublicInstance()},findAllInRenderedTree:function(e,t){if(!e)return[];var n=t(e)?[e]:[];if(x.isDOMComponent(e)){var r,o=g.get(e),i=o._renderedComponent._renderedChildren;
for(r in i)i.hasOwnProperty(r)&&i[r].getPublicInstance&&(n=n.concat(x.findAllInRenderedTree(i[r].getPublicInstance(),t)))}else x.isCompositeComponent(e)&&(n=n.concat(x.findAllInRenderedTree(x.getRenderedChildOfCompositeComponent(e),t)));return n},scryRenderedDOMComponentsWithClass:function(e,t){return x.findAllInRenderedTree(e,function(e){var n=e.props.className;return x.isDOMComponent(e)&&n&&-1!==(" "+n+" ").indexOf(" "+t+" ")})},findRenderedDOMComponentWithClass:function(e,t){var n=x.scryRenderedDOMComponentsWithClass(e,t);if(1!==n.length)throw new Error("Did not find exactly one match (found: "+n.length+") for class:"+t);return n[0]},scryRenderedDOMComponentsWithTag:function(e,t){return x.findAllInRenderedTree(e,function(e){return x.isDOMComponent(e)&&e.tagName===t.toUpperCase()})},findRenderedDOMComponentWithTag:function(e,t){var n=x.scryRenderedDOMComponentsWithTag(e,t);if(1!==n.length)throw new Error("Did not find exactly one match for tag:"+t);return n[0]},scryRenderedComponentsWithType:function(e,t){return x.findAllInRenderedTree(e,function(e){
return x.isCompositeComponentWithType(e,t)})},findRenderedComponentWithType:function(e,t){var n=x.scryRenderedComponentsWithType(e,t);if(1!==n.length)throw new Error("Did not find exactly one match for componentType:"+t);return n[0]},mockComponent:function(e,t){return t=t||e.mockTagName||"div",e.prototype.render.mockImplementation(function(){return c.createElement(t,null,this.props.children)}),this},simulateNativeEventOnNode:function(e,t,n){n.target=t,h.ReactEventListener.dispatchEvent(e,n)},simulateNativeEventOnDOMComponent:function(e,t,n){x.simulateNativeEventOnNode(e,t.getDOMNode(),n)},nativeTouchData:function(e,t){return{touches:[{pageX:e,pageY:t}]}},createRenderer:function(){return new C},Simulate:null,SimulateNative:{}},C=function(){this._instance=null};C.prototype.getRenderOutput=function(){return this._instance&&this._instance._renderedComponent&&this._instance._renderedComponent._renderedOutput||null};var E=function(e){this._renderedOutput=e,this._currentElement=null===e||e===!1?d.emptyElement:e};E.prototype={
mountComponent:function(){},receiveComponent:function(e){this._renderedOutput=e,this._currentElement=null===e||e===!1?d.emptyElement:e},unmountComponent:function(){}};var T=function(){};_(T.prototype,f.Mixin,{_instantiateReactComponent:function(e){return new E(e)},_replaceNodeWithMarkupByID:function(){},_renderValidatedComponent:f.Mixin._renderValidatedComponentWithoutOwnerOrContext}),C.prototype.render=function(e,t){t||(t=w);var n=b.ReactReconcileTransaction.getPooled();this._render(e,n,t),b.ReactReconcileTransaction.release(n)},C.prototype.unmount=function(){this._instance&&this._instance.unmountComponent()},C.prototype._render=function(e,t,n){if(this._instance)this._instance.receiveComponent(e,t,n);else{var r=m.createReactRootID(),o=new T(e.type);o.construct(e),o.mountComponent(r,t,n),this._instance=o}};var S=u.injection.injectEventPluginOrder;u.injection.injectEventPluginOrder=function(){S.apply(this,arguments),i()};var D=u.injection.injectEventPluginsByName;u.injection.injectEventPluginsByName=function(){
D.apply(this,arguments),i()},i();var A;for(A in k){var M=0===A.indexOf("top")?A.charAt(3).toLowerCase()+A.substr(4):A;x.SimulateNative[M]=s(A)}t.exports=x},{"./EventConstants":685,"./EventPluginHub":687,"./EventPropagators":690,"./Object.assign":698,"./React":700,"./ReactBrowserEventEmitter":702,"./ReactCompositeComponent":712,"./ReactElement":732,"./ReactEmptyComponent":734,"./ReactInstanceHandles":741,"./ReactInstanceMap":742,"./ReactMount":746,"./ReactUpdates":769,"./SyntheticEvent":778,"./emptyObject":800}],765:[function(e,t,n){/**
 * Copyright 2013-2015, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @typechecks static-only
 * @providesModule ReactTransitionChildMapping
 */
"use strict";var r=e("./ReactChildren"),o=e("./ReactFragment"),i={getChildMapping:function(e){return e?o.extract(r.map(e,function(e){return e})):e},mergeChildMappings:function(e,t){function n(n){return t.hasOwnProperty(n)?t[n]:e[n]}e=e||{},t=t||{};var r={},o=[];for(var i in e)t.hasOwnProperty(i)?o.length&&(r[i]=o,o=[]):o.push(i);var s,a={};for(var u in t){if(r.hasOwnProperty(u))for(s=0;s<r[u].length;s++){var l=r[u][s];a[r[u][s]]=n(l)}a[u]=n(u)}for(s=0;s<o.length;s++)a[o[s]]=n(o[s]);return a}};t.exports=i},{"./ReactChildren":706,"./ReactFragment":738}],766:[function(e,t,n){/**
 * Copyright 2013-2015, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule ReactTransitionEvents
 */
"use strict";function r(){var e=document.createElement("div"),t=e.style;"AnimationEvent"in window||delete a.animationend.animation,"TransitionEvent"in window||delete a.transitionend.transition;for(var n in a){var r=a[n];for(var o in r)if(o in t){u.push(r[o]);break}}}function o(e,t,n){e.addEventListener(t,n,!1)}function i(e,t,n){e.removeEventListener(t,n,!1)}var s=e("./ExecutionEnvironment"),a={transitionend:{transition:"transitionend",WebkitTransition:"webkitTransitionEnd",MozTransition:"mozTransitionEnd",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd"},animationend:{animation:"animationend",WebkitAnimation:"webkitAnimationEnd",MozAnimation:"mozAnimationEnd",OAnimation:"oAnimationEnd",msAnimation:"MSAnimationEnd"}},u=[];s.canUseDOM&&r();var l={addEndEventListener:function(e,t){return 0===u.length?void window.setTimeout(t,0):void u.forEach(function(n){o(e,n,t)})},removeEndEventListener:function(e,t){0!==u.length&&u.forEach(function(n){i(e,n,t)})}};t.exports=l},{"./ExecutionEnvironment":691}],767:[function(e,t,n){
/**
 * Copyright 2013-2015, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule ReactTransitionGroup
 */
"use strict";var r=e("./React"),o=e("./ReactTransitionChildMapping"),i=e("./Object.assign"),s=e("./cloneWithProps"),a=e("./emptyFunction"),u=r.createClass({displayName:"ReactTransitionGroup",propTypes:{component:r.PropTypes.any,childFactory:r.PropTypes.func},getDefaultProps:function(){return{component:"span",childFactory:a.thatReturnsArgument}},getInitialState:function(){return{children:o.getChildMapping(this.props.children)}},componentWillMount:function(){this.currentlyTransitioningKeys={},this.keysToEnter=[],this.keysToLeave=[]},componentDidMount:function(){var e=this.state.children;for(var t in e)e[t]&&this.performAppear(t)},componentWillReceiveProps:function(e){var t=o.getChildMapping(e.children),n=this.state.children;this.setState({children:o.mergeChildMappings(n,t)});var r;for(r in t){var i=n&&n.hasOwnProperty(r);!t[r]||i||this.currentlyTransitioningKeys[r]||this.keysToEnter.push(r)}for(r in n){var s=t&&t.hasOwnProperty(r);!n[r]||s||this.currentlyTransitioningKeys[r]||this.keysToLeave.push(r)}},componentDidUpdate:function(){
var e=this.keysToEnter;this.keysToEnter=[],e.forEach(this.performEnter);var t=this.keysToLeave;this.keysToLeave=[],t.forEach(this.performLeave)},performAppear:function(e){this.currentlyTransitioningKeys[e]=!0;var t=this.refs[e];t.componentWillAppear?t.componentWillAppear(this._handleDoneAppearing.bind(this,e)):this._handleDoneAppearing(e)},_handleDoneAppearing:function(e){var t=this.refs[e];t.componentDidAppear&&t.componentDidAppear(),delete this.currentlyTransitioningKeys[e];var n=o.getChildMapping(this.props.children);n&&n.hasOwnProperty(e)||this.performLeave(e)},performEnter:function(e){this.currentlyTransitioningKeys[e]=!0;var t=this.refs[e];t.componentWillEnter?t.componentWillEnter(this._handleDoneEntering.bind(this,e)):this._handleDoneEntering(e)},_handleDoneEntering:function(e){var t=this.refs[e];t.componentDidEnter&&t.componentDidEnter(),delete this.currentlyTransitioningKeys[e];var n=o.getChildMapping(this.props.children);n&&n.hasOwnProperty(e)||this.performLeave(e)},performLeave:function(e){this.currentlyTransitioningKeys[e]=!0;
var t=this.refs[e];t.componentWillLeave?t.componentWillLeave(this._handleDoneLeaving.bind(this,e)):this._handleDoneLeaving(e)},_handleDoneLeaving:function(e){var t=this.refs[e];t.componentDidLeave&&t.componentDidLeave(),delete this.currentlyTransitioningKeys[e];var n=o.getChildMapping(this.props.children);if(n&&n.hasOwnProperty(e))this.performEnter(e);else{var r=i({},this.state.children);delete r[e],this.setState({children:r})}},render:function(){var e=[];for(var t in this.state.children){var n=this.state.children[t];n&&e.push(s(this.props.childFactory(n),{ref:t,key:t}))}return r.createElement(this.props.component,this.props,e)}});t.exports=u},{"./Object.assign":698,"./React":700,"./ReactTransitionChildMapping":765,"./cloneWithProps":792,"./emptyFunction":799}],768:[function(e,t,n){/**
 * Copyright 2015, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule ReactUpdateQueue
 */
"use strict";function r(e){e!==i.currentlyMountingInstance&&l.enqueueUpdate(e)}function o(e,t){p(null==s.current);var n=u.get(e);return n?n===i.currentlyUnmountingInstance?null:n:null}var i=e("./ReactLifeCycle"),s=e("./ReactCurrentOwner"),a=e("./ReactElement"),u=e("./ReactInstanceMap"),l=e("./ReactUpdates"),c=e("./Object.assign"),p=e("./invariant"),d=(e("./warning"),{enqueueCallback:function(e,t){p("function"==typeof t);var n=o(e);return n&&n!==i.currentlyMountingInstance?(n._pendingCallbacks?n._pendingCallbacks.push(t):n._pendingCallbacks=[t],void r(n)):null},enqueueCallbackInternal:function(e,t){p("function"==typeof t),e._pendingCallbacks?e._pendingCallbacks.push(t):e._pendingCallbacks=[t],r(e)},enqueueForceUpdate:function(e){var t=o(e,"forceUpdate");t&&(t._pendingForceUpdate=!0,r(t))},enqueueReplaceState:function(e,t){var n=o(e,"replaceState");n&&(n._pendingStateQueue=[t],n._pendingReplaceState=!0,r(n))},enqueueSetState:function(e,t){var n=o(e,"setState");if(n){var i=n._pendingStateQueue||(n._pendingStateQueue=[]);
i.push(t),r(n)}},enqueueSetProps:function(e,t){var n=o(e,"setProps");if(n){p(n._isTopLevel);var i=n._pendingElement||n._currentElement,s=c({},i.props,t);n._pendingElement=a.cloneAndReplaceProps(i,s),r(n)}},enqueueReplaceProps:function(e,t){var n=o(e,"replaceProps");if(n){p(n._isTopLevel);var i=n._pendingElement||n._currentElement;n._pendingElement=a.cloneAndReplaceProps(i,t),r(n)}},enqueueElementInternal:function(e,t){e._pendingElement=t,r(e)}});t.exports=d},{"./Object.assign":698,"./ReactCurrentOwner":714,"./ReactElement":732,"./ReactInstanceMap":742,"./ReactLifeCycle":743,"./ReactUpdates":769,"./invariant":820,"./warning":841}],769:[function(e,t,n){/**
 * Copyright 2013-2015, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule ReactUpdates
 */
"use strict";function r(){g(T.ReactReconcileTransaction&&_)}function o(){this.reinitializeTransaction(),this.dirtyComponentsLength=null,this.callbackQueue=c.getPooled(),this.reconcileTransaction=T.ReactReconcileTransaction.getPooled()}function i(e,t,n,o,i){r(),_.batchedUpdates(e,t,n,o,i)}function s(e,t){return e._mountOrder-t._mountOrder}function a(e){var t=e.dirtyComponentsLength;g(t===v.length),v.sort(s);for(var n=0;t>n;n++){var r=v[n],o=r._pendingCallbacks;if(r._pendingCallbacks=null,h.performUpdateIfNecessary(r,e.reconcileTransaction),o)for(var i=0;i<o.length;i++)e.callbackQueue.enqueue(o[i],r.getPublicInstance())}}function u(e){return r(),_.isBatchingUpdates?void v.push(e):void _.batchedUpdates(u,e)}function l(e,t){g(_.isBatchingUpdates),b.enqueue(e,t),y=!0}var c=e("./CallbackQueue"),p=e("./PooledClass"),d=(e("./ReactCurrentOwner"),e("./ReactPerf")),h=e("./ReactReconciler"),f=e("./Transaction"),m=e("./Object.assign"),g=e("./invariant"),v=(e("./warning"),[]),b=c.getPooled(),y=!1,_=null,w={initialize:function(){
this.dirtyComponentsLength=v.length},close:function(){this.dirtyComponentsLength!==v.length?(v.splice(0,this.dirtyComponentsLength),C()):v.length=0}},k={initialize:function(){this.callbackQueue.reset()},close:function(){this.callbackQueue.notifyAll()}},x=[w,k];m(o.prototype,f.Mixin,{getTransactionWrappers:function(){return x},destructor:function(){this.dirtyComponentsLength=null,c.release(this.callbackQueue),this.callbackQueue=null,T.ReactReconcileTransaction.release(this.reconcileTransaction),this.reconcileTransaction=null},perform:function(e,t,n){return f.Mixin.perform.call(this,this.reconcileTransaction.perform,this.reconcileTransaction,e,t,n)}}),p.addPoolingTo(o);var C=function(){for(;v.length||y;){if(v.length){var e=o.getPooled();e.perform(a,null,e),o.release(e)}if(y){y=!1;var t=b;b=c.getPooled(),t.notifyAll(),c.release(t)}}};C=d.measure("ReactUpdates","flushBatchedUpdates",C);var E={injectReconcileTransaction:function(e){g(e),T.ReactReconcileTransaction=e},injectBatchingStrategy:function(e){g(e),g("function"==typeof e.batchedUpdates),
g("boolean"==typeof e.isBatchingUpdates),_=e}},T={ReactReconcileTransaction:null,batchedUpdates:i,enqueueUpdate:u,flushBatchedUpdates:C,injection:E,asap:l};t.exports=T},{"./CallbackQueue":676,"./Object.assign":698,"./PooledClass":699,"./ReactCurrentOwner":714,"./ReactPerf":751,"./ReactReconciler":758,"./Transaction":786,"./invariant":820,"./warning":841}],770:[function(e,t,n){/**
 * Copyright 2013-2015, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule ReactWithAddons
 */
"use strict";var r=e("./LinkedStateMixin"),o=e("./React"),i=e("./ReactComponentWithPureRenderMixin"),s=e("./ReactCSSTransitionGroup"),a=e("./ReactFragment"),u=e("./ReactTransitionGroup"),l=e("./ReactUpdates"),c=e("./cx"),p=e("./cloneWithProps"),d=e("./update");o.addons={CSSTransitionGroup:s,LinkedStateMixin:r,PureRenderMixin:i,TransitionGroup:u,batchedUpdates:l.batchedUpdates,classSet:c,cloneWithProps:p,createFragment:a.create,update:d},t.exports=o},{"./LinkedStateMixin":694,"./React":700,"./ReactCSSTransitionGroup":703,"./ReactComponentWithPureRenderMixin":711,"./ReactDefaultPerf":730,"./ReactFragment":738,"./ReactTestUtils":764,"./ReactTransitionGroup":767,"./ReactUpdates":769,"./cloneWithProps":792,"./cx":797,"./update":840}],771:[function(e,t,n){/**
 * Copyright 2013-2015, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule SVGDOMPropertyConfig
 */
"use strict";var r=e("./DOMProperty"),o=r.injection.MUST_USE_ATTRIBUTE,i={Properties:{clipPath:o,cx:o,cy:o,d:o,dx:o,dy:o,fill:o,fillOpacity:o,fontFamily:o,fontSize:o,fx:o,fy:o,gradientTransform:o,gradientUnits:o,markerEnd:o,markerMid:o,markerStart:o,offset:o,opacity:o,patternContentUnits:o,patternUnits:o,points:o,preserveAspectRatio:o,r:o,rx:o,ry:o,spreadMethod:o,stopColor:o,stopOpacity:o,stroke:o,strokeDasharray:o,strokeLinecap:o,strokeOpacity:o,strokeWidth:o,textAnchor:o,transform:o,version:o,viewBox:o,x1:o,x2:o,x:o,y1:o,y2:o,y:o},DOMAttributeNames:{clipPath:"clip-path",fillOpacity:"fill-opacity",fontFamily:"font-family",fontSize:"font-size",gradientTransform:"gradientTransform",gradientUnits:"gradientUnits",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",patternContentUnits:"patternContentUnits",patternUnits:"patternUnits",preserveAspectRatio:"preserveAspectRatio",spreadMethod:"spreadMethod",stopColor:"stop-color",stopOpacity:"stop-opacity",strokeDasharray:"stroke-dasharray",strokeLinecap:"stroke-linecap",
strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",textAnchor:"text-anchor",viewBox:"viewBox"}};t.exports=i},{"./DOMProperty":680}],772:[function(e,t,n){/**
 * Copyright 2013-2015, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule SelectEventPlugin
 */
"use strict";function r(e){if("selectionStart"in e&&a.hasSelectionCapabilities(e))return{start:e.selectionStart,end:e.selectionEnd};if(window.getSelection){var t=window.getSelection();return{anchorNode:t.anchorNode,anchorOffset:t.anchorOffset,focusNode:t.focusNode,focusOffset:t.focusOffset}}if(document.selection){var n=document.selection.createRange();return{parentElement:n.parentElement(),text:n.text,top:n.boundingTop,left:n.boundingLeft}}}function o(e){if(b||null==m||m!==l())return null;var t=r(m);if(!v||!d(v,t)){v=t;var n=u.getPooled(f.select,g,e);return n.type="select",n.target=m,s.accumulateTwoPhaseDispatches(n),n}}var i=e("./EventConstants"),s=e("./EventPropagators"),a=e("./ReactInputSelection"),u=e("./SyntheticEvent"),l=e("./getActiveElement"),c=e("./isTextInputElement"),p=e("./keyOf"),d=e("./shallowEqual"),h=i.topLevelTypes,f={select:{phasedRegistrationNames:{bubbled:p({onSelect:null}),captured:p({onSelectCapture:null})},dependencies:[h.topBlur,h.topContextMenu,h.topFocus,h.topKeyDown,h.topMouseDown,h.topMouseUp,h.topSelectionChange]
}},m=null,g=null,v=null,b=!1,y={eventTypes:f,extractEvents:function(e,t,n,r){switch(e){case h.topFocus:(c(t)||"true"===t.contentEditable)&&(m=t,g=n,v=null);break;case h.topBlur:m=null,g=null,v=null;break;case h.topMouseDown:b=!0;break;case h.topContextMenu:case h.topMouseUp:return b=!1,o(r);case h.topSelectionChange:case h.topKeyDown:case h.topKeyUp:return o(r)}}};t.exports=y},{"./EventConstants":685,"./EventPropagators":690,"./ReactInputSelection":740,"./SyntheticEvent":778,"./getActiveElement":806,"./isTextInputElement":823,"./keyOf":827,"./shallowEqual":836}],773:[function(e,t,n){/**
 * Copyright 2013-2015, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule ServerReactRootIndex
 * @typechecks
 */
"use strict";var r=Math.pow(2,53),o={createReactRootIndex:function(){return Math.ceil(Math.random()*r)}};t.exports=o},{}],774:[function(e,t,n){/**
 * Copyright 2013-2015, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule SimpleEventPlugin
 */
"use strict";var r=e("./EventConstants"),o=e("./EventPluginUtils"),i=e("./EventPropagators"),s=e("./SyntheticClipboardEvent"),a=e("./SyntheticEvent"),u=e("./SyntheticFocusEvent"),l=e("./SyntheticKeyboardEvent"),c=e("./SyntheticMouseEvent"),p=e("./SyntheticDragEvent"),d=e("./SyntheticTouchEvent"),h=e("./SyntheticUIEvent"),f=e("./SyntheticWheelEvent"),m=e("./getEventCharCode"),g=e("./invariant"),v=e("./keyOf"),b=(e("./warning"),r.topLevelTypes),y={blur:{phasedRegistrationNames:{bubbled:v({onBlur:!0}),captured:v({onBlurCapture:!0})}},click:{phasedRegistrationNames:{bubbled:v({onClick:!0}),captured:v({onClickCapture:!0})}},contextMenu:{phasedRegistrationNames:{bubbled:v({onContextMenu:!0}),captured:v({onContextMenuCapture:!0})}},copy:{phasedRegistrationNames:{bubbled:v({onCopy:!0}),captured:v({onCopyCapture:!0})}},cut:{phasedRegistrationNames:{bubbled:v({onCut:!0}),captured:v({onCutCapture:!0})}},doubleClick:{phasedRegistrationNames:{bubbled:v({onDoubleClick:!0}),captured:v({onDoubleClickCapture:!0})}},drag:{phasedRegistrationNames:{
bubbled:v({onDrag:!0}),captured:v({onDragCapture:!0})}},dragEnd:{phasedRegistrationNames:{bubbled:v({onDragEnd:!0}),captured:v({onDragEndCapture:!0})}},dragEnter:{phasedRegistrationNames:{bubbled:v({onDragEnter:!0}),captured:v({onDragEnterCapture:!0})}},dragExit:{phasedRegistrationNames:{bubbled:v({onDragExit:!0}),captured:v({onDragExitCapture:!0})}},dragLeave:{phasedRegistrationNames:{bubbled:v({onDragLeave:!0}),captured:v({onDragLeaveCapture:!0})}},dragOver:{phasedRegistrationNames:{bubbled:v({onDragOver:!0}),captured:v({onDragOverCapture:!0})}},dragStart:{phasedRegistrationNames:{bubbled:v({onDragStart:!0}),captured:v({onDragStartCapture:!0})}},drop:{phasedRegistrationNames:{bubbled:v({onDrop:!0}),captured:v({onDropCapture:!0})}},focus:{phasedRegistrationNames:{bubbled:v({onFocus:!0}),captured:v({onFocusCapture:!0})}},input:{phasedRegistrationNames:{bubbled:v({onInput:!0}),captured:v({onInputCapture:!0})}},keyDown:{phasedRegistrationNames:{bubbled:v({onKeyDown:!0}),captured:v({onKeyDownCapture:!0})}},keyPress:{
phasedRegistrationNames:{bubbled:v({onKeyPress:!0}),captured:v({onKeyPressCapture:!0})}},keyUp:{phasedRegistrationNames:{bubbled:v({onKeyUp:!0}),captured:v({onKeyUpCapture:!0})}},load:{phasedRegistrationNames:{bubbled:v({onLoad:!0}),captured:v({onLoadCapture:!0})}},error:{phasedRegistrationNames:{bubbled:v({onError:!0}),captured:v({onErrorCapture:!0})}},mouseDown:{phasedRegistrationNames:{bubbled:v({onMouseDown:!0}),captured:v({onMouseDownCapture:!0})}},mouseMove:{phasedRegistrationNames:{bubbled:v({onMouseMove:!0}),captured:v({onMouseMoveCapture:!0})}},mouseOut:{phasedRegistrationNames:{bubbled:v({onMouseOut:!0}),captured:v({onMouseOutCapture:!0})}},mouseOver:{phasedRegistrationNames:{bubbled:v({onMouseOver:!0}),captured:v({onMouseOverCapture:!0})}},mouseUp:{phasedRegistrationNames:{bubbled:v({onMouseUp:!0}),captured:v({onMouseUpCapture:!0})}},paste:{phasedRegistrationNames:{bubbled:v({onPaste:!0}),captured:v({onPasteCapture:!0})}},reset:{phasedRegistrationNames:{bubbled:v({onReset:!0}),captured:v({onResetCapture:!0
})}},scroll:{phasedRegistrationNames:{bubbled:v({onScroll:!0}),captured:v({onScrollCapture:!0})}},submit:{phasedRegistrationNames:{bubbled:v({onSubmit:!0}),captured:v({onSubmitCapture:!0})}},touchCancel:{phasedRegistrationNames:{bubbled:v({onTouchCancel:!0}),captured:v({onTouchCancelCapture:!0})}},touchEnd:{phasedRegistrationNames:{bubbled:v({onTouchEnd:!0}),captured:v({onTouchEndCapture:!0})}},touchMove:{phasedRegistrationNames:{bubbled:v({onTouchMove:!0}),captured:v({onTouchMoveCapture:!0})}},touchStart:{phasedRegistrationNames:{bubbled:v({onTouchStart:!0}),captured:v({onTouchStartCapture:!0})}},wheel:{phasedRegistrationNames:{bubbled:v({onWheel:!0}),captured:v({onWheelCapture:!0})}}},_={topBlur:y.blur,topClick:y.click,topContextMenu:y.contextMenu,topCopy:y.copy,topCut:y.cut,topDoubleClick:y.doubleClick,topDrag:y.drag,topDragEnd:y.dragEnd,topDragEnter:y.dragEnter,topDragExit:y.dragExit,topDragLeave:y.dragLeave,topDragOver:y.dragOver,topDragStart:y.dragStart,topDrop:y.drop,topError:y.error,topFocus:y.focus,topInput:y.input,
topKeyDown:y.keyDown,topKeyPress:y.keyPress,topKeyUp:y.keyUp,topLoad:y.load,topMouseDown:y.mouseDown,topMouseMove:y.mouseMove,topMouseOut:y.mouseOut,topMouseOver:y.mouseOver,topMouseUp:y.mouseUp,topPaste:y.paste,topReset:y.reset,topScroll:y.scroll,topSubmit:y.submit,topTouchCancel:y.touchCancel,topTouchEnd:y.touchEnd,topTouchMove:y.touchMove,topTouchStart:y.touchStart,topWheel:y.wheel};for(var w in _)_[w].dependencies=[w];var k={eventTypes:y,executeDispatch:function(e,t,n){var r=o.executeDispatch(e,t,n);r===!1&&(e.stopPropagation(),e.preventDefault())},extractEvents:function(e,t,n,r){var o=_[e];if(!o)return null;var v;switch(e){case b.topInput:case b.topLoad:case b.topError:case b.topReset:case b.topSubmit:v=a;break;case b.topKeyPress:if(0===m(r))return null;case b.topKeyDown:case b.topKeyUp:v=l;break;case b.topBlur:case b.topFocus:v=u;break;case b.topClick:if(2===r.button)return null;case b.topContextMenu:case b.topDoubleClick:case b.topMouseDown:case b.topMouseMove:case b.topMouseOut:case b.topMouseOver:case b.topMouseUp:
v=c;break;case b.topDrag:case b.topDragEnd:case b.topDragEnter:case b.topDragExit:case b.topDragLeave:case b.topDragOver:case b.topDragStart:case b.topDrop:v=p;break;case b.topTouchCancel:case b.topTouchEnd:case b.topTouchMove:case b.topTouchStart:v=d;break;case b.topScroll:v=h;break;case b.topWheel:v=f;break;case b.topCopy:case b.topCut:case b.topPaste:v=s}g(v);var y=v.getPooled(o,n,r);return i.accumulateTwoPhaseDispatches(y),y}};t.exports=k},{"./EventConstants":685,"./EventPluginUtils":689,"./EventPropagators":690,"./SyntheticClipboardEvent":775,"./SyntheticDragEvent":777,"./SyntheticEvent":778,"./SyntheticFocusEvent":779,"./SyntheticKeyboardEvent":781,"./SyntheticMouseEvent":782,"./SyntheticTouchEvent":783,"./SyntheticUIEvent":784,"./SyntheticWheelEvent":785,"./getEventCharCode":807,"./invariant":820,"./keyOf":827,"./warning":841}],775:[function(e,t,n){/**
 * Copyright 2013-2015, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule SyntheticClipboardEvent
 * @typechecks static-only
 */
"use strict";function r(e,t,n){o.call(this,e,t,n)}var o=e("./SyntheticEvent"),i={clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}};o.augmentClass(r,i),t.exports=r},{"./SyntheticEvent":778}],776:[function(e,t,n){/**
 * Copyright 2013-2015, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule SyntheticCompositionEvent
 * @typechecks static-only
 */
"use strict";function r(e,t,n){o.call(this,e,t,n)}var o=e("./SyntheticEvent"),i={data:null};o.augmentClass(r,i),t.exports=r},{"./SyntheticEvent":778}],777:[function(e,t,n){/**
 * Copyright 2013-2015, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule SyntheticDragEvent
 * @typechecks static-only
 */
"use strict";function r(e,t,n){o.call(this,e,t,n)}var o=e("./SyntheticMouseEvent"),i={dataTransfer:null};o.augmentClass(r,i),t.exports=r},{"./SyntheticMouseEvent":782}],778:[function(e,t,n){/**
 * Copyright 2013-2015, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule SyntheticEvent
 * @typechecks static-only
 */
"use strict";function r(e,t,n){this.dispatchConfig=e,this.dispatchMarker=t,this.nativeEvent=n;var r=this.constructor.Interface;for(var o in r)if(r.hasOwnProperty(o)){var i=r[o];i?this[o]=i(n):this[o]=n[o]}var a=null!=n.defaultPrevented?n.defaultPrevented:n.returnValue===!1;a?this.isDefaultPrevented=s.thatReturnsTrue:this.isDefaultPrevented=s.thatReturnsFalse,this.isPropagationStopped=s.thatReturnsFalse}var o=e("./PooledClass"),i=e("./Object.assign"),s=e("./emptyFunction"),a=e("./getEventTarget"),u={type:null,target:a,currentTarget:s.thatReturnsNull,eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null};i(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e.preventDefault?e.preventDefault():e.returnValue=!1,this.isDefaultPrevented=s.thatReturnsTrue},stopPropagation:function(){var e=this.nativeEvent;e.stopPropagation?e.stopPropagation():e.cancelBubble=!0,this.isPropagationStopped=s.thatReturnsTrue;
},persist:function(){this.isPersistent=s.thatReturnsTrue},isPersistent:s.thatReturnsFalse,destructor:function(){var e=this.constructor.Interface;for(var t in e)this[t]=null;this.dispatchConfig=null,this.dispatchMarker=null,this.nativeEvent=null}}),r.Interface=u,r.augmentClass=function(e,t){var n=this,r=Object.create(n.prototype);i(r,e.prototype),e.prototype=r,e.prototype.constructor=e,e.Interface=i({},n.Interface,t),e.augmentClass=n.augmentClass,o.addPoolingTo(e,o.threeArgumentPooler)},o.addPoolingTo(r,o.threeArgumentPooler),t.exports=r},{"./Object.assign":698,"./PooledClass":699,"./emptyFunction":799,"./getEventTarget":810}],779:[function(e,t,n){/**
 * Copyright 2013-2015, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule SyntheticFocusEvent
 * @typechecks static-only
 */
"use strict";function r(e,t,n){o.call(this,e,t,n)}var o=e("./SyntheticUIEvent"),i={relatedTarget:null};o.augmentClass(r,i),t.exports=r},{"./SyntheticUIEvent":784}],780:[function(e,t,n){/**
 * Copyright 2013-2015, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule SyntheticInputEvent
 * @typechecks static-only
 */
"use strict";function r(e,t,n){o.call(this,e,t,n)}var o=e("./SyntheticEvent"),i={data:null};o.augmentClass(r,i),t.exports=r},{"./SyntheticEvent":778}],781:[function(e,t,n){/**
 * Copyright 2013-2015, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule SyntheticKeyboardEvent
 * @typechecks static-only
 */
"use strict";function r(e,t,n){o.call(this,e,t,n)}var o=e("./SyntheticUIEvent"),i=e("./getEventCharCode"),s=e("./getEventKey"),a=e("./getEventModifierState"),u={key:s,location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:a,charCode:function(e){return"keypress"===e.type?i(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?i(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}};o.augmentClass(r,u),t.exports=r},{"./SyntheticUIEvent":784,"./getEventCharCode":807,"./getEventKey":808,"./getEventModifierState":809}],782:[function(e,t,n){/**
 * Copyright 2013-2015, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule SyntheticMouseEvent
 * @typechecks static-only
 */
"use strict";function r(e,t,n){o.call(this,e,t,n)}var o=e("./SyntheticUIEvent"),i=e("./ViewportMetrics"),s=e("./getEventModifierState"),a={screenX:null,screenY:null,clientX:null,clientY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:s,button:function(e){var t=e.button;return"which"in e?t:2===t?2:4===t?1:0},buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},pageX:function(e){return"pageX"in e?e.pageX:e.clientX+i.currentScrollLeft},pageY:function(e){return"pageY"in e?e.pageY:e.clientY+i.currentScrollTop}};o.augmentClass(r,a),t.exports=r},{"./SyntheticUIEvent":784,"./ViewportMetrics":787,"./getEventModifierState":809}],783:[function(e,t,n){/**
 * Copyright 2013-2015, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule SyntheticTouchEvent
 * @typechecks static-only
 */
"use strict";function r(e,t,n){o.call(this,e,t,n)}var o=e("./SyntheticUIEvent"),i=e("./getEventModifierState"),s={touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:i};o.augmentClass(r,s),t.exports=r},{"./SyntheticUIEvent":784,"./getEventModifierState":809}],784:[function(e,t,n){/**
 * Copyright 2013-2015, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule SyntheticUIEvent
 * @typechecks static-only
 */
"use strict";function r(e,t,n){o.call(this,e,t,n)}var o=e("./SyntheticEvent"),i=e("./getEventTarget"),s={view:function(e){if(e.view)return e.view;var t=i(e);if(null!=t&&t.window===t)return t;var n=t.ownerDocument;return n?n.defaultView||n.parentWindow:window},detail:function(e){return e.detail||0}};o.augmentClass(r,s),t.exports=r},{"./SyntheticEvent":778,"./getEventTarget":810}],785:[function(e,t,n){/**
 * Copyright 2013-2015, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule SyntheticWheelEvent
 * @typechecks static-only
 */
"use strict";function r(e,t,n){o.call(this,e,t,n)}var o=e("./SyntheticMouseEvent"),i={deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null};o.augmentClass(r,i),t.exports=r},{"./SyntheticMouseEvent":782}],786:[function(e,t,n){/**
 * Copyright 2013-2015, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule Transaction
 */
"use strict";var r=e("./invariant"),o={reinitializeTransaction:function(){this.transactionWrappers=this.getTransactionWrappers(),this.wrapperInitData?this.wrapperInitData.length=0:this.wrapperInitData=[],this._isInTransaction=!1},_isInTransaction:!1,getTransactionWrappers:null,isInTransaction:function(){return!!this._isInTransaction},perform:function(e,t,n,o,i,s,a,u){r(!this.isInTransaction());var l,c;try{this._isInTransaction=!0,l=!0,this.initializeAll(0),c=e.call(t,n,o,i,s,a,u),l=!1}finally{try{if(l)try{this.closeAll(0)}catch(p){}else this.closeAll(0)}finally{this._isInTransaction=!1}}return c},initializeAll:function(e){for(var t=this.transactionWrappers,n=e;n<t.length;n++){var r=t[n];try{this.wrapperInitData[n]=i.OBSERVED_ERROR,this.wrapperInitData[n]=r.initialize?r.initialize.call(this):null}finally{if(this.wrapperInitData[n]===i.OBSERVED_ERROR)try{this.initializeAll(n+1)}catch(o){}}}},closeAll:function(e){r(this.isInTransaction());for(var t=this.transactionWrappers,n=e;n<t.length;n++){var o,s=t[n],a=this.wrapperInitData[n];
try{o=!0,a!==i.OBSERVED_ERROR&&s.close&&s.close.call(this,a),o=!1}finally{if(o)try{this.closeAll(n+1)}catch(u){}}}this.wrapperInitData.length=0}},i={Mixin:o,OBSERVED_ERROR:{}};t.exports=i},{"./invariant":820}],787:[function(e,t,n){/**
 * Copyright 2013-2015, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule ViewportMetrics
 */
"use strict";var r={currentScrollLeft:0,currentScrollTop:0,refreshScrollValues:function(e){r.currentScrollLeft=e.x,r.currentScrollTop=e.y}};t.exports=r},{}],788:[function(e,t,n){/**
 * Copyright 2014-2015, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule accumulateInto
 */
"use strict";function r(e,t){if(o(null!=t),null==e)return t;var n=Array.isArray(e),r=Array.isArray(t);return n&&r?(e.push.apply(e,t),e):n?(e.push(t),e):r?[e].concat(t):[e,t]}var o=e("./invariant");t.exports=r},{"./invariant":820}],789:[function(e,t,n){/**
 * Copyright 2013-2015, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule adler32
 */
"use strict";function r(e){for(var t=1,n=0,r=0;r<e.length;r++)t=(t+e.charCodeAt(r))%o,n=(n+t)%o;return t|n<<16}var o=65521;t.exports=r},{}],790:[function(e,t,n){function r(e){return e.replace(o,function(e,t){return t.toUpperCase()})}/**
 * Copyright 2013-2015, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule camelize
 * @typechecks
 */
var o=/-(.)/g;t.exports=r},{}],791:[function(e,t,n){/**
 * Copyright 2014-2015, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule camelizeStyleName
 * @typechecks
 */
"use strict";function r(e){return o(e.replace(i,"ms-"))}var o=e("./camelize"),i=/^-ms-/;t.exports=r},{"./camelize":790}],792:[function(e,t,n){/**
 * Copyright 2013-2015, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @typechecks static-only
 * @providesModule cloneWithProps
 */
"use strict";function r(e,t){var n=i.mergeProps(t,e.props);return!n.hasOwnProperty(a)&&e.props.hasOwnProperty(a)&&(n.children=e.props.children),o.createElement(e.type,n)}var o=e("./ReactElement"),i=e("./ReactPropTransferer"),s=e("./keyOf"),a=(e("./warning"),s({children:null}));t.exports=r},{"./ReactElement":732,"./ReactPropTransferer":752,"./keyOf":827,"./warning":841}],793:[function(e,t,n){function r(e,t){return e&&t?e===t?!0:o(e)?!1:o(t)?r(e,t.parentNode):e.contains?e.contains(t):e.compareDocumentPosition?!!(16&e.compareDocumentPosition(t)):!1:!1}/**
 * Copyright 2013-2015, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule containsNode
 * @typechecks
 */
var o=e("./isTextNode");t.exports=r},{"./isTextNode":824}],794:[function(e,t,n){function r(e){return!!e&&("object"==typeof e||"function"==typeof e)&&"length"in e&&!("setInterval"in e)&&"number"!=typeof e.nodeType&&(Array.isArray(e)||"callee"in e||"item"in e)}function o(e){return r(e)?Array.isArray(e)?e.slice():i(e):[e]}/**
 * Copyright 2013-2015, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule createArrayFromMixed
 * @typechecks
 */
var i=e("./toArray");t.exports=o},{"./toArray":838}],795:[function(e,t,n){/**
 * Copyright 2013-2015, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule createFullPageComponent
 * @typechecks
 */
"use strict";function r(e){var t=i.createFactory(e),n=o.createClass({tagName:e.toUpperCase(),displayName:"ReactFullPageComponent"+e,componentWillUnmount:function(){s(!1)},render:function(){return t(this.props)}});return n}var o=e("./ReactClass"),i=e("./ReactElement"),s=e("./invariant");t.exports=r},{"./ReactClass":707,"./ReactElement":732,"./invariant":820}],796:[function(e,t,n){function r(e){var t=e.match(c);return t&&t[1].toLowerCase()}function o(e,t){var n=l;u(!!l);var o=r(e),i=o&&a(o);if(i){n.innerHTML=i[1]+e+i[2];for(var c=i[0];c--;)n=n.lastChild}else n.innerHTML=e;var p=n.getElementsByTagName("script");p.length&&(u(t),s(p).forEach(t));for(var d=s(n.childNodes);n.lastChild;)n.removeChild(n.lastChild);return d}/**
 * Copyright 2013-2015, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule createNodesFromMarkup
 * @typechecks
 */
var i=e("./ExecutionEnvironment"),s=e("./createArrayFromMixed"),a=e("./getMarkupWrap"),u=e("./invariant"),l=i.canUseDOM?document.createElement("div"):null,c=/^\s*<(\w+)/;t.exports=o},{"./ExecutionEnvironment":691,"./createArrayFromMixed":794,"./getMarkupWrap":812,"./invariant":820}],797:[function(e,t,n){/**
 * Copyright 2013-2015, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule cx
 */
"use strict";function r(e){return"object"==typeof e?Object.keys(e).filter(function(t){return e[t]}).join(" "):Array.prototype.join.call(arguments," ")}e("./warning");t.exports=r},{"./warning":841}],798:[function(e,t,n){/**
 * Copyright 2013-2015, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule dangerousStyleValue
 * @typechecks static-only
 */
"use strict";function r(e,t){var n=null==t||"boolean"==typeof t||""===t;if(n)return"";var r=isNaN(t);return r||0===t||i.hasOwnProperty(e)&&i[e]?""+t:("string"==typeof t&&(t=t.trim()),t+"px")}var o=e("./CSSProperty"),i=o.isUnitlessNumber;t.exports=r},{"./CSSProperty":674}],799:[function(e,t,n){/**
 * Copyright 2013-2015, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule emptyFunction
 */
function r(e){return function(){return e}}function o(){}o.thatReturns=r,o.thatReturnsFalse=r(!1),o.thatReturnsTrue=r(!0),o.thatReturnsNull=r(null),o.thatReturnsThis=function(){return this},o.thatReturnsArgument=function(e){return e},t.exports=o},{}],800:[function(e,t,n){/**
 * Copyright 2013-2015, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule emptyObject
 */
"use strict";var r={};t.exports=r},{}],801:[function(e,t,n){/**
 * Copyright 2013-2015, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule escapeTextContentForBrowser
 */
"use strict";function r(e){return i[e]}function o(e){return(""+e).replace(s,r)}var i={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},s=/[&><"']/g;t.exports=o},{}],802:[function(e,t,n){/**
 * Copyright 2013-2015, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule findDOMNode
 * @typechecks static-only
 */
"use strict";function r(e){return null==e?null:a(e)?e:o.has(e)?i.getNodeFromInstance(e):(s(null==e.render||"function"!=typeof e.render),void s(!1))}var o=(e("./ReactCurrentOwner"),e("./ReactInstanceMap")),i=e("./ReactMount"),s=e("./invariant"),a=e("./isNode");e("./warning");t.exports=r},{"./ReactCurrentOwner":714,"./ReactInstanceMap":742,"./ReactMount":746,"./invariant":820,"./isNode":822,"./warning":841}],803:[function(e,t,n){/**
 * Copyright 2013-2015, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule flattenChildren
 */
"use strict";function r(e,t,n){var r=e,o=!r.hasOwnProperty(n);o&&null!=t&&(r[n]=t)}function o(e){if(null==e)return e;var t={};return i(e,r,t),t}var i=e("./traverseAllChildren");e("./warning");t.exports=o},{"./traverseAllChildren":839,"./warning":841}],804:[function(e,t,n){/**
 * Copyright 2014-2015, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule focusNode
 */
"use strict";function r(e){try{e.focus()}catch(t){}}t.exports=r},{}],805:[function(e,t,n){/**
 * Copyright 2013-2015, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule forEachAccumulated
 */
"use strict";var r=function(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)};t.exports=r},{}],806:[function(e,t,n){/**
 * Copyright 2013-2015, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule getActiveElement
 * @typechecks
 */
function r(){try{return document.activeElement||document.body}catch(e){return document.body}}t.exports=r},{}],807:[function(e,t,n){/**
 * Copyright 2013-2015, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule getEventCharCode
 * @typechecks static-only
 */
"use strict";function r(e){var t,n=e.keyCode;return"charCode"in e?(t=e.charCode,0===t&&13===n&&(t=13)):t=n,t>=32||13===t?t:0}t.exports=r},{}],808:[function(e,t,n){/**
 * Copyright 2013-2015, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule getEventKey
 * @typechecks static-only
 */
"use strict";function r(e){if(e.key){var t=i[e.key]||e.key;if("Unidentified"!==t)return t}if("keypress"===e.type){var n=o(e);return 13===n?"Enter":String.fromCharCode(n)}return"keydown"===e.type||"keyup"===e.type?s[e.keyCode]||"Unidentified":""}var o=e("./getEventCharCode"),i={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},s={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"};t.exports=r},{"./getEventCharCode":807}],809:[function(e,t,n){/**
 * Copyright 2013-2015, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule getEventModifierState
 * @typechecks static-only
 */
"use strict";function r(e){var t=this,n=t.nativeEvent;if(n.getModifierState)return n.getModifierState(e);var r=i[e];return r?!!n[r]:!1}function o(e){return r}var i={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};t.exports=o},{}],810:[function(e,t,n){/**
 * Copyright 2013-2015, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule getEventTarget
 * @typechecks static-only
 */
"use strict";function r(e){var t=e.target||e.srcElement||window;return 3===t.nodeType?t.parentNode:t}t.exports=r},{}],811:[function(e,t,n){/**
 * Copyright 2013-2015, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule getIteratorFn
 * @typechecks static-only
 */
"use strict";function r(e){var t=e&&(o&&e[o]||e[i]);return"function"==typeof t?t:void 0}var o="function"==typeof Symbol&&Symbol.iterator,i="@@iterator";t.exports=r},{}],812:[function(e,t,n){function r(e){return i(!!s),d.hasOwnProperty(e)||(e="*"),a.hasOwnProperty(e)||("*"===e?s.innerHTML="<link />":s.innerHTML="<"+e+"></"+e+">",a[e]=!s.firstChild),a[e]?d[e]:null}/**
 * Copyright 2013-2015, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule getMarkupWrap
 */
var o=e("./ExecutionEnvironment"),i=e("./invariant"),s=o.canUseDOM?document.createElement("div"):null,a={circle:!0,clipPath:!0,defs:!0,ellipse:!0,g:!0,line:!0,linearGradient:!0,path:!0,polygon:!0,polyline:!0,radialGradient:!0,rect:!0,stop:!0,text:!0},u=[1,'<select multiple="true">',"</select>"],l=[1,"<table>","</table>"],c=[3,"<table><tbody><tr>","</tr></tbody></table>"],p=[1,"<svg>","</svg>"],d={"*":[1,"?<div>","</div>"],area:[1,"<map>","</map>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],legend:[1,"<fieldset>","</fieldset>"],param:[1,"<object>","</object>"],tr:[2,"<table><tbody>","</tbody></table>"],optgroup:u,option:u,caption:l,colgroup:l,tbody:l,tfoot:l,thead:l,td:c,th:c,circle:p,clipPath:p,defs:p,ellipse:p,g:p,line:p,linearGradient:p,path:p,polygon:p,polyline:p,radialGradient:p,rect:p,stop:p,text:p};t.exports=r},{"./ExecutionEnvironment":691,"./invariant":820}],813:[function(e,t,n){/**
 * Copyright 2013-2015, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule getNodeForCharacterOffset
 */
"use strict";function r(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function o(e){for(;e;){if(e.nextSibling)return e.nextSibling;e=e.parentNode}}function i(e,t){for(var n=r(e),i=0,s=0;n;){if(3===n.nodeType){if(s=i+n.textContent.length,t>=i&&s>=t)return{node:n,offset:t-i};i=s}n=r(o(n))}}t.exports=i},{}],814:[function(e,t,n){/**
 * Copyright 2013-2015, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule getReactRootElementInContainer
 */
"use strict";function r(e){return e?e.nodeType===o?e.documentElement:e.firstChild:null}var o=9;t.exports=r},{}],815:[function(e,t,n){/**
 * Copyright 2013-2015, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule getTextContentAccessor
 */
"use strict";function r(){return!i&&o.canUseDOM&&(i="textContent"in document.documentElement?"textContent":"innerText"),i}var o=e("./ExecutionEnvironment"),i=null;t.exports=r},{"./ExecutionEnvironment":691}],816:[function(e,t,n){/**
 * Copyright 2013-2015, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule getUnboundedScrollPosition
 * @typechecks
 */
"use strict";function r(e){return e===window?{x:window.pageXOffset||document.documentElement.scrollLeft,y:window.pageYOffset||document.documentElement.scrollTop}:{x:e.scrollLeft,y:e.scrollTop}}t.exports=r},{}],817:[function(e,t,n){function r(e){return e.replace(o,"-$1").toLowerCase()}/**
 * Copyright 2013-2015, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule hyphenate
 * @typechecks
 */
var o=/([A-Z])/g;t.exports=r},{}],818:[function(e,t,n){/**
 * Copyright 2013-2015, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule hyphenateStyleName
 * @typechecks
 */
"use strict";function r(e){return o(e).replace(i,"-ms-")}var o=e("./hyphenate"),i=/^ms-/;t.exports=r},{"./hyphenate":817}],819:[function(e,t,n){/**
 * Copyright 2013-2015, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule instantiateReactComponent
 * @typechecks static-only
 */
"use strict";function r(e){return"function"==typeof e&&"undefined"!=typeof e.prototype&&"function"==typeof e.prototype.mountComponent&&"function"==typeof e.prototype.receiveComponent}function o(e,t){var n;if((null===e||e===!1)&&(e=s.emptyElement),"object"==typeof e){var o=e;n=t===o.type&&"string"==typeof o.type?a.createInternalComponent(o):r(o.type)?new o.type(o):new c}else"string"==typeof e||"number"==typeof e?n=a.createInstanceForText(e):l(!1);return n.construct(e),n._mountIndex=0,n._mountImage=null,n}var i=e("./ReactCompositeComponent"),s=e("./ReactEmptyComponent"),a=e("./ReactNativeComponent"),u=e("./Object.assign"),l=e("./invariant"),c=(e("./warning"),function(){});u(c.prototype,i.Mixin,{_instantiateReactComponent:o}),t.exports=o},{"./Object.assign":698,"./ReactCompositeComponent":712,"./ReactEmptyComponent":734,"./ReactNativeComponent":749,"./invariant":820,"./warning":841}],820:[function(e,t,n){/**
 * Copyright 2013-2015, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule invariant
 */
"use strict";var r=function(e,t,n,r,o,i,s,a){if(!e){var u;if(void 0===t)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[n,r,o,i,s,a],c=0;u=new Error("Invariant Violation: "+t.replace(/%s/g,function(){return l[c++]}))}throw u.framesToPop=1,u}};t.exports=r},{}],821:[function(e,t,n){/**
 * Copyright 2013-2015, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule isEventSupported
 */
"use strict";function r(e,t){if(!i.canUseDOM||t&&!("addEventListener"in document))return!1;var n="on"+e,r=n in document;if(!r){var s=document.createElement("div");s.setAttribute(n,"return;"),r="function"==typeof s[n]}return!r&&o&&"wheel"===e&&(r=document.implementation.hasFeature("Events.wheel","3.0")),r}var o,i=e("./ExecutionEnvironment");i.canUseDOM&&(o=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0),t.exports=r},{"./ExecutionEnvironment":691}],822:[function(e,t,n){/**
 * Copyright 2013-2015, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule isNode
 * @typechecks
 */
function r(e){return!(!e||!("function"==typeof Node?e instanceof Node:"object"==typeof e&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName))}t.exports=r},{}],823:[function(e,t,n){/**
 * Copyright 2013-2015, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule isTextInputElement
 */
"use strict";function r(e){return e&&("INPUT"===e.nodeName&&o[e.type]||"TEXTAREA"===e.nodeName)}var o={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};t.exports=r},{}],824:[function(e,t,n){function r(e){return o(e)&&3==e.nodeType}/**
 * Copyright 2013-2015, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule isTextNode
 * @typechecks
 */
var o=e("./isNode");t.exports=r},{"./isNode":822}],825:[function(e,t,n){/**
 * Copyright 2013-2015, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule joinClasses
 * @typechecks static-only
 */
"use strict";function r(e){e||(e="");var t,n=arguments.length;if(n>1)for(var r=1;n>r;r++)t=arguments[r],t&&(e=(e?e+" ":"")+t);return e}t.exports=r},{}],826:[function(e,t,n){/**
 * Copyright 2013-2015, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule keyMirror
 * @typechecks static-only
 */
"use strict";var r=e("./invariant"),o=function(e){var t,n={};r(e instanceof Object&&!Array.isArray(e));for(t in e)e.hasOwnProperty(t)&&(n[t]=t);return n};t.exports=o},{"./invariant":820}],827:[function(e,t,n){/**
 * Copyright 2013-2015, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule keyOf
 */
var r=function(e){var t;for(t in e)if(e.hasOwnProperty(t))return t;return null};t.exports=r},{}],828:[function(e,t,n){/**
 * Copyright 2013-2015, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule mapObject
 */
"use strict";function r(e,t,n){if(!e)return null;var r={};for(var i in e)o.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}var o=Object.prototype.hasOwnProperty;t.exports=r},{}],829:[function(e,t,n){/**
 * Copyright 2013-2015, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule memoizeStringOnly
 * @typechecks static-only
 */
"use strict";function r(e){var t={};return function(n){return t.hasOwnProperty(n)||(t[n]=e.call(this,n)),t[n]}}t.exports=r},{}],830:[function(e,t,n){/**
 * Copyright 2013-2015, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule onlyChild
 */
"use strict";function r(e){return i(o.isValidElement(e)),e}var o=e("./ReactElement"),i=e("./invariant");t.exports=r},{"./ReactElement":732,"./invariant":820}],831:[function(e,t,n){/**
 * Copyright 2013-2015, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule performance
 * @typechecks
 */
"use strict";var r,o=e("./ExecutionEnvironment");o.canUseDOM&&(r=window.performance||window.msPerformance||window.webkitPerformance),t.exports=r||{}},{"./ExecutionEnvironment":691}],832:[function(e,t,n){/**
 * Copyright 2013-2015, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule performanceNow
 * @typechecks
 */
var r=e("./performance");r&&r.now||(r=Date);var o=r.now.bind(r);t.exports=o},{"./performance":831}],833:[function(e,t,n){/**
 * Copyright 2013-2015, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule quoteAttributeValueForBrowser
 */
"use strict";function r(e){return'"'+o(e)+'"'}var o=e("./escapeTextContentForBrowser");t.exports=r},{"./escapeTextContentForBrowser":801}],834:[function(e,t,n){/**
 * Copyright 2013-2015, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule setInnerHTML
 */
"use strict";var r=e("./ExecutionEnvironment"),o=/^[ \r\n\t\f]/,i=/<(!--|link|noscript|meta|script|style)[ \r\n\t\f\/>]/,s=function(e,t){e.innerHTML=t};if("undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction&&(s=function(e,t){MSApp.execUnsafeLocalFunction(function(){e.innerHTML=t})}),r.canUseDOM){var a=document.createElement("div");a.innerHTML=" ",""===a.innerHTML&&(s=function(e,t){if(e.parentNode&&e.parentNode.replaceChild(e,e),o.test(t)||"<"===t[0]&&i.test(t)){e.innerHTML="\ufeff"+t;var n=e.firstChild;1===n.data.length?e.removeChild(n):n.deleteData(0,1)}else e.innerHTML=t})}t.exports=s},{"./ExecutionEnvironment":691}],835:[function(e,t,n){/**
 * Copyright 2013-2015, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule setTextContent
 */
"use strict";var r=e("./ExecutionEnvironment"),o=e("./escapeTextContentForBrowser"),i=e("./setInnerHTML"),s=function(e,t){e.textContent=t};r.canUseDOM&&("textContent"in document.documentElement||(s=function(e,t){i(e,o(t))})),t.exports=s},{"./ExecutionEnvironment":691,"./escapeTextContentForBrowser":801,"./setInnerHTML":834}],836:[function(e,t,n){/**
 * Copyright 2013-2015, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule shallowEqual
 */
"use strict";function r(e,t){if(e===t)return!0;var n;for(n in e)if(e.hasOwnProperty(n)&&(!t.hasOwnProperty(n)||e[n]!==t[n]))return!1;for(n in t)if(t.hasOwnProperty(n)&&!e.hasOwnProperty(n))return!1;return!0}t.exports=r},{}],837:[function(e,t,n){/**
 * Copyright 2013-2015, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule shouldUpdateReactComponent
 * @typechecks static-only
 */
"use strict";function r(e,t){if(null!=e&&null!=t){var n=typeof e,r=typeof t;if("string"===n||"number"===n)return"string"===r||"number"===r;if("object"===r&&e.type===t.type&&e.key===t.key){var o=e._owner===t._owner;return o}}return!1}e("./warning");t.exports=r},{"./warning":841}],838:[function(e,t,n){function r(e){var t=e.length;if(o(!Array.isArray(e)&&("object"==typeof e||"function"==typeof e)),o("number"==typeof t),o(0===t||t-1 in e),e.hasOwnProperty)try{return Array.prototype.slice.call(e)}catch(n){}for(var r=Array(t),i=0;t>i;i++)r[i]=e[i];return r}/**
 * Copyright 2014-2015, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule toArray
 * @typechecks
 */
var o=e("./invariant");t.exports=r},{"./invariant":820}],839:[function(e,t,n){/**
 * Copyright 2013-2015, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule traverseAllChildren
 */
"use strict";function r(e){return g[e]}function o(e,t){return e&&null!=e.key?s(e.key):t.toString(36)}function i(e){return(""+e).replace(v,r)}function s(e){return"$"+i(e)}function a(e,t,n,r,i){var u=typeof e;if(("undefined"===u||"boolean"===u)&&(e=null),null===e||"string"===u||"number"===u||l.isValidElement(e))return r(i,e,""===t?f+o(e,0):t,n),1;var p,g,v,b=0;if(Array.isArray(e))for(var y=0;y<e.length;y++)p=e[y],g=(""!==t?t+m:f)+o(p,y),v=n+b,b+=a(p,g,v,r,i);else{var _=d(e);if(_){var w,k=_.call(e);if(_!==e.entries)for(var x=0;!(w=k.next()).done;)p=w.value,g=(""!==t?t+m:f)+o(p,x++),v=n+b,b+=a(p,g,v,r,i);else for(;!(w=k.next()).done;){var C=w.value;C&&(p=C[1],g=(""!==t?t+m:f)+s(C[0])+m+o(p,0),v=n+b,b+=a(p,g,v,r,i))}}else if("object"===u){h(1!==e.nodeType);var E=c.extract(e);for(var T in E)E.hasOwnProperty(T)&&(p=E[T],g=(""!==t?t+m:f)+s(T)+m+o(p,0),v=n+b,b+=a(p,g,v,r,i))}}return b}function u(e,t,n){return null==e?0:a(e,"",0,t,n)}var l=e("./ReactElement"),c=e("./ReactFragment"),p=e("./ReactInstanceHandles"),d=e("./getIteratorFn"),h=e("./invariant"),f=(e("./warning"),
p.SEPARATOR),m=":",g={"=":"=0",".":"=1",":":"=2"},v=/[=.:]/g;t.exports=u},{"./ReactElement":732,"./ReactFragment":738,"./ReactInstanceHandles":741,"./getIteratorFn":811,"./invariant":820,"./warning":841}],840:[function(e,t,n){/**
 * Copyright 2013-2015, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule update
 */
"use strict";function r(e){return Array.isArray(e)?e.concat():e&&"object"==typeof e?s(new e.constructor,e):e}function o(e,t,n){u(Array.isArray(e));var r=t[n];u(Array.isArray(r))}function i(e,t){if(u("object"==typeof t),l.call(t,h))return u(1===Object.keys(t).length),t[h];var n=r(e);if(l.call(t,f)){var a=t[f];u(a&&"object"==typeof a),u(n&&"object"==typeof n),s(n,t[f])}l.call(t,c)&&(o(e,t,c),t[c].forEach(function(e){n.push(e)})),l.call(t,p)&&(o(e,t,p),t[p].forEach(function(e){n.unshift(e)})),l.call(t,d)&&(u(Array.isArray(e)),u(Array.isArray(t[d])),t[d].forEach(function(e){u(Array.isArray(e)),n.splice.apply(n,e)})),l.call(t,m)&&(u("function"==typeof t[m]),n=t[m](n));for(var g in t)v.hasOwnProperty(g)&&v[g]||(n[g]=i(e[g],t[g]));return n}var s=e("./Object.assign"),a=e("./keyOf"),u=e("./invariant"),l={}.hasOwnProperty,c=a({$push:null}),p=a({$unshift:null}),d=a({$splice:null}),h=a({$set:null}),f=a({$merge:null}),m=a({$apply:null}),g=[c,p,d,h,f,m],v={};g.forEach(function(e){v[e]=!0}),t.exports=i},{"./Object.assign":698,
"./invariant":820,"./keyOf":827}],841:[function(e,t,n){/**
 * Copyright 2014-2015, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule warning
 */
"use strict";var r=e("./emptyFunction"),o=r;t.exports=o},{"./emptyFunction":799}],842:[function(e,t,n){t.exports=e("./lib/React")},{"./lib/React":700}],843:[function(e,t,n){t.exports=e("./lib/")},{"./lib/":844}],844:[function(e,t,n){function r(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};var n,r=o(e),i=r.source,l=r.id;return t.forceNew||t["force new connection"]||!1===t.multiplex?(a("ignoring socket cache for %s",i),n=s(i,t)):(u[l]||(a("new io instance for %s",i),u[l]=s(i,t)),n=u[l]),n.socket(r.path)}var o=e("./url"),i=e("socket.io-parser"),s=e("./manager"),a=e("debug")("socket.io-client");t.exports=n=r;var u=n.managers={};n.protocol=i.protocol,n.connect=r,n.Manager=e("./manager"),n.Socket=e("./socket")},{"./manager":845,"./socket":847,"./url":848,debug:852,"socket.io-parser":885}],845:[function(e,t,n){function r(e,t){return this instanceof r?(e&&"object"==typeof e&&(t=e,e=void 0),t=t||{},t.path=t.path||"/socket.io",this.nsps={},this.subs=[],this.opts=t,this.reconnection(t.reconnection!==!1),this.reconnectionAttempts(t.reconnectionAttempts||1/0),
this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor(t.randomizationFactor||.5),this.backoff=new d({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==t.timeout?2e4:t.timeout),this.readyState="closed",this.uri=e,this.connected=[],this.encoding=!1,this.packetBuffer=[],this.encoder=new a.Encoder,this.decoder=new a.Decoder,this.autoConnect=t.autoConnect!==!1,void(this.autoConnect&&this.open())):new r(e,t)}var o=(e("./url"),e("engine.io-client")),i=e("./socket"),s=e("component-emitter"),a=e("socket.io-parser"),u=e("./on"),l=e("component-bind"),c=(e("object-component"),e("debug")("socket.io-client:manager")),p=e("indexof"),d=e("backo2");t.exports=r,r.prototype.emitAll=function(){this.emit.apply(this,arguments);for(var e in this.nsps)this.nsps[e].emit.apply(this.nsps[e],arguments)},r.prototype.updateSocketIds=function(){for(var e in this.nsps)this.nsps[e].id=this.engine.id},s(r.prototype),
r.prototype.reconnection=function(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection},r.prototype.reconnectionAttempts=function(e){return arguments.length?(this._reconnectionAttempts=e,this):this._reconnectionAttempts},r.prototype.reconnectionDelay=function(e){return arguments.length?(this._reconnectionDelay=e,this.backoff&&this.backoff.setMin(e),this):this._reconnectionDelay},r.prototype.randomizationFactor=function(e){return arguments.length?(this._randomizationFactor=e,this.backoff&&this.backoff.setJitter(e),this):this._randomizationFactor},r.prototype.reconnectionDelayMax=function(e){return arguments.length?(this._reconnectionDelayMax=e,this.backoff&&this.backoff.setMax(e),this):this._reconnectionDelayMax},r.prototype.timeout=function(e){return arguments.length?(this._timeout=e,this):this._timeout},r.prototype.maybeReconnectOnOpen=function(){!this.reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()},r.prototype.open=r.prototype.connect=function(e){if(c("readyState %s",this.readyState),
~this.readyState.indexOf("open"))return this;c("opening %s",this.uri),this.engine=o(this.uri,this.opts);var t=this.engine,n=this;this.readyState="opening",this.skipReconnect=!1;var r=u(t,"open",function(){n.onopen(),e&&e()}),i=u(t,"error",function(t){if(c("connect_error"),n.cleanup(),n.readyState="closed",n.emitAll("connect_error",t),e){var r=new Error("Connection error");r.data=t,e(r)}else n.maybeReconnectOnOpen()});if(!1!==this._timeout){var s=this._timeout;c("connect attempt will timeout after %d",s);var a=setTimeout(function(){c("connect attempt timed out after %d",s),r.destroy(),t.close(),t.emit("error","timeout"),n.emitAll("connect_timeout",s)},s);this.subs.push({destroy:function(){clearTimeout(a)}})}return this.subs.push(r),this.subs.push(i),this},r.prototype.onopen=function(){c("open"),this.cleanup(),this.readyState="open",this.emit("open");var e=this.engine;this.subs.push(u(e,"data",l(this,"ondata"))),this.subs.push(u(this.decoder,"decoded",l(this,"ondecoded"))),this.subs.push(u(e,"error",l(this,"onerror"))),
this.subs.push(u(e,"close",l(this,"onclose")))},r.prototype.ondata=function(e){this.decoder.add(e)},r.prototype.ondecoded=function(e){this.emit("packet",e)},r.prototype.onerror=function(e){c("error",e),this.emitAll("error",e)},r.prototype.socket=function(e){var t=this.nsps[e];if(!t){t=new i(this,e),this.nsps[e]=t;var n=this;t.on("connect",function(){t.id=n.engine.id,~p(n.connected,t)||n.connected.push(t)})}return t},r.prototype.destroy=function(e){var t=p(this.connected,e);~t&&this.connected.splice(t,1),this.connected.length||this.close()},r.prototype.packet=function(e){c("writing packet %j",e);var t=this;t.encoding?t.packetBuffer.push(e):(t.encoding=!0,this.encoder.encode(e,function(e){for(var n=0;n<e.length;n++)t.engine.write(e[n]);t.encoding=!1,t.processPacketQueue()}))},r.prototype.processPacketQueue=function(){if(this.packetBuffer.length>0&&!this.encoding){var e=this.packetBuffer.shift();this.packet(e)}},r.prototype.cleanup=function(){for(var e;e=this.subs.shift();)e.destroy();this.packetBuffer=[],this.encoding=!1,
this.decoder.destroy()},r.prototype.close=r.prototype.disconnect=function(){this.skipReconnect=!0,this.backoff.reset(),this.readyState="closed",this.engine&&this.engine.close()},r.prototype.onclose=function(e){c("close"),this.cleanup(),this.backoff.reset(),this.readyState="closed",this.emit("close",e),this._reconnection&&!this.skipReconnect&&this.reconnect()},r.prototype.reconnect=function(){if(this.reconnecting||this.skipReconnect)return this;var e=this;if(this.backoff.attempts>=this._reconnectionAttempts)c("reconnect failed"),this.backoff.reset(),this.emitAll("reconnect_failed"),this.reconnecting=!1;else{var t=this.backoff.duration();c("will wait %dms before reconnect attempt",t),this.reconnecting=!0;var n=setTimeout(function(){e.skipReconnect||(c("attempting reconnect"),e.emitAll("reconnect_attempt",e.backoff.attempts),e.emitAll("reconnecting",e.backoff.attempts),e.skipReconnect||e.open(function(t){t?(c("reconnect attempt error"),e.reconnecting=!1,e.reconnect(),e.emitAll("reconnect_error",t.data)):(c("reconnect success"),
e.onreconnect())}))},t);this.subs.push({destroy:function(){clearTimeout(n)}})}},r.prototype.onreconnect=function(){var e=this.backoff.attempts;this.reconnecting=!1,this.backoff.reset(),this.updateSocketIds(),this.emitAll("reconnect",e)}},{"./on":846,"./socket":847,"./url":848,backo2:849,"component-bind":850,"component-emitter":851,debug:852,"engine.io-client":853,indexof:881,"object-component":882,"socket.io-parser":885}],846:[function(e,t,n){function r(e,t,n){return e.on(t,n),{destroy:function(){e.removeListener(t,n)}}}t.exports=r},{}],847:[function(e,t,n){function r(e,t){this.io=e,this.nsp=t,this.json=this,this.ids=0,this.acks={},this.io.autoConnect&&this.open(),this.receiveBuffer=[],this.sendBuffer=[],this.connected=!1,this.disconnected=!0}var o=e("socket.io-parser"),i=e("component-emitter"),s=e("to-array"),a=e("./on"),u=e("component-bind"),l=e("debug")("socket.io-client:socket"),c=e("has-binary");t.exports=n=r;var p={connect:1,connect_error:1,connect_timeout:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,
reconnect_failed:1,reconnect_error:1,reconnecting:1},d=i.prototype.emit;i(r.prototype),r.prototype.subEvents=function(){if(!this.subs){var e=this.io;this.subs=[a(e,"open",u(this,"onopen")),a(e,"packet",u(this,"onpacket")),a(e,"close",u(this,"onclose"))]}},r.prototype.open=r.prototype.connect=function(){return this.connected?this:(this.subEvents(),this.io.open(),"open"==this.io.readyState&&this.onopen(),this)},r.prototype.send=function(){var e=s(arguments);return e.unshift("message"),this.emit.apply(this,e),this},r.prototype.emit=function(e){if(p.hasOwnProperty(e))return d.apply(this,arguments),this;var t=s(arguments),n=o.EVENT;c(t)&&(n=o.BINARY_EVENT);var r={type:n,data:t};return"function"==typeof t[t.length-1]&&(l("emitting packet with ack id %d",this.ids),this.acks[this.ids]=t.pop(),r.id=this.ids++),this.connected?this.packet(r):this.sendBuffer.push(r),this},r.prototype.packet=function(e){e.nsp=this.nsp,this.io.packet(e)},r.prototype.onopen=function(){l("transport is open - connecting"),"/"!=this.nsp&&this.packet({
type:o.CONNECT})},r.prototype.onclose=function(e){l("close (%s)",e),this.connected=!1,this.disconnected=!0,delete this.id,this.emit("disconnect",e)},r.prototype.onpacket=function(e){if(e.nsp==this.nsp)switch(e.type){case o.CONNECT:this.onconnect();break;case o.EVENT:this.onevent(e);break;case o.BINARY_EVENT:this.onevent(e);break;case o.ACK:this.onack(e);break;case o.BINARY_ACK:this.onack(e);break;case o.DISCONNECT:this.ondisconnect();break;case o.ERROR:this.emit("error",e.data)}},r.prototype.onevent=function(e){var t=e.data||[];l("emitting event %j",t),null!=e.id&&(l("attaching ack callback to event"),t.push(this.ack(e.id))),this.connected?d.apply(this,t):this.receiveBuffer.push(t)},r.prototype.ack=function(e){var t=this,n=!1;return function(){if(!n){n=!0;var r=s(arguments);l("sending ack %j",r);var i=c(r)?o.BINARY_ACK:o.ACK;t.packet({type:i,id:e,data:r})}}},r.prototype.onack=function(e){l("calling ack %s with %j",e.id,e.data);var t=this.acks[e.id];t.apply(this,e.data),delete this.acks[e.id]},r.prototype.onconnect=function(){
this.connected=!0,this.disconnected=!1,this.emit("connect"),this.emitBuffered()},r.prototype.emitBuffered=function(){var e;for(e=0;e<this.receiveBuffer.length;e++)d.apply(this,this.receiveBuffer[e]);for(this.receiveBuffer=[],e=0;e<this.sendBuffer.length;e++)this.packet(this.sendBuffer[e]);this.sendBuffer=[]},r.prototype.ondisconnect=function(){l("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")},r.prototype.destroy=function(){if(this.subs){for(var e=0;e<this.subs.length;e++)this.subs[e].destroy();this.subs=null}this.io.destroy(this)},r.prototype.close=r.prototype.disconnect=function(){return this.connected&&(l("performing disconnect (%s)",this.nsp),this.packet({type:o.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}},{"./on":846,"component-bind":850,"component-emitter":851,debug:852,"has-binary":880,"socket.io-parser":885,"to-array":888}],848:[function(e,t,n){(function(n){function r(e,t){var r=e,t=t||n.location;return null==e&&(e=t.protocol+"//"+t.host),
"string"==typeof e&&("/"==e.charAt(0)&&(e="/"==e.charAt(1)?t.protocol+e:t.hostname+e),/^(https?|wss?):\/\//.test(e)||(i("protocol-less url %s",e),e="undefined"!=typeof t?t.protocol+"//"+e:"https://"+e),i("parse %s",e),r=o(e)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/",r.id=r.protocol+"://"+r.host+":"+r.port,r.href=r.protocol+"://"+r.host+(t&&t.port==r.port?"":":"+r.port),r}var o=e("parseuri"),i=e("debug")("socket.io-client:url");t.exports=r}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{debug:852,parseuri:883}],849:[function(e,t,n){function r(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}t.exports=r,r.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=0==(1&Math.floor(10*t))?e-n:e+n;
}return 0|Math.min(e,this.max)},r.prototype.reset=function(){this.attempts=0},r.prototype.setMin=function(e){this.ms=e},r.prototype.setMax=function(e){this.max=e},r.prototype.setJitter=function(e){this.jitter=e}},{}],850:[function(e,t,n){var r=[].slice;t.exports=function(e,t){if("string"==typeof t&&(t=e[t]),"function"!=typeof t)throw new Error("bind() requires a function");var n=r.call(arguments,2);return function(){return t.apply(e,n.concat(r.call(arguments)))}}},{}],851:[function(e,t,n){function r(e){return e?o(e):void 0}function o(e){for(var t in r.prototype)e[t]=r.prototype[t];return e}t.exports=r,r.prototype.on=r.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks[e]=this._callbacks[e]||[]).push(t),this},r.prototype.once=function(e,t){function n(){r.off(e,n),t.apply(this,arguments)}var r=this;return this._callbacks=this._callbacks||{},n.fn=t,this.on(e,n),this},r.prototype.off=r.prototype.removeListener=r.prototype.removeAllListeners=r.prototype.removeEventListener=function(e,t){
if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n=this._callbacks[e];if(!n)return this;if(1==arguments.length)return delete this._callbacks[e],this;for(var r,o=0;o<n.length;o++)if(r=n[o],r===t||r.fn===t){n.splice(o,1);break}return this},r.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),n=this._callbacks[e];if(n){n=n.slice(0);for(var r=0,o=n.length;o>r;++r)n[r].apply(this,t)}return this},r.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks[e]||[]},r.prototype.hasListeners=function(e){return!!this.listeners(e).length}},{}],852:[function(e,t,n){function r(e){return r.enabled(e)?function(t){t=o(t);var n=new Date,i=n-(r[e]||n);r[e]=n,t=e+" "+t+" +"+r.humanize(i),window.console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}:function(){}}function o(e){return e instanceof Error?e.stack||e.message:e}t.exports=r,r.names=[],r.skips=[],r.enable=function(e){try{localStorage.debug=e;
}catch(t){}for(var n=(e||"").split(/[\s,]+/),o=n.length,i=0;o>i;i++)e=n[i].replace("*",".*?"),"-"===e[0]?r.skips.push(new RegExp("^"+e.substr(1)+"$")):r.names.push(new RegExp("^"+e+"$"))},r.disable=function(){r.enable("")},r.humanize=function(e){var t=1e3,n=6e4,r=60*n;return e>=r?(e/r).toFixed(1)+"h":e>=n?(e/n).toFixed(1)+"m":e>=t?(e/t|0)+"s":e+"ms"},r.enabled=function(e){for(var t=0,n=r.skips.length;n>t;t++)if(r.skips[t].test(e))return!1;for(var t=0,n=r.names.length;n>t;t++)if(r.names[t].test(e))return!0;return!1};try{window.localStorage&&r.enable(localStorage.debug)}catch(i){}},{}],853:[function(e,t,n){t.exports=e("./lib/")},{"./lib/":854}],854:[function(e,t,n){t.exports=e("./socket"),t.exports.parser=e("engine.io-parser")},{"./socket":855,"engine.io-parser":867}],855:[function(e,t,n){(function(n){function r(e,t){if(!(this instanceof r))return new r(e,t);if(t=t||{},e&&"object"==typeof e&&(t=e,e=null),e&&(e=c(e),t.host=e.host,t.secure="https"==e.protocol||"wss"==e.protocol,t.port=e.port,e.query&&(t.query=e.query)),
this.secure=null!=t.secure?t.secure:n.location&&"https:"==location.protocol,t.host){var o=t.host.split(":");t.hostname=o.shift(),o.length?t.port=o.pop():t.port||(t.port=this.secure?"443":"80")}this.agent=t.agent||!1,this.hostname=t.hostname||(n.location?location.hostname:"localhost"),this.port=t.port||(n.location&&location.port?location.port:this.secure?443:80),this.query=t.query||{},"string"==typeof this.query&&(this.query=d.decode(this.query)),this.upgrade=!1!==t.upgrade,this.path=(t.path||"/engine.io").replace(/\/$/,"")+"/",this.forceJSONP=!!t.forceJSONP,this.jsonp=!1!==t.jsonp,this.forceBase64=!!t.forceBase64,this.enablesXDR=!!t.enablesXDR,this.timestampParam=t.timestampParam||"t",this.timestampRequests=t.timestampRequests,this.transports=t.transports||["polling","websocket"],this.readyState="",this.writeBuffer=[],this.callbackBuffer=[],this.policyPort=t.policyPort||843,this.rememberUpgrade=t.rememberUpgrade||!1,this.binaryType=null,this.onlyBinaryUpgrades=t.onlyBinaryUpgrades,this.pfx=t.pfx||null,this.key=t.key||null,
this.passphrase=t.passphrase||null,this.cert=t.cert||null,this.ca=t.ca||null,this.ciphers=t.ciphers||null,this.rejectUnauthorized=t.rejectUnauthorized||null,this.open()}function o(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}var i=e("./transports"),s=e("component-emitter"),a=e("debug")("engine.io-client:socket"),u=e("indexof"),l=e("engine.io-parser"),c=e("parseuri"),p=e("parsejson"),d=e("parseqs");t.exports=r,r.priorWebsocketSuccess=!1,s(r.prototype),r.protocol=l.protocol,r.Socket=r,r.Transport=e("./transport"),r.transports=e("./transports"),r.parser=e("engine.io-parser"),r.prototype.createTransport=function(e){a('creating transport "%s"',e);var t=o(this.query);t.EIO=l.protocol,t.transport=e,this.id&&(t.sid=this.id);var n=new i[e]({agent:this.agent,hostname:this.hostname,port:this.port,secure:this.secure,path:this.path,query:t,forceJSONP:this.forceJSONP,jsonp:this.jsonp,forceBase64:this.forceBase64,enablesXDR:this.enablesXDR,timestampRequests:this.timestampRequests,timestampParam:this.timestampParam,
policyPort:this.policyPort,socket:this,pfx:this.pfx,key:this.key,passphrase:this.passphrase,cert:this.cert,ca:this.ca,ciphers:this.ciphers,rejectUnauthorized:this.rejectUnauthorized});return n},r.prototype.open=function(){var e;if(this.rememberUpgrade&&r.priorWebsocketSuccess&&-1!=this.transports.indexOf("websocket"))e="websocket";else{if(0==this.transports.length){var t=this;return void setTimeout(function(){t.emit("error","No transports available")},0)}e=this.transports[0]}this.readyState="opening";var e;try{e=this.createTransport(e)}catch(n){return this.transports.shift(),void this.open()}e.open(),this.setTransport(e)},r.prototype.setTransport=function(e){a("setting transport %s",e.name);var t=this;this.transport&&(a("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=e,e.on("drain",function(){t.onDrain()}).on("packet",function(e){t.onPacket(e)}).on("error",function(e){t.onError(e)}).on("close",function(){t.onClose("transport close")})},r.prototype.probe=function(e){
function t(){if(d.onlyBinaryUpgrades){var t=!this.supportsBinary&&d.transport.supportsBinary;p=p||t}p||(a('probe transport "%s" opened',e),c.send([{type:"ping",data:"probe"}]),c.once("packet",function(t){if(!p)if("pong"==t.type&&"probe"==t.data){if(a('probe transport "%s" pong',e),d.upgrading=!0,d.emit("upgrading",c),!c)return;r.priorWebsocketSuccess="websocket"==c.name,a('pausing current transport "%s"',d.transport.name),d.transport.pause(function(){p||"closed"!=d.readyState&&(a("changing transport and sending upgrade packet"),l(),d.setTransport(c),c.send([{type:"upgrade"}]),d.emit("upgrade",c),c=null,d.upgrading=!1,d.flush())})}else{a('probe transport "%s" failed',e);var n=new Error("probe error");n.transport=c.name,d.emit("upgradeError",n)}}))}function n(){p||(p=!0,l(),c.close(),c=null)}function o(t){var r=new Error("probe error: "+t);r.transport=c.name,n(),a('probe transport "%s" failed because of error: %s',e,t),d.emit("upgradeError",r)}function i(){o("transport closed")}function s(){o("socket closed")}function u(e){
c&&e.name!=c.name&&(a('"%s" works - aborting "%s"',e.name,c.name),n())}function l(){c.removeListener("open",t),c.removeListener("error",o),c.removeListener("close",i),d.removeListener("close",s),d.removeListener("upgrading",u)}a('probing transport "%s"',e);var c=this.createTransport(e,{probe:1}),p=!1,d=this;r.priorWebsocketSuccess=!1,c.once("open",t),c.once("error",o),c.once("close",i),this.once("close",s),this.once("upgrading",u),c.open()},r.prototype.onOpen=function(){if(a("socket open"),this.readyState="open",r.priorWebsocketSuccess="websocket"==this.transport.name,this.emit("open"),this.flush(),"open"==this.readyState&&this.upgrade&&this.transport.pause){a("starting upgrade probes");for(var e=0,t=this.upgrades.length;t>e;e++)this.probe(this.upgrades[e])}},r.prototype.onPacket=function(e){if("opening"==this.readyState||"open"==this.readyState)switch(a('socket receive: type "%s", data "%s"',e.type,e.data),this.emit("packet",e),this.emit("heartbeat"),e.type){case"open":this.onHandshake(p(e.data));break;case"pong":
this.setPing();break;case"error":var t=new Error("server error");t.code=e.data,this.emit("error",t);break;case"message":this.emit("data",e.data),this.emit("message",e.data)}else a('packet received with socket readyState "%s"',this.readyState)},r.prototype.onHandshake=function(e){this.emit("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.onOpen(),"closed"!=this.readyState&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))},r.prototype.onHeartbeat=function(e){clearTimeout(this.pingTimeoutTimer);var t=this;t.pingTimeoutTimer=setTimeout(function(){"closed"!=t.readyState&&t.onClose("ping timeout")},e||t.pingInterval+t.pingTimeout)},r.prototype.setPing=function(){var e=this;clearTimeout(e.pingIntervalTimer),e.pingIntervalTimer=setTimeout(function(){a("writing ping packet - expecting pong within %sms",e.pingTimeout),e.ping(),e.onHeartbeat(e.pingTimeout);
},e.pingInterval)},r.prototype.ping=function(){this.sendPacket("ping")},r.prototype.onDrain=function(){for(var e=0;e<this.prevBufferLen;e++)this.callbackBuffer[e]&&this.callbackBuffer[e]();this.writeBuffer.splice(0,this.prevBufferLen),this.callbackBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0==this.writeBuffer.length?this.emit("drain"):this.flush()},r.prototype.flush=function(){"closed"!=this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(a("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))},r.prototype.write=r.prototype.send=function(e,t){return this.sendPacket("message",e,t),this},r.prototype.sendPacket=function(e,t,n){if("closing"!=this.readyState&&"closed"!=this.readyState){var r={type:e,data:t};this.emit("packetCreate",r),this.writeBuffer.push(r),this.callbackBuffer.push(n),this.flush()}},r.prototype.close=function(){function e(){r.onClose("forced close"),
a("socket closing - telling transport to close"),r.transport.close()}function t(){r.removeListener("upgrade",t),r.removeListener("upgradeError",t),e()}function n(){r.once("upgrade",t),r.once("upgradeError",t)}if("opening"==this.readyState||"open"==this.readyState){this.readyState="closing";var r=this;this.writeBuffer.length?this.once("drain",function(){this.upgrading?n():e()}):this.upgrading?n():e()}return this},r.prototype.onError=function(e){a("socket error %j",e),r.priorWebsocketSuccess=!1,this.emit("error",e),this.onClose("transport error",e)},r.prototype.onClose=function(e,t){if("opening"==this.readyState||"open"==this.readyState||"closing"==this.readyState){a('socket close with reason: "%s"',e);var n=this;clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),setTimeout(function(){n.writeBuffer=[],n.callbackBuffer=[],n.prevBufferLen=0},0),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),this.readyState="closed",this.id=null,this.emit("close",e,t);
}},r.prototype.filterUpgrades=function(e){for(var t=[],n=0,r=e.length;r>n;n++)~u(this.transports,e[n])&&t.push(e[n]);return t}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./transport":856,"./transports":857,"component-emitter":851,debug:864,"engine.io-parser":867,indexof:881,parsejson:876,parseqs:877,parseuri:878}],856:[function(e,t,n){function r(e){this.path=e.path,this.hostname=e.hostname,this.port=e.port,this.secure=e.secure,this.query=e.query,this.timestampParam=e.timestampParam,this.timestampRequests=e.timestampRequests,this.readyState="",this.agent=e.agent||!1,this.socket=e.socket,this.enablesXDR=e.enablesXDR,this.pfx=e.pfx,this.key=e.key,this.passphrase=e.passphrase,this.cert=e.cert,this.ca=e.ca,this.ciphers=e.ciphers,this.rejectUnauthorized=e.rejectUnauthorized}var o=e("engine.io-parser"),i=e("component-emitter");t.exports=r,i(r.prototype),r.timestamps=0,r.prototype.onError=function(e,t){var n=new Error(e);return n.type="TransportError",
n.description=t,this.emit("error",n),this},r.prototype.open=function(){return("closed"==this.readyState||""==this.readyState)&&(this.readyState="opening",this.doOpen()),this},r.prototype.close=function(){return("opening"==this.readyState||"open"==this.readyState)&&(this.doClose(),this.onClose()),this},r.prototype.send=function(e){if("open"!=this.readyState)throw new Error("Transport not open");this.write(e)},r.prototype.onOpen=function(){this.readyState="open",this.writable=!0,this.emit("open")},r.prototype.onData=function(e){var t=o.decodePacket(e,this.socket.binaryType);this.onPacket(t)},r.prototype.onPacket=function(e){this.emit("packet",e)},r.prototype.onClose=function(){this.readyState="closed",this.emit("close")}},{"component-emitter":851,"engine.io-parser":867}],857:[function(e,t,n){(function(t){function r(e){var n,r=!1,a=!1,u=!1!==e.jsonp;if(t.location){var l="https:"==location.protocol,c=location.port;c||(c=l?443:80),r=e.hostname!=location.hostname||c!=e.port,a=e.secure!=l}if(e.xdomain=r,e.xscheme=a,n=new o(e),
"open"in n&&!e.forceJSONP)return new i(e);if(!u)throw new Error("JSONP disabled");return new s(e)}var o=e("xmlhttprequest"),i=e("./polling-xhr"),s=e("./polling-jsonp"),a=e("./websocket");n.polling=r,n.websocket=a}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./polling-jsonp":858,"./polling-xhr":859,"./websocket":861,xmlhttprequest:862}],858:[function(e,t,n){(function(n){function r(){}function o(e){i.call(this,e),this.query=this.query||{},a||(n.___eio||(n.___eio=[]),a=n.___eio),this.index=a.length;var t=this;a.push(function(e){t.onData(e)}),this.query.j=this.index,n.document&&n.addEventListener&&n.addEventListener("beforeunload",function(){t.script&&(t.script.onerror=r)},!1)}var i=e("./polling"),s=e("component-inherit");t.exports=o;var a,u=/\n/g,l=/\\n/g;s(o,i),o.prototype.supportsBinary=!1,o.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),
this.form=null,this.iframe=null),i.prototype.doClose.call(this)},o.prototype.doPoll=function(){var e=this,t=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),t.async=!0,t.src=this.uri(),t.onerror=function(t){e.onError("jsonp poll error",t)};var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(t,n),this.script=t;var r="undefined"!=typeof navigator&&/gecko/i.test(navigator.userAgent);r&&setTimeout(function(){var e=document.createElement("iframe");document.body.appendChild(e),document.body.removeChild(e)},100)},o.prototype.doWrite=function(e,t){function n(){r(),t()}function r(){if(o.iframe)try{o.form.removeChild(o.iframe)}catch(e){o.onError("jsonp polling iframe removal error",e)}try{var t='<iframe src="javascript:0" name="'+o.iframeId+'">';i=document.createElement(t)}catch(e){i=document.createElement("iframe"),i.name=o.iframeId,i.src="javascript:0"}i.id=o.iframeId,o.form.appendChild(i),o.iframe=i}var o=this;if(!this.form){var i,s=document.createElement("form"),a=document.createElement("textarea"),c=this.iframeId="eio_iframe_"+this.index;
s.className="socketio",s.style.position="absolute",s.style.top="-1000px",s.style.left="-1000px",s.target=c,s.method="POST",s.setAttribute("accept-charset","utf-8"),a.name="d",s.appendChild(a),document.body.appendChild(s),this.form=s,this.area=a}this.form.action=this.uri(),r(),e=e.replace(l,"\\\n"),this.area.value=e.replace(u,"\\n");try{this.form.submit()}catch(p){}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){"complete"==o.iframe.readyState&&n()}:this.iframe.onload=n}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./polling":860,"component-inherit":863}],859:[function(e,t,n){(function(n){function r(){}function o(e){if(u.call(this,e),n.location){var t="https:"==location.protocol,r=location.port;r||(r=t?443:80),this.xd=e.hostname!=n.location.hostname||r!=e.port,this.xs=e.secure!=t}}function i(e){this.method=e.method||"GET",this.uri=e.uri,this.xd=!!e.xd,this.xs=!!e.xs,this.async=!1!==e.async,this.data=void 0!=e.data?e.data:null,
this.agent=e.agent,this.isBinary=e.isBinary,this.supportsBinary=e.supportsBinary,this.enablesXDR=e.enablesXDR,this.pfx=e.pfx,this.key=e.key,this.passphrase=e.passphrase,this.cert=e.cert,this.ca=e.ca,this.ciphers=e.ciphers,this.rejectUnauthorized=e.rejectUnauthorized,this.create()}function s(){for(var e in i.requests)i.requests.hasOwnProperty(e)&&i.requests[e].abort()}var a=e("xmlhttprequest"),u=e("./polling"),l=e("component-emitter"),c=e("component-inherit"),p=e("debug")("engine.io-client:polling-xhr");t.exports=o,t.exports.Request=i,c(o,u),o.prototype.supportsBinary=!0,o.prototype.request=function(e){return e=e||{},e.uri=this.uri(),e.xd=this.xd,e.xs=this.xs,e.agent=this.agent||!1,e.supportsBinary=this.supportsBinary,e.enablesXDR=this.enablesXDR,e.pfx=this.pfx,e.key=this.key,e.passphrase=this.passphrase,e.cert=this.cert,e.ca=this.ca,e.ciphers=this.ciphers,e.rejectUnauthorized=this.rejectUnauthorized,new i(e)},o.prototype.doWrite=function(e,t){var n="string"!=typeof e&&void 0!==e,r=this.request({method:"POST",data:e,
isBinary:n}),o=this;r.on("success",t),r.on("error",function(e){o.onError("xhr post error",e)}),this.sendXhr=r},o.prototype.doPoll=function(){p("xhr poll");var e=this.request(),t=this;e.on("data",function(e){t.onData(e)}),e.on("error",function(e){t.onError("xhr poll error",e)}),this.pollXhr=e},l(i.prototype),i.prototype.create=function(){var e={agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR};e.pfx=this.pfx,e.key=this.key,e.passphrase=this.passphrase,e.cert=this.cert,e.ca=this.ca,e.ciphers=this.ciphers,e.rejectUnauthorized=this.rejectUnauthorized;var t=this.xhr=new a(e),r=this;try{if(p("xhr open %s: %s",this.method,this.uri),t.open(this.method,this.uri,this.async),this.supportsBinary&&(t.responseType="arraybuffer"),"POST"==this.method)try{this.isBinary?t.setRequestHeader("Content-type","application/octet-stream"):t.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(o){}"withCredentials"in t&&(t.withCredentials=!0),this.hasXDR()?(t.onload=function(){r.onLoad()},t.onerror=function(){
r.onError(t.responseText)}):t.onreadystatechange=function(){4==t.readyState&&(200==t.status||1223==t.status?r.onLoad():setTimeout(function(){r.onError(t.status)},0))},p("xhr data %s",this.data),t.send(this.data)}catch(o){return void setTimeout(function(){r.onError(o)},0)}n.document&&(this.index=i.requestsCount++,i.requests[this.index]=this)},i.prototype.onSuccess=function(){this.emit("success"),this.cleanup()},i.prototype.onData=function(e){this.emit("data",e),this.onSuccess()},i.prototype.onError=function(e){this.emit("error",e),this.cleanup(!0)},i.prototype.cleanup=function(e){if("undefined"!=typeof this.xhr&&null!==this.xhr){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=r:this.xhr.onreadystatechange=r,e)try{this.xhr.abort()}catch(t){}n.document&&delete i.requests[this.index],this.xhr=null}},i.prototype.onLoad=function(){var e;try{var t;try{t=this.xhr.getResponseHeader("Content-Type").split(";")[0]}catch(n){}e="application/octet-stream"===t?this.xhr.response:this.supportsBinary?"ok":this.xhr.responseText;
}catch(n){this.onError(n)}null!=e&&this.onData(e)},i.prototype.hasXDR=function(){return"undefined"!=typeof n.XDomainRequest&&!this.xs&&this.enablesXDR},i.prototype.abort=function(){this.cleanup()},n.document&&(i.requestsCount=0,i.requests={},n.attachEvent?n.attachEvent("onunload",s):n.addEventListener&&n.addEventListener("beforeunload",s,!1))}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./polling":860,"component-emitter":851,"component-inherit":863,debug:864,xmlhttprequest:862}],860:[function(e,t,n){function r(e){var t=e&&e.forceBase64;(!l||t)&&(this.supportsBinary=!1),o.call(this,e)}var o=e("../transport"),i=e("parseqs"),s=e("engine.io-parser"),a=e("component-inherit"),u=e("debug")("engine.io-client:polling");t.exports=r;var l=function(){var t=e("xmlhttprequest"),n=new t({xdomain:!1});return null!=n.responseType}();a(r,o),r.prototype.name="polling",r.prototype.doOpen=function(){this.poll()},r.prototype.pause=function(e){function t(){u("paused"),
n.readyState="paused",e()}var n=this;if(this.readyState="pausing",this.polling||!this.writable){var r=0;this.polling&&(u("we are currently polling - waiting to pause"),r++,this.once("pollComplete",function(){u("pre-pause polling complete"),--r||t()})),this.writable||(u("we are currently writing - waiting to pause"),r++,this.once("drain",function(){u("pre-pause writing complete"),--r||t()}))}else t()},r.prototype.poll=function(){u("polling"),this.polling=!0,this.doPoll(),this.emit("poll")},r.prototype.onData=function(e){var t=this;u("polling got data %s",e);var n=function(e,n,r){return"opening"==t.readyState&&t.onOpen(),"close"==e.type?(t.onClose(),!1):void t.onPacket(e)};s.decodePayload(e,this.socket.binaryType,n),"closed"!=this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"==this.readyState?this.poll():u('ignoring poll - transport state "%s"',this.readyState))},r.prototype.doClose=function(){function e(){u("writing close packet"),t.write([{type:"close"}])}var t=this;"open"==this.readyState?(u("transport open - closing"),
e()):(u("transport not open - deferring close"),this.once("open",e))},r.prototype.write=function(e){var t=this;this.writable=!1;var n=function(){t.writable=!0,t.emit("drain")},t=this;s.encodePayload(e,this.supportsBinary,function(e){t.doWrite(e,n)})},r.prototype.uri=function(){var e=this.query||{},t=this.secure?"https":"http",n="";return!1!==this.timestampRequests&&(e[this.timestampParam]=+new Date+"-"+o.timestamps++),this.supportsBinary||e.sid||(e.b64=1),e=i.encode(e),this.port&&("https"==t&&443!=this.port||"http"==t&&80!=this.port)&&(n=":"+this.port),e.length&&(e="?"+e),t+"://"+this.hostname+n+this.path+e}},{"../transport":856,"component-inherit":863,debug:864,"engine.io-parser":867,parseqs:877,xmlhttprequest:862}],861:[function(e,t,n){function r(e){var t=e&&e.forceBase64;t&&(this.supportsBinary=!1),o.call(this,e)}var o=e("../transport"),i=e("engine.io-parser"),s=e("parseqs"),a=e("component-inherit"),u=e("debug")("engine.io-client:websocket"),l=e("ws");t.exports=r,a(r,o),r.prototype.name="websocket",r.prototype.supportsBinary=!0,
r.prototype.doOpen=function(){if(this.check()){var e=this.uri(),t=void 0,n={agent:this.agent};n.pfx=this.pfx,n.key=this.key,n.passphrase=this.passphrase,n.cert=this.cert,n.ca=this.ca,n.ciphers=this.ciphers,n.rejectUnauthorized=this.rejectUnauthorized,this.ws=new l(e,t,n),void 0===this.ws.binaryType&&(this.supportsBinary=!1),this.ws.binaryType="arraybuffer",this.addEventListeners()}},r.prototype.addEventListeners=function(){var e=this;this.ws.onopen=function(){e.onOpen()},this.ws.onclose=function(){e.onClose()},this.ws.onmessage=function(t){e.onData(t.data)},this.ws.onerror=function(t){e.onError("websocket error",t)}},"undefined"!=typeof navigator&&/iPad|iPhone|iPod/i.test(navigator.userAgent)&&(r.prototype.onData=function(e){var t=this;setTimeout(function(){o.prototype.onData.call(t,e)},0)}),r.prototype.write=function(e){function t(){n.writable=!0,n.emit("drain")}var n=this;this.writable=!1;for(var r=0,o=e.length;o>r;r++)i.encodePacket(e[r],this.supportsBinary,function(e){try{n.ws.send(e)}catch(t){u("websocket closed before onclose event");
}});setTimeout(t,0)},r.prototype.onClose=function(){o.prototype.onClose.call(this)},r.prototype.doClose=function(){"undefined"!=typeof this.ws&&this.ws.close()},r.prototype.uri=function(){var e=this.query||{},t=this.secure?"wss":"ws",n="";return this.port&&("wss"==t&&443!=this.port||"ws"==t&&80!=this.port)&&(n=":"+this.port),this.timestampRequests&&(e[this.timestampParam]=+new Date),this.supportsBinary||(e.b64=1),e=s.encode(e),e.length&&(e="?"+e),t+"://"+this.hostname+n+this.path+e},r.prototype.check=function(){return!(!l||"__initialize"in l&&this.name===r.prototype.name)}},{"../transport":856,"component-inherit":863,debug:864,"engine.io-parser":867,parseqs:877,ws:879}],862:[function(e,t,n){var r=e("has-cors");t.exports=function(e){var t=e.xdomain,n=e.xscheme,o=e.enablesXDR;try{if("undefined"!=typeof XMLHttpRequest&&(!t||r))return new XMLHttpRequest}catch(i){}try{if("undefined"!=typeof XDomainRequest&&!n&&o)return new XDomainRequest}catch(i){}if(!t)try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(i){}}},{
"has-cors":874}],863:[function(e,t,n){t.exports=function(e,t){var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},{}],864:[function(e,t,n){function r(){return"WebkitAppearance"in document.documentElement.style||window.console&&(console.firebug||console.exception&&console.table)||navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31}function o(){var e=arguments,t=this.useColors;if(e[0]=(t?"%c":"")+this.namespace+(t?" %c":" ")+e[0]+(t?"%c ":" ")+"+"+n.humanize(this.diff),!t)return e;var r="color: "+this.color;e=[e[0],r,"color: inherit"].concat(Array.prototype.slice.call(e,1));var o=0,i=0;return e[0].replace(/%[a-z%]/g,function(e){"%%"!==e&&(o++,"%c"===e&&(i=o))}),e.splice(i,0,r),e}function i(){return"object"==typeof console&&"function"==typeof console.log&&Function.prototype.apply.call(console.log,console,arguments)}function s(e){try{null==e?localStorage.removeItem("debug"):localStorage.debug=e}catch(t){}}function a(){var e;try{e=localStorage.debug;
}catch(t){}return e}n=t.exports=e("./debug"),n.log=i,n.formatArgs=o,n.save=s,n.load=a,n.useColors=r,n.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],n.formatters.j=function(e){return JSON.stringify(e)},n.enable(a())},{"./debug":865}],865:[function(e,t,n){function r(){return n.colors[c++%n.colors.length]}function o(e){function t(){}function o(){var e=o,t=+new Date,i=t-(l||t);e.diff=i,e.prev=l,e.curr=t,l=t,null==e.useColors&&(e.useColors=n.useColors()),null==e.color&&e.useColors&&(e.color=r());var s=Array.prototype.slice.call(arguments);s[0]=n.coerce(s[0]),"string"!=typeof s[0]&&(s=["%o"].concat(s));var a=0;s[0]=s[0].replace(/%([a-z%])/g,function(t,r){if("%%"===t)return t;a++;var o=n.formatters[r];if("function"==typeof o){var i=s[a];t=o.call(e,i),s.splice(a,1),a--}return t}),"function"==typeof n.formatArgs&&(s=n.formatArgs.apply(e,s));var u=o.log||n.log||console.log.bind(console);u.apply(e,s)}t.enabled=!1,o.enabled=!0;var i=n.enabled(e)?o:t;return i.namespace=e,i}function i(e){
n.save(e);for(var t=(e||"").split(/[\s,]+/),r=t.length,o=0;r>o;o++)t[o]&&(e=t[o].replace(/\*/g,".*?"),"-"===e[0]?n.skips.push(new RegExp("^"+e.substr(1)+"$")):n.names.push(new RegExp("^"+e+"$")))}function s(){n.enable("")}function a(e){var t,r;for(t=0,r=n.skips.length;r>t;t++)if(n.skips[t].test(e))return!1;for(t=0,r=n.names.length;r>t;t++)if(n.names[t].test(e))return!0;return!1}function u(e){return e instanceof Error?e.stack||e.message:e}n=t.exports=o,n.coerce=u,n.disable=s,n.enable=i,n.enabled=a,n.humanize=e("ms"),n.names=[],n.skips=[],n.formatters={};var l,c=0},{ms:866}],866:[function(e,t,n){function r(e){var t=/^((?:\d+)?\.?\d+) *(ms|seconds?|s|minutes?|m|hours?|h|days?|d|years?|y)?$/i.exec(e);if(t){var n=parseFloat(t[1]),r=(t[2]||"ms").toLowerCase();switch(r){case"years":case"year":case"y":return n*p;case"days":case"day":case"d":return n*c;case"hours":case"hour":case"h":return n*l;case"minutes":case"minute":case"m":return n*u;case"seconds":case"second":case"s":return n*a;case"ms":return n}}}function o(e){return e>=c?Math.round(e/c)+"d":e>=l?Math.round(e/l)+"h":e>=u?Math.round(e/u)+"m":e>=a?Math.round(e/a)+"s":e+"ms";
}function i(e){return s(e,c,"day")||s(e,l,"hour")||s(e,u,"minute")||s(e,a,"second")||e+" ms"}function s(e,t,n){return t>e?void 0:1.5*t>e?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}var a=1e3,u=60*a,l=60*u,c=24*l,p=365.25*c;t.exports=function(e,t){return t=t||{},"string"==typeof e?r(e):t["long"]?i(e):o(e)}},{}],867:[function(e,t,n){(function(t){function r(e,t){var r="b"+n.packets[e.type]+e.data.data;return t(r)}function o(e,t,r){if(!t)return n.encodeBase64Packet(e,r);var o=e.data,i=new Uint8Array(o),s=new Uint8Array(1+o.byteLength);s[0]=v[e.type];for(var a=0;a<i.length;a++)s[a+1]=i[a];return r(s.buffer)}function i(e,t,r){if(!t)return n.encodeBase64Packet(e,r);var o=new FileReader;return o.onload=function(){e.data=o.result,n.encodePacket(e,t,!0,r)},o.readAsArrayBuffer(e.data)}function s(e,t,r){if(!t)return n.encodeBase64Packet(e,r);if(g)return i(e,t,r);var o=new Uint8Array(1);o[0]=v[e.type];var s=new _([o.buffer,e.data]);return r(s)}function a(e,t,n){for(var r=new Array(e.length),o=d(e.length,n),i=function(e,n,o){
t(n,function(t,n){r[e]=n,o(t,r)})},s=0;s<e.length;s++)i(s,e[s],o)}var u=e("./keys"),l=e("has-binary"),c=e("arraybuffer.slice"),p=e("base64-arraybuffer"),d=e("after"),h=e("utf8"),f=navigator.userAgent.match(/Android/i),m=/PhantomJS/i.test(navigator.userAgent),g=f||m;n.protocol=3;var v=n.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},b=u(v),y={type:"error",data:"parser error"},_=e("blob");n.encodePacket=function(e,n,i,a){"function"==typeof n&&(a=n,n=!1),"function"==typeof i&&(a=i,i=null);var u=void 0===e.data?void 0:e.data.buffer||e.data;if(t.ArrayBuffer&&u instanceof ArrayBuffer)return o(e,n,a);if(_&&u instanceof t.Blob)return s(e,n,a);if(u&&u.base64)return r(e,a);var l=v[e.type];return void 0!==e.data&&(l+=i?h.encode(String(e.data)):String(e.data)),a(""+l)},n.encodeBase64Packet=function(e,r){var o="b"+n.packets[e.type];if(_&&e.data instanceof _){var i=new FileReader;return i.onload=function(){var e=i.result.split(",")[1];r(o+e)},i.readAsDataURL(e.data)}var s;try{s=String.fromCharCode.apply(null,new Uint8Array(e.data));
}catch(a){for(var u=new Uint8Array(e.data),l=new Array(u.length),c=0;c<u.length;c++)l[c]=u[c];s=String.fromCharCode.apply(null,l)}return o+=t.btoa(s),r(o)},n.decodePacket=function(e,t,r){if("string"==typeof e||void 0===e){if("b"==e.charAt(0))return n.decodeBase64Packet(e.substr(1),t);if(r)try{e=h.decode(e)}catch(o){return y}var i=e.charAt(0);return Number(i)==i&&b[i]?e.length>1?{type:b[i],data:e.substring(1)}:{type:b[i]}:y}var s=new Uint8Array(e),i=s[0],a=c(e,1);return _&&"blob"===t&&(a=new _([a])),{type:b[i],data:a}},n.decodeBase64Packet=function(e,n){var r=b[e.charAt(0)];if(!t.ArrayBuffer)return{type:r,data:{base64:!0,data:e.substr(1)}};var o=p.decode(e.substr(1));return"blob"===n&&_&&(o=new _([o])),{type:r,data:o}},n.encodePayload=function(e,t,r){function o(e){return e.length+":"+e}function i(e,r){n.encodePacket(e,s?t:!1,!0,function(e){r(null,o(e))})}"function"==typeof t&&(r=t,t=null);var s=l(e);return t&&s?_&&!g?n.encodePayloadAsBlob(e,r):n.encodePayloadAsArrayBuffer(e,r):e.length?void a(e,i,function(e,t){
return r(t.join(""))}):r("0:")},n.decodePayload=function(e,t,r){if("string"!=typeof e)return n.decodePayloadAsBinary(e,t,r);"function"==typeof t&&(r=t,t=null);var o;if(""==e)return r(y,0,1);for(var i,s,a="",u=0,l=e.length;l>u;u++){var c=e.charAt(u);if(":"!=c)a+=c;else{if(""==a||a!=(i=Number(a)))return r(y,0,1);if(s=e.substr(u+1,i),a!=s.length)return r(y,0,1);if(s.length){if(o=n.decodePacket(s,t,!0),y.type==o.type&&y.data==o.data)return r(y,0,1);var p=r(o,u+i,l);if(!1===p)return}u+=i,a=""}}return""!=a?r(y,0,1):void 0},n.encodePayloadAsArrayBuffer=function(e,t){function r(e,t){n.encodePacket(e,!0,!0,function(e){return t(null,e)})}return e.length?void a(e,r,function(e,n){var r=n.reduce(function(e,t){var n;return n="string"==typeof t?t.length:t.byteLength,e+n.toString().length+n+2},0),o=new Uint8Array(r),i=0;return n.forEach(function(e){var t="string"==typeof e,n=e;if(t){for(var r=new Uint8Array(e.length),s=0;s<e.length;s++)r[s]=e.charCodeAt(s);n=r.buffer}t?o[i++]=0:o[i++]=1;for(var a=n.byteLength.toString(),s=0;s<a.length;s++)o[i++]=parseInt(a[s]);
o[i++]=255;for(var r=new Uint8Array(n),s=0;s<r.length;s++)o[i++]=r[s]}),t(o.buffer)}):t(new ArrayBuffer(0))},n.encodePayloadAsBlob=function(e,t){function r(e,t){n.encodePacket(e,!0,!0,function(e){var n=new Uint8Array(1);if(n[0]=1,"string"==typeof e){for(var r=new Uint8Array(e.length),o=0;o<e.length;o++)r[o]=e.charCodeAt(o);e=r.buffer,n[0]=0}for(var i=e instanceof ArrayBuffer?e.byteLength:e.size,s=i.toString(),a=new Uint8Array(s.length+1),o=0;o<s.length;o++)a[o]=parseInt(s[o]);if(a[s.length]=255,_){var u=new _([n.buffer,a.buffer,e]);t(null,u)}})}a(e,r,function(e,n){return t(new _(n))})},n.decodePayloadAsBinary=function(e,t,r){"function"==typeof t&&(r=t,t=null);for(var o=e,i=[],s=!1;o.byteLength>0;){for(var a=new Uint8Array(o),u=0===a[0],l="",p=1;255!=a[p];p++){if(l.length>310){s=!0;break}l+=a[p]}if(s)return r(y,0,1);o=c(o,2+l.length),l=parseInt(l);var d=c(o,0,l);if(u)try{d=String.fromCharCode.apply(null,new Uint8Array(d))}catch(h){var f=new Uint8Array(d);d="";for(var p=0;p<f.length;p++)d+=String.fromCharCode(f[p]);
}i.push(d),o=c(o,l)}var m=i.length;i.forEach(function(e,o){r(n.decodePacket(e,t,!0),o,m)})}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./keys":868,after:869,"arraybuffer.slice":870,"base64-arraybuffer":871,blob:872,"has-binary":880,utf8:873}],868:[function(e,t,n){t.exports=Object.keys||function(e){var t=[],n=Object.prototype.hasOwnProperty;for(var r in e)n.call(e,r)&&t.push(r);return t}},{}],869:[function(e,t,n){function r(e,t,n){function r(e,o){if(r.count<=0)throw new Error("after called too many times");--r.count,e?(i=!0,t(e),t=n):0!==r.count||i||t(null,o)}var i=!1;return n=n||o,r.count=e,0===e?t():r}function o(){}t.exports=r},{}],870:[function(e,t,n){t.exports=function(e,t,n){var r=e.byteLength;if(t=t||0,n=n||r,e.slice)return e.slice(t,n);if(0>t&&(t+=r),0>n&&(n+=r),n>r&&(n=r),t>=r||t>=n||0===r)return new ArrayBuffer(0);for(var o=new Uint8Array(e),i=new Uint8Array(n-t),s=t,a=0;n>s;s++,a++)i[a]=o[s];return i.buffer}},{}],871:[function(e,t,n){
/*
 * base64-arraybuffer
 * https://github.com/niklasvh/base64-arraybuffer
 *
 * Copyright (c) 2012 Niklas von Hertzen
 * Licensed under the MIT license.
 */
!function(e){"use strict";n.encode=function(t){var n,r=new Uint8Array(t),o=r.length,i="";for(n=0;o>n;n+=3)i+=e[r[n]>>2],i+=e[(3&r[n])<<4|r[n+1]>>4],i+=e[(15&r[n+1])<<2|r[n+2]>>6],i+=e[63&r[n+2]];return o%3===2?i=i.substring(0,i.length-1)+"=":o%3===1&&(i=i.substring(0,i.length-2)+"=="),i},n.decode=function(t){var n,r,o,i,s,a=.75*t.length,u=t.length,l=0;"="===t[t.length-1]&&(a--,"="===t[t.length-2]&&a--);var c=new ArrayBuffer(a),p=new Uint8Array(c);for(n=0;u>n;n+=4)r=e.indexOf(t[n]),o=e.indexOf(t[n+1]),i=e.indexOf(t[n+2]),s=e.indexOf(t[n+3]),p[l++]=r<<2|o>>4,p[l++]=(15&o)<<4|i>>2,p[l++]=(3&i)<<6|63&s;return c}}("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")},{}],872:[function(e,t,n){(function(e){function n(e){for(var t=0;t<e.length;t++){var n=e[t];if(n.buffer instanceof ArrayBuffer){var r=n.buffer;if(n.byteLength!==r.byteLength){var o=new Uint8Array(n.byteLength);o.set(new Uint8Array(r,n.byteOffset,n.byteLength)),r=o.buffer}e[t]=r}}}function r(e,t){t=t||{};var r=new i;n(e);for(var o=0;o<e.length;o++)r.append(e[o]);
return t.type?r.getBlob(t.type):r.getBlob()}function o(e,t){return n(e),new Blob(e,t||{})}var i=e.BlobBuilder||e.WebKitBlobBuilder||e.MSBlobBuilder||e.MozBlobBuilder,s=function(){try{var e=new Blob(["hi"]);return 2===e.size}catch(t){return!1}}(),a=s&&function(){try{var e=new Blob([new Uint8Array([1,2])]);return 2===e.size}catch(t){return!1}}(),u=i&&i.prototype.append&&i.prototype.getBlob;t.exports=function(){return s?a?e.Blob:o:u?r:void 0}()}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],873:[function(e,t,n){(function(e){!function(r){function o(e){for(var t,n,r=[],o=0,i=e.length;i>o;)t=e.charCodeAt(o++),t>=55296&&56319>=t&&i>o?(n=e.charCodeAt(o++),56320==(64512&n)?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),o--)):r.push(t);return r}function i(e){for(var t,n=e.length,r=-1,o="";++r<n;)t=e[r],t>65535&&(t-=65536,o+=y(t>>>10&1023|55296),t=56320|1023&t),o+=y(t);return o}function s(e){if(e>=55296&&57343>=e)throw Error("Lone surrogate U+"+e.toString(16).toUpperCase()+" is not a scalar value");
}function a(e,t){return y(e>>t&63|128)}function u(e){if(0==(4294967168&e))return y(e);var t="";return 0==(4294965248&e)?t=y(e>>6&31|192):0==(4294901760&e)?(s(e),t=y(e>>12&15|224),t+=a(e,6)):0==(4292870144&e)&&(t=y(e>>18&7|240),t+=a(e,12),t+=a(e,6)),t+=y(63&e|128)}function l(e){for(var t,n=o(e),r=n.length,i=-1,s="";++i<r;)t=n[i],s+=u(t);return s}function c(){if(b>=v)throw Error("Invalid byte index");var e=255&g[b];if(b++,128==(192&e))return 63&e;throw Error("Invalid continuation byte")}function p(){var e,t,n,r,o;if(b>v)throw Error("Invalid byte index");if(b==v)return!1;if(e=255&g[b],b++,0==(128&e))return e;if(192==(224&e)){var t=c();if(o=(31&e)<<6|t,o>=128)return o;throw Error("Invalid continuation byte")}if(224==(240&e)){if(t=c(),n=c(),o=(15&e)<<12|t<<6|n,o>=2048)return s(o),o;throw Error("Invalid continuation byte")}if(240==(248&e)&&(t=c(),n=c(),r=c(),o=(15&e)<<18|t<<12|n<<6|r,o>=65536&&1114111>=o))return o;throw Error("Invalid UTF-8 detected")}function d(e){g=o(e),v=g.length,b=0;for(var t,n=[];(t=p())!==!1;)n.push(t);
return i(n)}var h="object"==typeof n&&n,f="object"==typeof t&&t&&t.exports==h&&t,m="object"==typeof e&&e;(m.global===m||m.window===m)&&(r=m);var g,v,b,y=String.fromCharCode,_={version:"2.0.0",encode:l,decode:d};if("function"==typeof define&&"object"==typeof define.amd&&define.amd)define(function(){return _});else if(h&&!h.nodeType)if(f)f.exports=_;else{var w={},k=w.hasOwnProperty;for(var x in _)k.call(_,x)&&(h[x]=_[x])}else r.utf8=_}(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],874:[function(e,t,n){var r=e("global");try{t.exports="XMLHttpRequest"in r&&"withCredentials"in new r.XMLHttpRequest}catch(o){t.exports=!1}},{global:875}],875:[function(e,t,n){t.exports=function(){return this}()},{}],876:[function(e,t,n){(function(e){var n=/^[\],:{}\s]*$/,r=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,o=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,i=/(?:^|:|,)(?:\s*\[)+/g,s=/^\s+/,a=/\s+$/;t.exports=function(t){return"string"==typeof t&&t?(t=t.replace(s,"").replace(a,""),
e.JSON&&JSON.parse?JSON.parse(t):n.test(t.replace(r,"@").replace(o,"]").replace(i,""))?new Function("return "+t)():void 0):null}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],877:[function(e,t,n){n.encode=function(e){var t="";for(var n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t},n.decode=function(e){for(var t={},n=e.split("&"),r=0,o=n.length;o>r;r++){var i=n[r].split("=");t[decodeURIComponent(i[0])]=decodeURIComponent(i[1])}return t}},{}],878:[function(e,t,n){var r=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,o=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];t.exports=function(e){var t=e,n=e.indexOf("["),i=e.indexOf("]");
-1!=n&&-1!=i&&(e=e.substring(0,n)+e.substring(n,i).replace(/:/g,";")+e.substring(i,e.length));for(var s=r.exec(e||""),a={},u=14;u--;)a[o[u]]=s[u]||"";return-1!=n&&-1!=i&&(a.source=t,a.host=a.host.substring(1,a.host.length-1).replace(/;/g,":"),a.authority=a.authority.replace("[","").replace("]","").replace(/;/g,":"),a.ipv6uri=!0),a}},{}],879:[function(e,t,n){function r(e,t,n){var r;return r=t?new i(e,t):new i(e)}var o=function(){return this}(),i=o.WebSocket||o.MozWebSocket;t.exports=i?r:null,i&&(r.prototype=i.prototype)},{}],880:[function(e,t,n){(function(n){function r(e){function t(e){if(!e)return!1;if(n.Buffer&&n.Buffer.isBuffer(e)||n.ArrayBuffer&&e instanceof ArrayBuffer||n.Blob&&e instanceof Blob||n.File&&e instanceof File)return!0;if(o(e)){for(var r=0;r<e.length;r++)if(t(e[r]))return!0}else if(e&&"object"==typeof e){e.toJSON&&(e=e.toJSON());for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)&&t(e[i]))return!0}return!1}return t(e)}var o=e("isarray");t.exports=r}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});
},{isarray:589}],881:[function(e,t,n){var r=[].indexOf;t.exports=function(e,t){if(r)return e.indexOf(t);for(var n=0;n<e.length;++n)if(e[n]===t)return n;return-1}},{}],882:[function(e,t,n){var r=Object.prototype.hasOwnProperty;n.keys=Object.keys||function(e){var t=[];for(var n in e)r.call(e,n)&&t.push(n);return t},n.values=function(e){var t=[];for(var n in e)r.call(e,n)&&t.push(e[n]);return t},n.merge=function(e,t){for(var n in t)r.call(t,n)&&(e[n]=t[n]);return e},n.length=function(e){return n.keys(e).length},n.isEmpty=function(e){return 0==n.length(e)}},{}],883:[function(e,t,n){var r=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,o=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];t.exports=function(e){for(var t=r.exec(e||""),n={},i=14;i--;)n[o[i]]=t[i]||"";
return n}},{}],884:[function(e,t,n){(function(t){var r=e("isarray"),o=e("./is-buffer");n.deconstructPacket=function(e){function t(e){if(!e)return e;if(o(e)){var i={_placeholder:!0,num:n.length};return n.push(e),i}if(r(e)){for(var s=new Array(e.length),a=0;a<e.length;a++)s[a]=t(e[a]);return s}if("object"==typeof e&&!(e instanceof Date)){var s={};for(var u in e)s[u]=t(e[u]);return s}return e}var n=[],i=e.data,s=e;return s.data=t(i),s.attachments=n.length,{packet:s,buffers:n}},n.reconstructPacket=function(e,t){function n(e){if(e&&e._placeholder){var o=t[e.num];return o}if(r(e)){for(var i=0;i<e.length;i++)e[i]=n(e[i]);return e}if(e&&"object"==typeof e){for(var s in e)e[s]=n(e[s]);return e}return e}return e.data=n(e.data),e.attachments=void 0,e},n.removeBlobs=function(e,n){function i(e,u,l){if(!e)return e;if(t.Blob&&e instanceof Blob||t.File&&e instanceof File){s++;var c=new FileReader;c.onload=function(){l?l[u]=this.result:a=this.result,--s||n(a)},c.readAsArrayBuffer(e)}else if(r(e))for(var p=0;p<e.length;p++)i(e[p],p,e);else if(e&&"object"==typeof e&&!o(e))for(var d in e)i(e[d],d,e);
}var s=0,a=e;i(a),s||n(a)}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./is-buffer":886,isarray:589}],885:[function(e,t,n){function r(){}function o(e){var t="",r=!1;return t+=e.type,(n.BINARY_EVENT==e.type||n.BINARY_ACK==e.type)&&(t+=e.attachments,t+="-"),e.nsp&&"/"!=e.nsp&&(r=!0,t+=e.nsp),null!=e.id&&(r&&(t+=",",r=!1),t+=e.id),null!=e.data&&(r&&(t+=","),t+=p.stringify(e.data)),c("encoded %j as %s",e,t),t}function i(e,t){function n(e){var n=h.deconstructPacket(e),r=o(n.packet),i=n.buffers;i.unshift(r),t(i)}h.removeBlobs(e,n)}function s(){this.reconstructor=null}function a(e){var t={},r=0;if(t.type=Number(e.charAt(0)),null==n.types[t.type])return l();if(n.BINARY_EVENT==t.type||n.BINARY_ACK==t.type){for(var o="";"-"!=e.charAt(++r)&&(o+=e.charAt(r),r!=e.length););if(o!=Number(o)||"-"!=e.charAt(r))throw new Error("Illegal attachments");t.attachments=Number(o)}if("/"==e.charAt(r+1))for(t.nsp="";++r;){var i=e.charAt(r);if(","==i)break;if(t.nsp+=i,
r==e.length)break}else t.nsp="/";var s=e.charAt(r+1);if(""!==s&&Number(s)==s){for(t.id="";++r;){var i=e.charAt(r);if(null==i||Number(i)!=i){--r;break}if(t.id+=e.charAt(r),r==e.length)break}t.id=Number(t.id)}if(e.charAt(++r))try{t.data=p.parse(e.substr(r))}catch(a){return l()}return c("decoded %s as %j",e,t),t}function u(e){this.reconPack=e,this.buffers=[]}function l(e){return{type:n.ERROR,data:"parser error"}}var c=e("debug")("socket.io-parser"),p=e("json3"),d=(e("isarray"),e("component-emitter")),h=e("./binary"),f=e("./is-buffer");n.protocol=4,n.types=["CONNECT","DISCONNECT","EVENT","BINARY_EVENT","ACK","BINARY_ACK","ERROR"],n.CONNECT=0,n.DISCONNECT=1,n.EVENT=2,n.ACK=3,n.ERROR=4,n.BINARY_EVENT=5,n.BINARY_ACK=6,n.Encoder=r,n.Decoder=s,r.prototype.encode=function(e,t){if(c("encoding packet %j",e),n.BINARY_EVENT==e.type||n.BINARY_ACK==e.type)i(e,t);else{var r=o(e);t([r])}},d(s.prototype),s.prototype.add=function(e){var t;if("string"==typeof e)t=a(e),n.BINARY_EVENT==t.type||n.BINARY_ACK==t.type?(this.reconstructor=new u(t),
0===this.reconstructor.reconPack.attachments&&this.emit("decoded",t)):this.emit("decoded",t);else{if(!f(e)&&!e.base64)throw new Error("Unknown type: "+e);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");t=this.reconstructor.takeBinaryData(e),t&&(this.reconstructor=null,this.emit("decoded",t))}},s.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()},u.prototype.takeBinaryData=function(e){if(this.buffers.push(e),this.buffers.length==this.reconPack.attachments){var t=h.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null},u.prototype.finishedReconstruction=function(){this.reconPack=null,this.buffers=[]}},{"./binary":884,"./is-buffer":886,"component-emitter":851,debug:852,isarray:589,json3:887}],886:[function(e,t,n){(function(e){function n(t){return e.Buffer&&e.Buffer.isBuffer(t)||e.ArrayBuffer&&t instanceof ArrayBuffer}t.exports=n}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});
},{}],887:[function(e,t,n){!function(e){function t(e){if(t[e]!==i)return t[e];var n;if("bug-string-char-index"==e)n="a"!="a"[0];else if("json"==e)n=t("json-stringify")&&t("json-parse");else{var r,o='{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}';if("json-stringify"==e){var a=l.stringify,u="function"==typeof a&&c;if(u){(r=function(){return 1}).toJSON=r;try{u="0"===a(0)&&"0"===a(new Number)&&'""'==a(new String)&&a(s)===i&&a(i)===i&&a()===i&&"1"===a(r)&&"[1]"==a([r])&&"[null]"==a([i])&&"null"==a(null)&&"[null,null,null]"==a([i,s,null])&&a({a:[r,!0,!1,null,"\x00\b\n\f\r	"]})==o&&"1"===a(null,r)&&"[\n 1,\n 2\n]"==a([1,2],null,1)&&'"-271821-04-20T00:00:00.000Z"'==a(new Date(-864e13))&&'"+275760-09-13T00:00:00.000Z"'==a(new Date(864e13))&&'"-000001-01-01T00:00:00.000Z"'==a(new Date(-621987552e5))&&'"1969-12-31T23:59:59.999Z"'==a(new Date(-1))}catch(p){u=!1}}n=u}if("json-parse"==e){var d=l.parse;if("function"==typeof d)try{if(0===d("0")&&!d(!1)){r=d(o);var h=5==r.a.length&&1===r.a[0];if(h){try{h=!d('"	"')}catch(p){}
if(h)try{h=1!==d("01")}catch(p){}if(h)try{h=1!==d("1.")}catch(p){}}}}catch(p){h=!1}n=h}}return t[e]=!!n}var r,o,i,s={}.toString,a="function"==typeof define&&define.amd,u="object"==typeof JSON&&JSON,l="object"==typeof n&&n&&!n.nodeType&&n;l&&u?(l.stringify=u.stringify,l.parse=u.parse):l=e.JSON=u||{};var c=new Date(-0xc782b5b800cec);try{c=-109252==c.getUTCFullYear()&&0===c.getUTCMonth()&&1===c.getUTCDate()&&10==c.getUTCHours()&&37==c.getUTCMinutes()&&6==c.getUTCSeconds()&&708==c.getUTCMilliseconds()}catch(p){}if(!t("json")){var d="[object Function]",h="[object Date]",f="[object Number]",m="[object String]",g="[object Array]",v="[object Boolean]",b=t("bug-string-char-index");if(!c)var y=Math.floor,_=[0,31,59,90,120,151,181,212,243,273,304,334],w=function(e,t){return _[t]+365*(e-1970)+y((e-1969+(t=+(t>1)))/4)-y((e-1901+t)/100)+y((e-1601+t)/400)};(r={}.hasOwnProperty)||(r=function(e){var t,n={};return(n.__proto__=null,n.__proto__={toString:1},n).toString!=s?r=function(e){var t=this.__proto__,n=e in(this.__proto__=null,
this);return this.__proto__=t,n}:(t=n.constructor,r=function(e){var n=(this.constructor||t).prototype;return e in this&&!(e in n&&this[e]===n[e])}),n=null,r.call(this,e)});var k={"boolean":1,number:1,string:1,undefined:1},x=function(e,t){var n=typeof e[t];return"object"==n?!!e[t]:!k[n]};if(o=function(e,t){var n,i,a,u=0;(n=function(){this.valueOf=0}).prototype.valueOf=0,i=new n;for(a in i)r.call(i,a)&&u++;return n=i=null,u?o=2==u?function(e,t){var n,o={},i=s.call(e)==d;for(n in e)i&&"prototype"==n||r.call(o,n)||!(o[n]=1)||!r.call(e,n)||t(n)}:function(e,t){var n,o,i=s.call(e)==d;for(n in e)i&&"prototype"==n||!r.call(e,n)||(o="constructor"===n)||t(n);(o||r.call(e,n="constructor"))&&t(n)}:(i=["valueOf","toString","toLocaleString","propertyIsEnumerable","isPrototypeOf","hasOwnProperty","constructor"],o=function(e,t){var n,o,a=s.call(e)==d,u=!a&&"function"!=typeof e.constructor&&x(e,"hasOwnProperty")?e.hasOwnProperty:r;for(n in e)a&&"prototype"==n||!u.call(e,n)||t(n);for(o=i.length;n=i[--o];u.call(e,n)&&t(n));}),o(e,t);
},!t("json-stringify")){var C={92:"\\\\",34:'\\"',8:"\\b",12:"\\f",10:"\\n",13:"\\r",9:"\\t"},E="000000",T=function(e,t){return(E+(t||0)).slice(-e)},S="\\u00",D=function(e){var t,n='"',r=0,o=e.length,i=o>10&&b;for(i&&(t=e.split(""));o>r;r++){var s=e.charCodeAt(r);switch(s){case 8:case 9:case 10:case 12:case 13:case 34:case 92:n+=C[s];break;default:if(32>s){n+=S+T(2,s.toString(16));break}n+=i?t[r]:b?e.charAt(r):e[r]}}return n+'"'},A=function(e,t,n,a,u,l,c){var p,d,b,_,k,x,C,E,S,M,F,N,O,I,P,L;try{p=t[e]}catch(R){}if("object"==typeof p&&p)if(d=s.call(p),d!=h||r.call(p,"toJSON"))"function"==typeof p.toJSON&&(d!=f&&d!=m&&d!=g||r.call(p,"toJSON"))&&(p=p.toJSON(e));else if(p>-1/0&&1/0>p){if(w){for(k=y(p/864e5),b=y(k/365.2425)+1970-1;w(b+1,0)<=k;b++);for(_=y((k-w(b,0))/30.42);w(b,_+1)<=k;_++);k=1+k-w(b,_),x=(p%864e5+864e5)%864e5,C=y(x/36e5)%24,E=y(x/6e4)%60,S=y(x/1e3)%60,M=x%1e3}else b=p.getUTCFullYear(),_=p.getUTCMonth(),k=p.getUTCDate(),C=p.getUTCHours(),E=p.getUTCMinutes(),S=p.getUTCSeconds(),M=p.getUTCMilliseconds();
p=(0>=b||b>=1e4?(0>b?"-":"+")+T(6,0>b?-b:b):T(4,b))+"-"+T(2,_+1)+"-"+T(2,k)+"T"+T(2,C)+":"+T(2,E)+":"+T(2,S)+"."+T(3,M)+"Z"}else p=null;if(n&&(p=n.call(t,e,p)),null===p)return"null";if(d=s.call(p),d==v)return""+p;if(d==f)return p>-1/0&&1/0>p?""+p:"null";if(d==m)return D(""+p);if("object"==typeof p){for(I=c.length;I--;)if(c[I]===p)throw TypeError();if(c.push(p),F=[],P=l,l+=u,d==g){for(O=0,I=p.length;I>O;O++)N=A(O,p,n,a,u,l,c),F.push(N===i?"null":N);L=F.length?u?"[\n"+l+F.join(",\n"+l)+"\n"+P+"]":"["+F.join(",")+"]":"[]"}else o(a||p,function(e){var t=A(e,p,n,a,u,l,c);t!==i&&F.push(D(e)+":"+(u?" ":"")+t)}),L=F.length?u?"{\n"+l+F.join(",\n"+l)+"\n"+P+"}":"{"+F.join(",")+"}":"{}";return c.pop(),L}};l.stringify=function(e,t,n){var r,o,i,a;if("function"==typeof t||"object"==typeof t&&t)if((a=s.call(t))==d)o=t;else if(a==g){i={};for(var u,l=0,c=t.length;c>l;u=t[l++],a=s.call(u),(a==m||a==f)&&(i[u]=1));}if(n)if((a=s.call(n))==f){if((n-=n%1)>0)for(r="",n>10&&(n=10);r.length<n;r+=" ");}else a==m&&(r=n.length<=10?n:n.slice(0,10));
return A("",(u={},u[""]=e,u),o,i,r,"",[])}}if(!t("json-parse")){var M,F,N=String.fromCharCode,O={92:"\\",34:'"',47:"/",98:"\b",116:"	",110:"\n",102:"\f",114:"\r"},I=function(){throw M=F=null,SyntaxError()},P=function(){for(var e,t,n,r,o,i=F,s=i.length;s>M;)switch(o=i.charCodeAt(M)){case 9:case 10:case 13:case 32:M++;break;case 123:case 125:case 91:case 93:case 58:case 44:return e=b?i.charAt(M):i[M],M++,e;case 34:for(e="@",M++;s>M;)if(o=i.charCodeAt(M),32>o)I();else if(92==o)switch(o=i.charCodeAt(++M)){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:e+=O[o],M++;break;case 117:for(t=++M,n=M+4;n>M;M++)o=i.charCodeAt(M),o>=48&&57>=o||o>=97&&102>=o||o>=65&&70>=o||I();e+=N("0x"+i.slice(t,M));break;default:I()}else{if(34==o)break;for(o=i.charCodeAt(M),t=M;o>=32&&92!=o&&34!=o;)o=i.charCodeAt(++M);e+=i.slice(t,M)}if(34==i.charCodeAt(M))return M++,e;I();default:if(t=M,45==o&&(r=!0,o=i.charCodeAt(++M)),o>=48&&57>=o){for(48==o&&(o=i.charCodeAt(M+1),o>=48&&57>=o)&&I(),r=!1;s>M&&(o=i.charCodeAt(M),o>=48&&57>=o);M++);
if(46==i.charCodeAt(M)){for(n=++M;s>n&&(o=i.charCodeAt(n),o>=48&&57>=o);n++);n==M&&I(),M=n}if(o=i.charCodeAt(M),101==o||69==o){for(o=i.charCodeAt(++M),(43==o||45==o)&&M++,n=M;s>n&&(o=i.charCodeAt(n),o>=48&&57>=o);n++);n==M&&I(),M=n}return+i.slice(t,M)}if(r&&I(),"true"==i.slice(M,M+4))return M+=4,!0;if("false"==i.slice(M,M+5))return M+=5,!1;if("null"==i.slice(M,M+4))return M+=4,null;I()}return"$"},L=function(e){var t,n;if("$"==e&&I(),"string"==typeof e){if("@"==(b?e.charAt(0):e[0]))return e.slice(1);if("["==e){for(t=[];e=P(),"]"!=e;n||(n=!0))n&&(","==e?(e=P(),"]"==e&&I()):I()),","==e&&I(),t.push(L(e));return t}if("{"==e){for(t={};e=P(),"}"!=e;n||(n=!0))n&&(","==e?(e=P(),"}"==e&&I()):I()),(","==e||"string"!=typeof e||"@"!=(b?e.charAt(0):e[0])||":"!=P())&&I(),t[e.slice(1)]=L(P());return t}I()}return e},R=function(e,t,n){var r=B(e,t,n);r===i?delete e[t]:e[t]=r},B=function(e,t,n){var r,i=e[t];if("object"==typeof i&&i)if(s.call(i)==g)for(r=i.length;r--;)R(i,r,n);else o(i,function(e){R(i,e,n)});return n.call(e,t,i)};l.parse=function(e,t){
var n,r;return M=0,F=""+e,n=L(P()),"$"!=P()&&I(),M=F=null,t&&s.call(t)==d?B((r={},r[""]=n,r),"",t):n}}}a&&define(function(){return l})}(this)},{}],888:[function(e,t,n){function r(e,t){var n=[];t=t||0;for(var r=t||0;r<e.length;r++)n[r-t]=e[r];return n}t.exports=r},{}],889:[function(e,t,n){/*! tether 1.1.0 */
!function(r,o){"function"==typeof define&&define.amd?define(o):"object"==typeof n?t.exports=o(e,n,t):r.Tether=o()}(this,function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e){var t=getComputedStyle(e),n=t.position;if("fixed"===n)return e;for(var r=e;r=r.parentNode;){var o=void 0;try{o=getComputedStyle(r)}catch(i){}if("undefined"==typeof o||null===o)return r;var s=o.overflow,a=o.overflowX,u=o.overflowY;if(/(auto|scroll)/.test(s+u+a)&&("absolute"!==n||["relative","absolute","fixed"].indexOf(o.position)>=0))return r}return document.body}function i(e){var t=void 0;e===document?(t=document,e=document.documentElement):t=e.ownerDocument;var n=t.documentElement,r={},o=e.getBoundingClientRect();for(var i in o)r[i]=o[i];var s=C(t);return r.top-=s.top,r.left-=s.left,"undefined"==typeof r.width&&(r.width=document.body.scrollWidth-r.left-r.right),"undefined"==typeof r.height&&(r.height=document.body.scrollHeight-r.top-r.bottom),r.top=r.top-n.clientTop,
r.left=r.left-n.clientLeft,r.right=t.body.clientWidth-r.width-r.left,r.bottom=t.body.clientHeight-r.height-r.top,r}function s(e){return e.offsetParent||document.documentElement}function a(){var e=document.createElement("div");e.style.width="100%",e.style.height="200px";var t=document.createElement("div");u(t.style,{position:"absolute",top:0,left:0,pointerEvents:"none",visibility:"hidden",width:"200px",height:"150px",overflow:"hidden"}),t.appendChild(e),document.body.appendChild(t);var n=e.offsetWidth;t.style.overflow="scroll";var r=e.offsetWidth;n===r&&(r=t.clientWidth),document.body.removeChild(t);var o=n-r;return{width:o,height:o}}function u(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=[];return Array.prototype.push.apply(t,arguments),t.slice(1).forEach(function(t){if(t)for(var n in t)({}).hasOwnProperty.call(t,n)&&(e[n]=t[n])}),e}function l(e,t){if("undefined"!=typeof e.classList)t.split(" ").forEach(function(t){t.trim()&&e.classList.remove(t)});else{var n=new RegExp("(^| )"+t.split(" ").join("|")+"( |$)","gi"),r=d(e).replace(n," ");
h(e,r)}}function c(e,t){if("undefined"!=typeof e.classList)t.split(" ").forEach(function(t){t.trim()&&e.classList.add(t)});else{l(e,t);var n=d(e)+(" "+t);h(e,n)}}function p(e,t){if("undefined"!=typeof e.classList)return e.classList.contains(t);var n=d(e);return new RegExp("(^| )"+t+"( |$)","gi").test(n)}function d(e){return e.className instanceof SVGAnimatedString?e.className.baseVal:e.className}function h(e,t){e.setAttribute("class",t)}function f(e,t,n){n.forEach(function(n){-1===t.indexOf(n)&&p(e,n)&&l(e,n)}),t.forEach(function(t){p(e,t)||c(e,t)})}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){var n=arguments.length<=2||void 0===arguments[2]?1:arguments[2];return e+n>=t&&t>=e-n}function g(){return"undefined"!=typeof performance&&"undefined"!=typeof performance.now?performance.now():+new Date}function v(){for(var e={top:0,left:0},t=arguments.length,n=Array(t),r=0;t>r;r++)n[r]=arguments[r];return n.forEach(function(t){var n=t.top,r=t.left;"string"==typeof n&&(n=parseFloat(n,10)),
"string"==typeof r&&(r=parseFloat(r,10)),e.top+=n,e.left+=r}),e}function b(e,t){return"string"==typeof e.left&&-1!==e.left.indexOf("%")&&(e.left=parseFloat(e.left,10)/100*t.width),"string"==typeof e.top&&-1!==e.top.indexOf("%")&&(e.top=parseFloat(e.top,10)/100*t.height),e}function y(e,t){return"scrollParent"===t?t=e.scrollParent:"window"===t&&(t=[pageXOffset,pageYOffset,innerWidth+pageXOffset,innerHeight+pageYOffset]),t===document&&(t=t.documentElement),"undefined"!=typeof t.nodeType&&!function(){var e=i(t),n=e,r=getComputedStyle(t);t=[n.left,n.top,e.width+n.left,e.height+n.top],H.forEach(function(e,n){e=e[0].toUpperCase()+e.substr(1),"Top"===e||"Left"===e?t[n]+=parseFloat(r["border"+e+"Width"]):t[n]-=parseFloat(r["border"+e+"Width"])})}(),t}var _=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),w=void 0;"undefined"==typeof w&&(w={
modules:[]});var k=function(){var e=0;return function(){return++e}}(),x={},C=function(e){var t=e._tetherZeroElement;"undefined"==typeof t&&(t=e.createElement("div"),t.setAttribute("data-tether-id",k()),u(t.style,{top:0,left:0,position:"absolute"}),e.body.appendChild(t),e._tetherZeroElement=t);var n=t.getAttribute("data-tether-id");if("undefined"==typeof x[n]){x[n]={};var r=t.getBoundingClientRect();for(var o in r)x[n][o]=r[o];T(function(){delete x[n]})}return x[n]},E=[],T=function(e){E.push(e)},S=function(){for(var e=void 0;e=E.pop();)e()},D=function(){function e(){r(this,e)}return _(e,[{key:"on",value:function(e,t,n){var r=arguments.length<=3||void 0===arguments[3]?!1:arguments[3];"undefined"==typeof this.bindings&&(this.bindings={}),"undefined"==typeof this.bindings[e]&&(this.bindings[e]=[]),this.bindings[e].push({handler:t,ctx:n,once:r})}},{key:"once",value:function(e,t,n){this.on(e,t,n,!0)}},{key:"off",value:function(e,t){if("undefined"==typeof this.bindings||"undefined"==typeof this.bindings[e])if("undefined"==typeof t)delete this.bindings[e];else for(var n=0;n<this.bindings[e].length;)this.bindings[e][n].handler===t?this.bindings[e].splice(n,1):++n;
}},{key:"trigger",value:function(e){if("undefined"!=typeof this.bindings&&this.bindings[e])for(var t=0;t<this.bindings[e].length;){var n=this.bindings[e][t],r=n.handler,o=n.ctx,i=n.once,s=o;"undefined"==typeof s&&(s=this);for(var a=arguments.length,u=Array(a>1?a-1:0),l=1;a>l;l++)u[l-1]=arguments[l];r.apply(s,u),i?this.bindings[e].splice(t,1):++t}}}]),e}();w.Utils={getScrollParent:o,getBounds:i,getOffsetParent:s,extend:u,addClass:c,removeClass:l,hasClass:p,updateClasses:f,defer:T,flush:S,uniqueId:k,Evented:D,getScrollBarSize:a};var A=function(){function e(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var s,a=e[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(u){o=!0,i=u}finally{try{!r&&a["return"]&&a["return"]()}finally{if(o)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),_=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];
r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();if("undefined"==typeof w)throw new Error("You must include the utils.js file before tether.js");var M=w.Utils,o=M.getScrollParent,i=M.getBounds,s=M.getOffsetParent,u=M.extend,c=M.addClass,l=M.removeClass,f=M.updateClasses,T=M.defer,S=M.flush,a=M.getScrollBarSize,F=function(){for(var e=document.createElement("div"),t=["transform","webkitTransform","OTransform","MozTransform","msTransform"],n=0;n<t.length;++n){var r=t[n];if(void 0!==e.style[r])return r}}(),N=[],O=function(){N.forEach(function(e){e.position(!1)}),S()};!function(){var e=null,t=null,n=null,r=function o(){return"undefined"!=typeof t&&t>16?(t=Math.min(t-16,250),void(n=setTimeout(o,250))):void("undefined"!=typeof e&&g()-e<10||("undefined"!=typeof n&&(clearTimeout(n),n=null),e=g(),O(),t=g()-e))};["resize","scroll","touchmove"].forEach(function(e){window.addEventListener(e,r)})}();
var I={center:"center",left:"right",right:"left"},P={middle:"middle",top:"bottom",bottom:"top"},L={top:0,left:0,middle:"50%",center:"50%",bottom:"100%",right:"100%"},R=function(e,t){var n=e.left,r=e.top;return"auto"===n&&(n=I[t.left]),"auto"===r&&(r=P[t.top]),{left:n,top:r}},B=function(e){var t=e.left,n=e.top;return"undefined"!=typeof L[e.left]&&(t=L[e.left]),"undefined"!=typeof L[e.top]&&(n=L[e.top]),{left:t,top:n}},j=function(e){var t=e.split(" "),n=A(t,2),r=n[0],o=n[1];return{top:r,left:o}},$=j,U=function(){function e(t){var n=this;r(this,e),this.position=this.position.bind(this),N.push(this),this.history=[],this.setOptions(t,!1),w.modules.forEach(function(e){"undefined"!=typeof e.initialize&&e.initialize.call(n)}),this.position()}return _(e,[{key:"getClass",value:function(){var e=arguments.length<=0||void 0===arguments[0]?"":arguments[0],t=this.options.classes;return"undefined"!=typeof t&&t[e]?this.options.classes[e]:this.options.classPrefix?this.options.classPrefix+"-"+e:e}},{key:"setOptions",value:function(e){
var t=this,n=arguments.length<=1||void 0===arguments[1]?!0:arguments[1],r={offset:"0 0",targetOffset:"0 0",targetAttachment:"auto auto",classPrefix:"tether"};this.options=u(r,e);var i=this.options,s=i.element,a=i.target,l=i.targetModifier;if(this.element=s,this.target=a,this.targetModifier=l,"viewport"===this.target?(this.target=document.body,this.targetModifier="visible"):"scroll-handle"===this.target&&(this.target=document.body,this.targetModifier="scroll-handle"),["element","target"].forEach(function(e){if("undefined"==typeof t[e])throw new Error("Tether Error: Both element and target must be defined");"undefined"!=typeof t[e].jquery?t[e]=t[e][0]:"string"==typeof t[e]&&(t[e]=document.querySelector(t[e]))}),c(this.element,this.getClass("element")),this.options.addTargetClasses!==!1&&c(this.target,this.getClass("target")),!this.options.attachment)throw new Error("Tether Error: You must provide an attachment");this.targetAttachment=$(this.options.targetAttachment),this.attachment=$(this.options.attachment),this.offset=j(this.options.offset),
this.targetOffset=j(this.options.targetOffset),"undefined"!=typeof this.scrollParent&&this.disable(),"scroll-handle"===this.targetModifier?this.scrollParent=this.target:this.scrollParent=o(this.target),this.options.enabled!==!1&&this.enable(n)}},{key:"getTargetBounds",value:function(){if("undefined"==typeof this.targetModifier)return i(this.target);if("visible"===this.targetModifier){if(this.target===document.body)return{top:pageYOffset,left:pageXOffset,height:innerHeight,width:innerWidth};var e=i(this.target),t={height:e.height,width:e.width,top:e.top,left:e.left};return t.height=Math.min(t.height,e.height-(pageYOffset-e.top)),t.height=Math.min(t.height,e.height-(e.top+e.height-(pageYOffset+innerHeight))),t.height=Math.min(innerHeight,t.height),t.height-=2,t.width=Math.min(t.width,e.width-(pageXOffset-e.left)),t.width=Math.min(t.width,e.width-(e.left+e.width-(pageXOffset+innerWidth))),t.width=Math.min(innerWidth,t.width),t.width-=2,t.top<pageYOffset&&(t.top=pageYOffset),t.left<pageXOffset&&(t.left=pageXOffset),
t}if("scroll-handle"===this.targetModifier){var e=void 0,n=this.target;n===document.body?(n=document.documentElement,e={left:pageXOffset,top:pageYOffset,height:innerHeight,width:innerWidth}):e=i(n);var r=getComputedStyle(n),o=n.scrollWidth>n.clientWidth||[r.overflow,r.overflowX].indexOf("scroll")>=0||this.target!==document.body,s=0;o&&(s=15);var a=e.height-parseFloat(r.borderTopWidth)-parseFloat(r.borderBottomWidth)-s,t={width:15,height:.975*a*(a/n.scrollHeight),left:e.left+e.width-parseFloat(r.borderLeftWidth)-15},u=0;408>a&&this.target===document.body&&(u=-11e-5*Math.pow(a,2)-.00727*a+22.58),this.target!==document.body&&(t.height=Math.max(t.height,24));var l=this.target.scrollTop/(n.scrollHeight-a);return t.top=l*(a-t.height-u)+e.top+parseFloat(r.borderTopWidth),this.target===document.body&&(t.height=Math.max(t.height,24)),t}}},{key:"clearCache",value:function(){this._cache={}}},{key:"cache",value:function(e,t){return"undefined"==typeof this._cache&&(this._cache={}),"undefined"==typeof this._cache[e]&&(this._cache[e]=t.call(this)),
this._cache[e]}},{key:"enable",value:function(){var e=arguments.length<=0||void 0===arguments[0]?!0:arguments[0];this.options.addTargetClasses!==!1&&c(this.target,this.getClass("enabled")),c(this.element,this.getClass("enabled")),this.enabled=!0,this.scrollParent!==document&&this.scrollParent.addEventListener("scroll",this.position),e&&this.position()}},{key:"disable",value:function(){l(this.target,this.getClass("enabled")),l(this.element,this.getClass("enabled")),this.enabled=!1,"undefined"!=typeof this.scrollParent&&this.scrollParent.removeEventListener("scroll",this.position)}},{key:"destroy",value:function(){var e=this;this.disable(),N.forEach(function(t,n){return t===e?void N.splice(n,1):void 0})}},{key:"updateAttachClasses",value:function(e,t){var n=this;e=e||this.attachment,t=t||this.targetAttachment;var r=["left","top","bottom","right","middle","center"];"undefined"!=typeof this._addAttachClasses&&this._addAttachClasses.length&&this._addAttachClasses.splice(0,this._addAttachClasses.length),"undefined"==typeof this._addAttachClasses&&(this._addAttachClasses=[]);
var o=this._addAttachClasses;e.top&&o.push(this.getClass("element-attached")+"-"+e.top),e.left&&o.push(this.getClass("element-attached")+"-"+e.left),t.top&&o.push(this.getClass("target-attached")+"-"+t.top),t.left&&o.push(this.getClass("target-attached")+"-"+t.left);var i=[];r.forEach(function(e){i.push(n.getClass("element-attached")+"-"+e),i.push(n.getClass("target-attached")+"-"+e)}),T(function(){"undefined"!=typeof n._addAttachClasses&&(f(n.element,n._addAttachClasses,i),n.options.addTargetClasses!==!1&&f(n.target,n._addAttachClasses,i),delete n._addAttachClasses)})}},{key:"position",value:function(){var e=this,t=arguments.length<=0||void 0===arguments[0]?!0:arguments[0];if(this.enabled){this.clearCache();var n=R(this.targetAttachment,this.attachment);this.updateAttachClasses(this.attachment,n);var r=this.cache("element-bounds",function(){return i(e.element)}),o=r.width,u=r.height;if(0===o&&0===u&&"undefined"!=typeof this.lastSize){var l=this.lastSize;o=l.width,u=l.height}else this.lastSize={width:o,height:u
};var c=this.cache("target-bounds",function(){return e.getTargetBounds()}),p=c,d=b(B(this.attachment),{width:o,height:u}),h=b(B(n),p),f=b(this.offset,{width:o,height:u}),m=b(this.targetOffset,p);d=v(d,f),h=v(h,m);for(var g=c.left+h.left-d.left,y=c.top+h.top-d.top,_=0;_<w.modules.length;++_){var k=w.modules[_],x=k.position.call(this,{left:g,top:y,targetAttachment:n,targetPos:c,elementPos:r,offset:d,targetOffset:h,manualOffset:f,manualTargetOffset:m,scrollbarSize:E,attachment:this.attachment});if(x===!1)return!1;"undefined"!=typeof x&&"object"==typeof x&&(y=x.top,g=x.left)}var C={page:{top:y,left:g},viewport:{top:y-pageYOffset,bottom:pageYOffset-y-u+innerHeight,left:g-pageXOffset,right:pageXOffset-g-o+innerWidth}},E=void 0;return document.body.scrollWidth>window.innerWidth&&(E=this.cache("scrollbar-size",a),C.viewport.bottom-=E.height),document.body.scrollHeight>window.innerHeight&&(E=this.cache("scrollbar-size",a),C.viewport.right-=E.width),(-1===["","static"].indexOf(document.body.style.position)||-1===["","static"].indexOf(document.body.parentElement.style.position))&&(C.page.bottom=document.body.scrollHeight-y-u,
C.page.right=document.body.scrollWidth-g-o),"undefined"!=typeof this.options.optimizations&&this.options.optimizations.moveElement!==!1&&"undefined"==typeof this.targetModifier&&!function(){var t=e.cache("target-offsetparent",function(){return s(e.target)}),n=e.cache("target-offsetparent-bounds",function(){return i(t)}),r=getComputedStyle(t),o=n,a={};if(["Top","Left","Bottom","Right"].forEach(function(e){a[e.toLowerCase()]=parseFloat(r["border"+e+"Width"])}),n.right=document.body.scrollWidth-n.left-o.width+a.right,n.bottom=document.body.scrollHeight-n.top-o.height+a.bottom,C.page.top>=n.top+a.top&&C.page.bottom>=n.bottom&&C.page.left>=n.left+a.left&&C.page.right>=n.right){var u=t.scrollTop,l=t.scrollLeft;C.offset={top:C.page.top-n.top+u-a.top,left:C.page.left-n.left+l-a.left}}}(),this.move(C),this.history.unshift(C),this.history.length>3&&this.history.pop(),t&&S(),!0}}},{key:"move",value:function(e){var t=this;if("undefined"!=typeof this.element.parentNode){var n={};for(var r in e){n[r]={};for(var o in e[r]){for(var i=!1,a=0;a<this.history.length;++a){
var l=this.history[a];if("undefined"!=typeof l[r]&&!m(l[r][o],e[r][o])){i=!0;break}}i||(n[r][o]=!0)}}var c={top:"",left:"",right:"",bottom:""},p=function(e,n){var r="undefined"!=typeof t.options.optimizations,o=r?t.options.optimizations.gpu:null;if(o!==!1){var i=void 0,s=void 0;e.top?(c.top=0,i=n.top):(c.bottom=0,i=-n.bottom),e.left?(c.left=0,s=n.left):(c.right=0,s=-n.right),c[F]="translateX("+Math.round(s)+"px) translateY("+Math.round(i)+"px)","msTransform"!==F&&(c[F]+=" translateZ(0)")}else e.top?c.top=n.top+"px":c.bottom=n.bottom+"px",e.left?c.left=n.left+"px":c.right=n.right+"px"},d=!1;if((n.page.top||n.page.bottom)&&(n.page.left||n.page.right)?(c.position="absolute",p(n.page,e.page)):(n.viewport.top||n.viewport.bottom)&&(n.viewport.left||n.viewport.right)?(c.position="fixed",p(n.viewport,e.viewport)):"undefined"!=typeof n.offset&&n.offset.top&&n.offset.left?!function(){c.position="absolute";var r=t.cache("target-offsetparent",function(){return s(t.target)});s(t.element)!==r&&T(function(){t.element.parentNode.removeChild(t.element),
r.appendChild(t.element)}),p(n.offset,e.offset),d=!0}():(c.position="absolute",p({top:!0,left:!0},e.page)),!d){for(var h=!0,f=this.element.parentNode;f&&"BODY"!==f.tagName;){if("static"!==getComputedStyle(f).position){h=!1;break}f=f.parentNode}h||(this.element.parentNode.removeChild(this.element),document.body.appendChild(this.element))}var g={},v=!1;for(var o in c){var b=c[o],y=this.element.style[o];""!==y&&""!==b&&["top","left","bottom","right"].indexOf(o)>=0&&(y=parseFloat(y),b=parseFloat(b)),y!==b&&(v=!0,g[o]=b)}v&&T(function(){u(t.element.style,g)})}}}]),e}();U.modules=[],w.position=O;var V=u(U,w),A=function(){function e(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var s,a=e[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(u){o=!0,i=u}finally{try{!r&&a["return"]&&a["return"]()}finally{if(o)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance");
}}(),M=w.Utils,i=M.getBounds,u=M.extend,f=M.updateClasses,T=M.defer,H=["left","top","right","bottom"];w.modules.push({position:function(e){var t=this,n=e.top,r=e.left,o=e.targetAttachment;if(!this.options.constraints)return!0;var s=this.cache("element-bounds",function(){return i(t.element)}),a=s.height,l=s.width;if(0===l&&0===a&&"undefined"!=typeof this.lastSize){var c=this.lastSize;l=c.width,a=c.height}var p=this.cache("target-bounds",function(){return t.getTargetBounds()}),d=p.height,h=p.width,m=[this.getClass("pinned"),this.getClass("out-of-bounds")];this.options.constraints.forEach(function(e){var t=e.outOfBoundsClass,n=e.pinnedClass;t&&m.push(t),n&&m.push(n)}),m.forEach(function(e){["left","top","right","bottom"].forEach(function(t){m.push(e+"-"+t)})});var g=[],v=u({},o),b=u({},this.attachment);return this.options.constraints.forEach(function(e){var i=e.to,s=e.attachment,u=e.pin;"undefined"==typeof s&&(s="");var c=void 0,p=void 0;if(s.indexOf(" ")>=0){var f=s.split(" "),m=A(f,2);p=m[0],c=m[1]}else c=p=s;var _=y(t,i);
("target"===p||"both"===p)&&(n<_[1]&&"top"===v.top&&(n+=d,v.top="bottom"),n+a>_[3]&&"bottom"===v.top&&(n-=d,v.top="top")),"together"===p&&(n<_[1]&&"top"===v.top&&("bottom"===b.top?(n+=d,v.top="bottom",n+=a,b.top="top"):"top"===b.top&&(n+=d,v.top="bottom",n-=a,b.top="bottom")),n+a>_[3]&&"bottom"===v.top&&("top"===b.top?(n-=d,v.top="top",n-=a,b.top="bottom"):"bottom"===b.top&&(n-=d,v.top="top",n+=a,b.top="top")),"middle"===v.top&&(n+a>_[3]&&"top"===b.top?(n-=a,b.top="bottom"):n<_[1]&&"bottom"===b.top&&(n+=a,b.top="top"))),("target"===c||"both"===c)&&(r<_[0]&&"left"===v.left&&(r+=h,v.left="right"),r+l>_[2]&&"right"===v.left&&(r-=h,v.left="left")),"together"===c&&(r<_[0]&&"left"===v.left?"right"===b.left?(r+=h,v.left="right",r+=l,b.left="left"):"left"===b.left&&(r+=h,v.left="right",r-=l,b.left="right"):r+l>_[2]&&"right"===v.left?"left"===b.left?(r-=h,v.left="left",r-=l,b.left="right"):"right"===b.left&&(r-=h,v.left="left",r+=l,b.left="left"):"center"===v.left&&(r+l>_[2]&&"left"===b.left?(r-=l,b.left="right"):r<_[0]&&"right"===b.left&&(r+=l,
b.left="left"))),("element"===p||"both"===p)&&(n<_[1]&&"bottom"===b.top&&(n+=a,b.top="top"),n+a>_[3]&&"top"===b.top&&(n-=a,b.top="bottom")),("element"===c||"both"===c)&&(r<_[0]&&"right"===b.left&&(r+=l,b.left="left"),r+l>_[2]&&"left"===b.left&&(r-=l,b.left="right")),"string"==typeof u?u=u.split(",").map(function(e){return e.trim()}):u===!0&&(u=["top","left","right","bottom"]),u=u||[];var w=[],k=[];n<_[1]&&(u.indexOf("top")>=0?(n=_[1],w.push("top")):k.push("top")),n+a>_[3]&&(u.indexOf("bottom")>=0?(n=_[3]-a,w.push("bottom")):k.push("bottom")),r<_[0]&&(u.indexOf("left")>=0?(r=_[0],w.push("left")):k.push("left")),r+l>_[2]&&(u.indexOf("right")>=0?(r=_[2]-l,w.push("right")):k.push("right")),w.length&&!function(){var e=void 0;e="undefined"!=typeof t.options.pinnedClass?t.options.pinnedClass:t.getClass("pinned"),g.push(e),w.forEach(function(t){g.push(e+"-"+t)})}(),k.length&&!function(){var e=void 0;e="undefined"!=typeof t.options.outOfBoundsClass?t.options.outOfBoundsClass:t.getClass("out-of-bounds"),g.push(e),k.forEach(function(t){
g.push(e+"-"+t)})}(),(w.indexOf("left")>=0||w.indexOf("right")>=0)&&(b.left=v.left=!1),(w.indexOf("top")>=0||w.indexOf("bottom")>=0)&&(b.top=v.top=!1),(v.top!==o.top||v.left!==o.left||b.top!==t.attachment.top||b.left!==t.attachment.left)&&t.updateAttachClasses(b,v)}),T(function(){t.options.addTargetClasses!==!1&&f(t.target,g,m),f(t.element,g,m)}),{top:n,left:r}}});var M=w.Utils,i=M.getBounds,f=M.updateClasses,T=M.defer;w.modules.push({position:function(e){var t=this,n=e.top,r=e.left,o=this.cache("element-bounds",function(){return i(t.element)}),s=o.height,a=o.width,u=this.getTargetBounds(),l=n+s,c=r+a,p=[];n<=u.bottom&&l>=u.top&&["left","right"].forEach(function(e){var t=u[e];(t===r||t===c)&&p.push(e)}),r<=u.right&&c>=u.left&&["top","bottom"].forEach(function(e){var t=u[e];(t===n||t===l)&&p.push(e)});var d=[],h=[],m=["left","top","right","bottom"];return d.push(this.getClass("abutted")),m.forEach(function(e){d.push(t.getClass("abutted")+"-"+e)}),p.length&&h.push(this.getClass("abutted")),p.forEach(function(e){
h.push(t.getClass("abutted")+"-"+e)}),T(function(){t.options.addTargetClasses!==!1&&f(t.target,h,d),f(t.element,h,d)}),!0}});var A=function(){function e(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var s,a=e[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(u){o=!0,i=u}finally{try{!r&&a["return"]&&a["return"]()}finally{if(o)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();return w.modules.push({position:function(e){var t=e.top,n=e.left;if(this.options.shift){var r=this.options.shift;"function"==typeof this.options.shift&&(r=this.options.shift.call(this,{top:t,left:n}));var o=void 0,i=void 0;if("string"==typeof r){r=r.split(" "),r[1]=r[1]||r[0];var s=A(r,2);o=s[0],i=s[1],o=parseFloat(o,10),i=parseFloat(i,10)}else o=r.top,i=r.left;return t+=o,n+=i,{top:t,left:n}}}}),V})},{}],890:[function(e,t,n){!function(){function e(e,t){var o=document.createElement("div");
o.id="input-textarea-caret-position-mirror-div",document.body.appendChild(o);var i=o.style,s=window.getComputedStyle?getComputedStyle(e):e.currentStyle;i.whiteSpace="pre-wrap","INPUT"!==e.nodeName&&(i.wordWrap="break-word"),i.position="absolute",i.visibility="hidden",n.forEach(function(e){i[e]=s[e]}),r?e.scrollHeight>parseInt(s.height)&&(i.overflowY="scroll"):i.overflow="hidden",o.textContent=e.value.substring(0,t),"INPUT"===e.nodeName&&(o.textContent=o.textContent.replace(/\s/g,"\xa0"));var a=document.createElement("span");a.textContent=e.value.substring(t)||".",o.appendChild(a);var u={top:a.offsetTop+parseInt(s.borderTopWidth),left:a.offsetLeft+parseInt(s.borderLeftWidth)};return document.body.removeChild(o),u}var n=["direction","boxSizing","width","height","overflowX","overflowY","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","borderStyle","paddingTop","paddingRight","paddingBottom","paddingLeft","fontStyle","fontVariant","fontWeight","fontStretch","fontSize","fontSizeAdjust","lineHeight","fontFamily","textAlign","textTransform","textIndent","textDecoration","letterSpacing","wordSpacing","tabSize","MozTabSize"],r=null!=window.mozInnerScreenX;
"undefined"!=typeof t&&"undefined"!=typeof t.exports?t.exports=e:window.getCaretCoordinates=e}()},{}],891:[function(e,t,n){(function(){function e(e){function t(t,n,r,o,i,s){for(;i>=0&&s>i;i+=e){var a=o?o[i]:i;r=n(r,t[a],a,t)}return r}return function(n,r,o,i){r=w(r,i,4);var s=!D(n)&&_.keys(n),a=(s||n).length,u=e>0?0:a-1;return arguments.length<3&&(o=n[s?s[u]:u],u+=e),t(n,r,o,s,u,a)}}function r(e){return function(t,n,r){n=k(n,r);for(var o=S(t),i=e>0?0:o-1;i>=0&&o>i;i+=e)if(n(t[i],i,t))return i;return-1}}function o(e,t,n){return function(r,o,i){var s=0,a=S(r);if("number"==typeof i)e>0?s=i>=0?i:Math.max(i+a,s):a=i>=0?Math.min(i+1,a):i+a+1;else if(n&&i&&a)return i=n(r,o),r[i]===o?i:-1;if(o!==o)return i=t(d.call(r,s,a),_.isNaN),i>=0?i+s:-1;for(i=e>0?s:a-1;i>=0&&a>i;i+=e)if(r[i]===o)return i;return-1}}function i(e,t){var n=O.length,r=e.constructor,o=_.isFunction(r)&&r.prototype||l,i="constructor";for(_.has(e,i)&&!_.contains(t,i)&&t.push(i);n--;)i=O[n],i in e&&e[i]!==o[i]&&!_.contains(t,i)&&t.push(i)}var s=this,a=s._,u=Array.prototype,l=Object.prototype,c=Function.prototype,p=u.push,d=u.slice,h=l.toString,f=l.hasOwnProperty,m=Array.isArray,g=Object.keys,v=c.bind,b=Object.create,y=function(){},_=function(e){
return e instanceof _?e:this instanceof _?void(this._wrapped=e):new _(e)};"undefined"!=typeof n?("undefined"!=typeof t&&t.exports&&(n=t.exports=_),n._=_):s._=_,_.VERSION="1.8.3";var w=function(e,t,n){if(void 0===t)return e;switch(null==n?3:n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,o){return e.call(t,n,r,o)};case 4:return function(n,r,o,i){return e.call(t,n,r,o,i)}}return function(){return e.apply(t,arguments)}},k=function(e,t,n){return null==e?_.identity:_.isFunction(e)?w(e,t,n):_.isObject(e)?_.matcher(e):_.property(e)};_.iteratee=function(e,t){return k(e,t,1/0)};var x=function(e,t){return function(n){var r=arguments.length;if(2>r||null==n)return n;for(var o=1;r>o;o++)for(var i=arguments[o],s=e(i),a=s.length,u=0;a>u;u++){var l=s[u];t&&void 0!==n[l]||(n[l]=i[l])}return n}},C=function(e){if(!_.isObject(e))return{};if(b)return b(e);y.prototype=e;var t=new y;return y.prototype=null,t},E=function(e){return function(t){return null==t?void 0:t[e];
}},T=Math.pow(2,53)-1,S=E("length"),D=function(e){var t=S(e);return"number"==typeof t&&t>=0&&T>=t};_.each=_.forEach=function(e,t,n){t=w(t,n);var r,o;if(D(e))for(r=0,o=e.length;o>r;r++)t(e[r],r,e);else{var i=_.keys(e);for(r=0,o=i.length;o>r;r++)t(e[i[r]],i[r],e)}return e},_.map=_.collect=function(e,t,n){t=k(t,n);for(var r=!D(e)&&_.keys(e),o=(r||e).length,i=Array(o),s=0;o>s;s++){var a=r?r[s]:s;i[s]=t(e[a],a,e)}return i},_.reduce=_.foldl=_.inject=e(1),_.reduceRight=_.foldr=e(-1),_.find=_.detect=function(e,t,n){var r;return r=D(e)?_.findIndex(e,t,n):_.findKey(e,t,n),void 0!==r&&-1!==r?e[r]:void 0},_.filter=_.select=function(e,t,n){var r=[];return t=k(t,n),_.each(e,function(e,n,o){t(e,n,o)&&r.push(e)}),r},_.reject=function(e,t,n){return _.filter(e,_.negate(k(t)),n)},_.every=_.all=function(e,t,n){t=k(t,n);for(var r=!D(e)&&_.keys(e),o=(r||e).length,i=0;o>i;i++){var s=r?r[i]:i;if(!t(e[s],s,e))return!1}return!0},_.some=_.any=function(e,t,n){t=k(t,n);for(var r=!D(e)&&_.keys(e),o=(r||e).length,i=0;o>i;i++){var s=r?r[i]:i;
if(t(e[s],s,e))return!0}return!1},_.contains=_.includes=_.include=function(e,t,n,r){return D(e)||(e=_.values(e)),("number"!=typeof n||r)&&(n=0),_.indexOf(e,t,n)>=0},_.invoke=function(e,t){var n=d.call(arguments,2),r=_.isFunction(t);return _.map(e,function(e){var o=r?t:e[t];return null==o?o:o.apply(e,n)})},_.pluck=function(e,t){return _.map(e,_.property(t))},_.where=function(e,t){return _.filter(e,_.matcher(t))},_.findWhere=function(e,t){return _.find(e,_.matcher(t))},_.max=function(e,t,n){var r,o,i=-(1/0),s=-(1/0);if(null==t&&null!=e){e=D(e)?e:_.values(e);for(var a=0,u=e.length;u>a;a++)r=e[a],r>i&&(i=r)}else t=k(t,n),_.each(e,function(e,n,r){o=t(e,n,r),(o>s||o===-(1/0)&&i===-(1/0))&&(i=e,s=o)});return i},_.min=function(e,t,n){var r,o,i=1/0,s=1/0;if(null==t&&null!=e){e=D(e)?e:_.values(e);for(var a=0,u=e.length;u>a;a++)r=e[a],i>r&&(i=r)}else t=k(t,n),_.each(e,function(e,n,r){o=t(e,n,r),(s>o||o===1/0&&i===1/0)&&(i=e,s=o)});return i},_.shuffle=function(e){for(var t,n=D(e)?e:_.values(e),r=n.length,o=Array(r),i=0;r>i;i++)t=_.random(0,i),
t!==i&&(o[i]=o[t]),o[t]=n[i];return o},_.sample=function(e,t,n){return null==t||n?(D(e)||(e=_.values(e)),e[_.random(e.length-1)]):_.shuffle(e).slice(0,Math.max(0,t))},_.sortBy=function(e,t,n){return t=k(t,n),_.pluck(_.map(e,function(e,n,r){return{value:e,index:n,criteria:t(e,n,r)}}).sort(function(e,t){var n=e.criteria,r=t.criteria;if(n!==r){if(n>r||void 0===n)return 1;if(r>n||void 0===r)return-1}return e.index-t.index}),"value")};var A=function(e){return function(t,n,r){var o={};return n=k(n,r),_.each(t,function(r,i){var s=n(r,i,t);e(o,r,s)}),o}};_.groupBy=A(function(e,t,n){_.has(e,n)?e[n].push(t):e[n]=[t]}),_.indexBy=A(function(e,t,n){e[n]=t}),_.countBy=A(function(e,t,n){_.has(e,n)?e[n]++:e[n]=1}),_.toArray=function(e){return e?_.isArray(e)?d.call(e):D(e)?_.map(e,_.identity):_.values(e):[]},_.size=function(e){return null==e?0:D(e)?e.length:_.keys(e).length},_.partition=function(e,t,n){t=k(t,n);var r=[],o=[];return _.each(e,function(e,n,i){(t(e,n,i)?r:o).push(e)}),[r,o]},_.first=_.head=_.take=function(e,t,n){return null==e?void 0:null==t||n?e[0]:_.initial(e,e.length-t);
},_.initial=function(e,t,n){return d.call(e,0,Math.max(0,e.length-(null==t||n?1:t)))},_.last=function(e,t,n){return null==e?void 0:null==t||n?e[e.length-1]:_.rest(e,Math.max(0,e.length-t))},_.rest=_.tail=_.drop=function(e,t,n){return d.call(e,null==t||n?1:t)},_.compact=function(e){return _.filter(e,_.identity)};var M=function(e,t,n,r){for(var o=[],i=0,s=r||0,a=S(e);a>s;s++){var u=e[s];if(D(u)&&(_.isArray(u)||_.isArguments(u))){t||(u=M(u,t,n));var l=0,c=u.length;for(o.length+=c;c>l;)o[i++]=u[l++]}else n||(o[i++]=u)}return o};_.flatten=function(e,t){return M(e,t,!1)},_.without=function(e){return _.difference(e,d.call(arguments,1))},_.uniq=_.unique=function(e,t,n,r){_.isBoolean(t)||(r=n,n=t,t=!1),null!=n&&(n=k(n,r));for(var o=[],i=[],s=0,a=S(e);a>s;s++){var u=e[s],l=n?n(u,s,e):u;t?(s&&i===l||o.push(u),i=l):n?_.contains(i,l)||(i.push(l),o.push(u)):_.contains(o,u)||o.push(u)}return o},_.union=function(){return _.uniq(M(arguments,!0,!0))},_.intersection=function(e){for(var t=[],n=arguments.length,r=0,o=S(e);o>r;r++){
var i=e[r];if(!_.contains(t,i)){for(var s=1;n>s&&_.contains(arguments[s],i);s++);s===n&&t.push(i)}}return t},_.difference=function(e){var t=M(arguments,!0,!0,1);return _.filter(e,function(e){return!_.contains(t,e)})},_.zip=function(){return _.unzip(arguments)},_.unzip=function(e){for(var t=e&&_.max(e,S).length||0,n=Array(t),r=0;t>r;r++)n[r]=_.pluck(e,r);return n},_.object=function(e,t){for(var n={},r=0,o=S(e);o>r;r++)t?n[e[r]]=t[r]:n[e[r][0]]=e[r][1];return n},_.findIndex=r(1),_.findLastIndex=r(-1),_.sortedIndex=function(e,t,n,r){n=k(n,r,1);for(var o=n(t),i=0,s=S(e);s>i;){var a=Math.floor((i+s)/2);n(e[a])<o?i=a+1:s=a}return i},_.indexOf=o(1,_.findIndex,_.sortedIndex),_.lastIndexOf=o(-1,_.findLastIndex),_.range=function(e,t,n){null==t&&(t=e||0,e=0),n=n||1;for(var r=Math.max(Math.ceil((t-e)/n),0),o=Array(r),i=0;r>i;i++,e+=n)o[i]=e;return o};var F=function(e,t,n,r,o){if(!(r instanceof t))return e.apply(n,o);var i=C(e.prototype),s=e.apply(i,o);return _.isObject(s)?s:i};_.bind=function(e,t){if(v&&e.bind===v)return v.apply(e,d.call(arguments,1));
if(!_.isFunction(e))throw new TypeError("Bind must be called on a function");var n=d.call(arguments,2),r=function(){return F(e,r,t,this,n.concat(d.call(arguments)))};return r},_.partial=function(e){var t=d.call(arguments,1),n=function(){for(var r=0,o=t.length,i=Array(o),s=0;o>s;s++)i[s]=t[s]===_?arguments[r++]:t[s];for(;r<arguments.length;)i.push(arguments[r++]);return F(e,n,this,this,i)};return n},_.bindAll=function(e){var t,n,r=arguments.length;if(1>=r)throw new Error("bindAll must be passed function names");for(t=1;r>t;t++)n=arguments[t],e[n]=_.bind(e[n],e);return e},_.memoize=function(e,t){var n=function(r){var o=n.cache,i=""+(t?t.apply(this,arguments):r);return _.has(o,i)||(o[i]=e.apply(this,arguments)),o[i]};return n.cache={},n},_.delay=function(e,t){var n=d.call(arguments,2);return setTimeout(function(){return e.apply(null,n)},t)},_.defer=_.partial(_.delay,_,1),_.throttle=function(e,t,n){var r,o,i,s=null,a=0;n||(n={});var u=function(){a=n.leading===!1?0:_.now(),s=null,i=e.apply(r,o),s||(r=o=null)};return function(){
var l=_.now();a||n.leading!==!1||(a=l);var c=t-(l-a);return r=this,o=arguments,0>=c||c>t?(s&&(clearTimeout(s),s=null),a=l,i=e.apply(r,o),s||(r=o=null)):s||n.trailing===!1||(s=setTimeout(u,c)),i}},_.debounce=function(e,t,n){var r,o,i,s,a,u=function(){var l=_.now()-s;t>l&&l>=0?r=setTimeout(u,t-l):(r=null,n||(a=e.apply(i,o),r||(i=o=null)))};return function(){i=this,o=arguments,s=_.now();var l=n&&!r;return r||(r=setTimeout(u,t)),l&&(a=e.apply(i,o),i=o=null),a}},_.wrap=function(e,t){return _.partial(t,e)},_.negate=function(e){return function(){return!e.apply(this,arguments)}},_.compose=function(){var e=arguments,t=e.length-1;return function(){for(var n=t,r=e[t].apply(this,arguments);n--;)r=e[n].call(this,r);return r}},_.after=function(e,t){return function(){return--e<1?t.apply(this,arguments):void 0}},_.before=function(e,t){var n;return function(){return--e>0&&(n=t.apply(this,arguments)),1>=e&&(t=null),n}},_.once=_.partial(_.before,2);var N=!{toString:null}.propertyIsEnumerable("toString"),O=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];
_.keys=function(e){if(!_.isObject(e))return[];if(g)return g(e);var t=[];for(var n in e)_.has(e,n)&&t.push(n);return N&&i(e,t),t},_.allKeys=function(e){if(!_.isObject(e))return[];var t=[];for(var n in e)t.push(n);return N&&i(e,t),t},_.values=function(e){for(var t=_.keys(e),n=t.length,r=Array(n),o=0;n>o;o++)r[o]=e[t[o]];return r},_.mapObject=function(e,t,n){t=k(t,n);for(var r,o=_.keys(e),i=o.length,s={},a=0;i>a;a++)r=o[a],s[r]=t(e[r],r,e);return s},_.pairs=function(e){for(var t=_.keys(e),n=t.length,r=Array(n),o=0;n>o;o++)r[o]=[t[o],e[t[o]]];return r},_.invert=function(e){for(var t={},n=_.keys(e),r=0,o=n.length;o>r;r++)t[e[n[r]]]=n[r];return t},_.functions=_.methods=function(e){var t=[];for(var n in e)_.isFunction(e[n])&&t.push(n);return t.sort()},_.extend=x(_.allKeys),_.extendOwn=_.assign=x(_.keys),_.findKey=function(e,t,n){t=k(t,n);for(var r,o=_.keys(e),i=0,s=o.length;s>i;i++)if(r=o[i],t(e[r],r,e))return r},_.pick=function(e,t,n){var r,o,i={},s=e;if(null==s)return i;_.isFunction(t)?(o=_.allKeys(s),r=w(t,n)):(o=M(arguments,!1,!1,1),
r=function(e,t,n){return t in n},s=Object(s));for(var a=0,u=o.length;u>a;a++){var l=o[a],c=s[l];r(c,l,s)&&(i[l]=c)}return i},_.omit=function(e,t,n){if(_.isFunction(t))t=_.negate(t);else{var r=_.map(M(arguments,!1,!1,1),String);t=function(e,t){return!_.contains(r,t)}}return _.pick(e,t,n)},_.defaults=x(_.allKeys,!0),_.create=function(e,t){var n=C(e);return t&&_.extendOwn(n,t),n},_.clone=function(e){return _.isObject(e)?_.isArray(e)?e.slice():_.extend({},e):e},_.tap=function(e,t){return t(e),e},_.isMatch=function(e,t){var n=_.keys(t),r=n.length;if(null==e)return!r;for(var o=Object(e),i=0;r>i;i++){var s=n[i];if(t[s]!==o[s]||!(s in o))return!1}return!0};var I=function(e,t,n,r){if(e===t)return 0!==e||1/e===1/t;if(null==e||null==t)return e===t;e instanceof _&&(e=e._wrapped),t instanceof _&&(t=t._wrapped);var o=h.call(e);if(o!==h.call(t))return!1;switch(o){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!==+e?+t!==+t:0===+e?1/+e===1/t:+e===+t;case"[object Date]":case"[object Boolean]":
return+e===+t}var i="[object Array]"===o;if(!i){if("object"!=typeof e||"object"!=typeof t)return!1;var s=e.constructor,a=t.constructor;if(s!==a&&!(_.isFunction(s)&&s instanceof s&&_.isFunction(a)&&a instanceof a)&&"constructor"in e&&"constructor"in t)return!1}n=n||[],r=r||[];for(var u=n.length;u--;)if(n[u]===e)return r[u]===t;if(n.push(e),r.push(t),i){if(u=e.length,u!==t.length)return!1;for(;u--;)if(!I(e[u],t[u],n,r))return!1}else{var l,c=_.keys(e);if(u=c.length,_.keys(t).length!==u)return!1;for(;u--;)if(l=c[u],!_.has(t,l)||!I(e[l],t[l],n,r))return!1}return n.pop(),r.pop(),!0};_.isEqual=function(e,t){return I(e,t)},_.isEmpty=function(e){return null==e?!0:D(e)&&(_.isArray(e)||_.isString(e)||_.isArguments(e))?0===e.length:0===_.keys(e).length},_.isElement=function(e){return!(!e||1!==e.nodeType)},_.isArray=m||function(e){return"[object Array]"===h.call(e)},_.isObject=function(e){var t=typeof e;return"function"===t||"object"===t&&!!e},_.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(e){
_["is"+e]=function(t){return h.call(t)==="[object "+e+"]"}}),_.isArguments(arguments)||(_.isArguments=function(e){return _.has(e,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(_.isFunction=function(e){return"function"==typeof e||!1}),_.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},_.isNaN=function(e){return _.isNumber(e)&&e!==+e},_.isBoolean=function(e){return e===!0||e===!1||"[object Boolean]"===h.call(e)},_.isNull=function(e){return null===e},_.isUndefined=function(e){return void 0===e},_.has=function(e,t){return null!=e&&f.call(e,t)},_.noConflict=function(){return s._=a,this},_.identity=function(e){return e},_.constant=function(e){return function(){return e}},_.noop=function(){},_.property=E,_.propertyOf=function(e){return null==e?function(){}:function(t){return e[t]}},_.matcher=_.matches=function(e){return e=_.extendOwn({},e),function(t){return _.isMatch(t,e)}},_.times=function(e,t,n){var r=Array(Math.max(0,e));t=w(t,n,1);for(var o=0;e>o;o++)r[o]=t(o);return r},_.random=function(e,t){
return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))},_.now=Date.now||function(){return(new Date).getTime()};var P={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},L=_.invert(P),R=function(e){var t=function(t){return e[t]},n="(?:"+_.keys(e).join("|")+")",r=RegExp(n),o=RegExp(n,"g");return function(e){return e=null==e?"":""+e,r.test(e)?e.replace(o,t):e}};_.escape=R(P),_.unescape=R(L),_.result=function(e,t,n){var r=null==e?void 0:e[t];return void 0===r&&(r=n),_.isFunction(r)?r.call(e):r};var B=0;_.uniqueId=function(e){var t=++B+"";return e?e+t:t},_.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var j=/(.)^/,$={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},U=/\\|'|\r|\n|\u2028|\u2029/g,V=function(e){return"\\"+$[e]};_.template=function(e,t,n){!t&&n&&(t=n),t=_.defaults({},t,_.templateSettings);var r=RegExp([(t.escape||j).source,(t.interpolate||j).source,(t.evaluate||j).source].join("|")+"|$","g"),o=0,i="__p+='";
e.replace(r,function(t,n,r,s,a){return i+=e.slice(o,a).replace(U,V),o=a+t.length,n?i+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":r?i+="'+\n((__t=("+r+"))==null?'':__t)+\n'":s&&(i+="';\n"+s+"\n__p+='"),t}),i+="';\n",t.variable||(i="with(obj||{}){\n"+i+"}\n"),i="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+i+"return __p;\n";try{var s=new Function(t.variable||"obj","_",i)}catch(a){throw a.source=i,a}var u=function(e){return s.call(this,e,_)},l=t.variable||"obj";return u.source="function("+l+"){\n"+i+"}",u},_.chain=function(e){var t=_(e);return t._chain=!0,t};var H=function(e,t){return e._chain?_(t).chain():t};_.mixin=function(e){_.each(_.functions(e),function(t){var n=_[t]=e[t];_.prototype[t]=function(){var e=[this._wrapped];return p.apply(e,arguments),H(this,n.apply(_,e))}})},_.mixin(_),_.each(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=u[e];_.prototype[e]=function(){var n=this._wrapped;return t.apply(n,arguments),"shift"!==e&&"splice"!==e||0!==n.length||delete n[0],
H(this,n)}}),_.each(["concat","join","slice"],function(e){var t=u[e];_.prototype[e]=function(){return H(this,t.apply(this._wrapped,arguments))}}),_.prototype.value=function(){return this._wrapped},_.prototype.valueOf=_.prototype.toJSON=_.prototype.value,_.prototype.toString=function(){return""+this._wrapped},"function"==typeof define&&define.amd&&define("underscore",[],function(){return _})}).call(this)},{}],892:[function(e,t,n){"use strict";function r(e,t){var n,r=e.charCodeAt(t);return r>=55296&&56319>=r&&e.length>t+1&&(n=e.charCodeAt(t+1),n>=56320&&57343>=n)?e.substring(t,t+2):e[t]}function o(e,t,n){for(var o,i="",s=0,a=0,u=e.length;u>s;)o=r(e,s),a>=t&&n>a&&(i+=o),s+=o.length,a+=1;return i}function i(e,t){return void 0===e?t:Number(e)}t.exports=function(e,t,n){var r=i(t,0),s=i(n,e.length);return s==r?"":s>r?o(e,r,s):o(e,s,r)}},{}]},{},[1]);